String.prototype.wq_trim=(function(){var _1=new RegExp("^\\s\\s*");var _2=new RegExp("\\s\\s*$");return function(){return this.replace(_1,"").replace(_2,"");};})();if(typeof String.prototype.trim=="undefined"){String.prototype.trim=String.prototype.wq_trim;}String.prototype.capitalize=function(){["String.capitalize"];return this.charAt(0).toUpperCase()+this.substr(1);};String.prototype.wq_replaceAll=function(_3,_4){["String.wq_replaceAll"];_3=_3.replace(/(\W)/g,"\\$1");return this.replace(new RegExp(_3,"gi"),_4);};if(typeof String.prototype.replaceAll=="undefined"){String.prototype.replaceAll=String.prototype.wq_replaceAll;}String.prototype.startsWith=function(s){["String.startsWith"];return this.substring(0,s.length)==s;};String.prototype.endsWith=function(s){["String.endsWith"];return this.substring(this.length-s.length,this.length)==s;};String.prototype.capitalizeStyle=(function(){var _7={};return function(){["String.capitalizeStyle"];var _8=_7[this];if(_8){return _8;}if(this.indexOf("-")<0){return this;}var _9=this.split("-");while(_9[0]==""){_9.shift();}var _a=_9[0].toLowerCase();for(var i=1,len=_9.length;i<len;i++){_a+=_9[i].toLowerCase().capitalize();}_7[this]=_a;return _a;};})();Function.prototype.inherit=function(_c){["Function.inherit"];try{this.prototype.constructor=this;var _d=function(){};_d.prototype=_c.prototype;this.prototype=new _d;}catch(e){WebSquare.exception.printStackTrace(e);}};Function.prototype.instanceOf=function(_e){["Function.instanceOf"];try{for(var _f=this.constructor;_f!=null;_f=_f.superClass){if(_f==_e){return true;}}return false;}catch(e){WebSquare.exception.printStackTrace(e);}};Function.prototype.closure=function(obj,_11){["Function.closure"];try{if(!window._objs){window._objs=[];window._funs=[];}var fun=this;var _13=obj._objId;if(typeof _13=="undefined"){_objs[_13=obj._objId=_objs.length]=obj;}var _14=fun._funId;if(typeof _14=="undefined"){window._funs[_14=fun._funId=_funs.length]=fun;}if(!obj._closures){obj._closures=[];}var _15=obj._closures[_14];if(_15){return _15;}obj=null;fun=null;_objs[_13]._closures[_14]=function(){return _funs[_14].apply(_objs[_13],arguments);};if(typeof _11!="undefined"){_objs[_13]._closures[_14].name=_11;}return _objs[_13]._closures[_14];}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.BootLoader.printLog("WebSquare Engine Type : 1 - Default engine with debugging information.");WebSquare.core={supportActiveX:(typeof ActiveXObject!="undefined"&&WebSquare.BootLoader.browserCheck.ieAllVersion&&!WebSquare.msActiveXFilteringEnabled),supportDOM:(!!WebSquare.document.implementation&&!!WebSquare.document.implementation.createDocument),websquareSerializer:(new RegExp(WebSquare.userAgentPattern.serializer)).test(navigator.userAgent),supportXMLHttp:(typeof XMLHttpRequest!="undefined"),uriEncoder:(new RegExp(WebSquare.userAgentPattern.URIEncoder)).test(navigator.userAgent)};WebSquare.core._XMLHTTP_PROGIDS=WebSquare.BootLoader._XMLHTTP_PROGIDS;WebSquare.core._XML_NAMESPACE={SCHEMA:"http://www.w3.org/1999/XMLSchema",XFORMS:"http://www.w3.org/2002/xforms",XHTML:"http://www.w3.org/1999/xhtml",XML:"http://www.w3.org/XML/1998/namespace",XSL:"http://www.w3.org/1999/XSL/Transform",EVENTS:"http://www.w3.org/2001/xml-events",W2:"http://www.inswave.com/websquare"};WebSquare.core.EXT_PLUGIN={};WebSquare.core.version="2.0_1.3658B.20131203.184459_1.5";if(WebSquare.version!=WebSquare.core.version){WebSquare.BootLoader.printLog("Use different WebSquare Runtime Engine : "+WebSquare.core.version);}WebSquare.core.EMPTY_TAG;WebSquare.core.maxZindex=10;WebSquare.core.FLzIndex=10;WebSquare.core.forcedValueSetting=null;WebSquare.core.userClearMemoryStack=[];WebSquare.core.getXMLHTTPObject=function(){["WebSquare.core.getXMLHTTPObject"];var _1=null;try{if(WebSquare.BootLoader.useActiveXObject){_1=new ActiveXObject(WebSquare.core._XMLHTTP_PROGIDS[0]);}else{if(window.XMLHttpRequest){_1=new XMLHttpRequest();}}}catch(e){WebSquare.exception.printStackTrace(e);}if(typeof _1=="undefined"||_1==null){WebSquare.logger.printLog(WebSquare.language.getMessage("E_core_AjaxUnsupportedBrowser"));return null;}return _1;};WebSquare.core.load=function(_2){["WebSquare.core.load"];var _3=_2;var _4=WebSquare.core.getXMLHTTPObject();var _5=null;try{WebSquare.BootLoader.openResourceUri(_2,_4);_4.send(null);if(_4.status>="400"){if(_3.indexOf("uiplugin")>-1){WebSquare.logger.printLog(WebSquare.language.getMessage("E_core_NoPluginError",_3));}else{WebSquare.logger.printLog(WebSquare.language.getMessage("E_core_NoModuleError",_3));}_4=null;return null;}_5=_4.responseText;}catch(e){if(_3.indexOf("uiplugin")>-1){WebSquare.logger.printLog(WebSquare.language.getMessage("E_core_NoPluginError",_3));}else{WebSquare.logger.printLog(WebSquare.language.getMessage("E_core_NoModuleError",_3));}}_4=null;return _5;};WebSquare.core.download=function(_6,_7,_8){["WebSquare.core.download"];if(typeof _8=="undefined"||_8==null||_8==""){_8="post";}var _9=false;if(document.getElementById("__iframe__")!=null){_9=true;}var _a=null;var _b="";if(!_9){_a=WebSquare.document.createElement("div");_a.id="___iframe__div";_a.style.width="0px";_a.style.height="0px";_a.style.visibility="hidden";WebSquare.document.body.appendChild(_a);_b=WebSquare.net.getSSLBlankPage();if(WebSquare.domain){var _c=WebSquare.core.getConfiguration("domainFrameURL");if(!_c){_c=WebSquare.baseURI+"/message/domainFrame.html";}_c+="?domain="+WebSquare.text.URLEncoder(WebSquare.domain);_b="src='"+_c+"'";}_a.innerHTML="<iframe frameborder='0' id='__iframe__' name='__iframe__' scrolling='no' style='width:0; height:0' "+_b+"></iframe>";}else{_a=document.getElementById("___iframe__div");}try{var _d=document.getElementById("__iframe__");var _e=function(){if(_d.contentWindow.document.readyState=="interactive"){WebSquare.layer.hideProcessMessage();}};if(WebSquare.core.browserCheck.ie){try{var _f=_d.contentWindow.document;}catch(e){WebSquare.core.clearTimer("__iframe__");WebSquare.core.setTimer(WebSquare.core.download,{key:"__iframe__",caller:this,delay:500,args:arguments});return;}_d.contentWindow.document.onreadystatechange=_e;}else{WebSquare.layer.hideProcessMessage();}}catch(e){WebSquare.exception.printStackTrace(e);}try{var _10=WebSquare.document.createElement("form");_10.target="__iframe__";_10.action=_6;_10.method=_8;_10.style.display="inline";if(typeof _7!="undefined"){var _11=WebSquare.document.createElement("input");_11.type="hidden";_11.name="xmlValue";if(WebSquare.xml.isDocument(_7)){_11.value=WebSquare.xml.serialize(_7);}else{_11.value=_7;}_10.appendChild(_11);}_a.appendChild(_10);_10.submit();}catch(e){}finally{_a.removeChild(_10);}};WebSquare.core.excelDownload=function(_12,_13,_14){["WebSquare.core.excelDownload"];if(typeof _14=="undefined"||_14==null||_14==""){_14="post";}if(WebSquare.util.isMobile()){window.open("blank.html","__ipad_excel__");}var _15=false;if(document.getElementById("__iframe__")!=null){_15=true;}var _16=null;if(!_15){_16=WebSquare.document.createElement("div");_16.id="___iframe__div";_16.style.width="0px";_16.style.height="0px";_16.style.visibility="hidden";WebSquare.document.body.appendChild(_16);var src=WebSquare.net.getSSLBlankPage();if(WebSquare.domain){var _18=WebSquare.baseURI+"/message/domainFrame.html";_18+="?domain="+WebSquare.text.URLEncoder(WebSquare.domain);src="src='"+_18+"'";}_16.innerHTML="<iframe frameborder='0' id='__iframe__' name='__iframe__' scrolling='no' style='width:0; height:0' "+src+"></iframe>";}else{_16=document.getElementById("___iframe__div");}try{var _19=document.getElementById("__iframe__");var _1a=function(){if(_19.contentWindow.document.readyState=="interactive"){WebSquare.layer.hideProcessMessage();}};if(WebSquare.core.browserCheck.ie){try{var _1b=_19.contentWindow.document;}catch(e){WebSquare.core.clearTimer("__iframe__");WebSquare.core.setTimer(WebSquare.core.excelDownload,{key:"__iframe__",caller:this,delay:500,args:arguments});return;}_19.contentWindow.document.onreadystatechange=_1a;}else{WebSquare.layer.hideProcessMessage();}}catch(e){WebSquare.exception.printStackTrace(e);}try{var _1c=WebSquare.document.createElement("form");if(WebSquare.util.isMobile()){_1c.target="__ipad_excel__";}else{_1c.target="__iframe__";_1c.encoding="text/plain";}_1c.action=_12;_1c.method=_14;_1c.style.display="inline";_1c.acceptCharset="UTF-8";if(typeof _13!="undefined"){var _1d=WebSquare.document.createElement("input");_1d.type="hidden";_1d.name="xmlValue";if(WebSquare.xml.isDocument(_13)){_13=WebSquare.xml.serialize(_13);}if(WebSquare.core.uriEncoder){_1d.value=_13;}else{_1d.value=encodeURIComponent(_13);}_1c.appendChild(_1d);}_16.appendChild(_1c);_1c.submit();}catch(e){}finally{_16.removeChild(_1c);}};WebSquare.core.loadJavaScript=function(url){var _1f=WebSquare.document.createElement("SCRIPT");_1f.src=url;WebSquare.document.body.appendChild(_1f);};WebSquare.core.callParentFunction=function(){["WebSquare.core.callParentFunction"];WebSquare.setParentObj();if(arguments.length==0||typeof WebSquare.parentObj=="undefined"||WebSquare.parentObj==null){return null;}var _20=null;var _21="";var _22=0;var _23=null;try{for(var i=0;i<arguments.length;i++){if(i==0){_20=arguments[i];}else{if(typeof arguments[i]=="string"||typeof arguments[i]=="number"||typeof arguments[i]=="boolean"||typeof arguments[i]=="object"||typeof arguments[i]=="undefined"){if(_22!=0){_21+=",";}_21+="arguments["+i+"]";_22++;}}}if(_20!=null){_23=eval("WebSquare.parentObj."+_20+"("+_21+")");}}catch(e){WebSquare.exception.printStackTrace(e);}return _23;};WebSquare.core.closePopupWindow=function(){var id=WebSquare.net.getParameter("popupID");WebSquare.core.callParentFunction("WebSquare.uiplugin.popup.callClose",id);};WebSquare.core.recursiveCall=function(){["WebSquare.core.recursiveCall"];var _26=undefined;try{var _27=null;var _28="";var _29=[];for(var i=0;i<arguments.length;i++){if(i==0){_27=arguments[i];_29.push("'"+arguments[i]+"'");}else{if(i!=1){_28+=",";}_28+="arguments["+i+"]";_29.push("arguments["+i+"]");}}if(_27!=null){if(WebSquare.core.isOpenerMethod(_27)){try{_26=eval("opener."+_27+"("+_28+")");}catch(ee){if(WebSquare.core.isParentFrameMethod(_27)){_26=eval("parent."+_27+"("+_28+")");}else{_26=eval(_27+"("+_28+")");}}if(_26===null||typeof _26=="undefined"){_26=eval("opener.WebSquare.core.recursiveCall("+_29.join(",")+")");}}else{if(WebSquare.core.isParentFrameMethod(_27)){_26=eval("parent."+_27+"("+_28+")");if(_26===null||typeof _26=="undefined"){_26=eval("parent.WebSquare.core.recursiveCall("+_29.join(",")+")");}}else{_26=eval(_27+"("+_28+")");}}}return _26;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.core.getNamespaces=function(_2b){["WebSquare.core.getNamespaces"];var _2c={};try{var _2d=null;if(_2b.nodeType==1){_2d=_2b.attributes;}else{if(_2b.nodeType==9){_2d=_2b.documentElement.attributes;}}if(_2d!=null){for(var i=0;i<_2d.length;i++){var _2f=_2d.item(i);if(_2f.nodeName=="xmlns"){_2c[""]=_2f.nodeValue;}else{if(_2f.nodeName.indexOf("xmlns")==0){_2c[_2f.nodeName.substring(6)]=_2f.nodeValue;}}}}}catch(e){WebSquare.exception.printStackTrace(e);}return _2c;};WebSquare.core.isParentFrameMethod=function(_30){["WebSquare.core.isParentFrameMethod"];try{if(parent!=window&&eval("parent."+_30)){return true;}return false;}catch(e){}return false;};WebSquare.core.isOpenerMethod=function(_31){["WebSquare.core.isOpenerMethod"];try{if(typeof window.opener=="undefined"){return false;}else{if(window.opener.closed){return false;}else{if(eval("typeof window.opener."+_31)=="function"||eval("typeof window.opener."+_31)=="object"){return true;}else{return false;}}}}catch(e){}return false;};WebSquare.core.getURL=function(url){["WebSquare.core.getURL"];var _33=url;if(1==2){var _34="ErtOqpezr Ukptvqtzp IIWENNA Stwbreo Agp Zvydtn Vmfwnvzh";}if(typeof url=="string"){if(url.indexOf("://")>-1){return url;}if(!url.startsWith("/")&&!url.startsWith("\\")){url=WebSquare.w2xHome+url;}if(WebSquare.w2xDocumentRoot!=""&&!url.startsWith("..")){url=WebSquare.w2xDocumentRoot+url;}}return url;};WebSquare.core.getImageURL=function(url,_36){["WebSquare.core.getImageURL"];if(typeof _36=="undefined"){_36=false;}var _37=WebSquare.core.getConfiguration("/WebSquare/imageURLPrefix/@value");if(typeof url=="string"){if(url.startsWith("data:")){return url;}if(WebSquare.BootLoader.imageServlet!=null){if(url.startsWith("url")){var _38=url.substring(3).wq_trim();if(_38.charAt(0)=="("&&_38.charAt(_38.length-1)==")"){url=_38.substring(1,_38.length-1);url=WebSquare.core.getURL(url.wq_trim());url=WebSquare.baseURI+WebSquare.BootLoader.imageServlet+url;url=WebSquare.BootLoader.getImagePostfix(url);if(WebSquare.isLocal==false&&WebSquare.core.browserCheck.ie&&WebSquare.core.browserVersion()=="6"&&url.indexOf("://")==-1){url=location.protocol+"//"+location.host+url;}url="url("+url+")";}}else{if(_37!==""){url=_37+url.wq_trim();}else{url=WebSquare.core.getURL(url.wq_trim());url=WebSquare.baseURI+WebSquare.BootLoader.imageServlet+url;url=WebSquare.BootLoader.getImagePostfix(url);}if(WebSquare.isLocal==false&&WebSquare.core.browserCheck.ie&&WebSquare.core.browserVersion()=="6"&&url.indexOf("://")==-1){url=location.protocol+"//"+location.host+url;}if(_36){url="url("+url+")";}}if(WebSquare.BootLoader.imageHostUrl!=null){url+="&hostUrl="+WebSquare.BootLoader.imageHostUrl;}}else{if(_37!==""){url=_37+url.wq_trim();}else{url=WebSquare.core.getURL(url.wq_trim());}if(WebSquare.isLocal==false&&WebSquare.core.browserCheck.ie&&WebSquare.core.browserVersion()=="6"&&url.indexOf("://")==-1){url=location.protocol+"//"+location.host+url;}if(_36){url="url("+url+")";}}}return url;};WebSquare.core.getEngineImageURL=function(url,_3a){["WebSquare.core.getEngineImageURL"];if(typeof _3a=="undefined"){_3a=false;}if(typeof url=="string"){if(WebSquare.BootLoader.imageServlet!=null){if(url.startsWith("url")){var _3b=url.substring(3).wq_trim();if(_3b.charAt(0)=="("&&_3b.charAt(_3b.length-1)==")"){url=_3b.substring(1,_3b.length-1);url=WebSquare.baseURI+WebSquare.BootLoader.imageServlet+WebSquare.baseURI+url.wq_trim();url=WebSquare.BootLoader.getImagePostfix(url);url="url("+url+")";}}else{url=WebSquare.baseURI+WebSquare.BootLoader.imageServlet+WebSquare.baseURI+url.wq_trim();url=WebSquare.BootLoader.getImagePostfix(url);if(_3a){url="url("+url+")";}}}else{url=WebSquare.baseURI+url.wq_trim();if(_3a){url="url("+url+")";}}}return url;};WebSquare.core.browserCheck=function(){["WebSquare.core.browserCheck"];return navigator.appName;};WebSquare.core.browserCheck.ie=WebSquare.BootLoader.browserCheck.ie;WebSquare.core.browserCheck.moz=WebSquare.BootLoader.browserCheck.moz;WebSquare.core.browserCheck.opera=WebSquare.BootLoader.browserCheck.opera;WebSquare.core.browserCheck.chrome=WebSquare.BootLoader.browserCheck.chrome;WebSquare.core.browserCheck.android=WebSquare.BootLoader.browserCheck.android;WebSquare.core.browserCheck.iphone=WebSquare.BootLoader.browserCheck.iphone;WebSquare.core.browserCheck.ipad=WebSquare.BootLoader.browserCheck.ipad;WebSquare.core.browserCheck.ipod=WebSquare.BootLoader.browserCheck.ipod;WebSquare.core.browserCheck.blackberry=WebSquare.BootLoader.browserCheck.blackberry;WebSquare.core.browserCheck.safari=WebSquare.BootLoader.browserCheck.safari;WebSquare.core.browserCheck.ieAllVersion=WebSquare.BootLoader.browserCheck.ieAllVersion;WebSquare.core.browserCheck.ieVersion={};WebSquare.core.browserCheck.mozVersion={};WebSquare.core.browserCheck.chromeVersion={};WebSquare.core.browserCheck.safariVersion={};WebSquare.core.browserCheck.operaVersion={};WebSquare.core.browserCheck.isMobile;if(!WebSquare.core.browserCheck.ie){HTMLElement.prototype.click=function(){var evt=this.ownerDocument.createEvent("MouseEvents");evt.initMouseEvent("click",true,true,this.ownerDocument.defaultView,1,0,0,0,0,false,false,false,false,0,null);this.dispatchEvent(evt);};}WebSquare.core.browserVersion=function(){["WebSquare.core.browserVersion"];if(WebSquare.core.browserCheck.moz){if(navigator.appVersion.charAt(0)==2){return "2";}else{if(navigator.appVersion.charAt(0)==3){return "3";}else{if(navigator.appVersion.charAt(0)==4){return "4";}else{if(navigator.appVersion.charAt(0)==5){return "6";}}}}}else{if(WebSquare.core.browserCheck.ieAllVersion){if(document.documentMode){return document.documentMode+"";}if(navigator.appVersion.charAt(0)=="2"){return "2";}else{if(navigator.appVersion.charAt(0)=="3"){return "3";}else{if(navigator.appVersion.charAt(0)=="4"){if(navigator.appVersion.indexOf("MSIE 9")!=-1){return "9";}else{if(navigator.appVersion.indexOf("MSIE 8")!=-1){return "8";}else{if(navigator.appVersion.indexOf("MSIE 7")!=-1){return "7";}else{if(navigator.appVersion.indexOf("MSIE 6")!=-1){return "6";}else{if(navigator.appVersion.indexOf("MSIE 5.5")!=-1){return "5.5";}else{if(navigator.appVersion.indexOf("MSIE 5.0")!=-1){return "5.0";}else{return "4";}}}}}}}else{if(navigator.appVersion.charAt(0)=="5"){return "5";}}}}}}return " ";};WebSquare.core.setTimeout=function(_3d,_3e,_3f){["WebSquare.core.setTimeout"];var _3d=_3d;var _3e=_3e;var _3f=_3f;var _40=[];if(arguments.length>3){for(var i=3;i<arguments.length;i++){_40.push(arguments[i]);}}window.setTimeout(function(){_3e.apply(_3d,_40);},_3f);};WebSquare.core.cloneObject=function(obj){if(typeof obj!="object"){return obj;}if(obj==null){return obj;}var _43=new Object();for(var i in obj){_43[i]=WebSquare.core.cloneObject(obj[i]);}return _43;};WebSquare.makeCnt=0;WebSquare.core.makeStyle=function(_45,_46,_47){["WebSquare.core.makeStyle"];WebSquare.makeCnt++;if((typeof _45=="undefined"||_45==null)&&(typeof _46=="undefined"||_46==null)){return null;}var b={};if(typeof _46!="undefined"&&_46!=null&&_46!=""){b=WebSquare.skin.makeClassStyle(_46);b=WebSquare.core.cloneObject(b);}try{if(typeof _45!="undefined"&&_45!=null&&_45!=""){var a=_45.split(";");for(var i=0;i<a.length;i++){var idx=a[i].indexOf(":");if(idx<0){continue;}else{var _4c=a[i].substring(0,idx);var _4d=a[i].substring(idx+1);if(_4d.indexOf("url")>=0){_4d=_4d.wq_trim();if(_4d.startsWith("url")){var _4e=_4d.substring(3).wq_trim();if(_4e.charAt(0)=="("&&_4e.charAt(_4e.length-1)==")"){_4d="url("+WebSquare.core.getImageURL(_4e.substring(1,_4e.length-1))+")";}}}b[(_4c.wq_trim()).capitalizeStyle()]=_4d.wq_trim();}}if(typeof _47!="undefined"){var tmp={};for(var i=0;i<_47.length;i++){try{var key=(_47[i].wq_trim()).capitalizeStyle();var _51=b[key];if(typeof _51!="undefined"){tmp[key]=_51;}}catch(e){WebSquare.exception.printStackTrace(e,"Object ID : "+o.id+",    ");}}b=tmp;}}}catch(e){WebSquare.exception.printStackTrace(e);}return b;};WebSquare.appCnt=0;WebSquare.core.applyStyle=function(o,_53,_54){["WebSquare.core.applyStyle"];try{WebSquare.appCnt++;if(typeof _53=="undefined"||_53==null){return;}if(WebSquare.util.isExist("style",o)){if(typeof _54=="undefined"){for(var i in _53){try{o.style[i]=_53[i];}catch(e){WebSquare.exception.printStackTrace(e,"Object ID : "+o.id+",    ");}}}else{for(var i=0;i<_54.length;i++){try{var _56=_53[_54[i]];if(typeof _56!="undefined"){o.style[_54[i]]=_56;}}catch(e){WebSquare.exception.printStackTrace(e,"Object ID : "+o.id+",    ");}}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.core.getConfiguration=function(key,_58){["WebSquare.core.getConfiguration"];if(_58){return WebSquare.core.getConfigurationJSON(key);}else{return WebSquare.core.getConfigurationDocument(key);}};WebSquare.core.setConfiguration=function(key,_5a){["WebSquare.core.setConfiguration"];WebSquare.xml.setValue(WebSquare.BootLoader.configurationInfo,key,"value",_5a);WebSquare.BootLoader.configurationJSON.pop();WebSquare.BootLoader.configurationJSON.push(WebSquare.BootLoader.XML2JSON(WebSquare.BootLoader.configurationInfo));WebSquare.configManager=new WebSquare.configManager(WebSquare.BootLoader.configurationDOM);};WebSquare.core.applyConfiguration=function(_5b){["WebSquare.core.applyConfiguration"];var _5c=WebSquare.xml.load(_5b);WebSquare.BootLoader.configurationInfo=_5c;WebSquare.BootLoader.configurationDOM.pop();WebSquare.BootLoader.configurationDOM.push(_5c);WebSquare.BootLoader.configurationJSON.pop();WebSquare.BootLoader.configurationJSON.push(WebSquare.BootLoader.XML2JSON(_5c));WebSquare.configManager.setConfig(_5c);};WebSquare.core.getChildConfiguration=function(key){["WebSquare.core.getChildConfiguration"];return WebSquare.core.getChildConfigurationDocument(key);};WebSquare.core.getChildConfigurationDocument=function(key){["WebSquare.core.getChildConfigurationDocument"];var _5f=[];for(var i=0;i<WebSquare.BootLoader.configurationDOM.length;i++){_5f=WebSquare.xml.getChildren(WebSquare.BootLoader.configurationDOM[i],key);if(_5f.length>0){return _5f;}}return _5f;};WebSquare.configCache=[];WebSquare.core.getConfigurationDocument=function(key){["WebSquare.core.getConfigurationDocument"];var _62=WebSquare.configCache[key];if(_62!=null){return _62;}_62="";for(var i=0;i<WebSquare.BootLoader.configurationDOM.length;i++){if(key.indexOf("/")>-1){_62=WebSquare.xml.getValue(WebSquare.BootLoader.configurationDOM[i],key);_62=_62.wq_trim();}else{var _64=WebSquare.xml.findNode(WebSquare.BootLoader.configurationDOM[i].documentElement,"/WebSquare/"+key.wq_trim()+"/@value");if(_64!=null){_62=_64.nodeValue;_62=_62.wq_trim();}}if(_62.length>0){break;}}WebSquare.configCache[key]=_62;return _62;};WebSquare.core.getConfigurationJSON=function(key){["WebSquare.core.getConfigurationJSON"];var _66=WebSquare.configCache[key];if(_66!=null){return _66;}_66="";for(var i=0;i<WebSquare.BootLoader.configurationJSON.length;i++){if(key.indexOf("/")>-1){var st=key.split("/");var obj=WebSquare.BootLoader.configurationJSON[i];var _6a=false;var _6b=null;for(var j=0;j<st.length;j++){if(st[j]==""){continue;}_6a=false;var _6d=st[j];var str=_6d.indexOf("[");var _6f=null;var _70=null;if(str==-1){_6b=_6d;}else{_6b=_6d.substring(0,str);var _71=_6d.match(/[a-zA-Z0-9_]*[\[][\s]*(@[a-zA-Z0-9_]*)[\\]*=[\s]*["']?([^'"]*)["']?[\]]/);if(_71!=null){_6f=_71[1];_70=_71[2];}}obj=obj[_6b];if(obj){if(Object.prototype.toString.call(obj)==="[object Array]"){for(var k=0;k<obj.length;k++){if(_6f==null&&_70==null){_6a=true;obj=obj[k];break;}else{if(_70==obj[k][_6f]){_6a=true;obj=obj[k];break;}}}}else{if(_6f==null&&_70==null){_6a=true;}else{if(_70==obj[_6f]){_6a=true;}}}}if(!_6a){obj=null;break;}}if(obj){if(_6b&&_6b.startsWith("@")){if(typeof obj=="string"){_66=obj;}else{_66=obj+"";}}else{if(Object.prototype.toString.call(obj)==="[object Array]"){_66=obj[0]["#text"]||"";_66+=obj[0]["#cdata"]||"";}else{_66=obj["#text"]||"";_66+=obj["#cdata"]||"";}if(typeof _66!="string"){_66=_66+"";}}}_66=_66.wq_trim();}else{var obj=WebSquare.BootLoader.configurationJSON[i]["WebSquare"][key.wq_trim()];if(obj){if(Object.prototype.toString.call(obj)==="[object Array]"){_66=obj[0]["@value"];}else{_66=obj["@value"];}}if(_66){_66=_66.wq_trim();}else{_66="";}}if(_66.length>0){break;}}WebSquare.configCache[key]=_66;return _66;};WebSquare.core.loadConfiguration=function(){};WebSquare.core.loadConfigurationDocument=function(){};WebSquare.core.errorMessageData=new Object();WebSquare.core.userMessageData=new Object();WebSquare.core.applyErrorMessage=function(){["WebSquare.core.applyErrorMessage"];try{var _73=WebSquare.xml.load(WebSquare.baseURI+"message/"+WebSquare.core.getConfiguration("language")+".xml");for(var _74=_73.documentElement.firstChild;_74!=null;_74=_74.nextSibling){if(_74.nodeType==1){WebSquare.core.errorMessageData[_74.nodeName]=_74.firstChild.nodeValue;}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.core.applyUserMessage=function(){["WebSquare.core.applyUserMessage"];try{var _75=WebSquare.xml.load(WebSquare.baseURI+"message/userMessage.xml");for(var _76=_75.documentElement.firstChild;_76!=null;_76=_76.nextSibling){if(_76.nodeType==1){WebSquare.core.userMessageData[_76.nodeName]=_76.firstChild.nodeValue;}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.whereami=function(){["WebSquare.whereami"];alert(location.href);};WebSquare.core.extNamespace=function(){["WebSquare.core.extNamespace"];var _77=WebSquare.core.getChildConfiguration("/WebSquare/uiplugin");for(var i=0;i<_77.length;i++){try{WebSquare.core.EXT_PLUGIN[_77[i].namespace]={};WebSquare.core.EXT_PLUGIN[_77[i].namespace][_77[i].id]={};WebSquare.core.EXT_PLUGIN[_77[i].namespace][_77[i].id]["id"]=_77[i].id;WebSquare.core.EXT_PLUGIN[_77[i].namespace][_77[i].id]["namespace"]=_77[i].namespace;WebSquare.core.EXT_PLUGIN[_77[i].namespace][_77[i].id]["src"]=_77[i].src;WebSquare.core.EXT_PLUGIN[_77[i].namespace][_77[i].id]["className"]=_77[i].className;}catch(e){WebSquare.exception.printStackTrace(e);}}};WebSquare.core.matchExtNamespace=function(uri){["WebSquare.core.matchExtNamespace"];if(typeof WebSquare.core.EXT_PLUGIN[uri]=="undefined"){return false;}else{return true;}};WebSquare.core.setMaxZIndex=function(_7a){var _7b=0;var _7c=_7a.style.zIndex;var _7d=WebSquare.document.body.childNodes;for(var i=0;i<_7d.length;i++){if(_7d[i].nodeType==1){var _7f=_7d[i].style.zIndex;if(_7f>=_7b){_7b=_7f;}}}_7a.style.zIndex=_7b+1;};WebSquare.extend=function(_80,_81){for(var _82 in _81){_80[_82]=_81[_82];}return _80;};WebSquare.extendKeepingType=function(_83,_84){for(var _85 in _84){var _86=_84[_85];switch(typeof _83[_85]){case "string":if(_86==""){continue;}if(_86=="$blank"){_86="";}break;case "number":if(_86.toString().indexOf(".")>-1){_86=parseFloat(_86);}else{_86=parseInt(_86,10);}break;case "boolean":_86=WebSquare.util.getBoolean(_86);break;}_83[_85]=_86;}return _83;};WebSquare.setBody=function(_87){if(!WebSquare.bodyControlList){WebSquare.bodyControlList=[];}WebSquare.bodyControlList.push(_87);};WebSquare.getBody=function(){if(WebSquare.bodyControlList&&WebSquare.bodyControlList[0]){return WebSquare.bodyControlList[0];}else{return null;}};WebSquare._discardElement=function(_88){var _89=document.getElementById("IELeakGarbageBin");if(!_89){_89=document.createElement("DIV");_89.id="IELeakGarbageBin";_89.style.display="none";document.documentElement.appendChild(_89);}_89.appendChild(_88);_89.innerHTML="";};WebSquare.removeChildren=function(_8a){if(_8a===undefined||_8a===null||!_8a.childNodes){return -1;}var _8b=_8a.childNodes.length;while(_8a.hasChildNodes()){WebSquare.removeNode(_8a.firstChild);}return _8b;};WebSquare.removeNode=function(_8c){if(WebSquare.util.isIE()&&parseInt(WebSquare.core.browserVersion(),10)<8){WebSquare._discardElement(_8c);return _8c;}else{if(_8c&&_8c.parentNode){return _8c.parentNode.removeChild(_8c);}}};var WebSquare_clearMemory=WebSquare.clearMemory=function(){["WebSquare.clearMemory"];try{try{for(var i=WebSquare.core.userClearMemoryStack.length;i>0;i--){var _8e=WebSquare.core.userClearMemoryStack[i-1];if(_8e){_8e();}}}catch(e){}try{var _8f=WebSquare.core.getConfiguration("/WebSquare/clearMemory/@userFunction");if(_8f){eval(_8f+"()");}}catch(e){}if(WebSquare&&WebSquare.timerHash){for(var key in WebSquare.timerHash){var _91=WebSquare.timerHash[key];if(_91){WebSquare.core.clearTimer(key);}}}}catch(e){}try{if(WebSquare&&WebSquare.bodyControlList&&WebSquare.bodyControlList[0]){WebSquare.getBody().remove();}for(var i in WebSquare){WebSquare[i]=null;delete WebSquare[i];}WebSquare=null;window["_$W"]=window["_"]=window["WebSquare"]={"logger":{"printLog":function(){}},"exception":{"printStackTrace":function(){}},"timerHash":{},"remove":true};}catch(e){}};WebSquare.timerHash={};WebSquare.core.setTimer=function(_92,_93){["WebSquare.core.setTimer"];try{var _94=new Date().getTime();var key=_93.key||_92.toString().slice(0,30);var _96=_93.delay||1;var max=_93.max||0;var _98=_93.caller||window;var _99=_93.args||[];var _9a=WebSquare.timerHash[key];if(!_9a){_9a=WebSquare.timerHash[key]={thread:null,timeoutKey:null,startTime:_94};}_9a.thread=function(){["WebSquare.core.setTimer.helper"];if(window["WebSquare"]&&WebSquare.timerHash){delete WebSquare.timerHash[key];}(_93.before_call)&&(_93.before_call.call(_98,_9a));var ret=_92.apply(_98,_99);(_93.callback)&&(_93.callback.call(_98,ret));};clearTimeout(_9a.timeoutKey);if(max<=0||_94-_9a.startTime<max){(_93.before_set)&&(_93.before_set.call(_98,_9a));_9a.timeoutKey=setTimeout(_9a.thread,_96);(_93.after_set)&&(_93.after_set.call(_98,_9a));}else{_9a.thread();}return key;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.core.clearTimer=function(key,_9d){["WebSquare.core.clearTimer"];try{if(typeof key=="function"){key=func.toString().slice(0,30);}var _9e=WebSquare.timerHash[key];if(_9e){clearTimeout(_9e.timeoutKey);if(_9d){_9e.thread();}else{delete WebSquare.timerHash[key];}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.measureHash={};WebSquare.core.measureTime=function(_9f,_a0){["WebSquare.core.clearTimer"];try{var key=_a0.key||_9f.toString().slice(0,30);var _a2=_a0.caller||window;WebSquare.core.clearTimer(key,true);WebSquare.core.setTimer(function(){},{key:key,before_call:function(_a3){var t=new Date().getTime()-_a3.startTime;if(!WebSquare.measureHash[key]){WebSquare.measureHash[key]=[];WebSquare.measureHash[key].sum=0;}var _a5=WebSquare.measureHash[key];_a5.push(t);_a5.sum+=t;if(_a5.length>100){_a5.sum-=_a5.shift();}_9f.call(_a2,{time:t,aver:_a5.sum/_a5.length});}});}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.core.modifyMaxConnection=function(_a6,_a7){["WebSquare.core.modifyMaxConnection"];try{if(WebSquare.core.browserCheck.ie){_a6=_a6||"10";_a7=_a7||"";var _a8=WebSquare.core.getConfiguration("/WebSquare/maxConnectionActiveX/@codebase");if(_a8==null||_a8==""){_a8="engine/cab/WebSquareConfig.cab";}var _a9=WebSquare.document.createElement("div");_a9.style.width="0px";_a9.style.height="0px";_a9.style.visibility="hidden";WebSquare.document.body.appendChild(_a9);_a9.innerHTML="<object classid='clsid:BD66056F-D87B-4543-8638-A4CED765B9AA' codebase='"+_a8+"' style='display: none' width='0' height='0' align='center' hspace='0' vspace='0'><param name='MaxConnectionsPerServer' value='"+_a6+"' /><param name='SyncMode5' value='"+_a7+"' /></object>";}}catch(e){WebSquare.exception.printStackTrace(e,null);}};WebSquare.core.setSystemLanguage=function(_aa){["WebSquare.core.setSystemLanguage"];WebSquare.useUserSystemLang=true;var _ab=WebSquare.BootLoader.getBrowserLanguage();var _aa=WebSquare.cookie.getCookie("system_language")||_aa||_ab||"ko";WebSquare.systemLanguage=_aa;var _ac=WebSquare.core.getConfiguration("/WebSquare/languagePack/url[@lang='"+_aa+"']/@value");imports(_ac);};WebSquare.core.getEmptyTag=function(){["WebSquare.core.getEmptyTag"];try{if(WebSquare.core.EMPTY_TAGS){return WebSquare.core.EMPTY_TAGS;}WebSquare.core.EMPTY_TAGS={};var _ad=WebSquare.core.getConfiguration("/WebSquare/emptyTag/@value");if(_ad){var _ae=_ad.split(",");for(var i=0;i<_ae.length;i++){var tag=_ae[i].wq_trim();WebSquare.core.EMPTY_TAGS[tag]=true;}}return WebSquare.core.EMPTY_TAGS;}catch(e){WebSquare.exception.printStackTrace(e,null);}};WebSquare.exception={};WebSquare.exception.printError=function(_1){["WebSquare.exception.printError"];WebSquare.logger.printLog("WebSquare Error\n\n"+_1);if(WebSquare.logger.debug){alert("WebSquare Error\n\n"+_1);}};WebSquare.exception.printStackTrace=function(e,_3,_4){["WebSquare.exception.printStackTrace"];var _5="";if(_4&&_4.getID){_5+="Exception Occured at element id ["+_4.getID()+"]";}if(e.message){_5+="\nmessage        :"+e.message+"\n";}var _6=false;for(var _7 in e){var _8=_7;if(_7.length<15){_8=_8+"               ";_8=_8.substring(0,15);}try{if(_7=="number"){_5+=_8+":"+(e[_7]&65535)+"\n";}else{_5+=_8+":"+e[_7]+"\n";}}catch(eeee){}if(_7=="caller"){_6=true;}}if(_3){_3+="";if(_3.length>100){_5+="source         :"+_3.substring(0,100)+"\n";}else{_5+="source         :"+_3+"\n";}}if(typeof e.aleradyThrow=="undefined"){if(!_6){_5+="caller         :"+WebSquare.exception.getSignature(WebSquare.exception.printStackTrace.caller);}var _9=WebSquare.language.getMessage("E_exception_ErrorOccursSeeLog",_5);if(_9==""){_9=_5;}WebSquare.logger.printLog(_9);e.aleradyThrow="djshin";}};WebSquare.exception.ieErrorHandler=function(_a,_b,_c){["WebSquare.exception.ieErrorHandler"];WebSquare.logger.printLog(WebSquare.language.getMessage("E_exception_IERuntimeError",_c,window.event.errorCharacter,window.event.errorCode,_b,_a,WebSquare.exception.getSignature(WebSquare.exception.ieErrorHandler.caller)));return true;};WebSquare.exception.ffErrorHandler=function(_d,_e,_f){["WebSquare.exception.ffErrorHandler"];if(_d=="Error loading script"){WebSquare.BootLoader.printError("Module ["+_e+"] Does not exist.");return false;}if(WebSquare.core.browserCheck.moz){_f++;}WebSquare.logger.printLog(WebSquare.language.getMessage("E_exception_FFRuntimeError",_f,_e,_d,WebSquare.exception.getSignature(WebSquare.exception.ffErrorHandler.caller)));return true;};WebSquare.exception.getSignature=function(obj,_11){["WebSquare.exception.getSignature"];if(typeof _11=="undefined"){_11=0;}if(_11>5){return "...(omission)";}if(obj==null||obj=="null"){return "";}else{try{var _12="";if(obj.caller!=null&&obj.toString()!=obj.caller.toString()){_12=WebSquare.exception.getSignature(obj.caller,++_11);}var str=obj.toString();var idx=str.indexOf("[\"");if(idx==-1){var _15=str.indexOf(")");if(_15==-1){return "    at "+str+"\n"+_12;}else{return "    at "+str.substring(0,_15+1)+"\n"+_12;}}else{var _15=str.indexOf("\"",idx+2);if(_15==-1){return "    at "+str+"\n"+_12;}else{return "    at "+str.substring(idx+2,_15)+"\n"+_12;}}}catch(e){return obj;}}};WebSquare.logger={};WebSquare.logger.printLog=function(_1){["WebSquare.logger.printLog"];try{if(WebSquare.isPrintLog){if(WebSquare.logMsgArray.length>500){delete WebSquare.logMsgArray;WebSquare.logMsgArray=[];WebSquare.logMsgArray.push(WebSquare.logger.getLogTime()+" "+WebSquare.logger.getFileName()+"] Delete logs for reducing memory usage.");}var _2=WebSquare.BootLoader.getLogTime();var _3=" "+WebSquare.logger.getFileName()+"] "+_1;WebSquare.logMsgArray.push(_2+_3);if(WebSquare.printConsole){console.log(_2+_3);}if(WebSquare.remoteConsole){WebSquare.remoteLogMsgArray.push(_2+WebSquare.logFileName+_3);}}}catch(e){}};WebSquare.logger.changeClientName=function(){if(!WebSquare.logger.clientName){WebSquare.logger.clientName=WebSquare.BootLoader.getCookie("remote_client_name");if(!WebSquare.logger.clientName){WebSquare.logger.clientName="Client_"+parseInt(Math.random()*1000);WebSquare.BootLoader.setCookie("remote_client_name",WebSquare.logger.clientName);}}var _4=prompt(WebSquare.language.getMessage("E_logger_changeClientName"),WebSquare.logger.clientName);if(_4){WebSquare.logger.clientName=_4;WebSquare.BootLoader.setCookie("remote_client_name",WebSquare.logger.clientName);}};if(WebSquare.remoteConsole){WebSquare.logger.sendRemoteLog=function(_5){["WebSquare.logger.sendRemoteLog"];if(!WebSquare.logger.clientName){WebSquare.logger.clientName=WebSquare.BootLoader.getCookie("remote_client_name");if(!WebSquare.logger.clientName){WebSquare.logger.clientName="Client_"+parseInt(Math.random()*1000);WebSquare.BootLoader.setCookie("remote_client_name",WebSquare.logger.clientName);}}if(WebSquare.remoteConsole){try{if(WebSquare.remoteLogMsgArray.length>0){var _5=JSON.stringify({"clientName":WebSquare.logger.clientName,"logs":WebSquare.remoteLogMsgArray});WebSquare.remoteLogMsgArray=[];var _6=null;if(WebSquare.BootLoader.useActiveXObject){_6=new ActiveXObject(WebSquare.core._XMLHTTP_PROGIDS[0]);}else{if(window.XMLHttpRequest){_6=new XMLHttpRequest();}}_6.open("POST",WebSquare.baseURI+"fiddle/logAggregator.jsp",false);_6.send(_5);_6=null;}}catch(e){WebSquare.exception.printStackTrace(e);}window.setTimeout("WebSquare.logger.sendRemoteLog()",1000);}};window.setTimeout("WebSquare.logger.sendRemoteLog()",1000);}$l=function(_7,_8){["WebSquare.logger.printLog1"];try{if(_8){if(WebSquare.logger.debug==true){if(WebSquare.logger.debugKey.indexOf(_8)>-1){WebSquare.logger.printLog(_7);}}}else{WebSquare.logger.printLog(_7);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.logger.printLog1=function(_9){["WebSquare.logger.printLog1"];try{WebSquare.logMsgArray.push("             "+WebSquare.logger.getFileName()+"] "+_9);}catch(e){}};WebSquare.logger.getFileName=function(){["WebSquare.logger.getFileName"];var _a=location.pathname;try{var _b=_a.lastIndexOf("/");if(_b>-1&&_b<(_a.length-1)){_a=_a.substring(_b+1);}_b=_a.lastIndexOf(".");if(_b>-1){_a=_a.substring(0,_b);}}catch(e){}return _a;};WebSquare.logger.getLogTime=function(_c){["WebSquare.logger.getLogTime"];var d=null;if(_c=="undefined"||_c==null){d=new Date();}else{d=new Date(_c);}var _e=d.getTime();var _f=_e-WebSquare.logTime;var _10=WebSquare.text.fillZero(d.getHours(),2);var _11=WebSquare.text.fillZero(d.getMinutes(),2);var _12=WebSquare.text.fillZero(d.getSeconds(),2);var _13=WebSquare.text.fillZero(d.getMilliseconds(),3);var _14=_10+":"+_11+":"+_12+"."+_13;if(_f<100000){WebSquare.logTotalTime+=_f;_14+=" "+WebSquare.text.fillZero(_f,5)+" "+WebSquare.text.fillZero(WebSquare.logTotalTime,6);}else{_14+=" 00000 000000";}WebSquare.logTime=_e;return _14;};WebSquare.logger.getLog=function(){["WebSquare.logger.getLog"];var _15="";try{if(WebSquare.core.isParentFrameMethod("WebSquare.logger.getLog")){_15=parent.WebSquare.logger.getLog();if(_15!=""){_15="Parent Log["+window.parent.name+"] \n"+_15;}}}catch(e){WebSquare.exception.printStackTrace(e);}try{if(_15==""){return WebSquare.logMsgArray.join("\n");}else{return WebSquare.logMsgArray.join("\n")+"\n\n\n"+_15;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.logger.getErrorLog=function(){["WebSquare.logger.getErrorLog"];WebSquare.errorLogMsgArray=[];for(var i=0;i<WebSquare.logMsgArray.length;++i){if(WebSquare.logMsgArray[i].indexOf("\uc624\ub958")>-1||WebSquare.logMsgArray[i].indexOf("\uc5d0\ub7ec")>-1||WebSquare.logMsgArray[i].indexOf("Runtime Error")>-1){WebSquare.errorLogMsgArray.push(WebSquare.logMsgArray[i]);}}var _17="";try{if(WebSquare.core.isParentFrameMethod("WebSquare.logger.getLog")){_17=parent.WebSquare.logger.getErrorLog();if(_17!=""){_17="\n----------------------------------------Parent Log["+window.parent.name+"]----------------------------------------\n"+_17;}}}catch(e){WebSquare.exception.printStackTrace(e);}try{if(_17==""){return WebSquare.errorLogMsgArray.join("\n--------------------------------------------------------------------------------\n");}else{return WebSquare.errorLogMsgArray.join("\n--------------------------------------------------------------------------------\n")+"\n\n\n"+_17;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.logger.clearLog=function(){["WebSquare.logger.clearLog"];var _18=WebSquare.logger.getLog();try{if(WebSquare.core.isParentFrameMethod("WebSquare.logger.clearLog")){parent.WebSquare.logger.clearLog();}}catch(e){}try{WebSquare.logMsgArray=[];}catch(e){WebSquare.exception.printStackTrace(e);}return _18;};WebSquare.logger.showLog=function(){["WebSquare.logger.showLog"];var _19="top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _1a="";if(WebSquare.domain){_1a="?domain="+WebSquare.text.URLEncoder(WebSquare.domain);}if(WebSquare.BootLoader.browserCheck.android||WebSquare.BootLoader.browserCheck.iphone||WebSquare.BootLoader.browserCheck.ipad||WebSquare.BootLoader.browserCheck.ipod||WebSquare.BootLoader.browserCheck.blackberry){var url=WebSquare.core.getConfiguration("logMsgMobileURL");if(!url){url=WebSquare.baseURI+"message/logMsgMobile.html";}url+=_1a;window.open(url);}else{var url=WebSquare.core.getConfiguration("logMsgURL");if(!url){url=WebSquare.baseURI+"message/logMsg.html";}url+=_1a;var _1c=window.open(url,"_blank",_19);}};WebSquare.logger.saveLog=function(){["WebSquare.logger.saveLog"];var _1d=WebSquare.logger.getLog();var _1e=WebSquare.core.getXMLHTTPObject();_1e.open("POST",WebSquare.baseURI+"/engine/servlet/saveLog.jsp",false);_1e.send(_1d);_1e=null;};WebSquare.logger.showDebugMsg=function(obj,_20,_21){["WebSquare.logger.showDebugMsg"];var _22="dialogHeight: 700pt; dialogWidth: 580pt; edge: Raised; center: Yes; help: No; edge: raised; resizable: Yes; status: No;";var _23;if(typeof _20!="undefined"){obj["_config"]=_20;}if(typeof _21!="undefined"){obj["title"]=_21;}if(typeof obj=="object"){_23=obj;}else{_23=new Object();try{if(obj!=null){_23["debug info"]=obj.toString();}else{_23["debug info"]="";}}catch(e){}}var _24="";if(WebSquare.domain){_24="?domain="+WebSquare.text.URLEncoder(WebSquare.domain);}var url=WebSquare.core.getConfiguration("debugMsgURL");if(!url){url=WebSquare.baseURI+"message/debugMsg.html";}WebSquare.net.showWindow(url+_24,_23,_22);};WebSquare.logger.showErrorMsg=function(obj){["WebSquare.logger.showErrorMsg"];var _27="dialogHeight: 300pt; dialogWidth: 280pt; edge: Raised; center: Yes; help: No; resizable: Yes; status: No;";var _28="";if(WebSquare.domain){_28="?domain="+WebSquare.text.URLEncoder(WebSquare.domain);}var url=WebSquare.core.getConfiguration("errorMsgURL");if(!url){url=WebSquare.baseURI+"message/errorMsg.html";}WebSquare.net.showWindow(url+_28,obj,_27);};WebSquare.logger.alertObject=function(obj,log){["WebSquare.logger.alertObject"];var o=new Object();var str="";try{if(typeof obj=="string"){str=obj;}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{try{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,30);try{str+=tmp+":  "+obj[idx]+"\n";}catch(e){}}}catch(e){str+=WebSquare.language.getMessage("E_logger_InnerBlindObject");}}}}}catch(e){WebSquare.exception.printStackTrace(e);}if(log==true){$l(str);}else{alert(str);}};$lobj=WebSquare.logger.alertObject;WebSquare.logger.getObjectStr=function(_30,obj,_32){["WebSquare.logger.getObjectStr"];try{var _33="";for(var i=0;i<_30;i++){_33+="\t";}if(_30>_32.maxDepth){return _33+"[...]";}var o=new Object();var str="";if(typeof obj=="string"||typeof obj=="number"){str=obj;}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{try{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,25);try{if(isNaN(idx)){if(_32.exclude&&_32.exclude.indexOf(idx)>-1){continue;}if(_32.include&&_32.include.indexOf(idx)==-1){continue;}}if(!_32.includeFunction&&typeof obj[idx]=="function"){continue;}if(typeof obj[idx]=="object"&&obj[idx]!=null){if(!_32.includeFunction&&(idx+"").indexOf("on")==0){continue;}if(!_32.includeFunction&&typeof obj[idx].innerHTML!="undefined"){str+=_33+tmp+": "+"[DOM Obejct]"+"\n";continue;}if((obj[idx].documentElement||obj[idx].ownerDocument)){str+=_33+tmp+": "+"[XML Obejct]"+"\n"+_33+WebSquare.xml.serialize(obj[idx])+"\n";continue;}str+=_33+tmp+":\n"+WebSquare.logger.getObjectStr(_30+1,obj[idx],_32)+"\n";}else{str+=_33+tmp+": "+obj[idx]+"\n";}}catch(e){}}}catch(e){str+=WebSquare.language.getMessage("E_logger_InnerBlindObject");}}}}return str;}catch(e){WebSquare.exception.printStackTrace(e);}};$lobj2=function(obj,_3a){_3a=WebSquare.extend({log:false,includeFunction:false,maxDepth:2,include:null,exclude:"event parentComponent defaultOptions"},_3a||{});var _3b=WebSquare.logger.getObjectStr(0,obj,_3a);if(_3a.log==true){_3b=("\n\n--------------object log----------------\n\n")+_3b;$l(_3b);}else{alert(_3b);}};wl=$lobj2;wa=function(msg){if(WebSquare.logger.debug==true){alert(msg);}};$larg=function(_3d,log,_3f){var arr=[];for(var i=0;i<_3d.length;i++){arr.push(_3d[i]);}$lobj(arr,log,_3f);};WebSquare.logger.showObject=function(obj,_43){["WebSquare.logger.showObject"];var o=new Object();var str="";try{if(WebSquare.xml.isDocument(obj)){try{str+=WebSquare.xml.indent(obj);}catch(e){str+=WebSquare.language.getMessage("E_logger_InnerBlindObject");}}else{if(typeof obj=="string"){str=obj;}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{try{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,15);if(obj[idx]==null){str+=tmp+":  null\n";}else{if(WebSquare.xml.isDocument(obj[idx])){str+=tmp+":  \n"+WebSquare.xml.indent(obj[idx]);}else{if(typeof obj[idx]=="object"){try{str+=tmp+":  "+WebSquare.logger._showObject(obj[idx],1);}catch(e){str+=tmp+":  [object]\n";}}else{try{if(typeof obj[idx]=="function"){str+=tmp+":  "+WebSquare.exception.getSignature(obj[idx])+"\n";}else{str+=tmp+":  "+obj[idx]+"\n";}}catch(e){str+=tmp+":  "+"\n";}}}}}}catch(e){str+=WebSquare.language.getMessage("E_logger_InnerBlindObject");}}}}}}catch(e){WebSquare.exception.printStackTrace(e);}if(_43==null||_43==""){o["Object"]=str;}else{o[_43]=str;}WebSquare.logger.showDebugMsg(o,"text",WebSquare.language.getMessage("E_logger_ObjectInfo"));};WebSquare.logger._showObject=function(obj,_49){["WebSquare.logger._showObject"];var str="\n";var _4b="";for(var i=0;i<_49;i++){_4b+="\t";}try{if(WebSquare.xml.isDocument(obj)){try{str+=_4b+tmp+":  \n"+WebSquare.xml.indent(obj);}catch(e){str+=WebSquare.language.getMessage("E_logger_InnerBlindObject");}}else{if(typeof obj=="object"){if(obj==null){str+=" null";}else{for(var idx in obj){var tmp=idx+"               ";tmp=tmp.substring(0,15);if(obj[idx]==null){str+=tmp+":  null\n";}else{if(WebSquare.xml.isDocument(obj[idx])){str+=_4b+tmp+":  \n"+WebSquare.xml.indent(obj[idx]);}else{if(typeof obj[idx]=="object"){try{str+=_4b+tmp+":  \n"+WebSquare.logger._showObject(obj[idx],_49++);}catch(e){str+=_4b+tmp+":  [object]\n";}}else{try{if(typeof obj[idx]=="function"){str+=_4b+tmp+":  "+WebSquare.exception.getSignature(obj[idx])+"\n";}else{str+=_4b+tmp+":  "+obj[idx]+"\n";}}catch(e){str+=_4b+tmp+":  "+"\n";}}}}}}}}}catch(e){str+=WebSquare.language.getMessage("E_logger_InnerBlindObject");}str+="\n";return str;};WebSquare.logger.getFunctionName=function(obj){["WebSquare.logger.getFunctionName"];if(obj==null||obj=="null"){return "";}else{try{var str=obj.toString();if(str.indexOf("anonymous")==-1){var _51=str.indexOf("function");var _52=str.indexOf("(");return str.substring(_51+8,_52).wq_trim();}}catch(e){return obj;}}return "";};if(WebSquare.BootLoader.browserCheck.android||WebSquare.BootLoader.browserCheck.iphone||WebSquare.BootLoader.browserCheck.ipad||WebSquare.BootLoader.browserCheck.ipod||WebSquare.BootLoader.browserCheck.blackberry){WebSquare.logger.getGlobalDebug=function(){return false;};}else{if(WebSquare.core.browserCheck.moz||WebSquare.core.browserCheck.chrome||WebSquare.core.browserCheck.ieAllVersion||WebSquare.core.browserCheck.opera||WebSquare.core.browserCheck.safari){WebSquare.logger.showContextMenu=function(e){e=e||event;if(WebSquare.core.browserCheck.moz||WebSquare.core.browserCheck.chrome){if(e.ctrlKey&&e.which==3&&WebSquare.core.getConfiguration("debugMenu")!="block"){}else{return true;}}else{if(WebSquare.core.browserCheck.ieAllVersion){if((e.ctrlKey||e.crtlLeft)&&WebSquare.core.getConfiguration("debugMenu")!="block"){}else{return true;}}else{if(WebSquare.core.browserCheck.opera){if((e.ctrlKey&&e.shiftKey&&WebSquare.core.getConfiguration("debugMenu")!="block")||(e.ctrlKey&&e.button==2&&WebSquare.core.getConfiguration("debugMenu")!="block")){}else{return true;}}else{if(WebSquare.core.browserCheck.safari){if(e.ctrlKey&&e.button==2&&WebSquare.core.getConfiguration("debugMenu")!="block"){}else{return true;}}}}}var _54=window.innerWidth-e.clientX;var _55=window.innerHeight-e.clientY;var _56=WebSquare.document.getElementById("_contextMenuLayer");if(typeof _56=="undefined"||_56==null){_56=WebSquare.document.createElement("div");WebSquare.document.body.insertBefore(_56,null);_56.id="_contextMenuLayer";_56.style.position="absolute";}if(_54<182){_56.style.left=((window.pageXOffset||document.documentElement.scrollLeft)+e.clientX-182)+"px";}else{_56.style.left=((window.pageXOffset||document.documentElement.scrollLeft)+e.clientX)+"px";}if(_55<176){_56.style.top=((window.pageYOffset||document.documentElement.scrollTop)+e.clientY-176)+"px";}else{_56.style.top=((window.pageYOffset||document.documentElement.scrollTop)+e.clientY)+"px";}_56.style.zIndex="20000";_56.style.visibility="visible";var str="";str+="<div onselectstart='return false' style='position:relative; overflow-x:hidden; overflow-y: auto; width:175px;height:173px; border:4px solid #e7e7e7; '>";str+="<table width='175' border='0' cellspacing='0' cellpadding='0' style='border-collapse:collapse; border:1px solid #9fbcd4; background-color:#FFFFFF;'>";str+=WebSquare.logger.contextMenuAddRow("WebSquare.logger.showLog()",WebSquare.language.getMessage("E_logger_ContextmenuSeeLog"));str+=WebSquare.logger.contextMenuAddRow1("prompt( parent.location, parent.location )",WebSquare.language.getMessage("E_logger_ContextmenuSeeAddress"));str+=WebSquare.logger.contextMenuAddRow("WebSquare.util.viewSource()",WebSquare.language.getMessage("E_logger_ContextmenuSeeSource"));str+=WebSquare.logger.contextMenuAddRow("WebSquare.util.viewInstance()",WebSquare.language.getMessage("E_logger_ContextmenuSeeInstance"));str+=WebSquare.logger.contextMenuAddRow("WebSquare.util.viewFiddle()",WebSquare.language.getMessage("E_logger_ContextmenuSeeFiddle"));str+=WebSquare.logger.contextMenuAddRow("WebSquare.logger.changeClientName()",WebSquare.language.getMessage("E_logger_ContextmenuChangeClientName"));if(WebSquare.logger.globalDebug1){str+=WebSquare.logger.contextMenuAddRow1("WebSquare.logger.setGlobalDebug1()",WebSquare.language.getMessage("E_logger_ContextmenuStopDebugOnScreen"));}else{str+=WebSquare.logger.contextMenuAddRow1("WebSquare.logger.setGlobalDebug1()",WebSquare.language.getMessage("E_logger_ContextmenuStartDebugOnScreen"));}if(WebSquare.logger.getGlobalDebug()){str+=WebSquare.logger.contextMenuAddRow("WebSquare.logger.setGlobalDebug2()",WebSquare.language.getMessage("E_logger_ContextmenuStopDebugOnSystem"));}else{str+=WebSquare.logger.contextMenuAddRow("WebSquare.logger.setGlobalDebug2()",WebSquare.language.getMessage("E_logger_ContextmenuStartDebugOnSystem"));}str+=WebSquare.logger.contextMenuAddRow1("parent.print()",WebSquare.language.getMessage("E_logger_ContextmenuPrint"));str+=WebSquare.logger.contextMenuAddRow("parent.location.reload( true )",WebSquare.language.getMessage("E_logger_ContextmenuRefresh"));str+=WebSquare.logger.contextMenuAddRow1("parent.WebSquare.core.getFileVersion()",WebSquare.language.getMessage("E_logger_ContectmenuFileInfo"));str+=WebSquare.logger.contextMenuAddRow("WebSquare.core.getVersion()",WebSquare.language.getMessage("E_logger_ContextmenuVersion"));str+="</table></div>";_56.innerHTML=str;return false;};WebSquare.logger.setGlobalDebug1=function(){["WebSquare.logger.setGlobalDebug1"];WebSquare.logger.globalDebug1=!WebSquare.logger.globalDebug1;WebSquare.logger.hideContextMenu();};WebSquare.logger.setGlobalDebug2=function(){["WebSquare.logger.setGlobalDebug2"];if(WebSquare.logger.getGlobalDebug()){WebSquare.cookie.setCookie("globalDebug","false");}else{var pwd=prompt(WebSquare.language.getMessage("E_logger_EnterPassword"),"");if(pwd=="debug"){WebSquare.cookie.setCookie("globalDebug","true");}else{WebSquare.cookie.setCookie("globalDebug","false");alert(WebSquare.language.getMessage("E_logger_IncorrectPassword"));}}WebSquare.logger.hideContextMenu();};WebSquare.logger.getGlobalDebug=function(){["WebSquare.logger.getGlobalDebug"];try{var _59=parseInt(WebSquare.cookie.getCookie("lastAccess"),10);if(isNaN(_59)){_59=(new Date()).getTime();}var _5a=(new Date()).getTime();if((_5a-_59)<20*60*1000){WebSquare.cookie.setCookieAsync("lastAccess",_5a+"");if(WebSquare.cookie.getCookie("globalDebug")=="true"){return true;}else{return false;}}else{WebSquare.cookie.setCookie("globalDebug","false");return false;}}catch(e){}return false;};WebSquare.core.getVersion=function(){["WebSquare.core.getVersion"];alert("WebSquare Runtime Engine\n          Version : "+WebSquare.version+"\n\n  Copyright \u24d2 2006  INSWAVE Systems, Inc.\n  All Rights Reserved.\n");};WebSquare.core.getVersionString=function(){["WebSquare.core.getVersionString"];return WebSquare.version;};WebSquare.core.getFileVersion=function(){["WebSquare.core.getFileVersion"];alert("FileName : "+WebSquare.w2xPath+"\nBuildDate : "+WebSquare.buildDate);};WebSquare.core.getFileVersionString=function(){["WebSquare.core.getFileVersionString"];return WebSquare.buildDate;};WebSquare.logger.contextMenuAddRow=function(_5b,_5c){["WebSquare.logger.contextMenuAddRow"];if(WebSquare.core.browserCheck.moz||WebSquare.core.browserCheck.chrome||WebSquare.core.browserCheck.ieAllVersion){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='WebSquare.logger.hideContextMenu();"+_5b+"'>"+_5c+"</td></tr>";}else{if(WebSquare.core.browserCheck.opera||WebSquare.core.browserCheck.safari){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='"+_5b+"'; WebSquare.logger.hideContextMenu()>"+_5c+"</td></tr>";}}};WebSquare.logger.contextMenuAddRow1=function(_5d,_5e){["WebSquare.logger.contextMenuAddRow1"];if(WebSquare.core.browserCheck.moz||WebSquare.core.browserCheck.chrome||WebSquare.core.browserCheck.ieAllVersion){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; border-top:1px dotted #9fbcd4;color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='WebSquare.logger.hideContextMenu();"+_5d+"'>"+_5e+"</td></tr>";}else{if(WebSquare.core.browserCheck.opera||WebSquare.core.browserCheck.safari){return "<tr><td onmouseover='this.style.backgroundColor=\"b8d5f2\";this.style.color=\"003a89\";' onmouseout='this.style.backgroundColor=\"#FFFFFF\";this.style.color=\"222222\";' style='font-family: Tahoma, Verdana, arial,helvetica; font-size: 11px; color: #222222; line-height: normal;background-color:#FFFFFF; border-top:1px dotted #9fbcd4;color:#222222; width:100%; height:19px; text-decoration:none; padding:3px 3px 1px 3px; cursor:pointer ' onclick='"+_5d+"'; WebSquare.logger.hideContextMenu()>"+_5e+"</td></tr>";}}};WebSquare.logger.hideContextMenu=function(e){["WebSquare.logger.hideContextMenu"];if(WebSquare.core.browserCheck.moz||WebSquare.core.browserCheck.chrome||WebSquare.core.browserCheck.ieAllVersion){var _60=WebSquare.document.getElementById("_contextMenuLayer");if(typeof _60!="undefined"&&_60!=null){_60.style.visibility="hidden";}}else{if(WebSquare.core.browserCheck.opera||WebSquare.core.browserCheck.safari){if(!e.ctrlKey){var _60=WebSquare.document.getElementById("_contextMenuLayer");if(typeof _60!="undefined"&&_60!=null){_60.style.visibility="hidden";}}}}};if(WebSquare.core.browserCheck.safari){document.oncontextmenu=function(e){if(e.ctrlKey&&e.button==2){WebSquare.event.stopEvent(e);return false;}};document.onmousedown=WebSquare.logger.showContextMenu;}else{document.oncontextmenu=WebSquare.logger.showContextMenu;}document.onclick=WebSquare.logger.hideContextMenu;}}WebSquare.logger.dumpCSS=function(){if(WebSquare.core.browserCheck.ie){var _62=WebSquare.document.styleSheets;for(var i=0;i<_62.length;i++){var _64=_62[i];alert(_64.href+"/n"+_64.cssText);}}};WebSquare.logger.debug=false;WebSquare.logger.debugKey="";WebSquare.xml={};WebSquare.xml._MSMXL_PROGIDS=WebSquare.BootLoader._MSMXL_PROGIDS;WebSquare.xml.loadDocumentCache={};if(WebSquare.core.supportDOM){if(!WebSquare.core.browserCheck.opera){if(WebSquare.document.implementation.hasFeature("XPath","3.0")){XMLDocument.prototype.selectNodes=function(_1,_2){if(typeof _2=="undefined"){_2=this;}var _3=this.createNSResolver(this.documentElement);var _4=this.evaluate(_1,_2,_3,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);var _5=[];for(var i=0;i<_4.snapshotLength;i++){_5[i]=_4.snapshotItem(i);}return _5;};XMLDocument.prototype.selectSingleNode=function(_7,_8){if(typeof _8=="undefined"){_8=this;}var _9=this.selectNodes(_7,_8);if(_9.length>0){return _9[0];}else{return null;}};Element.prototype.selectNodes=function(_a){var _b=this.ownerDocument;var _c=_b.createNSResolver(_b.documentElement);var _d=_b.evaluate(_a,this,_c,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);var _e=[];for(var i=0;i<_d.snapshotLength;i++){_e[i]=_d.snapshotItem(i);}return _e;};Element.prototype.selectSingleNode=function(_10){var _11=this.selectNodes(_10);if(_11.length>0){return _11[0];}else{return null;}};}}}WebSquare.xml.load=function(uri,_13,_14,_15){["WebSquare.xml.load"];var dom=null;var _17=uri;try{if(typeof _13!="undefined"&&_13){dom=WebSquare.xml.loadDocumentCache[_17];if(typeof dom!="undefined"&&dom!=null){return dom;}}if(1==2){var _18="ErtOqpezr Ukptvqtzp IIWENNA Stwbreo Agp Zvydtn Vmfwnvzh";}if(typeof uri=="string"){var _19,lastIdx,temp;if(WebSquare.hybridApp==true&&uri.indexOf("://")<0&&uri.startsWith("/")){uri=WebSquare.util.appendingPathComponent(WebSquare.w2xDocumentRoot,uri);}else{if(location.protocol=="app:"){_19=location.href;lastIdx=_19.lastIndexOf("/");temp=_19.substr(0,lastIdx);uri=temp+uri;}}var _1a=false;var _1b=WebSquare.core.getXMLHTTPObject();var ret=null;try{WebSquare.BootLoader.openResourceUri(uri,_1b);_1b.send(null);if(_1b.status>="400"){if(_17.indexOf("uiplugin")>-1){WebSquare.logger.printLog(WebSquare.language.getMessage("E_core_NoPluginError",_17));}else{WebSquare.logger.printLog(WebSquare.language.getMessage("E_core_NoModuleError",_17));}_1b=null;}if(WebSquare.core.browserCheck.ieAllVersion&&_1b.responseXML){ret=_1b.responseXML.xml;if(typeof ret==="undefined"||ret===null||ret===""){ret=_1b.responseText;}}else{ret=_1b.responseText;}}catch(e){if(_17.indexOf("uiplugin")>-1){WebSquare.logger.printLog(WebSquare.language.getMessage("E_core_NoPluginError",_17));}else{WebSquare.logger.printLog(WebSquare.language.getMessage("E_core_NoModuleError",_17));}}_1b=null;if(!ret){return null;}if(typeof _15!="undefined"&&_15){dom=WebSquare.xml._parse(ret);}else{dom=WebSquare.xml.parse(ret);}_1a=typeof dom=="object";if((_15||!WebSquare.BootLoader.useWebSquareXMLParser)&&WebSquare.BootLoader.useActiveXObject&&dom.parseError.errorCode!=0){if(WebSquare.logger.debug){var _1d="top=120,height=485,left=50,width=800,location=no,menubar=no,resizable=yes,scrollbars=yes,status=no,titlebar=yes,toolbar=no";var _1e=window.open(uri,"_blank",_1d);}var e=new Object();e.ParserException=WebSquare.language.getMessage("E_xml_ErrorOccurLoadingXML");e.ParserException+="\nerrorCode: "+dom.parseError.errorCode;e.ParserException+="\nfilepos\t: "+dom.parseError.filepos;e.ParserException+="\nline\t: "+dom.parseError.line;e.ParserException+="\nlinepos\t: "+dom.parseError.linepos;e.ParserException+="\nreason\t: "+dom.parseError.reason;e.ParserException+="srcText\t: "+dom.parseError.srcText;e.ParserException+="\nurl\t: "+dom.parseError.url;dom=null;throw e;}else{if(!_1a){if(WebSquare.logger.debug){var _1d="top=120,height=485,left=50,width=800,location=no,menubar=no,resizable=yes,scrollbars=yes,status=no,titlebar=yes,toolbar=no";var _1e=window.open(uri,"_blank",_1d);}WebSquare.logger.printLog("ERROR : "+WebSquare.language.getMessage("E_xml_ErrorOccurLoadingXMLWithURL",_17));return null;}}}if(typeof _13!="undefined"&&_13){WebSquare.xml.loadDocumentCache[_17]=dom;}}catch(e){WebSquare.exception.printStackTrace(e,"WebSquare.xml.load");}return dom;};WebSquare.xml.loadSafari=function(uri){["WebSquare.xml.loadSafari"];var _21=WebSquare.BootLoader.getXMLHTTPObject();_21.open("GET",uri,false);_21.send(null);var ret=_21.responseText;_21=null;return (this.parse(ret));};WebSquare.xml.parse=function(obj,_24){["WebSquare.xml.parse"];var dom=null;try{if(WebSquare.BootLoader.useWebSquareXMLParser){if(typeof obj=="string"){obj=obj.wq_trim();if(obj==""){WebSquare.logger.printLog("ERROR : WebSquare.xml.load Error. String is empty.");return null;}else{if(obj.charAt(0)!="<"){obj="<"+obj+"/>";}}}else{if(obj!=null&&(obj.nodeType==9||obj.nodeType==1)){obj=WebSquare.xml.serialize(obj);}}var _26=new DOMImplementation();_26.namespaceAware=true;_26.errorChecking=false;_26.preserveWhiteSpace=true;dom=_26.loadXML(obj);}else{dom=WebSquare.xml._parse(obj,_24);}}catch(e){WebSquare.exception.printStackTrace(e,"WebSquare.xml.parse");return null;}return dom;};WebSquare.xml._parse=function(obj,_28){["WebSquare.xml._parse"];var dom=null;try{if(WebSquare.BootLoader.useActiveXObject){dom=new ActiveXObject(WebSquare.xml._MSMXL_PROGIDS[0]);dom.async=false;dom.validateOnParse=false;if(typeof obj=="string"){obj=obj.wq_trim();if(obj==""){WebSquare.logger.printLog("ERROR : WebSquare.xml.load Error\uc785\ub2c8\ub2e4. String\uc774 \uacf5\ubc31\uc785\ub2c8\ub2e4.");return null;}else{if(obj.charAt(0)!="<"){var str="<"+obj+"/>";dom.loadXML(str);}else{dom.loadXML(obj);}}}else{if(obj!=null&&(obj.nodeType==9||obj.nodeType==1)){dom.loadXML(obj.xml);}}if(typeof _28!="undefined"){if(_28==true||_28=="true"){var _2b=WebSquare.core.getNamespaces(dom);var _2c="";for(var i in _2b){if(i!=""){_2c+="xmlns:"+i+"=\""+_2b[i]+"\" ";}}dom.setProperty("SelectionLanguage","XPath");dom.setProperty("SelectionNamespaces",_2c);}}}else{if(WebSquare.core.supportDOM){try{var _2e=new DOMParser();if(typeof obj=="string"){obj=obj.wq_trim();if(obj==""){WebSquare.logger.printLog("ERROR : WebSquare.xml.load Error\uc785\ub2c8\ub2e4. String\uc774 \uacf5\ubc31\uc785\ub2c8\ub2e4.");return null;}else{if(obj.charAt(0)!="<"){var str="<"+obj+"/>";dom=_2e.parseFromString(str,"text/xml");}else{dom=_2e.parseFromString(obj,"text/xml");}}}else{if(obj!=null&&(obj.nodeType==9||obj.nodeType==1)){dom=_2e.parseFromString(WebSquare.xml.serialize(obj),"text/xml");}}dom.async=false;if(WebSquare.core.browserCheck.moz&&dom.documentElement.nodeName=="parsererror"){WebSquare.logger.printLog("[Firefox]"+WebSquare.language.getMessage("E_xml_ErrorOccurParsingXML")+"(parsererror)");return null;}else{if((WebSquare.core.browserCheck.chrome||WebSquare.core.browserCheck.safari)&&dom.getElementsByTagName("parsererror").length>0){WebSquare.logger.printLog("[Safari/Chrome]"+WebSquare.language.getMessage("E_xml_ErrorOccurParsingXML")+"(parsererror)");return null;}}}catch(ee){WebSquare.logger.printLog("[DOMParser] "+WebSquare.language.getMessage("E_xml_ErrorOccurParsingXML"));WebSquare.exception.printStackTrace(ee,"WebSquare.xml.parse");return null;}}}if(typeof dom=="undefined"||dom==null){WebSquare.logger.printLog("ERROR : "+WebSquare.language.getMessage("E_xml_XMLUnsupportedBrowser"));return null;}if(WebSquare.BootLoader.useActiveXObject){if(dom.parseError.errorCode!=0){var e=new Object();e.ParserException=WebSquare.language.getMessage("E_xml_ErrorOccurParsingXML");e.ParserException+="\nerrorCode      : "+dom.parseError.errorCode;e.ParserException+="\nfilepos        : "+dom.parseError.filepos;e.ParserException+="\nline           : "+dom.parseError.line;e.ParserException+="\nlinepos        : "+dom.parseError.linepos;e.ParserException+="\nreason         : "+dom.parseError.reason;e.ParserException+="\nsrcText        : "+dom.parseError.srcText;e.ParserException+="\nurl            : "+dom.parseError.url;if(typeof obj=="string"){e.ParserException+="\n\n: "+obj;}else{e.ParserException+="\n\n: "+obj.xml;}throw e;}}}catch(e){WebSquare.exception.printStackTrace(e,"WebSquare.xml.parse");return null;}return dom;};WebSquare.xml.remove_xmlns_regexp=/xmlns=['"]http:\/\/www.w3.org\/1999\/xhtml['"]|xmlns:w2=['"]http:\/\/www.inswave.com\/websquare['"]/;WebSquare.xml.serialize=function(dom){["WebSquare.xml.serialize"];if(!dom){return "";}var _31="";try{if(WebSquare.BootLoader.useWebSquareXMLParser){try{var _32=[];WebSquare.xml._serialize(dom,_32);_31=_32.join("");}catch(e){WebSquare.exception.printStackTrace(e,"WebSquare.xml.serialize");}}else{if(WebSquare.BootLoader.useActiveXObject){_31=dom.xml;if(typeof _31!=="undefined"&&_31!==null){_31=_31.wq_trim();}else{_31="";}}else{if(WebSquare.core.websquareSerializer){try{var _32=[];WebSquare.xml._serialize(dom,_32);_31=_32.join("");}catch(e){WebSquare.exception.printStackTrace(e,"WebSquare.xml.serialize");}}else{if(WebSquare.core.supportDOM){var _33=new XMLSerializer();_31=_33.serializeToString(dom);}}}}}catch(e){WebSquare.exception.printStackTrace(e,"WebSquare.xml.serialize");}return _31;};WebSquare.xml.noNameSpaceSerialize=function(dom){["WebSquare.xml.noNameSpaceSerialize"];var _35=WebSquare.xml.serialize(dom);if(WebSquare.core.getConfiguration("/WebSquare/removeXmlNameSpace/@value")=="true"){_35=_35.replace(WebSquare.xml.remove_xmlns_regexp,"");}return _35;};$lxml=function(dom,log){if(log){$l(WebSquare.xml.serialize(dom));}else{alert(WebSquare.xml.serialize(dom));}};WebSquare.xml.nodeSerialize=function(_38,_39){["WebSquare.xml.nodeSerialize"];try{if(typeof (_39)=="undefined"){_39={};}if(typeof (_39.standalone)=="undefined"){_39.standalone=null;}if(typeof (_39.encoding)=="undefined"){_39.encoding="UTF-8";}if(typeof (_39.omitXmlDeclaration)=="undefined"){_39.omitXmlDeclaration=false;}if(typeof (_39.includeNamespacePrefixes)=="undefined"){_39.includeNamespacePrefixes=null;}if(typeof (_39.cdataSectionElements)=="undefined"){_39.cdataSectionElements=[];}switch(_38.nodeType){case 1:var xml="<"+_38.tagName;for(var i=0;i<_38.attributes.length;++i){var _3c=_38.attributes[i];if(_3c==null){continue;}if(_3c.specified){xml+=WebSquare.xml.nodeSerialize(_3c,_39);}}if(_38.hasChildNodes()){xml+=">";for(var _3d=_38.firstChild;_3d!=null;_3d=_3d.nextSibling){xml+=WebSquare.xml.nodeSerialize(_3d,_39);}xml+="</"+_38.tagName+">";}else{xml+="></"+_38.tagName+">";}return xml;case 2:if(_38.name.match(/^xmlns(:|$)/)&&!WebSquare.xml.isVisiblyUtilized(_38)){return "";}var _3e=_38.name;var _3f=_38.value.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return " "+_3e+"=\""+_3f+"\"";case 3:if(WebSquare.xml.isCDataSectionElement(_38.parentNode)){}else{return _38.data.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");}case 4:return "<![CDATA["+_38.data.replace(/]]>/g,"]]]]><![CDATA[>")+"]]>";case 7:return "<?"+_38.target+" "+_38.data+"?>";case 8:return "<!--"+_38.data+"-->";case 9:var xml="";if(!_39.omitXmlDeclaration){var _40=(_39.encoding=="UTF-16")?"UTF-16":"UTF-8";var _41=(_39.standalone!=null)?" standalone=\""+(_39.standalone?"yes":"no")+"\"":"";xml+="<?xml version=\"1.0\" encoding=\""+_40+"\""+_41+"?>\n\n";}for(var _3d=_38.firstChild;_3d!=null;_3d=_3d.nextSibling){xml+=WebSquare.xml.nodeSerialize(_3d,_39)+"\n";}return xml;case 10:var xml="<!DOCTYPE "+_38.name+" PUBLIC \""+_38.publicId+"\" \""+_38.systemId+"\" [\n";xml+="]>";return xml;case 11:var xml="";for(var _3d=_38.firstChild;_3d!=null;_3d=_3d.nextSibling){xml+=WebSquare.xml.nodeSerialize(_3d,_39);}return xml;default:assert(false,"Unsupported node: "+_38.nodeName+" ("+_38.nodeType+")");}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.xml.isVisiblyUtilized=function(_42){if(!options.includeNamespacePrefixes){return true;}var _43=_42.name.substring(6);var _44=new XPath("..").selectNode(_42);for(var i in options.includeNamespacePrefixes){var _46=options.includeNamespacePrefixes[i];if(_46==_43||_46=="#default"&&_43==""){return true;}}if(_42.name=="xmlns"){return _44.prefix==null;}else{return new XPath("parent::"+_43+":* or ..//@"+_43+":*").evaluate(_42);}};WebSquare.xml.isCDataSectionElement=function(_47){for(var i in options.cdataSectionElements){if(options.cdataSectionElements[i].matches(_47)){return true;}}return false;};WebSquare.xml.indent=function(obj,_4a){["WebSquare.xml.indent"];if(typeof _4a=="undefined"){try{var str=WebSquare.xml.serialize(obj);var re=/>[\s]*</g;return str.replace(re,">\n<");}catch(e){WebSquare.exception.printStackTrace(e,"WebSquare.xml.indent");}return null;}else{try{var _4d=[];WebSquare.xml._treeWalk(obj,_4d,0);return _4d.join("");}catch(e){WebSquare.exception.printStackTrace(e,"WebSquare.xml.indent");}return "";}};WebSquare.xml._serialize=function(_4e,_4f){["WebSquare.xml._serialize"];if(_4e.nodeType==1){_4f.push("<");_4f.push(_4e.nodeName);if(_4e.attributes.length>0){for(var j=0;j<_4e.attributes.length;j++){var _51=_4e.attributes.item(j);_4f.push(" ");_4f.push(_51.name);_4f.push("=\"");_4f.push(WebSquare.xml._encode(_51.nodeValue));_4f.push("\"");}}if(_4e.hasChildNodes()){_4f.push(">");var _52=_4e.childNodes;for(var i=0;i<_52.length;i++){var _54=_52.item(i);WebSquare.xml._serialize(_54,_4f);}_4f.push("</");_4f.push(_4e.nodeName);_4f.push(">");}else{_4f.push("/>");}}else{if(_4e.nodeType==3){_4f.push(WebSquare.xml._encode(_4e.nodeValue));}else{if(_4e.nodeType==4){_4f.push("<![CDATA["+_4e.nodeValue+"]]>");}else{if(_4e.nodeType==7){_4f.push("<?"+_4e.nodeName+" "+_4e.nodeValue+"?>\n");}else{if(_4e.nodeType==8){_4f.push("<!--"+_4e.nodeValue+"-->");}else{if(_4e.nodeType==9){var _52=_4e.childNodes;for(var i=0;i<_52.length;i++){var _54=_52.item(i);WebSquare.xml._serialize(_54,_4f);}}}}}}}};WebSquare.xml._treeWalk=function(_55,_56,_57){["WebSquare.xml._treeWalk"];var _58=false;var _59=_55.childNodes;for(var i=0;i<_59.length;i++){var _5b=_59.item(i);if(_5b.nodeType==1){_58=true;_56.push("<br />");for(var j=0;j<_57;j++){_56.push("&nbsp;");}_56.push("<font color='blue'><b>&lt;"+_5b.nodeName+"</b></font>");if(_5b.attributes.length>0){for(var j=0;j<_5b.attributes.length;j++){var _5d=_5b.attributes.item(j);if(_5d.nodeValue.indexOf("\"")>-1){_56.push(" <font color='red'>"+_5d.name+"</font>='<i><font color='#888888'>"+WebSquare.xml.encode2(_5d.nodeValue)+"</font></i>'");}else{_56.push(" <font color='red'>"+_5d.name+"</font>=\"<i><font color='#888888'>"+WebSquare.xml.encode2(_5d.nodeValue)+"</font></i>\"");}}}if(_5b.hasChildNodes()){_56.push("<font color='blue'><b>&gt;</b></font>");if(WebSquare.xml._treeWalk(_5b,_56,_57+4)){_56.push("<br />");for(var j=0;j<_57;j++){_56.push("&nbsp;");}}_56.push("<font color='blue'><b>&lt;/"+_5b.nodeName+"&gt;</b></font>");}else{_56.push("<font color='blue'><b>/&gt;</b></font>");}}else{if(_5b.nodeType==3){_56.push(WebSquare.xml.encode2(_5b.nodeValue));}else{if(_5b.nodeType==4){_56.push("&lt;![CDATA["+WebSquare.xml.encode1(_5b.nodeValue)+"]]&gt;");}else{if(_5b.nodeType==7){_56.push("<b>&lt;?"+_5b.nodeName+" "+WebSquare.xml.encode1(_5b.nodeValue)+"?&gt;</b>");}else{if(_5b.nodeType==8){}else{_56.push("<br />"+_5b.nodeType+"  "+_5b.nodeName+"   "+WebSquare.xml.encode2(_5b.nodeValue));}}}}}}return _58;};WebSquare.xml.encode1=function(s){["WebSquare.xml.encode"];var str=null;if(s==null){str="";}else{if(typeof s=="string"){str=s;}else{if(WebSquare.xml.isDocument(s)){str=WebSquare.xml.serialize(s);}else{return s;}}}var re1=/&/g;var re2=/</g;var re3=/>/g;var re5=/"/g;var re6=/\r\n/g;var re7=/\n/g;var re8=/\r/g;var re9=/ /g;var _68=/\t/g;return str.replace(re1,"&amp;").replace(re2,"&lt;").replace(re3,"&gt;").replace(re5,"&quot;").replace(re9,"&nbsp;").replace(_68,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(re6,"<br />").replace(re7,"<br />").replace(re8,"<br />");};WebSquare.xml.encode2=function(s){["WebSquare.xml.encode"];var str=null;if(s==null){str="";}else{if(typeof s=="string"){str=s;}else{if(WebSquare.xml.isDocument(s)){str=WebSquare.xml.serialize(s);}else{return s;}}}var re1=/&/g;var re2=/</g;var re3=/>/g;var re5=/"/g;var re6=/\r\n/g;var re7=/\n/g;var re8=/\r/g;var re9=/ /g;var _73=/\t/g;return str.replace(re1,"&amp;amp;").replace(re2,"&amp;lt;").replace(re3,"&amp;gt;").replace(re9,"&nbsp;").replace(_73,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(re6,"<br />").replace(re7,"<br />").replace(re8,"<br />");};WebSquare.xml._encode=function(str){var re1=/&/g;var re2=/</g;var re3=/>/g;var re5=/"/g;return str.replace(re1,"&amp;").replace(re2,"&lt;").replace(re3,"&gt;").replace(re5,"&quot;");};WebSquare.xml._decode=function(s){var re1=/&lt;/g;var re2=/&gt;/g;var re3=/&apos;/g;var re4=/&quot;/g;var re5=/&amp;/g;return s.replace(re1,"<").replace(re2,">").replace(re3,"'").replace(re4,"\"").replace(re5,"&");};WebSquare.xml.encode=function(s){["WebSquare.xml.encode"];var str=null;if(s==null){str="";}else{if(typeof s=="string"){str=s;}else{if(WebSquare.xml.isDocument(s)){str=WebSquare.xml.serialize(s);}else{return s;}}}var re1=/&/g;var re2=/</g;var re3=/>/g;var re4=/'/g;var re5=/"/g;var re6=/\r\n/g;var re7=/\n/g;var re8=/\r/g;return str.replace(re1,"&amp;").replace(re2,"&lt;").replace(re3,"&gt;").replace(re4,"&apos;").replace(re5,"&quot;").replace(re6,"&#xA;").replace(re7,"&#xA;").replace(re8,"&#xA;");};WebSquare.xml.decode=function(s){["WebSquare.xml.decode"];var re1=/&lt;/g;var re2=/&gt;/g;var re3=/&apos;/g;var re4=/&quot;/g;var re5=/&amp;/g;var re6=/&#xA;/g;return s.replace(re1,"<").replace(re2,">").replace(re3,"'").replace(re4,"\"").replace(re5,"&").replace(re6,"\n");};WebSquare.xml.isDocument=function(obj){["WebSquare.xml.isDocument"];try{if(typeof obj=="object"&&typeof obj.documentElement!="undefined"&&obj.nodeType==9){return true;}else{return false;}}catch(e){}return false;};WebSquare.xml.isDocumentString=function(str){["WebSquare.xml.isDocumentString"];var dom;try{if(WebSquare.BootLoader.useActiveXObject){dom=new ActiveXObject(WebSquare.xml._MSMXL_PROGIDS[0]);dom.async=false;dom.validateOnParse=false;dom.loadXML(str);}else{if(str.wq_trim().charAt(0)=="<"){var _93=new DOMParser();dom=_93.parseFromString(str,"text/xml");dom.async=false;}}if(typeof dom=="undefined"||dom==null){return false;}if(WebSquare.core.browserCheck.moz&&dom.documentElement.nodeName=="parsererror"){return false;}if(WebSquare.BootLoader.useActiveXObject){if(dom.parseError.errorCode!=0){return false;}}}catch(e){return false;}return true;};WebSquare.xml.getElementsByTagName=function(dom,_95,uri){["WebSquare.xml.getElementsByTagName"];if(WebSquare.core.browserCheck.ieAllVersion||WebSquare.BootLoader.browserCheck.chrome||WebSquare.BootLoader.browserCheck.safari||WebSquare.BootLoader.browserCheck.opera){try{if(typeof uri=="undefined"){if(_95.indexOf(":")>=0){return dom.selectNodes("./"+"/"+"*['"+_95+"'=name()]");}else{return dom.selectNodes("./"+"/"+"*['"+_95+"'=local-name()]");}}else{return dom.selectNodes("./"+"/"+"*['"+_95+"'=local-name()]['"+uri+"'=namespace-uri()]");}}catch(e){if(typeof uri=="undefined"){return dom.getElementsByTagName(_95);}else{var _97=_95;if(uri==WebSquare.core._XML_NAMESPACE.SCHEMA){_97=_95;}else{if(uri==WebSquare.core._XML_NAMESPACE.XFORMS){_97="xf:"+_95;}else{if(uri==WebSquare.core._XML_NAMESPACE.XHTML){_97=_95;}else{if(uri==WebSquare.core._XML_NAMESPACE.XML){_97=_95;}else{if(uri==WebSquare.core._XML_NAMESPACE.XSL){_97=_95;}else{if(uri==WebSquare.core._XML_NAMESPACE.EVENTS){_97="ev:"+_95;}else{if(uri==WebSquare.core._XML_NAMESPACE.W2){_97="w2:"+_95;}}}}}}}return dom.getElementsByTagName(_97);}}}else{if(WebSquare.core.browserCheck.moz){if(typeof uri=="undefined"){return dom.getElementsByTagName(_95);}else{return dom.getElementsByTagNameNS(uri,_95);}}else{return dom.getElementsByTagName(_95);}}};WebSquare.xml.matchNode=function(_98,_99,uri){["WebSquare.xml.matchNode"];if(typeof uri=="undefined"){if(_98.nodeName==_99){return true;}else{return false;}}else{var _9b=_98.nodeName.split(":");var _9c=_9b.length==2?_9b[1]:_9b[0];if(uri==_98.namespaceURI&&_9c==_99){return true;}else{return false;}}};WebSquare.xml.nodeInfoObj=(function(){var _9d={};return function(_9e){["WebSquare.xml.matchNode"];var _9f=_9e.nodeName;if(!_9d[_9f]){var _a0=_9e.namespaceURI;if(_a0!==undefined&&_a0!==""){var _a1=_9f.split(":");_9d[_9f]={nodeName:_a1[_a1.length-1],uri:_a0};}else{_9d[_9f]={nodeName:_9f};}}return _9d[_9f];};})();WebSquare.xml.getLocalName=function(_a2){["WebSquare.xml.getLocalName"];var _a3=_a2.nodeName.split(":");return _a3.length==2?_a3[1]:_a3[0];};WebSquare.xml.findNode=function(doc,_a5){["WebSquare.xml.findNode"];try{return doc.selectSingleNode(_a5);}catch(e){WebSquare.exception.printStackTrace(e);}return null;};WebSquare.xml.findNodes=function(doc,_a7){["WebSquare.xml.findNode"];try{return doc.selectNodes(_a7);}catch(e){WebSquare.exception.printStackTrace(e);}return null;};WebSquare.xml.createElement=function(doc,_a9){var _aa,tmpDoc;if(WebSquare.core.browserCheck.opera){_aa=doc.createElementNS("",_a9);}else{if(WebSquare.core.browserCheck.ieAllVersion&&!WebSquare.BootLoader.useActiveXObject){var idx=_a9.indexOf(":");if(idx==-1){tmpDoc=WebSquare.xml.parse("<"+_a9+"/>");}else{var _ac=_a9.substring(0,idx);var _ad=WebSquare.core.getNamespaces(doc);if(_ad[_ac]){tmpDoc=WebSquare.xml.parse("<"+_a9+" xmlns:"+_ac+"=\""+_ad[_ac]+"\"/>");}else{tmpDoc=WebSquare.xml.parse("<"+_a9+"/>");}}if(tmpDoc!=null){_aa=doc.importNode(tmpDoc.documentElement.cloneNode(false),false);}}else{_aa=doc.createElement(_a9);}}return _aa;};WebSquare.xml.createNode=function(doc,_af,_b0){["WebSquare.xml.createNode"];try{if(_b0){if(WebSquare.core.browserCheck.ieAllVersion&&WebSquare.BootLoader.useActiveXObject){var _b1=WebSquare.core.getNamespaces(doc);var _b2="";for(var i in _b1){if(i!=""){_b2+="xmlns:"+i+"=\""+_b1[i]+"\" ";}}if(doc.nodeType==9){doc.setProperty("SelectionLanguage","XPath");doc.setProperty("SelectionNamespaces",_b2);}else{if(doc.nodeType==1){doc.ownerDocument.setProperty("SelectionLanguage","XPath");doc.ownerDocument.setProperty("SelectionNamespaces",_b2);}}}}var _b4=doc.selectSingleNode(_af);if(_b4==null){var idx=_af.lastIndexOf("/");if(idx>0){var _b6=_af.substring(0,idx);var _b7=_af.substring(idx+1);var _b8=_b7.match(/[@'"()=]/i)==null;if(_b8){var _b9=WebSquare.xml.createNode(doc,_b6);if(_b9!=null){if(doc.nodeType==9){_b4=WebSquare.xml.createElement(doc,_b7);}else{if(doc.nodeType==1){_b4=WebSquare.xml.createElement(doc.ownerDocument,_b7);}}_b4=WebSquare.xml.appendChild(_b9,_b4);}}}else{if(doc.nodeType==1&&_af.charAt(0)!="/"){_b4=WebSquare.xml.createElement(doc.ownerDocument,_af);_b4=WebSquare.xml.appendChild(doc,_b4);}}}return _b4;}catch(e){WebSquare.exception.printStackTrace(e);}return null;};WebSquare.appendChildType=null;WebSquare.xml.appendChild=function(_ba,_bb){["WebSquare.xml.appendChild"];var _bc;try{if(_ba.ownerDocument==_bb.ownerDocument){_bc=_ba.appendChild(_bb);return _bc;}else{if(typeof _ba.ownerDocument.importNode=="function"){_bc=_ba.ownerDocument.importNode(_bb,true);_bc=_ba.appendChild(_bc);return _bc;}else{_bc=_ba.appendChild(_bb);return _bc;}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.xml.getValue=function(doc,key,_bf){["WebSquare.xml.getValue"];var _c0="";try{var _c1=doc.selectSingleNode(key);if(_c1!=null){if(typeof _bf!="undefined"){_c0=_c1.getAttribute(_bf);}else{if(_c1.nodeType==2||_c1.nodeType==3||_c1.nodeType==4){_c0=_c1.nodeValue;}else{var _c2=_c1.childNodes;for(var i=0;i<_c2.length;i++){var _c4=_c2[i];if(_c4.nodeType==3){_c0+=_c4.nodeValue;}else{if(_c4.nodeType==4){_c0+=_c4.nodeValue;}}}}}}if(_c0==null){_c0="";}}catch(e){WebSquare.exception.printStackTrace(e);}return _c0;};WebSquare.xml.getAttribute=function(doc,key,_c7){["WebSquare.xml.getAttribute"];var _c8="";try{if(typeof doc=="string"){doc=WebSquare.xml.parse(doc);}if(typeof _c7=="undefined"){if(doc.nodeType==1){_c8=doc.getAttribute(key);}else{_c8=doc.documentElement.getAttribute(key);}}else{var _c9=null;if(doc.nodeType==1){_c9=doc.selectSingleNode(key);}else{_c9=doc.selectSingleNode("/"+"*"+"/"+key);}if(_c9!=null){_c8=_c9.getAttribute(_c7);}if(_c8==null){_c8="";}}if(_c8==null){_c8="";}}catch(e){WebSquare.exception.printStackTrace(e);}return _c8;};WebSquare.xml.getString=function(doc,key){["WebSquare.xml.getString"];return WebSquare.xml.getAttribute(doc,key,"value");};WebSquare.xml.getChildren=function(doc,key){["WebSquare.xml.getChildren"];var _ce=[];try{var _cf=doc.selectSingleNode(key);if(_cf!=null){var _d0=_cf.childNodes;for(var i=0;i<_d0.length;i++){var _d2=_d0.item(i);if(_d2.nodeType==1){var obj={};obj["@tagName"]=_d2.nodeName;var _d4=_d2.attributes;if(_d4!=null){for(var j=0;j<_d4.length;j++){obj[_d4[j].nodeName]=_d4[j].nodeValue;}}_ce.push(obj);}}}}catch(e){WebSquare.exception.printStackTrace(e);}return _ce;};WebSquare.xml.setValue=function(doc,key,_d8,_d9){["WebSquare.xml.setValue"];try{var _da=WebSquare.xml.createNode(doc,key);if(_da!=null){if(typeof _d9!="undefined"){_da.setAttribute(_d8,_d9);}else{var _db=_da.childNodes;for(var i=0;i<_db.length;i++){var _dd=_db.item(i);if(_dd.nodeType==3){_da.removeChild(_dd);}else{if(_dd.nodeType==4){_da.removeChild(_dd);}}}var _de=null;if(doc.nodeType==1){_de=doc.ownerDocument.createTextNode(_d8);}else{_de=doc.createTextNode(_d8);}WebSquare.xml.appendChild(_da,_de);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.xml.setAttribute=function(doc,key,_e1,_e2){["WebSquare.xml.setAttribute"];try{if(typeof doc=="string"){doc=WebSquare.xml.parse(doc);}if(typeof _e2=="undefined"){if(doc.nodeType==1){doc.setAttribute(key,_e1);}else{doc.documentElement.setAttribute(key,_e1);}}else{if(doc.nodeType==1){key=key;}else{key="/"+"*"+"/"+key;}var _e3=WebSquare.xml.createNode(doc,key);if(_e3!=null){_e3.setAttribute(_e1,_e2);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.xml.setString=function(doc,key,_e6){["WebSquare.xml.setString"];WebSquare.xml.setAttribute(doc,key,"value",_e6);};WebSquare.xml.transform=function(_e7,_e8,_e9){["WebSquare.xml.transform"];try{var _ea="false";if(WebSquare.logger.globalDebug1||WebSquare.logger.getGlobalDebug()){_ea="true";}var _eb=null;if(typeof _e7=="string"){_eb=WebSquare.xml._parse(_e7);}else{if(WebSquare.xml.isDocument(_e7)){if(WebSquare.BootLoader.useWebSquareXMLParser){_eb=WebSquare.xml._parse(WebSquare.xml.serialize(_e7));}else{_eb=_e7;}}else{if(typeof _e7=="object"&&typeof _e7.type!="undefined"&&(_e7.type=="vector"||_e7.type=="hashtable")){if(WebSquare.BootLoader.useWebSquareXMLParser){_eb=WebSquare.xml._parse(WebSquare.xml.serialize(_e7.toDocument()));}else{_eb=_e7.toDocument();}}else{return "";}}}var _ec=WebSquare.xml.load(_e8,true,undefined,true);var _ed="";if(WebSquare.core.supportActiveX){_ed=_eb.transformNode(_ec);}else{if(typeof XSLTProcessor!="undefined"){var _ee=new XSLTProcessor();_ee.importStylesheet(_ec);var _ef=_ee.transformToDocument(_eb);_ed=WebSquare.xml.serialize(_ef);if(_ed.indexOf("<transformiix:result")>-1){_ed=_ed.substring(_ed.indexOf(">")+1,_ed.lastIndexOf("<"));}}else{WebSquare.logger.printLog("ERROR : transform\uc744 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");return "";}}if(typeof _e9!="undefined"&&_e9!=null&&_e9!=""){var _f0=WebSquare.document.getElementById(_e9);_f0.innerHTML=_ed+"<XSLINFO value='"+_e8+"'/>";if(_ea=="true"){var obj={};var re=/>[\s]*</g;obj["html"]=_ed.replace(re,">\n<");obj["xml"]=WebSquare.xml.indent(_eb);obj["xsl"]=WebSquare.xml.indent(_ec);obj["target"]=_e9;WebSquare.logger.showDebugMsg(obj,"xml","Transform \uc2e4\ud589 \uacb0\uacfc");}}else{if(_ea=="true"){var obj={};var re=/>[\s]*</g;obj["html"]=_ed.replace(re,">\n<");obj["xml"]=WebSquare.xml.indent(_eb);obj["xsl"]=WebSquare.xml.indent(_ec);WebSquare.logger.showDebugMsg(obj,"xml","Transform \uc2e4\ud589 \uacb0\uacfc");}}if(typeof _ed!="undefined"&&_ed!="undefined"){return _ed;}else{return "";}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.xml.hasChildElement=function(_f3){["WebSquare.xml.hasChildElement"];for(var _f4=_f3.firstChild;_f4!=null;_f4=_f4.nextSibling){if(_f4.nodeType==1){return true;}}return false;};WebSquare.xml.getChildrenByTagName=function(_f5,_f6,uri){["WebSquare.xml.getChildrenByTagName"];var _f8=new Array();if(typeof uri=="undefined"){for(var _f9=_f5.firstChild;_f9!=null;_f9=_f9.nextSibling){if(_f9.nodeType==1){var _fa=_f9.nodeName.split(":");var _fb=_fa.length==2?_fa[1]:_fa[0];if(_fb==_f6){_f8.push(_f9);}}}}else{for(var _f9=_f5.firstChild;_f9!=null;_f9=_f9.nextSibling){if(_f9.nodeType==1){var _fa=_f9.nodeName.split(":");var _fb=_fa.length==2?_fa[1]:_fa[0];if(uri==_f9.namespaceURI&&_fb==_f6){_f8.push(_f9);}}}}return _f8;};WebSquare.xml.getFirstChildElement=function(_fc){["WebSquare.xml.getFirstChildElement"];for(var _fd=_fc.firstChild;_fd!=null;_fd=_fd.nextSibling){if((_fd.nodeType==1)){return _fd;}}return null;};WebSquare.xml.getFirstChildElements=function(_fe){["WebSquare.xml.getFirstChildElements"];var _ff=new Array();for(var _100=_fe.firstChild;_100!=null;_100=_100.nextSibling){if((_100.nodeType==1)){_ff.push(_100);}}return _ff;};WebSquare.xml.getTextNodeValue=function(_101){["WebSquare.xml.getTextNodeValue"];var _102=null;for(var _103=_101.firstChild;_103!=null;_103=_103.nextSibling){if(_103.nodeType==3){_102=_103.nodeValue;}}return _102;};WebSquare.xml.getCDataNodeValue=function(_104){["WebSquare.xml.getCDataNodeValue"];var _105=null;for(var _106=_104.firstChild;_106!=null;_106=_106.nextSibling){if(_106.nodeType==4){_105=_106.nodeValue;}}return _105;};WebSquare.xml.getCData=function(doc,key){["WebSquare.xml.getCData"];try{var _109="";var node=doc.selectSingleNode("/*/"+key);if(node!=null){var _10b=node.getAttribute("encode");for(var i=0;i<node.childNodes.length;i++){var _10d=node.childNodes[i];if(_10d.nodeType==4){_109=_10d.nodeValue;if(_10b=="base64"){_109=WebSquare.text.BASE64Decoder(_109);}break;}}}if(_109==null){_109="";}return _109;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.xml.setCData=function(doc,key,_110){["WebSquare.xml.setCData"];try{var _111=null;if(_110.indexOf("]]>")>=0){_111="base64";_110=WebSquare.text.BASE64Encoder(_110);}else{_111="text";}var node=doc.selectSingleNode("/*/"+key);if(node==null){var _113=doc.createElement(key);_113.setAttribute("type","CDATA");_113.setAttribute("encode",_111);_113.appendChild(doc.createCDATASection(_110));WebSquare.xml.appendChild(doc.documentElement,_113);}else{for(var i=node.childNodes.length-1;i>=0;i--){if(node.childNodes[i].nodeType==4){node.removeChild(node.childNodes[i]);}}node.setAttribute("type","CDATA");node.setAttribute("encode",_111);node.appendChild(doc.createCDATASection(_110));}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.collection={};WebSquare.collection.Vector=function(){["WebSquare.collection.Vector"];this.type="vector";this.length=0;this.data=[];this.dataType=[];this.attributeName=[];this.attributeValue=[];};WebSquare.collection.Vector.prototype.setDocument=function(_1){["WebSquare.collection.Vector.setDocument"];try{if(_1.documentElement.nodeName=="vector"){this.length=0;this.data=[];this.dataType=[];var _2=_1.documentElement.attributes;for(var i=0;i<_2.length;i++){var _4=_2.item(i);this.attributeName.push(_4.nodeName);this.attributeValue.push(_4.nodeValue);}var _5=_1.documentElement.childNodes;for(var i=0;i<_5.length;i++){var _6=_5.item(i);if(_6.nodeType==1&&_6.nodeName=="data"){var _7=_6.getAttribute("value");if(_7!=null){this.data.push(_7);this.dataType.push("String");}else{var _8=_6.childNodes;for(var j=0;j<_8.length;j++){var _a=_8.item(j);if(_a.nodeType==1){this.data.push(WebSquare.xml.serialize(_a));this.dataType.push("Document");break;}}}this.length++;}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.collection.Vector.prototype.addAll=function(_b){["WebSquare.collection.Vector.addAll"];try{if(_b.type=="vector"){this.data=this.data.concat(_b.data);this.dataType=this.dataType.concat(_b.dataType);this.length=this.data.length;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.collection.Vector.prototype.getAttribute=function(_c){["WebSquare.collection.Vector.getAttribute"];var _d="";try{for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_c){_d=this.attributeValue[i];break;}}}catch(e){WebSquare.exception.printStackTrace(e);}return _d;};WebSquare.collection.Vector.prototype.setAttribute=function(_f,_10){["WebSquare.collection.Vector.setAttribute"];try{var _11=false;for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_f){_11=true;this.attributeValue[i]=_10;break;}}if(!_11){this.attributeName.push(_f);this.attributeValue.push(_10);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.collection.Vector.prototype.setDebug=function(_13){["WebSquare.collection.Vector.setDebug"];this.setAttribute("debug",_13);};WebSquare.collection.Vector.prototype.setAction=function(_14){["WebSquare.collection.Vector.setAction"];this.setAttribute("action",_14);};WebSquare.collection.Vector.prototype.setTask=function(_15){["WebSquare.collection.Vector.setTask"];this.setAttribute("task",_15);};WebSquare.collection.Vector.prototype.setProcessName=function(_16){["WebSquare.collection.Vector.setProcessName"];if(typeof _16=="undefined"||_16==null||_16==""){this.setAttribute("processName",WebSquare.proworks.getControllerServer());}else{this.setAttribute("processName",WebSquare.proworks.getControllerServer()+"."+_16);}};WebSquare.collection.Vector.prototype.getAction=function(){["WebSquare.collection.Vector.getAction"];return this.getAttribute("action");};WebSquare.collection.Vector.prototype.getTask=function(){["WebSquare.collection.Vector.getTask"];return this.getAttribute("task");};WebSquare.collection.Vector.prototype.getProcessName=function(){["WebSquare.collection.Vector.getProcessName"];return this.getAttribute("processName");};WebSquare.collection.Vector.prototype.addElement=function(_17){["WebSquare.collection.Vector.addElement"];try{if(WebSquare.xml.isDocument(_17)){this.data.push(WebSquare.xml.serialize(_17));this.dataType.push("Document");}else{if(typeof _17=="object"&&typeof _17.type!="undefined"&&(_17.type=="vector"||_17.type=="hashtable")){this.data.push(_17.toString());this.dataType.push("Document");}else{if(typeof _17=="string"&&WebSquare.xml.isDocumentString(_17)){this.data.push(_17);this.dataType.push("Document");}else{this.data.push(_17+"");this.dataType.push("String");}}}this.length++;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.collection.Vector.prototype.elementAt=function(i){["WebSquare.collection.Vector.elementAt"];var ret=null;try{i=parseInt(i,10);if(i>=0&&i<this.length){if(this.dataType[i]=="Document"){var tmp=WebSquare.xml.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=WebSquare.collection.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=WebSquare.collection.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}}}catch(e){WebSquare.exception.printStackTrace(e);}return ret;};WebSquare.collection.Vector.prototype.insertElementAt=function(_1b,i){["WebSquare.collection.Vector.insertElementAt"];try{i=parseInt(i,10);if(i==this.length){this.addElement(_1b);return;}if(i>=0&&i<this.length){for(var j=this.length;j>i;j--){this.data[j]=this.data[j-1];this.dataType[j]=this.dataType[j-1];}if(WebSquare.xml.isDocument(_1b)){this.data[i]=WebSquare.xml.serialize(_1b);this.dataType[i]="Document";}else{if(typeof _1b=="object"&&typeof _1b.type!="undefined"&&(_1b.type=="vector"||_1b.type=="hashtable")){this.data[i]=_1b.toString();this.dataType[i]="Document";}else{if(typeof _1b=="string"&&WebSquare.xml.isDocumentString(_1b)){this.data[i]=_1b;this.dataType[i]="Document";}else{this.data[i]=_1b+"";this.dataType[i]="String";}}}this.length++;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.collection.Vector.prototype.remove=function(i){["WebSquare.collection.Vector.remove"];var ret=null;try{i=parseInt(i,10);if(i>=0&&i<this.length){if(this.dataType[i]=="Document"){var tmp=WebSquare.xml.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=WebSquare.collection.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=WebSquare.collection.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}if(i<this.length-1){for(var j=i;j<this.length-1;j++){this.data[j]=this.data[j+1];this.dataType[j]=this.dataType[j+1];}}this.data.pop();this.dataType.pop();this.length--;}}catch(e){WebSquare.exception.printStackTrace(e);}return ret;};WebSquare.collection.Vector.prototype.fastRemove=function(i){["WebSquare.collection.Vector.fastRemove"];try{i=parseInt(i,10);if(i>=0&&i<this.length){if(i<this.length-1){for(var j=i;j<this.length-1;j++){this.data[j]=this.data[j+1];this.dataType[j]=this.dataType[j+1];}}this.data.pop();this.dataType.pop();this.length--;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.collection.Vector.prototype.set=function(i,_25){["WebSquare.collection.Vector.set"];try{i=parseInt(i,10);if(i>=0&&i<this.length){if(WebSquare.xml.isDocument(_25)){this.data[i]=WebSquare.xml.serialize(_25);this.dataType[i]="Document";}else{if(typeof _25=="object"&&typeof _25.type!="undefined"&&(_25.type=="vector"||_25.type=="hashtable")){this.data[i]=_25.toString();this.dataType[i]="Document";}else{if(typeof _25=="string"&&WebSquare.xml.isDocumentString(_25)){this.data[i]=_25;this.dataType[i]="Document";}else{this.data[i]=_25+"";this.dataType[i]="String";}}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.collection.Vector.prototype.size=function(){["WebSquare.collection.Vector.size"];return this.length;};WebSquare.collection.Vector.prototype.toDocument=function(){["WebSquare.collection.Vector.toDocument"];return WebSquare.xml.parse(this.toString());};WebSquare.collection.Vector.prototype.toString=function(){["WebSquare.collection.Vector.toString"];var _26=[];try{_26.push("<vector");_26.push(" result='"+this.length+"'");for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]!="result"){_26.push(" "+this.attributeName[i]+"='"+this.attributeValue[i]+"'");}}_26.push(">");for(var i=0;i<this.length;i++){if(this.dataType[i]=="Document"){_26.push("<data vectorkey='"+i+"'>");var idx=this.data[i].indexOf("?>");if(idx==-1){_26.push(this.data[i]);}else{var _29=(new RegExp("<?xml[\\s]+(version|VERSION)[\\w\\W]+?>")).test(this.data[i]);if(_29){_26.push(this.data[i].substring(idx+2));}else{_26.push(this.data[i]);}}_26.push("</data>");}else{_26.push("<data vectorkey='"+i+"' value='"+WebSquare.xml.encode(this.data[i])+"'/>");}}_26.push("</vector>");}catch(e){WebSquare.exception.printStackTrace(e);}return _26.join("");};WebSquare.collection.Hashtable=function(){["WebSquare.collection.Hashtable"];this.type="hashtable";this.key=[];this.data=[];this.dataType=[];this.attributeName=[];this.attributeValue=[];};WebSquare.collection.Hashtable.prototype.containsKey=function(_2a){["WebSquare.collection.Hashtable.containsKey"];var _2b=false;try{for(var i=0;i<this.key.length;i++){if(this.key[i]==_2a){_2b=true;break;}}}catch(e){WebSquare.exception.printStackTrace(e);}return _2b;};WebSquare.collection.Hashtable.prototype.setDocument=function(doc){["WebSquare.collection.Hashtable.setDocument"];try{if(doc.documentElement.nodeName=="hashtable"){this.key=[];this.data=[];this.dataType=[];var _2e=doc.documentElement.attributes;for(var i=0;i<_2e.length;i++){var att=_2e.item(i);this.attributeName.push(att.nodeName);this.attributeValue.push(att.nodeValue);}var _31=doc.documentElement.childNodes;for(var i=0;i<_31.length;i++){var _32=_31.item(i);if(_32.nodeType==1&&_32.nodeName=="data"){this.key.push(_32.getAttribute("hashkey"));var _33=_32.getAttribute("value");if(_33!=null){this.data.push(_33);this.dataType.push("String");}else{var _34=_32.childNodes;for(var j=0;j<_34.length;j++){var _36=_34.item(j);if(_36.nodeType==1){this.data.push(WebSquare.xml.serialize(_36));this.dataType.push("Document");break;}}}}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.collection.Hashtable.prototype.getAttribute=function(_37){["WebSquare.collection.Hashtable.getAttribute"];var ret="";try{for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_37){ret=this.attributeValue[i];break;}}}catch(e){WebSquare.exception.printStackTrace(e);}return ret;};WebSquare.collection.Hashtable.prototype.setAttribute=function(_3a,_3b){["WebSquare.collection.Hashtable.setAttribute"];try{var _3c=false;for(var i=0;i<this.attributeName.length;i++){if(this.attributeName[i]==_3a){_3c=true;this.attributeValue[i]=_3b;break;}}if(!_3c){this.attributeName.push(_3a);this.attributeValue.push(_3b);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.collection.Hashtable.prototype.setDebug=function(_3e){["WebSquare.collection.Hashtable.setDebug"];this.setAttribute("debug",_3e);};WebSquare.collection.Hashtable.prototype.setAction=function(_3f){["WebSquare.collection.Hashtable.setAction"];this.setAttribute("action",_3f);};WebSquare.collection.Hashtable.prototype.setTask=function(_40){["WebSquare.collection.Hashtable.setTask"];this.setAttribute("task",_40);};WebSquare.collection.Hashtable.prototype.setProcessName=function(_41){["WebSquare.collection.Hashtable.setProcessName"];if(typeof _41=="undefined"||_41==null||_41==""){this.setAttribute("processName",WebSquare.proworks.getControllerServer());}else{this.setAttribute("processName",WebSquare.proworks.getControllerServer()+"."+_41);}};WebSquare.collection.Hashtable.prototype.getAction=function(){["WebSquare.collection.Hashtable.getAction"];return this.getAttribute("action");};WebSquare.collection.Hashtable.prototype.getTask=function(){["WebSquare.collection.Hashtable.getTask"];return this.getAttribute("task");};WebSquare.collection.Hashtable.prototype.getProcessName=function(){["WebSquare.collection.Hashtable.getProcessName"];return this.getAttribute("processName");};WebSquare.collection.Hashtable.prototype.get=function(_42){["WebSquare.collection.Hashtable.get"];var ret=null;try{for(var i=0;i<this.key.length;i++){if(this.key[i]==_42){if(this.dataType[i]=="Document"){var tmp=WebSquare.xml.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=WebSquare.collection.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=WebSquare.collection.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}break;}}}catch(e){WebSquare.exception.printStackTrace(e);}return ret;};WebSquare.collection.Hashtable.prototype.put=function(_46,_47){["WebSquare.collection.Hashtable.put"];var ret=null;try{var _49=false;for(var i=0;i<this.key.length;i++){if(this.key[i]==_46){_49=true;if(this.dataType[i]=="Document"){var tmp=WebSquare.xml.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=WebSquare.collection.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=WebSquare.collection.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}if(WebSquare.xml.isDocument(_47)){this.data[i]=WebSquare.xml.serialize(_47);this.dataType[i]="Document";}else{if(typeof _47=="object"&&typeof _47.type!="undefined"&&(_47.type=="vector"||_47.type=="hashtable")){this.data[i]=_47.toString();this.dataType[i]="Document";}else{if(typeof _47=="string"&&WebSquare.xml.isDocumentString(_47)){this.data[i]=_47;this.dataType[i]="Document";}else{this.data[i]=_47+"";this.dataType[i]="String";}}}break;}}if(!_49){this.key.push(_46);if(WebSquare.xml.isDocument(_47)){this.data.push(WebSquare.xml.serialize(_47));this.dataType.push("Document");}else{if(typeof _47=="object"&&typeof _47.type!="undefined"&&(_47.type=="vector"||_47.type=="hashtable")){this.data.push(_47.toString());this.dataType.push("Document");}else{if(typeof _47=="string"&&WebSquare.xml.isDocumentString(_47)){this.data.push(_47);this.dataType.push("Document");}else{this.data.push(_47+"");this.dataType.push("String");}}}}}catch(e){WebSquare.exception.printStackTrace(e);}return ret;};WebSquare.collection.Hashtable.prototype.remove=function(_4c){["WebSquare.collection.Hashtable.remove"];var ret=null;try{for(var i=0;i<this.key.length;i++){if(this.key[i]==_4c){if(this.dataType[i]=="Document"){var tmp=WebSquare.xml.parse(this.data[i]);if(tmp.documentElement.nodeName=="vector"){ret=WebSquare.collection.toVector(tmp);}else{if(tmp.documentElement.nodeName=="hashtable"){ret=WebSquare.collection.toHashtable(tmp);}else{ret=tmp;}}}else{ret=this.data[i];}this.key[i]=this.key[this.key.length-1];this.data[i]=this.data[this.data.length-1];this.dataType[i]=this.dataType[this.dataType.length-1];this.key.pop();this.data.pop();this.dataType.pop();break;}}}catch(e){WebSquare.exception.printStackTrace(e);}return ret;};WebSquare.collection.Hashtable.prototype.keys=function(){["WebSquare.collection.Hashtable.keys"];return WebSquare.text.arraySort(this.key);};WebSquare.collection.Hashtable.prototype.elements=function(){["WebSquare.collection.Hashtable.elements"];var _50=[];try{var k=WebSquare.text.arraySort(this.key);for(var i=0;i<k.length;i++){_50.push(this.get(k[i]));}}catch(e){WebSquare.exception.printStackTrace(e);}return _50;};WebSquare.collection.Hashtable.prototype.toDocument=function(){["WebSquare.collection.Hashtable.toDocument"];return WebSquare.xml.parse(this.toString());};WebSquare.collection.Hashtable.prototype.toString=function(){["WebSquare.collection.Hashtable.toString"];var _53=[];_53.push("<hashtable");try{for(var i=0;i<this.attributeName.length;i++){_53.push(" "+this.attributeName[i]+"='"+this.attributeValue[i]+"'");}_53.push(">");for(var i=0;i<this.key.length;i++){if(this.dataType[i]=="Document"){_53.push("<data hashkey='"+WebSquare.xml.encode(this.key[i])+"'>");var idx=this.data[i].indexOf("?>");if(idx==-1){_53.push(this.data[i]);}else{var _56=(new RegExp("<?xml[\\s]+(version|VERSION)[\\w\\W]+?>")).test(this.data[i]);if(_56){_53.push(this.data[i].substring(idx+2));}else{_53.push(this.data[i]);}}_53.push("</data>");}else{_53.push("<data hashkey='"+WebSquare.xml.encode(this.key[i])+"' value='"+WebSquare.xml.encode(this.data[i])+"'/>");}}}catch(e){WebSquare.exception.printStackTrace(e);}_53.push("</hashtable>");return _53.join("");};WebSquare.collection.toVector=function(doc){["WebSquare.collection.toVector"];var _58=new WebSquare.collection.Vector();try{var dom=null;if(typeof doc=="string"){dom=WebSquare.xml.parse(doc);}else{if(WebSquare.xml.isDocument(doc)){dom=doc;}}_58.setDocument(dom);}catch(e){WebSquare.exception.printStackTrace(e);}return _58;};WebSquare.collection.toHashtable=function(doc){["WebSquare.collection.toHashtable"];var _5b=new WebSquare.collection.Hashtable();try{var dom=null;if(typeof doc=="string"){dom=WebSquare.xml.parse(doc);}else{if(WebSquare.xml.isDocument(doc)){dom=doc;}}_5b.setDocument(dom);}catch(e){WebSquare.exception.printStackTrace(e);}return _5b;};WebSquare.WebSquareDocument=function(_1){["WebSquare.WebSquareDocument"];try{this.xmlDocument=_1;this.models=[];this.controls=[];this.actions=[];this.events=[];this.boundElement=[];this.refElement=[];this.itemsetElement=[];this.boundElementCache={};this.W2Object=1;this.HTMLObject=2;this.TmpObjIdx=1;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.WebSquareDocument.componentsCache={};WebSquare.WebSquareDocument.componentIdCache={};WebSquare.WebSquareDocument.getElementsByTagName=function(_2){if(typeof WebSquare.WebSquareDocument.componentsCache[_2]=="object"){return WebSquare.WebSquareDocument.componentsCache[_2];}else{return new Array();}};WebSquare.WebSquareDocument.prototype.parsing=function(){["WebSquare.WebSquareDocument.parsing"];if(WebSquare.WebSquareParser==null){WebSquare.WebSquareparser=new WebSquare.Parser.WebSquareParser();}if(!WebSquare.WebSquareparser.parse(WebSquare.WebSquaredoc.xmlDocument)){return false;}var _3=WebSquare.xml.getElementsByTagName(this.xmlDocument,"head")[0];var _4=WebSquare.xml.getElementsByTagName(_3,"require",WebSquare.core._XML_NAMESPACE.W2);for(var i=0;i<_4.length;i++){var _6=WebSquare.core.getURL(_4[i].getAttribute("src"));var id=_4[i].getAttribute("id");var _8=_4[i].getAttribute("pluginName");WebSquare.util.loadUserComponent(_6,id,_8);}WebSquare.BootLoader.performanceCheck.mid2=new Date();WebSquare.BootLoader.printLog("[STEP3] Resource(XML, Skin, CSS, JS) Load Complete. Time:"+(WebSquare.BootLoader.performanceCheck.mid2.getTime()-WebSquare.BootLoader.performanceCheck.mid1.getTime())+"ms");var _9=this.renderBody();if(!_9){return false;}return true;};WebSquare.WebSquareDocument.prototype.evalImportsQueue=function(){["WebSquare.WebSquareDocument.evalImportsQueue"];try{for(var i in WebSquare.importsQueue){imports(WebSquare.importsQueue[i]);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.WebSquareDocument.prototype.renderBody=function(){["WebSquare.WebSquareDocument.renderBody"];var _b=WebSquare.xml.getElementsByTagName(this.xmlDocument,"body",WebSquare.core._XML_NAMESPACE.XHTML);if(_b.length==1){var _c=_b[0].getAttribute("style");if(_c!=null){WebSquare.WebSquaredoc.bodyStyle=_c;}WebSquare.WebSquaredoc.body=_b[0];}else{alert(WebSquare.language.getMessage("E_WebSquareDocument_MoreThanOneBodyError",_b.length));return false;}var _d=new WebSquare.controlManager();_d.run(_b[0]);};WebSquare.addListenerCnt=0;WebSquare.elementObjArr=[];WebSquare.selectboxCss=false;WebSquare.triggerCss=false;WebSquare.idCache={};WebSquare.RefElement=function(_e,id){try{this.nodeset=_e;this.id=id;this.instance=WebSquare.ModelUtil.getInstanceByXPath(this.nodeset);this.filteredNodeset=WebSquare.ModelUtil.filterInstanceFunction(this.nodeset);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.ItemsetElement=function(_10,_11,_12,id){try{this.nodeset=_10;this.instance=WebSquare.ModelUtil.getInstanceByXPath(this.nodeset);this.filteredNodeset=WebSquare.ModelUtil.filterInstanceFunction(this.nodeset);this.id=id;this.label=_11;this.value=_12;if(this.nodeset.indexOf("/")==_10.length-1){this.nodeset=this.nodeset.substring(0,length-1);}if(this.label.indexOf("/")==0){this.labelXPath=this.nodeset+this.label;}else{this.labelXPath=this.nodeset+"/"+this.label;}if(this.value.indexOf("/")==0){this.valueXPath=this.nodeset+this.value;}else{this.valueXPath=this.nodeset+"/"+this.value;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.BoundElement=function(_14,id){this.nodeset=_14;this.id=id;this.instance=WebSquare.ModelUtil.getInstanceByXPath(this.nodeset);this.filteredNodeset=WebSquare.ModelUtil.filterInstanceFunction(this.nodeset);};WebSquare.WebSquareDocument.prototype.unrender=function(_16,id,_18){["WebSquare.WebSquareDocument.unrender"];try{for(var i=0;i<this.boundElement.length;i++){var _1a=this.boundElement[i];if(!_1a||typeof _1a.filteredNodeset=="undefined"||typeof _1a.instance=="undefined"){continue;}if(_1a.filteredNodeset.indexOf(_16)==0&&_1a.instance.id==_18){if(!(typeof id!="undefined"&&id!=null&&id==_1a.id)){eval(_1a.id+".hasbeenrendered = false;");}}}for(var j in WebSquare.WebSquaredoc.refElement){var _1c=WebSquare.WebSquaredoc.refElement[j];if(!_1c||typeof _1c.filteredNodeset=="undefined"||typeof _1c.instance=="undefined"){continue;}if(_1c.filteredNodeset.indexOf(_16)==0&&_1c.instance.id==_18){if(!(typeof id!="undefined"&&id!=null&&id==_1a.id)){eval(_1c.id+".hasbeenrendered = false;");}}}for(var k in WebSquare.WebSquaredoc.itemsetElement){var _1e=WebSquare.WebSquaredoc.itemsetElement[k];if(typeof _1e.filteredNodeset!="undefined"){if((_16.indexOf(_1e.filteredNodeset)==0||_1e.filteredNodeset.indexOf(_16)==0)&&_1e.filteredNodeset.substr(_16.length).search(/^\w/)==-1&&_1e.instance.id==_18){var id2=_1e.id;if(id2!=id){try{eval(_1e.id+".itemsetrendered = false;");}catch(e){}}}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.WebSquareDocument.prototype.detectChange=function(_20,id,_22){["WebSquare.WebSquareDocument.detectChange"];try{var _23=WebSquare.ModelUtil.getModelByID(_22);var _24=_23.instances[0].id;if(_24!=null){_20=WebSquare.ModelUtil.concatInstanceFunction(_20,_24);}if(typeof this.boundElementCache[_20]!="undefined"&&this.boundElementCache[_20]!=null){for(var i in this.boundElementCache[_20]){var id1=i;if(id1!=id){WebSquare.BootLoader.globalEval(id1+".refresh()");}}}for(var k in WebSquare.WebSquaredoc.itemsetElement){var _28=WebSquare.WebSquaredoc.itemsetElement[k];if(typeof _28.filteredNodeset!="undefined"){if((_20.indexOf(_28.filteredNodeset)==0||_28.filteredNodeset.indexOf(_20)==0)){var id2=_28.id;if(id2!=id){WebSquare.BootLoader.globalEval(id2+".refreshItemset()");}}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.WebSquareObject=function(_2a){["WebSquare.WebSquareObject"];this.xmlNode=_2a;};WebSquare.WebSquarebodyControl=function(_2b,_2c){["WebSquare.WebSquarebodyControl"];try{this.style=_2c;this.xmlEvents=WebSquare.WebSquareparser.parseEvent(_2b);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.WebSquarebodyControl.prototype.makeEvents=function(){["WebSquare.WebSquarebodyControl.makeEvents"];try{WebSquare.event.addEvents(document.body,this.xmlEvents);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.WebSquareLabelControl=function(_2d,_2e,_2f){["WebSquare.WebSquareLabelControl"];if(_2e!=null){this.value=WebSquare.ModelUtil.getInstanceValue(_2e.xpath);}else{this.value=_2f;}};WebSquare.Parser={};WebSquare.Parser.WebSquareParser=function(){["WebSquare.Parser.WebSquareParser"];};WebSquare.importsQueue={};WebSquare.controlMatchmarks={};WebSquare.lazyImportsArr=[];WebSquare.Parser.WebSquareParser.prototype.parse=function(_1){["WebSquare.Parser.WebSquareParser.parse"];try{if(WebSquare.core.browserCheck.ieAllVersion&&WebSquare.BootLoader.useActiveXObject){var _2=WebSquare.core.getNamespaces(_1);var _3="";for(var i in _2){if(i!=""){_3+="xmlns:"+i+"=\""+_2[i]+"\" ";}}_1.setProperty("SelectionLanguage","XPath");_1.setProperty("SelectionNamespaces",_3);}var _5=WebSquare.core.getConfiguration("/WebSquare/stylesheet/@value");var _6=WebSquare.core.getConfiguration("/WebSquare/stylesheet/@enable");if(_5==null||_5==""){if(WebSquare.core.getConfiguration("/WebSquare/stylesheet/@import")=="link"){_5="stylesheet_ext.css";}else{_5="stylesheet.css";}}if(_6!="false"){WebSquare.skin.addImport(WebSquare.baseThemeURI+"skin/"+_5);}WebSquare.skin.importCSS(_1);if(WebSquare.core.getConfiguration("/WebSquare/stylesheet/@import")=="link"){WebSquare.cssManager.executeImport();}this.parseBuildDate(_1.documentElement);this.parseTitle(_1.documentElement);this.parseModels(_1.documentElement);return this.parseScript(_1.documentElement);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseBuildDate=function(_7){["WebSquare.Parser.WebSquareParser.parseBuildDate"];try{var _8=WebSquare.xml.getElementsByTagName(_7,"buildDate",WebSquare.core._XML_NAMESPACE.W2);if(_8.length==1&&_8[0].firstChild){WebSquare.buildDate=(_8[0].firstChild.nodeValue);}else{WebSquare.buildDate="N/A";}}catch(e){WebSquare.buildDate="N/A";WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseTitle=function(_9){["WebSquare.Parser.WebSquareParser.parseTitle"];try{var _a=WebSquare.xml.getElementsByTagName(_9,"title",WebSquare.core._XML_NAMESPACE.XHTML);if(_a.length==1){WebSquare.docTitle=WebSquare.document.title=(_a[0].firstChild.nodeValue);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseModels=function(_b){["WebSquare.Parser.WebSquareParser.parseModels"];try{var _c=WebSquare.xml.getElementsByTagName(_b,"model",WebSquare.core._XML_NAMESPACE.XFORMS);for(var i=0;i<_c.length;++i){WebSquare.WebSquaredoc.models.push(this.parseModel(_c[i]));}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseModel=function(_e){["WebSquare.Parser.WebSquareParser.parseModel"];try{var _f=this.parseInstances(_e);var _10=this.parseBinds(_e);var _11=this.parseSubmissions(_e);return new WebSquare.Model(_e,_f,_10,_11);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseInstances=function(_12){["WebSquare.Parser.WebSquareParser.parseInstances"];try{var _13=WebSquare.xml.getElementsByTagName(_12,"instance",WebSquare.core._XML_NAMESPACE.XFORMS);var _14=[];for(var i=0;i<_13.length;i++){_14.push(this.parseInstance(_13[i]));}return _14;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseInstance=function(_16){["WebSquare.Parser.WebSquareParser.parseInstance"];try{var src=_16.attributes.getNamedItem("src");var _18=null;if(src!=null){_18=new WebSquare.Model.Instance(_16,WebSquare.xml.load(srcAttribute.value),src.value);}else{var _19=null;for(var _1a=_16.firstChild;_1a!=null;_1a=_1a.nextSibling){if(_1a.nodeType==1){_19=_1a;}}if(_19==null){_18=new WebSquare.Model.Instance(_16,null,null);}else{var _1b=[];for(var _1a=_19.firstChild;_1a!=null;_1a=_1a.nextSibling){if(_1a.namespaceURI!=null&&_1a.namespaceURI!=""){_1b.push("xmlns:"+_1a.prefix);_1b.push(_1a.namespaceURI);break;}}if(_1b[0]!=null&&_1b[0]!="xmlns:xml"){if(!_19.attributes.getNamedItem(_1b[0])){_19.setAttribute(_1b[0],_1b[1]);}}_18=new WebSquare.Model.Instance(_16,_19,null);}}return _18;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseBinds=function(_1c){["WebSquare.Parser.WebSquareParser.parseBinds"];try{var _1d=WebSquare.xml.getElementsByTagName(_1c,"bind",WebSquare.core._XML_NAMESPACE.XFORMS);var _1e=[];for(var i=0;i<_1d.length;++i){_1e.push(this.parseBind(_1d[i]));}return _1e;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseBind=function(_20){["WebSquare.Parser.WebSquareParser.parseBind"];try{var id=_20.attributes.getNamedItem("id");var _22=_20.attributes.getNamedItem("nodeset");var _23=new WebSquare.Model.Bind(_20,"nodeset",_22.value,null,id.value);return _23;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseSubmissions=function(_24){["WebSquare.Parser.WebSquareParser.parseSubmissions"];try{var _25=WebSquare.xml.getElementsByTagName(_24,"submission",WebSquare.core._XML_NAMESPACE.XFORMS);var _26=[];for(var i=0;i<_25.length;i++){_26.push(this.parseSubmission(_25[i],_24));}return _26;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseSubmission=function(_28,_29){["WebSquare.Parser.WebSquareParser.parseSubmission"];try{var id=WebSquare.WebSquareparser.getAttribute(_28,"id");var _2b=WebSquare.WebSquareparser.getAttribute(_28,"method","")||WebSquare.core.getConfiguration("/WebSquare/submission/method/@value")||"POST";var _2c=WebSquare.WebSquareparser.getAttribute(_28,"action","")||WebSquare.core.getConfiguration("/WebSquare/submission/action/@value");var _2d=WebSquare.WebSquareparser.getAttribute(_28,"mode","")||WebSquare.core.getConfiguration("/WebSquare/submission/mode/@value")||"asynchronous";var _2e=WebSquare.WebSquareparser.getAttribute(_28,"mediatype","")||WebSquare.core.getConfiguration("/WebSquare/submission/mediatype/@value");var _2f=WebSquare.WebSquareparser.getAttribute(_28,"encoding","")||WebSquare.core.getConfiguration("/WebSquare/submission/encoding/@value")||"UTF-8";var ref=WebSquare.WebSquareparser.getAttribute(_28,"ref");var _31=WebSquare.WebSquareparser.getAttribute(_28,"target");var _32=WebSquare.WebSquareparser.getAttribute(_28,"replace");var _33=WebSquare.WebSquareparser.getAttribute(_28,"instance");var _34=WebSquare.WebSquareparser.getAttribute(_28,"customHandler");var _35=WebSquare.WebSquareparser.getAttribute(_28,"errorHandler");if(_35==""){_35=WebSquare.core.getConfiguration("/WebSquare/submission/errorHandler/@value");}var _36=WebSquare.WebSquareparser.getAttribute(_28,"processMsg","");if(_36==""){_36=WebSquare.core.getConfiguration("/WebSquare/submission/processMsg/@value");}var _37=WebSquare.WebSquareparser.getAttribute(_28,"soapaction","");if(_2e==""){if(_2b=="post"||_2b=="POST"){_2e="application/xml";}}var _38=this.parseEvent(_28);var _39=this.getAttribute(_28,"timeout","")||WebSquare.core.getConfiguration("/WebSquare/submission/timeout/@value");return new WebSquare.Model.Submission(_29,_28,id,_2b,_2c,_2d,null,_2e,_2f,ref,_31,_32,_33,_34,_35,_37,_36,_38,_39);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseScript=function(_3a){["WebSquare.Parser.WebSquareParser.parseScript"];try{WebSquare.scriptSection="";WebSquare.externalScriptArr=[];var _3b=WebSquare.core.getConfiguration("/WebSquare/initScript/@value");if(_3b=="true"){WebSquare.scriptSection+=WebSquare.core.getConfiguration("/WebSquare/initScript");}var _3c=WebSquare.xml.getElementsByTagName(_3a,"head",WebSquare.core._XML_NAMESPACE.XHTML);if(_3c.length==1){for(var _3d=_3c[0].firstChild;_3d!=null;_3d=_3d.nextSibling){if((_3d.nodeType==1)&&WebSquare.xml.matchNode(_3d,"script",WebSquare.core._XML_NAMESPACE.XHTML)){var uri=_3d.getAttribute("src");if(uri!=null&&uri!=""){var _3f=_3d.getAttribute("defer");if(_3f=="defer"){WebSquare.lazyImportsArr.push(WebSquare.core.getURL(uri));}else{WebSquare.externalScriptArr.push(WebSquare.core.getURL(uri));}}else{for(var _40=_3d.firstChild;_40!=null;_40=_40.nextSibling){if(_40.nodeType==4||_40.nodeType==3){WebSquare.scriptSection+=_40.nodeValue;}}}}}}else{alert(WebSquare.language.getMessage("E_Parser_MoreThanOneHeadError",_3c.length));return false;}}catch(e){WebSquare.exception.printStackTrace(e);}return true;};WebSquare.Parser.WebSquareParser.prototype.parseControls=function(_41){["WebSquare.Parser.WebSquareParser.parseControls"];try{var _42=[];for(var _43=_41.firstChild;_43!=null;_43=_43.nextSibling){var tag=WebSquare.xml.getLocalName(_43);if(tag!="label"){if(_43.namespaceURI==WebSquare.core._XML_NAMESPACE["XFORMS"]||_43.namespaceURI==WebSquare.core._XML_NAMESPACE["W2"]){if(tag=="switch"){WebSquare.importsQueue["{"+_43.namespaceURI+"}"+tag]="uiplugin.Switch";WebSquare.controlMatchmarks["{"+_43.namespaceURI+"}"+tag]="WebSquare.uiplugin.Switch";_42.push(_43);}else{WebSquare.importsQueue["{"+_43.namespaceURI+"}"+tag]="uiplugin."+tag;WebSquare.controlMatchmarks["{"+_43.namespaceURI+"}"+tag]="WebSquare.uiplugin."+tag;_42.push(_43);}}else{if(WebSquare.core.matchExtNamespace(_43.namespaceURI)){var _45=WebSquare.core.EXT_PLUGIN[_43.namespaceURI][tag];WebSquare.importsQueue["{"+_43.namespaceURI+"}"+tag]=_45.src;WebSquare.controlMatchmarks["{"+_43.namespaceURI+"}"+tag]=_45.className;_42.push(_43);}else{if(_43.namespaceURI==WebSquare.core._XML_NAMESPACE["XHTML"]){WebSquare.WebSquaredoc.htmlElements.push(_43);}}}}}return _42;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseBody=function(_46){["WebSquare.Parser.WebSquareParser.parseBody"];try{var _47=WebSquare.xml.getElementsByTagName(_46,"body",WebSquare.core._XML_NAMESPACE.XHTML);if(_47.length==1){var _48=_47[0].getAttribute("style");if(_48!=null){WebSquare.WebSquaredoc.bodyStyle=_48.value;}WebSquare.WebSquaredoc.body=_47[0];}else{alert(WebSquare.language.getMessage("E_Parser_MoreThanOneBodyError",_47.length));}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseActions=function(_49){["WebSquare.Parser.WebSquareParser.parseActions"];};WebSquare.Parser.WebSquareParser.prototype.findBindElement=function(_4a){["WebSquare.Parser.WebSquareParser.findBindElement"];try{if(_4a.attributes==null){return null;}if(_4a.attributes.getNamedItem("bind")!=null){var _4b=WebSquare.ModelUtil.getBind(_4a.attributes.getNamedItem("bind").value);return _4b;}return null;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseLabel=function(_4c){["WebSquare.Parser.WebSquareParser.parseLabel"];var _4d=WebSquare.xml.getElementsByTagName(_4c,"label",WebSquare.core._XML_NAMESPACE.XFORMS);if(_4d[0]==null){return null;}var _4e=_4d[0];var _4f=this.findBindElement(_4e);var _50="";var _51=(_4e.firstChild);if(_4e.childNodes.length>1){for(var i=0;i<_4e.childNodes.length;i++){if(_4e.childNodes[i].nodeValue.wq_trim()!=""){_51=_4e.childNodes[i];break;}}}if(typeof _51!="undefined"&&_51!=null){_50=_51.nodeValue;}else{_50="";}return new WebSquare.WebSquareLabelControl(_4e,_4f,_50);};WebSquare.Parser.WebSquareParser.prototype.parseChoices=function(_53,_54){["WebSquare.Parser.WebSquareParser.parseChoices"];var _55=[];_54=_54||"xf";if(_53){try{var _56=_53.nodeName;if(_56.indexOf(":")>=0){_54=_56.split(":")[0];}}catch(e){}var _57=WebSquare.xml.findNode(_53,".//"+_54+":choices");if(_57){var _58=WebSquare.xml.findNodes(_57,".//"+_54+":item");if(_58){for(var i=0;i<_58.length;++i){var _5a=_58[i];var _5b="";var _5c=WebSquare.xml.findNode(_5a,"./"+_54+":label/text()");if(_5c){_5b=_5c.nodeValue;}var _5d="";var _5e=WebSquare.xml.findNode(_5a,"./"+_54+":value/text()");if(_5e){_5d=_5e.nodeValue;}_55.push({label:_5b,value:_5d});}}}}return _55;};WebSquare.Parser.WebSquareParser.prototype.parseItemset=function(_5f,_60){["WebSquare.Parser.WebSquareParser.parseItemset"];var _61={nodeset:"",label:"",value:""};try{_60=_60||"xf";try{var _62=_5f.nodeName;if(_62.indexOf(":")>=0){_60=_62.split(":")[0];}}catch(e){}if(_5f){var _63=WebSquare.xml.findNode(_5f,""+_60+":choices");if(_63){var _64=WebSquare.xml.findNode(_63,""+_60+":itemset");if(_64){var _65=WebSquare.xml.getValue(_64,"@nodeset");var _66=WebSquare.xml.getValue(_64,_60+":label/@ref");var _67=WebSquare.xml.getValue(_64,_60+":value/@ref");_61.nodeset=_65;_61.label=_66;_61.value=_67;}}else{var _64=WebSquare.xml.findNode(_5f,_60+":itemset");if(_64){var _65=WebSquare.xml.getValue(_64,"@nodeset");var _66=WebSquare.xml.getValue(_64,_60+":label/@ref");var _67=WebSquare.xml.getValue(_64,_60+":value/@ref");_61.nodeset=_65;_61.label=_66;_61.value=_67;}}}}catch(e){WebSquare.exception.printStackTrace(e);}return _61;};WebSquare.Parser.WebSquareParser.prototype.parseAttribute=function(_68){["WebSquare.Parser.WebSquareParser.parseAttribute"];try{var _69={};var _6a=_68.attributes||_68.documentElement.attributes;for(var i=0,len=_6a.length;i<len;i++){var _6c=_6a[i];var _6d=_6c.name;var _6e=_6c.value;if(_6d=="class"){_69["className"]=_6e;}else{if(_6e.wq_trim()!==""){_69[_6d]=_6e;}}}return _69;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseEvent=function(_6f){["WebSquare.Parser.WebSquareParser.parseEvent"];try{var _70=[];var id=_6f.getAttribute("id");var _72=null;if(id==null||id==""){_72="";id="";}else{_72=id;id=id+".";}for(var _73=_6f.firstChild;_73!=null;_73=_73.nextSibling){var _74="";var _75=WebSquare.xml.nodeInfoObj(_73);var _76=_75.nodeName;var uri=_75.uri;if((_73.nodeType==1)&&_76=="script"){var _78={};var _79=_73.attributes;for(var j=0;j<_79.length;j++){var att=_79[j];if(WebSquare.xml.matchNode(att,"event",WebSquare.core._XML_NAMESPACE.EVENTS)){_74=att.nodeValue;break;}}var _7c=0;for(var _7d=_73.firstChild;_7d!=null;_7d=_7d.nextSibling){if(_7d.nodeType==4){var _7e="( e )";var idx=_74.indexOf("(");if(idx>-1){_7e=_74.substring(idx);_74=_74.substring(0,idx);}var _80=_7d.nodeValue;if(this.wframeComponent&&this.wframeComponent.options.scope){_80="WebSquare.scope_obj="+this.wframeComponent.id+";\nwith("+this.wframeComponent.id+".scope){\n"+_80+"\n};\nWebSquare.scope_obj=null;\n";}_78.handler="function"+_7e+"{[\""+id+_74.toLowerCase()+"\"]; function "+_72+"_"+_7c++ +"() {}; "+_80+"}";_70.push(new WebSquare.Events.XmlEvent(_74.toLowerCase(),"script",_78));break;}}}}if(_70.length==0){return null;}else{return _70;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Parser.WebSquareParser.prototype.parseEventAttributes=function(_81){var _82={};var _83=_81.attributes;for(var j=0;j<_83.length;j++){if(WebSquare.xml.matchNode(_83[j],"event",WebSquare.core._XML_NAMESPACE.EVENTS)){var _85=_83[j].nodeValue;var idx=_85.indexOf("(");if(idx>-1){parameter=_85.substring(idx);_85=_85.substring(0,idx);}_82.eventName=_85.toLowerCase();}else{var idx=_83[j].nodeName.indexOf(":");if(idx>-1){_82[_83[j].nodeName.substring(idx+1)]=_83[j].nodeValue;}else{_82[_83[j].nodeName]=_83[j].nodeValue;}}}for(var _87=_81.firstChild;_87!=null;_87=_87.nextSibling){if(_87.nodeType==4||_87.nodeType==3){_82._text=_87.nodeValue;break;}}return _82;};WebSquare.Parser.WebSquareParser.prototype.getAttribute=function(_88,key,_8a){var _8b=_88.getAttribute(key);if(_8b==null||_8b==""){if(typeof _8a!="undefined"){return _8a;}else{return "";}}return _8b;};WebSquare.Parser.WebSquareParser.prototype.parseAttributesNode=function(_8c){var _8d=null;var _8e=[];for(var i=0;i<_8c.childNodes.length;i++){if(_8c.childNodes[i].nodeName=="w2:attributes"){_8d=_8c.childNodes[i];break;}}if(_8d){var _90=_8d.childNodes;for(var i=0;i<_90.length;i++){if(_90[i].nodeType==1){var _91=WebSquare.xml.getLocalName(_90[i]);var obj={name:_91,ref:_90[i].getAttribute("ref"),value:WebSquare.xml.getTextNodeValue(_90[i])};_8e.push(obj);_8e[_91]=obj;}}}return _8e;};WebSquare.Parser.WebSquareParser.prototype.attributesItem=function(obj){this.name=obj.name;this.ref=obj.ref;this.value=obj.value;};WebSquare.Parser.WebSquareParser.prototype.attributesItem.prototype.setValue=function(_94){this.value=_94;};WebSquare.Parser.WebSquareParser.prototype.attributesItem.prototype.getValue=function(){return this.value;};WebSquare.Model=function(_1,_2,_3,_4){["WebSquare.Model"];try{WebSquare.WebSquareObject.call(this,_1,true);this.instances=_2;this.binds=_3;this.submissions=_4;this.id=_1.getAttribute("id");this.element=_1;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Model.inherit(WebSquare.WebSquareObject);WebSquare.Model.prototype.rebuild=function(_5,_6){["WebSquare.Model.rebuild"];try{var _7=WebSquare.ModelUtil.getInstanceByXPath(_6);if(WebSquare.xml.hasChildElement(_7.xmlNode)){if(typeof _5=="string"){var _8=WebSquare.xml.getFirstChildElement(_7.xmlNode);_6=WebSquare.ModelUtil.filterInstanceFunction(_6);if(_6==""){_6=".";}var _9=WebSquare.xml.createNode(_8,_6);var _a=_9.ownerDocument.createTextNode(_5);WebSquare.xml.appendChild(_9,_a);WebSquare.WebSquaredoc.unrender(_6,null,_7.id);}else{var _b=_5.documentElement.nodeName;var _8=WebSquare.xml.getFirstChildElement(_7.xmlNode);_6=WebSquare.ModelUtil.filterInstanceFunction(_6);if(_6==""){_6=".";}else{_b=_6+"/"+_b;}var _9=WebSquare.xml.createNode(_8,_6);for(var _c=_9.firstChild;_c!=null;_c=_c.nextSibling){if(_c.nodeName==_5.documentElement.nodeName){_9.removeChild(_c);break;}}WebSquare.xml.appendChild(_9,_5.documentElement);WebSquare.WebSquaredoc.unrender(_b,null,_7.id);}}else{alert(WebSquare.language.getMessage("E_Model_NoChildNodeOfInstance"));}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Model.prototype.refresh=function(_d){["WebSquare.Model.refresh"];try{for(var i=0;i<WebSquare.WebSquaredoc.boundElement.length;i++){var _f=WebSquare.WebSquaredoc.boundElement[i];var _10=_f.id;var _11=eval(_10);if(typeof _11=="undefined"){continue;}if(typeof _11.hasbeenrendered!="undefined"&&_11.hasbeenrendered!=null&&_11.hasbeenrendered==false){_11.hasbeenrendered=true;_11.refresh();}}for(var k in WebSquare.WebSquaredoc.itemsetElement){var _13=WebSquare.WebSquaredoc.itemsetElement[k];var _14=_13.id;var _15=eval(_14);if(typeof _15=="undefined"){continue;}if(typeof _15.itemsetrendered!="undefined"&&_15.itemsetrendered!=null&&_15.itemsetrendered==false){_15.itemsetrendered=true;_15.refreshItemset(_d);}}for(var j in WebSquare.WebSquaredoc.refElement){var _17=WebSquare.WebSquaredoc.refElement[j];var _18=_17.id;var ref=eval(_18);if(typeof ref=="undefined"){continue;}if(typeof ref.hasbeenrendered!="undefined"&&ref.hasbeenrendered!=null&&ref.hasbeenrendered==false){ref.hasbeenrendered=true;ref.refresh();}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Model.Instance=function(_1a,_1b,_1c){["WebSquare.Model.Instance"];try{WebSquare.WebSquareObject.call(this,_1a,true);this.document=_1b;this.source=_1c;this.id=_1a.getAttribute("id");}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Model.Instance.inherit(WebSquare.WebSquareObject);WebSquare.Model.Bind=function(_1d,_1e,_1f,_20,id){["WebSquare.Model.Bind"];try{WebSquare.WebSquareObject.call(this,_1d,_20!=null);this.type=_1e;this.xpath=_1f;this.properties=(_20!=null)?_20:{};this.id=id;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Model.Bind.inherit(WebSquare.WebSquareObject);WebSquare.Model.Submission=function(_22,_23,id,_25,_26,_27,_28,_29,_2a,ref,_2c,_2d,_2e,_2f,_30,_31,_32,_33,_34){["WebSquare.Model.Submission"];try{WebSquare.WebSquareObject.call(this,_23,true);this.parentElement=_22;this.id=id;this.bind=_28;this.action=_26;this.mode=_27;this.method=_25;this.mediatype=_29;this.encoding=_2a;this.ref=ref;this.target=_2c;this.replace=_2d;this.instance=_2e;this.customHandler=_2f;this.errorHandler=_30;this.processMsg=_32;this.soapaction=_31;this.startTime=null;this.endTime=null;this.processStatus=0;this.linkedObj=[];WebSquare.event.addUserEvents(this,_33);this.timeout=_34;this.setRequestData=function(_35){this.requestData=_35;};}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Model.Submission.inherit(WebSquare.WebSquareObject);WebSquare.Actions={};WebSquare.Actions.WebSquareAction=function(_1){["WebSquare.Actions.WebSquareAction"];try{if(arguments.length==0){return;}WebSquare.WebSquareObject.call(this,_1,true);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Actions.WebSquareAction.inherit(WebSquare.WebSquareObject);WebSquare.Actions.WebSquareAction.prototype.execute=function(){["WebSquare.Actions.WebSquareAction.execute"];};WebSquare.Actions.WebSquareAction.prototype.activate=function(){["WebSquare.Actions.WebSquareAction.activate"];};WebSquare.Actions.WebSquareSendAction=function(_2,_3){["WebSquare.Actions.WebSquareSendAction"];try{WebSquare.Actions.WebSquareAction.call(this,_2);this.submission=_3;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Actions.WebSquareSendAction.inherit(WebSquare.Actions.WebSquareAction);WebSquare.Actions.WebSquareSendAction.prototype.activate=function(){["WebSquare.Actions.WebSquareSendAction.activate"];WebSquare.ModelUtil.executeSubmission(this.submission);};WebSquare.Actions.WebSquareSendAction.prototype.toString=function(){["WebSquare.Actions.WebSquareSendAction.activate"];return "send";};WebSquare.Actions.WebSquarePopupAction=function(_4){["WebSquare.Actions.WebSquarePopupAction"];try{this.popupName=WebSquare.util.getObjectValue(_4,"popupName","WebSquarePopup");this.useIFrame=WebSquare.util.getObjectValue(_4,"useIFrame","false");this.style=WebSquare.util.getObjectValue(_4,"style","");this.modal=WebSquare.util.getObjectValue(_4,"modal","true");this.src=WebSquare.util.getObjectValue(_4,"src","");this.srcModelID=WebSquare.util.getObjectValue(_4,"srcModelID","");this.destModelID=WebSquare.util.getObjectValue(_4,"destModelID","");this.srcData=WebSquare.util.getObjectValue(_4,"srcData","");this.destData=WebSquare.util.getObjectValue(_4,"destData","");this.url=WebSquare.util.getObjectValue(_4,"url","");this.id=WebSquare.util.getObjectValue(_4,"id","WebSquarePopup");this.type=WebSquare.util.getObjectValue(_4,"type","window");if(this.style==""){if(this.useIFrame=="true"){this.style="top:100px; left:100px; width:420px; height:200px";}else{this.style="top:100px; left:100px; width:420px; height:200px;scrollbars:yes; resizable:yes; location:no; menubar:no; status:no; titlebar:yes; toolbar:no";}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Actions.WebSquarePopupAction.inherit(WebSquare.Actions.WebSquareAction);WebSquare.Actions.WebSquarePopupAction.prototype.activate=function(){["WebSquare.Actions.WebSquarePopupAction.activate"];try{requires("uiplugin.popup");var _5=new WebSquare.uiplugin.popup(this.id,this.type,this);_5.show();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Actions.WebSquareUploadAction=function(_6){["WebSquare.Actions.WebSquareUploadAction"];try{this.bind=WebSquare.util.getObjectValue(_6,"bind",null);if(typeof this.bind=="undefined"||this.bind==null||this.bind==""){this.xpath=WebSquare.util.getObjectValue(_6,"xpath",undefined);}else{var _7=WebSquare.ModelUtil.getBind(this.bind);if(typeof _7!="undefined"&&_7!=null){this.xpath=WebSquare.util.getObjectValue(_7,"xpath",undefined);}}this.modelID=WebSquare.util.getObjectValue(_6,"modelID",null);this.fileNumber=WebSquare.util.getObjectValue(_6,"fileNumber",1);this.mode=WebSquare.util.getObjectValue(_6,"mode",1);this.title=WebSquare.util.getObjectValue(_6,"title","");this.message=WebSquare.util.getObjectValue(_6,"message","");this.url=WebSquare.util.getObjectValue(_6,"url",undefined);this.popupType=WebSquare.util.getObjectValue(_6,"popupType","true");this.popupName=WebSquare.util.getObjectValue(_6,"popupName","Upload");this.modal=WebSquare.util.getObjectValue(_6,"modal","true");this.style=WebSquare.util.getObjectValue(_6,"style","");if(this.style==""){if(this.popupType=="true"){this.style="top:100px; left:100px; width:420px; height:200px";}else{this.style="top:100px; left:100px; width:420px; height:200px;scrollbars:yes; resizable:yes; location:no; menubar:no; status:no; titlebar:yes; toolbar:no";}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Actions.WebSquareUploadAction.inherit(WebSquare.Actions.WebSquareAction);WebSquare.Actions.WebSquareUploadAction.prototype.activate=function(){["WebSquare.Actions.WebSquareUploadAction.activate"];requires("uiplugin.popup");var _8={};if(typeof this.url!="undefined"&&this.url!=null&&this.url.wq_trim()!=""){_8.src=this.url;}else{_8.src=WebSquare.baseURI+"uiplugin/upload/upload.xml";}_8.useIFrame=this.popupType;_8.style=this.style;_8.popupName=this.popupName;_8.modal=this.modal;this.files=WebSquare.ModelUtil.getInstanceValue(this.xpath+"/fileList");this.fileKey=WebSquare.ModelUtil.getInstanceValue(this.xpath+"/key");var _9=WebSquare.util.objToXML(this);var _a=new WebSquare.uiplugin.popup("uploadPopup","window",_8,_9);_a.show();};WebSquare.Actions.WebSquareSetValueAction=function(_b,_c,_d,_e,id,_10){["WebSquare.Actions.WebSquareSetValueAction"];try{WebSquare.Actions.WebSquareAction.call(this,_b);this.bind=_c;if(_c==null){this.xpath=_d;}else{this.xpath=_c.xpath;}this.value=_e;this.id=id;this.modelID=_10;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Actions.WebSquareSetValueAction.inherit(WebSquare.Actions.WebSquareAction);WebSquare.Actions.WebSquareSetValueAction.prototype.activate=function(){["WebSquare.Actions.WebSquareSetValueAction.activate"];try{var v=WebSquare.ModelUtil.findInstanceNode(this.xpath,this.modelID);if(v==null){return false;}var obfuscator_targetNode=null;if(v.nodeType==1){for(var _12=v.firstChild;_12!=null;_12=_12.nextSibling){if(_12.nodeType==3){obfuscator_targetNode=_12;break;}}}else{obfuscator_targetNode=v;}if(obfuscator_targetNode==null){obfuscator_targetNode=v.ownerDocument.createTextNode(this.value);WebSquare.xml.appendChild(v,obfuscator_targetNode);}var _13=eval("obfuscator_targetNode");_13.nodeValue=this.value;WebSquare.WebSquaredoc.detectChange(this.xpath,this.id,this.modelID);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Actions.WebSquareSetValueAction.prototype.toString=function(){["WebSquare.Actions.WebSquareSetValueAction.toString"];try{return "setValue";}catch(e){WebSquare.exception.printStackTrace(e);}};(function(){WebSquare.ModelUtil={};WebSquare.ModelUtil.setBindElement=function(_1,id,_3){var _4=WebSquare.ModelUtil.getModelByID(_3);var _5=_4.instances[0].id;if(!_1.startsWith("instance(")&&_5!=null){_1=WebSquare.ModelUtil.concatInstanceFunction(_1,_5);}else{if(_1.indexOf("\"")>-1){_1=_1.replace("\"","'");}}if(typeof WebSquare.WebSquaredoc.boundElementCache[_1]=="undefined"||WebSquare.WebSquaredoc.boundElementCache[_1]==null){WebSquare.WebSquaredoc.boundElementCache[_1]={};}WebSquare.WebSquaredoc.boundElementCache[_1][id]=id;};WebSquare.ModelUtil.setItemsetElement=function(_6,id,_8){var _9=WebSquare.ModelUtil.getModelByID(_8);var _a=_9.instances[0].id;if(!_6.startsWith("instance(")&&_a!=null){_6=WebSquare.ModelUtil.concatInstanceFunction(_6,_a);}else{if(_6.indexOf("\"")>-1){_6=_6.replace("\"","'");}}if(typeof WebSquare.WebSquaredoc.boundElementCache[_6]=="undefined"||WebSquare.WebSquaredoc.boundElementCache[_6]==null){WebSquare.WebSquaredoc.boundElementCache[_6]={};}WebSquare.WebSquaredoc.boundElementCache[_6][id]=id;};WebSquare.ModelUtil.getBind=function(_b,_c){["WebSquare.ModelUtil.getBind"];try{var _d=WebSquare.ModelUtil.getModelByID(_c);for(var i in _d.binds){var _f=WebSquare.WebSquaredoc.models[0].binds[i];if(_f.id==_b){return _f;}}return null;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.ModelUtil.filterInstanceFunction=function(_10){if(_10.startsWith("instance(")){_10=_10.substring(_10.indexOf(")")+2,_10.length);}return _10;};WebSquare.ModelUtil.concatInstanceFunction=function(_11,_12){var str=_11;if(!_11.startsWith("instance(")){str="instance('"+_12+"')"+"/"+_11;}return str;};WebSquare.ModelUtil.findInstanceNode=function(_14,_15){["WebSquare.ModelUtil.findInstanceNode"];try{var _16=WebSquare.ModelUtil.getInstanceByXPath(_14,_15);_14=WebSquare.ModelUtil.filterInstanceFunction(_14);var v=WebSquare.xml.findNode(_16.document,_14);return v;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.ModelUtil.findSerializedNode=function(_18,_19){["WebSquare.ModelUtil.findInstanceNode"];try{return WebSquare.xml.serialize(WebSquare.ModelUtil.findInstanceNode(_18,_19));}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.ModelUtil.findInstanceNodes=function(_1a,_1b){["WebSquare.ModelUtil.findInstanceNode"];try{var _1c=WebSquare.ModelUtil.getInstanceByXPath(_1a,_1b);_1a=WebSquare.ModelUtil.filterInstanceFunction(_1a);var v=WebSquare.xml.findNodes(_1c.document,_1a);return v;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.ModelUtil.getInstanceValue=function(_1e,_1f){["WebSquare.ModelUtil.getInstanceValue"];try{var str="";var v=WebSquare.ModelUtil.findInstanceNode(_1e,_1f);if(v==null){return "";}if(v.nodeType==1){for(var _22=v.firstChild;_22!=null;_22=_22.nextSibling){if(_22.nodeType==3||_22.nodeType==4){str+=_22.nodeValue;}}}else{return v.nodeValue;}return str;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.ModelUtil.setInstanceValue=function(_23,_24,_25){["WebSquare.ModelUtil.setInstanceValue"];try{var _26=WebSquare.ModelUtil.getInstanceByXPath(_23,_25);_24=(typeof _24=="undefined"||_24==null)?"":_24+"";if(_23.lastIndexOf("/@")!=-1&&_23.lastIndexOf("/")==_23.lastIndexOf("/@")){var _27=_23.lastIndexOf("/@");var _28=_23.substring(_27+2);var _29=_23.substring(0,_27);var obfuscator_v=WebSquare.ModelUtil.findInstanceNode(_29,_25);if(obfuscator_v==null){var _2a=WebSquare.xml.createNode(_26.document,_29);if(_2a==null){return false;}_2a.setAttribute(_28,_24);}else{obfuscator_v.setAttribute(_28,_24);}WebSquare.WebSquaredoc.detectChange(_23,undefined,_25);}else{var _2a=WebSquare.ModelUtil.findInstanceNode(_23,_25);if(_2a==null){var _2a=WebSquare.xml.createNode(_26.document,_23);if(_2a==null){return false;}}if(_2a.firstChild==null){var _2b=_2a.ownerDocument.createTextNode(_24);WebSquare.xml.appendChild(_2a,_2b);}else{_2a.firstChild.nodeValue=_24;}WebSquare.WebSquaredoc.detectChange(_23,undefined,_25);}}catch(e){$l("ERROR["+_23+"] ["+_24+"] at WebSquare.ModelUtil.setInstanceValue ");WebSquare.exception.printStackTrace(e);return false;}return true;};WebSquare.ModelUtil.getModelByID=function(_2c){if(typeof _2c!="undefined"&&_2c!=null&&_2c!=""){for(var k=0;k<WebSquare.WebSquaredoc.models.length;k++){if(WebSquare.WebSquaredoc.models[k].id==_2c){return WebSquare.WebSquaredoc.models[k];}}}else{return WebSquare.WebSquaredoc.models[0];}return null;};WebSquare.ModelUtil.getInstanceByXPath=function(_2e,_2f){var _30=WebSquare.ModelUtil.getModelByID(_2f);var _2e=_2e.wq_trim();if(_2e.startsWith("instance(")){var a=_2e.indexOf("(");var b=_2e.indexOf(")");var _33=eval(_2e.substring(a+1,b));for(var i in _30.instances){var _35=_30.instances[i];if(_35.id==_33){return _35;}}return _30.instances[0];}else{return _30.instances[0];}};WebSquare.ModelUtil.getInstanceByID=function(id,_37){var _38=WebSquare.ModelUtil.getModelByID(_37);try{for(var i in _38.instances){var _3a=_38.instances[i];if(_3a.id==id){return _3a;}}}catch(e){WebSquare.exception.printStackTrace(e);}return _38.instances[0];};WebSquare.ModelUtil.getSubmission=function(id,_3c){["WebSquare.ModelUtil.getSubmission"];try{var _3d=WebSquare.ModelUtil.getModelByID(_3c);for(var i in _3d.submissions){var _3f=_3d.submissions[i];if(_3f.id==id){if(WebSquare.scope_obj&&WebSquare.scope_obj!=_3f.scope_obj){continue;}return _3f;}}return null;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.ModelUtil.executeSubmission=function(_40,_41,obj){["WebSquare.ModelUtil.executeSubmission"];WebSquare.logger.printLog("WebSquare.ModelUtil.executeSubmission : "+_40);if(_40==null||_40==""){return;}try{var obfuscator_submissionObj=null;if(typeof _40=="string"){obfuscator_submissionObj=WebSquare.ModelUtil.getSubmission(_40);if(obfuscator_submissionObj==null){alert(WebSquare.language.getMessage("E_ModelUtil_NoSubmissionObjectWithID",_40));return null;}}else{obfuscator_submissionObj=_40;if(obfuscator_submissionObj==null){alert(WebSquare.language.getMessage("E_ModelUtil_NoSubmissionObject",_40));return null;}}WebSquare.ModelUtil.setSubmissionStart(obfuscator_submissionObj,obj);if(typeof _41!="undefined"){obfuscator_submissionObj.setRequestData(_41);}var _43=WebSquare.core.getConfiguration("/WebSquare/submission/customHandler/@value")||"";if(typeof obfuscator_submissionObj.customHandler!="undefined"){_43=obfuscator_submissionObj.customHandler;}if(_43==""||_43=="default"){WebSquare.ModelUtil.defaultSubmissionHandler(obfuscator_submissionObj);}else{if(_43.toLowerCase()=="proworks_soap"){WebSquare.ModelUtil.proworksSOAPHandler(obfuscator_submissionObj);}else{if(_43){if(typeof _43=="function"){_43(obfuscator_submissionObj);}else{eval(_43+"( obfuscator_submissionObj )");}}else{WebSquare.ModelUtil.defaultSubmissionHandler(obfuscator_submissionObj);}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.ModelUtil.proworksSOAPHandler=function(_44){["WebSquare.ModelUtil.proworksSOAPHandler"];try{var _45=_44.id;var _46={"id":_45};if(_44.processMsg!=""){WebSquare.layer.addSubmissionMessage(_45,_44.processMsg);}var ret=WebSquare.event.fireEvent(_44,"xforms-submit",_46);if(typeof ret!="undefined"&&ret==false){WebSquare.logger.printLog("xforms-submit event\uc5d0\uc11c return\uc774 false\uc774\ubbc0\ub85c \ucc98\ub9ac\ub97c \uc911\ub2e8. : "+_45);WebSquare.ModelUtil.setSubmissionEnd(_44,"submission complete",null);WebSquare.layer.deleteSubmissionMessage(_45);return;}WebSquare.ModelUtil.doSubmitPreFunc(_44);var obfuscator_http=WebSquare.core.getXMLHTTPObject();var url=WebSquare.util.getSubmissionURL(_44.action);var _49=(_44.mode=="synchronous")?false:true;var ref=_44.ref;var _4b=_44.bind;var _4c=_44.target;var _4d=_44.replace;var _4e=_44.instance;var _4f=_44.encoding;var _50=_44.mediatype;var _51=_44.method;var _52=_44.action;var _53=_44.errorHandler;var _54=_44.requestData;var _55=_44.soapaction;var _56=_44.timeout;var _57=null;if(_4e!=""){var _58=_44.parentElement.getAttribute("id");if(_58==null||_58==""){_57=WebSquare.ModelUtil.getInstanceByID(_4e).document;}else{_57=WebSquare.ModelUtil.getInstanceByID(_4e,_58).document;}}else{_57=WebSquare.xml.getElementsByTagName(_44.parentElement,"data")[0];}var e=null;if(typeof _54!="undefined"&&_54!=null){e=_54;}else{if(ref==""){e=_57;}else{e=WebSquare.xml.createNode(_57,ref);}}var _5a=WebSquare.xml.serialize(e);var xml="<soapenv:Envelope soapenv:encodingStyle=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns=\"\" xmlns:apachsoap=\"http://xml.apache.org/xml-soap\" xmlns:soap=\"http://schemas.xmlsoap.org/wsdl/soap/\" xmlns:soapenc=\"http://schemas.xmlsoap.org/soap/encoding/\" xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:wsdl=\"http://schemas.xmlsoap.org/wsdl/\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"><soapenv:Header/><soapenv:Body><perform><in0>"+WebSquare.xml.encode(_5a)+"</in0></perform></soapenv:Body></soapenv:Envelope>";if(_51=="get"||_51=="urlencoded-post"){url+="?"+xml;xml="";}obfuscator_http.open(_51,url,_49);obfuscator_http.setRequestHeader("soapaction","\""+_55+"\"");obfuscator_http.setRequestHeader("Content-Type",_50+"; charset=\""+_4f+"\"");obfuscator_http.setRequestHeader("Accept",_50);obfuscator_http.setRequestHeader("submissionid",_45);var _5c;if(_49){if(_56){_5c=window.setTimeout(function(){obfuscator_http.onreadystatechange=function(){};obfuscator_http.abort();var _5d={"id":_45,"errorType":"timeout-error","resourceUri":url,"time":_56};WebSquare.ModelUtil.setSubmissionEnd(_44,"submission error",_5d);WebSquare.layer.deleteSubmissionMessage(_45);WebSquare.event.fireEvent(_44,"xforms-submit-timeout",_5d);window.clearTimeout(_5c);return;},_56);}obfuscator_http.onreadystatechange=function(){WebSquare.ModelUtil.soapcallback(obfuscator_http,_44,_5c);};}obfuscator_http.send(WebSquare.requestID+xml);if(!_49){if((obfuscator_http["status"])&&((200>obfuscator_http.status)||(300<=obfuscator_http.status))){var _5e={"id":_45,"errorType":"resource-error","resourceUri":url,"responseHeaders":WebSquare.ModelUtil.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":WebSquare.xml.parse(_5a),"responseBody":obfuscator_http.responseText};WebSquare.ModelUtil.setSubmissionEnd(_44,"submission error",_5e);WebSquare.layer.deleteSubmissionMessage(_45);WebSquare.event.fireEvent(_44,"xforms-submit-error",_5e);if(WebSquare.logger.globalDebug1||(typeof WebSquare.logger.getGlobalDebug=="function"&&WebSquare.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_49+"\nref          : "+ref+"\nbind         : "+_4b+"\ntarget       : "+_4c+"\nreplace      : "+_4d+"\ninstance     : "+_4e+"\nencoding     : "+_4f+"\nmediatype    : "+_50+"\nmethod       : "+_51+"\naction       : "+_52+"\nerrorHandler : "+_53+"\nsoapaction   : "+_55+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+WebSquare.ModelUtil.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");WebSquare.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Sync Mode)");}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;return;}var obfuscator_xmlDocument=WebSquare.ModelUtil.getSoapReturn(WebSquare.xml.parse(obfuscator_http.responseText));if(_53!=""&&eval(_53+"( obfuscator_xmlDocument )")){var _5e={"id":_45,"errorType":"target-error","resourceUri":url,"responseHeaders":WebSquare.ModelUtil.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":WebSquare.xml.parse(_5a),"responseBody":obfuscator_xmlDocument};WebSquare.ModelUtil.setSubmissionEnd(_44,"submission error",_5e);WebSquare.layer.deleteSubmissionMessage(_45);WebSquare.event.fireEvent(_44,"xforms-submit-error",_5e);if(WebSquare.logger.globalDebug1||(typeof WebSquare.logger.getGlobalDebug=="function"&&WebSquare.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_49+"\nref          : "+ref+"\nbind         : "+_4b+"\ntarget       : "+_4c+"\nreplace      : "+_4d+"\ninstance     : "+_4e+"\nencoding     : "+_4f+"\nmediatype    : "+_50+"\nmethod       : "+_51+"\naction       : "+_52+"\nerrorHandler : "+_53+"\nsoapaction   : "+_55+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+WebSquare.ModelUtil.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");WebSquare.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Sync Mode)");}}else{if(_4d=="instance"){WebSquare.WebSquaredoc.models[0].rebuild(WebSquare.xml.parse(WebSquare.xml.serialize(obfuscator_xmlDocument)),_4c);WebSquare.WebSquaredoc.models[0].refresh();}else{if(_4d=="text"){WebSquare.WebSquaredoc.models[0].rebuild(WebSquare.xml.serialize(obfuscator_xmlDocument),_4c);WebSquare.WebSquaredoc.models[0].refresh();}else{if(_4d=="none"){}else{while(document.body.hasChildNodes()){WebSquare.discardElement(document.body.firstChild);}WebSquare.WebSquaredoc=null;WebSquare.WebSquaredoc=new WebSquare.WebSquareDocument(obfuscator_xmlDocument);WebSquare.WebSquaredoc.parsing();}}}var _61={"id":_45,"resourceUri":url,"responseHeaders":WebSquare.ModelUtil.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":WebSquare.xml.parse(_5a),"responseBody":obfuscator_xmlDocument};WebSquare.ModelUtil.setSubmissionEnd(_44,"submission done",_61);WebSquare.layer.deleteSubmissionMessage(_45);WebSquare.event.fireEvent(_44,"xforms-submit-done",_61);if(WebSquare.logger.globalDebug1||(typeof WebSquare.logger.getGlobalDebug=="function"&&WebSquare.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_49+"\nref          : "+ref+"\nbind         : "+_4b+"\ntarget       : "+_4c+"\nreplace      : "+_4d+"\ninstance     : "+_4e+"\nencoding     : "+_4f+"\nmediatype    : "+_50+"\nmethod       : "+_51+"\naction       : "+_52+"\nerrorHandler : "+_53+"\nsoapaction   : "+_55+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+WebSquare.ModelUtil.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");WebSquare.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Sync Mode)");}}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;}}catch(e){WebSquare.layer.hideProcessMessage();}};WebSquare.ModelUtil.defaultcallback=function(obfuscator_http,_62,_63,_64){try{if(obfuscator_http.readyState==4){if(_63){window.clearTimeout(_63);window.clearInterval(_63);_63=null;}commonResponseHandler(_62,obfuscator_http,"async mode",_64);setTimeout(function(){WebSquare.ModelUtil.deleteMessage(_62.id);},50);}}catch(e){WebSquare.exception.printStackTrace(e);WebSquare.layer.hideProcessMessage();}};WebSquare.ModelUtil.soapcallback=function(obfuscator_http,_65,_66){try{var _67=_65.id;var _68={"id":_67};var url=WebSquare.util.getSubmissionURL(_65.action);var _6a=(_65.mode=="synchronous")?false:true;var ref=_65.ref;var _6c=_65.bind;var _6d=_65.target;var _6e=_65.replace;var _6f=_65.instance;var _70=_65.encoding;var _71=_65.mediatype;var _72=_65.method;var _73=_65.action;var _74=_65.errorHandler;var _75=_65.requestData;var _76=_65.soapaction;var _77=_65.timeout;var _78=null;if(_6f!=""){var _79=_65.parentElement.getAttribute("id");if(_79==null||_79==""){_78=WebSquare.ModelUtil.getInstanceByID(_6f).document;}else{_78=WebSquare.ModelUtil.getInstanceByID(_6f,_79).document;}}else{_78=WebSquare.xml.getElementsByTagName(_65.parentElement,"data")[0];}var e=null;if(typeof _75!="undefined"&&_75!=null){e=_75;}else{if(ref==""){e=_78;}else{e=WebSquare.xml.createNode(_78,ref);}}var xml=WebSquare.xml.serialize(e);if(obfuscator_http.readyState==4){if(_66){window.clearTimeout(_66);_66=null;}if((obfuscator_http)&&((200>obfuscator_http.status)||(300<=obfuscator_http.status))){var _7c={"id":_67,"errorType":"resource-error","resourceUri":url,"responseHeaders":WebSquare.ModelUtil.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":WebSquare.xml.parse(tmpxml),"responseBody":obfuscator_http.responseText};WebSquare.ModelUtil.setSubmissionEnd(_65,"submission error",_7c);WebSquare.layer.deleteSubmissionMessage(_67);WebSquare.event.fireEvent(_65,"xforms-submit-error",_7c);if(WebSquare.logger.globalDebug1||(typeof WebSquare.logger.getGlobalDebug=="function"&&WebSquare.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_6a+"\nref          : "+ref+"\nbind         : "+_6c+"\ntarget       : "+_6d+"\nreplace      : "+_6e+"\ninstance     : "+_6f+"\nencoding     : "+_70+"\nmediatype    : "+_71+"\nmethod       : "+_72+"\naction       : "+_73+"\nerrorHandler : "+_74+"\nsoapaction   : "+_76+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+WebSquare.ModelUtil.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");WebSquare.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Async Mode)");}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;return;}var obfuscator_xmlDocument=WebSquare.ModelUtil.getSoapReturn(WebSquare.xml.parse(obfuscator_http.responseText));if(_74!=""&&eval(_74+"( obfuscator_xmlDocument )")){var _7c={"id":_67,"errorType":"target-error","resourceUri":url,"responseHeaders":WebSquare.ModelUtil.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":WebSquare.xml.parse(tmpxml),"responseBody":obfuscator_xmlDocument};WebSquare.ModelUtil.setSubmissionEnd(_65,"submission error",_7c);WebSquare.layer.deleteSubmissionMessage(_67);WebSquare.event.fireEvent(_65,"xforms-submit-error",_7c);if(WebSquare.logger.globalDebug1||(typeof WebSquare.logger.getGlobalDebug=="function"&&WebSquare.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_6a+"\nref          : "+ref+"\nbind         : "+_6c+"\ntarget       : "+_6d+"\nreplace      : "+_6e+"\ninstance     : "+_6f+"\nencoding     : "+_70+"\nmediatype    : "+_71+"\nmethod       : "+_72+"\naction       : "+_73+"\nerrorHandler : "+_74+"\nsoapaction   : "+_76+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+WebSquare.ModelUtil.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");WebSquare.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Async Mode)");}}else{if(_6e=="instance"){WebSquare.WebSquaredoc.models[0].rebuild(WebSquare.xml.parse(WebSquare.xml.serialize(obfuscator_xmlDocument)),_6d);WebSquare.WebSquaredoc.models[0].refresh();}else{if(_6e=="text"){WebSquare.WebSquaredoc.models[0].rebuild(WebSquare.xml.serialize(obfuscator_xmlDocument),_6d);WebSquare.WebSquaredoc.models[0].refresh();}else{if(_6e=="none"){}else{while(document.body.hasChildNodes()){WebSquare.discardElement(document.body.firstChild);}WebSquare.WebSquaredoc=null;WebSquare.WebSquaredoc=new WebSquare.WebSquareDocument(obfuscator_xmlDocument);WebSquare.WebSquaredoc.parsing();}}}var _7f={"id":_67,"resourceUri":url,"responseHeaders":WebSquare.ModelUtil.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":WebSquare.xml.parse(tmpxml),"responseBody":obfuscator_xmlDocument};WebSquare.ModelUtil.setSubmissionEnd(_65,"submission error",_7f);WebSquare.layer.deleteSubmissionMessage(_67);WebSquare.event.fireEvent(_65,"xforms-submit-done",_7f);if(WebSquare.logger.globalDebug1||(typeof WebSquare.logger.getGlobalDebug=="function"&&WebSquare.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_6a+"\nref          : "+ref+"\nbind         : "+_6c+"\ntarget       : "+_6d+"\nreplace      : "+_6e+"\ninstance     : "+_6f+"\nencoding     : "+_70+"\nmediatype    : "+_71+"\nmethod       : "+_72+"\naction       : "+_73+"\nerrorHandler : "+_74+"\nsoapaction   : "+_76+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+WebSquare.ModelUtil.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=xml.replace(re,">\n<");WebSquare.logger.showDebugMsg(obj,"xml","ProWorks SOAP Submission (Async Mode)");}}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;}}catch(e){WebSquare.exception.printStackTrace(e);WebSquare.layer.hideProcessMessage();}};WebSquare.ModelUtil.getSoapReturn=function(_80){var _81=_80.documentElement;var _82=_81.childNodes;for(var i=0;i<_82.length;i++){var _84=_82.item(i);if(WebSquare.xml.getLocalName(_84)=="Body"){var _85=_84.childNodes;for(var j=0;j<_85.length;j++){var _87=_85.item(j);if(WebSquare.xml.getLocalName(_87)=="performResponse"){var _88=_87.childNodes;for(var k=0;k<_88.length;k++){var _8a=_88.item(k);if(WebSquare.xml.getLocalName(_8a)=="performReturn"){var _8b=_8a.childNodes;for(var l=0;l<_8b.length;l++){var _8d=_8b.item(l);if(_8d.nodeType==3){return WebSquare.xml.parse(_8d.nodeValue);}}}}}}}}return null;};WebSquare.ModelUtil.setSubmissionEnd=function(_8e,_8f,_90){_8e.endTime=new Date();_8e.processStatus=0;for(var i=0;i<_8e.linkedObj.length;i++){if(_8e.linkedObj[i].setDisabled){_8e.linkedObj[i].setDisabled(false);}}_8e.linkedObj=[];var _92=WebSquare.core.getConfiguration("/WebSquare/submission/showSubmissionTime/@value");if(_92=="true"){var _93=_8e.startTime.getHours()+":"+_8e.startTime.getMinutes()+":"+_8e.startTime.getSeconds()+":"+_8e.startTime.getMilliseconds();var _94=_8e.endTime.getHours()+":"+_8e.endTime.getMinutes()+":"+_8e.endTime.getSeconds()+":"+_8e.endTime.getMilliseconds();var _95="submission id["+_8e.id+"] start["+_93+"] end["+_94+"] duration["+(_8e.endTime-_8e.startTime)+"ms]";WebSquare.logger.printLog(_95);WebSquare.ax_logger(_95);}if(_90!=null){var _96=WebSquare.core.getConfiguration("/WebSquare/submission/callbackSubmitFunction/@value");try{var obfuscator_eventObj=_90;var _97=eval(_96);if(typeof _97=="function"){try{_97.call(this,_90,_8e);}catch(e){WebSquare.exception.printStackTrace(e);}}}catch(e){}}};WebSquare.ModelUtil.setSubmissionStart=function(_98,obj){_98.startTime=new Date();_98.processStatus=1;if(obj!=null&&obj.setDisabled){_98.linkedObj.push(obj);obj.setDisabled(true);}};WebSquare.ModelUtil.doSubmitPreFunc=function(_9a){var _9b=WebSquare.core.getConfiguration("/WebSquare/submission/preSubmitFunction/@value");if(_9b!=null&&_9b!=""){try{var obfuscator_eventObj=_9a;eval(_9b+"( obfuscator_eventObj );");}catch(e){}}};WebSquare.ModelUtil.defaultSubmissionHandler=function(_9c){["WebSquare.ModelUtil.defaultSubmissionHandler"];try{var _9d=_9c.id;var _9e={"id":_9d};if(_9c.processMsg!=""){WebSquare.layer.addSubmissionMessage(_9d,_9c.processMsg);}var ret=WebSquare.event.fireEvent(_9c,"xforms-submit",_9e);if(typeof ret!="undefined"&&ret==false){WebSquare.logger.printLog("xforms-submit event\uc5d0\uc11c return\uc774 false\uc774\ubbc0\ub85c \ucc98\ub9ac\ub97c \uc911\ub2e8. : "+_9d);WebSquare.ModelUtil.setSubmissionEnd(_9c,"submission done",null);WebSquare.layer.deleteSubmissionMessage(_9d);return;}WebSquare.ModelUtil.doSubmitPreFunc(_9c);var url=WebSquare.util.getSubmissionURL(_9c.action);var _a1=(_9c.mode=="synchronous")?false:true;var _a2=_9c.bind;var _a3=_9c.target;var _a4=_9c.replace;var _a5=_9c.encoding||"utf-8";var _a6=_9c.mediatype||"application/xml";var _a7=_9c.method;var _a8=_9c.action;var _a9=_9c.errorHandler;var _aa=_9c.requestData;var _ab=_9c.soapaction;var _ac=_9c.timeout;var _ad=getReqData(_9c);var _ae=false;if(typeof _ad!="undefined"){if(_ad.indexOf("http://schemas.xmlsoap.org/soap/envelope")>-1){_ae=true;}}if(_a4=="all"){if(WebSquare.requestID==""){WebSquare.requestID="instanceValue";}try{var _af=WebSquare.document.createElement("form");if(!WebSquare.util.isMobile()){_af.encoding="text/plain";}_af.action=url;_af.method=_a7;_af.style.display="inline";_af.acceptCharset="UTF-8";var _b0=WebSquare.document.createElement("input");_b0.type="hidden";_b0.name="targetInstance";if(WebSquare.core.uriEncoder){_b0.value=_a3;}else{_b0.value=encodeURIComponent(_a3);}_af.appendChild(_b0);var _b1=WebSquare.document.createElement("input");_b1.type="hidden";_b1.name="instanceValue";if(WebSquare.core.uriEncoder){_b1.value=_ad;}else{_b1.value=encodeURIComponent(_ad);}_af.appendChild(_b1);WebSquare.document.body.appendChild(_af);_af.submit();return;}catch(e){WebSquare.exception.printStackTrace(e);}}WebSquare.logger.printLog(url);var obfuscator_http=WebSquare.core.getXMLHTTPObject();obfuscator_http.open(_a7,url,_a1);if(_ae){obfuscator_http.setRequestHeader("soapaction","\""+_ab+"\"");}if(WebSquare.requestID!=""){var _b2=WebSquare.core.getConfiguration("/WebSquare/submission/requestID/@mediatype");if(_b2!=""){obfuscator_http.setRequestHeader("Content-Type",_b2+"; charset=\"UTF-8\"");obfuscator_http.setRequestHeader("Accept",_b2);}}else{obfuscator_http.setRequestHeader("Content-Type",_a6+"; charset=\""+_a5+"\"");obfuscator_http.setRequestHeader("Accept",_a6);}obfuscator_http.setRequestHeader("submissionid",_9d);var _b3;if(_a1){if(_ac){_b3=window.setTimeout(function(){obfuscator_http.onreadystatechange=function(){};obfuscator_http.abort();var _b4={"id":_9d,"errorType":"timeout-error","resourceUri":url,"time":_ac};WebSquare.ModelUtil.setSubmissionEnd(_9c,"submission error",_b4);WebSquare.layer.deleteSubmissionMessage(_9d);WebSquare.event.fireEvent(_9c,"xforms-submit-timeout",_b4);window.clearTimeout(_b3);return;},_ac);}obfuscator_http.onreadystatechange=function(){WebSquare.ModelUtil.defaultcallback(obfuscator_http,_9c,_b3,_ad);};}if(WebSquare.requestID!=""){if(WebSquare.core.getConfiguration("/WebSquare/submission/requestID/@encodeURI")=="true"){obfuscator_http.send(WebSquare.requestID+encodeURIComponent(_ad));}else{obfuscator_http.send(WebSquare.requestID+_ad);}}else{obfuscator_http.send(_ad);}if(!_a1){commonResponseHandler(_9c,obfuscator_http,"sync mode",_ad);}}catch(e){WebSquare.exception.printStackTrace(e);WebSquare.layer.hideProcessMessage();}};function getReqData(_b5){var _b6,ref=_b5.ref,instance=_b5.instance;var _b7=_b5.mediatype;var _b8=_b5.requestData;var _b9=null;if(instance!=""){var _ba=_b5.parentElement.getAttribute("id");if(_ba==null||_ba==""){_b9=WebSquare.ModelUtil.getInstanceByID(instance).document;}else{_b9=WebSquare.ModelUtil.getInstanceByID(instance,_ba).document;}}else{_b9=WebSquare.xml.getElementsByTagName(_b5.parentElement,"data")[0];}var e=null,instanceValue="",_b6="",doc;if(typeof _b8!="undefined"&&_b8!=null){if(_b7=="application/json"){if(typeof _b8=="string"){_b6=_b8;}else{_b6=JSON.stringify(_b8);}}else{_b6=WebSquare.xml.serialize(_b8);}}else{if(ref==""&&_b7!="application/json"){e=_b9;_b6=WebSquare.xml.serialize(e);}else{if(_b7=="application/json"){if(ref==""){_b6="";}else{if(WebSquare.ModelUtil.getInstanceValue(ref).wq_trim().length>0){_b6=WebSquare.ModelUtil.getInstanceValue(ref);}else{e=WebSquare.xml.createNode(_b9,ref);doc=WebSquare.xml.parse(WebSquare.xml.serialize(e));_b6=WebSquare.json.XML2JSONString(doc);}}}else{e=WebSquare.xml.createNode(_b9,ref);_b6=WebSquare.xml.serialize(e);}}}return _b6;}function setResponseObj(obj,_bd,_be,obfuscator_responseObj,_bf,_c0){if(_bd.indexOf("json")>-1){if(_be=="instance"){obj.responseBody=obfuscator_responseObj;}obj.responseJSON=_bf;}else{if(_bd.indexOf("xml")>-1){obj.responseBody=obfuscator_responseObj;}else{if(_c0){obj.responseBody=obfuscator_responseObj;}}}}function commonResponseHandler(_c1,obfuscator_http,_c2,_c3){var _c4=_c1.id;var url=WebSquare.util.getSubmissionURL(_c1.action);var _c6=(_c1.mode=="synchronous")?false:true;var ref=_c1.ref;var _c8=_c1.bind;var _c9=_c1.target;var _ca=_c1.replace;var _cb=_c1.instance;var _cc=_c1.encoding;var _cd=_c1.mediatype;var _ce=_c1.method;var _cf=_c1.action;var _d0=_c1.errorHandler;var _d1=_c1.requestData;var _d2=_c1.soapaction;if((obfuscator_http["status"])&&((200>obfuscator_http.status)||(300<=obfuscator_http.status))){var _d3={"id":_c4,"errorType":"resource-error","resourceUri":url,"responseHeaders":WebSquare.ModelUtil.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_c3,"responseBody":obfuscator_http.responseText};WebSquare.logger.printLog("submission error(E03). Status["+obfuscator_http.status+"] "+_c4);WebSquare.ModelUtil.setSubmissionEnd(_c1,"submission error",_d3);WebSquare.layer.deleteSubmissionMessage(_c4);var _d4=WebSquare.core.getConfiguration("/WebSquare/submission/submitErrorHandler/@value");var _d5=WebSquare.core.getConfiguration("/WebSquare/submission/submitErrorHandler/@mode");if(_d4){var obfuscator_evt=_d3;if(_d5=="only"){eval(_d4+"(obfuscator_evt)");}else{if(_d5=="after"){WebSquare.event.fireEvent(_c1,"xforms-submit-error",_d3);eval(_d4+"(obfuscator_evt)");}else{if(_d5=="before"){eval(_d4+"(obfuscator_evt)");WebSquare.event.fireEvent(_c1,"xforms-submit-error",_d3);}}}}else{WebSquare.event.fireEvent(_c1,"xforms-submit-error",_d3);}if(WebSquare.logger.globalDebug1||(typeof WebSquare.logger.getGlobalDebug=="function"&&WebSquare.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_c6+"\nref          : "+ref+"\nbind         : "+_c8+"\ntarget       : "+_c9+"\nreplace      : "+_ca+"\ninstance     : "+_cb+"\nencoding     : "+_cc+"\nmediatype    : "+_cd+"\nmethod       : "+_ce+"\naction       : "+_cf+"\nerrorHandler : "+_d0+"\nsoapaction   : "+_d2+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+WebSquare.ModelUtil.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=_c3.replace(re,">\n<");WebSquare.logger.showDebugMsg(obj,"xml","Default Submission ("+_c2+")");}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;return;}var _d8=obfuscator_http.getResponseHeader("Content-Type")||"";var obfuscator_responseObj,jsonObj,doc,isXML=false,instanceXML;if(_d8.indexOf("json")>-1){jsonObj=JSON.parse(obfuscator_http.responseText);if(_ca=="instance"){var _d9=WebSquare.json.JSON2XMLString(jsonObj);obfuscator_responseObj=WebSquare.xml.parse(_d9);instanceXML=WebSquare.xml.parse(_d9);}else{if(_ca=="text"){obfuscator_responseObj=obfuscator_http.responseText;}else{obfuscator_responseObj=jsonObj;}}}else{if(_d8.indexOf("xml")>-1){if(WebSquare.BootLoader.useWebSquareXMLParser){obfuscator_responseObj=WebSquare.xml.parse(obfuscator_http.responseText);}else{if(WebSquare.BootLoader.useResponseXML){obfuscator_responseObj=obfuscator_http.responseXML;}else{obfuscator_responseObj=WebSquare.xml.parse(obfuscator_http.responseText);}}if(_ca=="instance"){instanceXML=WebSquare.xml.parse(obfuscator_http.responseText);}}else{try{if(obfuscator_http.responseText&&obfuscator_http.responseText.wq_trim().startsWith("<")){obfuscator_responseObj=WebSquare.xml.parse(obfuscator_http.responseText);if(!obfuscator_responseObj){obfuscator_responseObj=obfuscator_http.responseText;}else{if(_ca=="instance"){instanceXML=WebSquare.xml.parse(obfuscator_http.responseText);}isXML=true;}}}catch(e){}}}try{if(_d0!=""&&eval(_d0+"( obfuscator_responseObj )")){var _d3={"id":_c4,"errorType":"target-error","resourceUri":url,"responseHeaders":WebSquare.ModelUtil.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_c3,"responseText":obfuscator_http.responseText};setResponseObj(_d3,_d8,_ca,obfuscator_responseObj,jsonObj,isXML);WebSquare.logger.printLog("submission error(E04). Status["+obfuscator_http.status+"] "+_c4);WebSquare.ModelUtil.setSubmissionEnd(_c1,"submission error",_d3);WebSquare.layer.deleteSubmissionMessage(_c4);WebSquare.event.fireEvent(_c1,"xforms-submit-error",_d3);if(WebSquare.logger.globalDebug1||(typeof WebSquare.logger.getGlobalDebug=="function"&&WebSquare.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_c6+"\nref          : "+ref+"\nbind         : "+_c8+"\ntarget       : "+_c9+"\nreplace      : "+_ca+"\ninstance     : "+_cb+"\nencoding     : "+_cc+"\nmediatype    : "+_cd+"\nmethod       : "+_ce+"\naction       : "+_cf+"\nerrorHandler : "+_d0+"\nsoapaction   : "+_d2+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+WebSquare.ModelUtil.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=_c3.replace(re,">\n<");WebSquare.logger.showDebugMsg(obj,"xml","Default Submission ("+_c2+")");}}else{if(_ca=="instance"){WebSquare.WebSquaredoc.models[0].rebuild(instanceXML,_c9);WebSquare.WebSquaredoc.models[0].refresh();}else{if(_ca=="text"){WebSquare.WebSquaredoc.models[0].rebuild(obfuscator_http.responseText,_c9);WebSquare.WebSquaredoc.models[0].refresh();}else{if(_ca=="none"){}}}var _da={"id":_c4,"resourceUri":url,"responseHeaders":WebSquare.ModelUtil.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_c3,"responseText":obfuscator_http.responseText};setResponseObj(_da,_d8,_ca,obfuscator_responseObj,jsonObj,isXML);WebSquare.logger.printLog("submission complete. Status["+obfuscator_http.status+"] "+_c4);WebSquare.ModelUtil.setSubmissionEnd(_c1,"submission complete",_da);WebSquare.event.fireEvent(_c1,"xforms-submit-done",_da);setTimeout(function(){WebSquare.ModelUtil.deleteMessage(_c4);},50);if(WebSquare.logger.globalDebug1||(typeof WebSquare.logger.getGlobalDebug=="function"&&WebSquare.logger.getGlobalDebug())){var obj=new Object();var re=/>[\s]*</g;obj["information"]="url          : "+url+"\nasync        : "+_c6+"\nref          : "+ref+"\nbind         : "+_c8+"\ntarget       : "+_c9+"\nreplace      : "+_ca+"\ninstance     : "+_cb+"\nencoding     : "+_cc+"\nmediatype    : "+_cd+"\nmethod       : "+_ce+"\naction       : "+_cf+"\nerrorHandler : "+_d0+"\nsoapaction   : "+_d2+"\nstatus       : "+obfuscator_http["status"]+"\nstatus text  : "+obfuscator_http["statusText"]+"\nresponseHeaders : "+WebSquare.ModelUtil.parseResponseHeader(obfuscator_http);obj["result"]=obfuscator_http.responseText.replace(re,">\n<");obj["input"]=_c3.replace(re,">\n<");WebSquare.logger.showDebugMsg(obj,"xml","Default Submission ("+_c2+")");}}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;}catch(e){obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;}}WebSquare.ModelUtil.deleteMessage=function(_db){setTimeout(function(){WebSquare.layer.deleteSubmissionMessage(_db);},50);};WebSquare.ModelUtil.parseResponseHeader=function(_dc){var ret="<header>",doc;try{var _de=_dc.getAllResponseHeaders().wq_trim().split("\n");for(var i=0;i<_de.length;i++){var _e0=_de[i].split(":");ret+="<name>"+_e0[0].wq_trim()+"</name><value>"+_e0[1].wq_trim()+"</value>";}}catch(e){}ret+="</header>";return ret;};WebSquare.ModelUtil.copyNode=function(_e1,_e2,_e3,_e4){try{var _e5=WebSquare.ModelUtil.findInstanceNode(_e1,_e3);}catch(e){throw e;}if(_e5==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] srcNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}try{var _e7=WebSquare.ModelUtil.getInstanceByXPath(_e2,_e4);var _e8=WebSquare.ModelUtil.filterInstanceFunction(_e2);var _e9=WebSquare.xml.createNode(_e7.document,_e8);}catch(e){throw e;}if(_e9==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] destNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}var _ea=_e9.childNodes;for(var j=_ea.length-1;j>=0;j--){_e9.removeChild(_ea.item(j));}var _ec=WebSquare.xml.parse(WebSquare.xml.serialize(_e5));var _ed=_ec.documentElement;if(WebSquare.core.browserCheck.chrome||WebSquare.core.browserCheck.safari||WebSquare.core.browserCheck.android||WebSquare.core.browserCheck.blackberry){var _ee=_e9.ownerDocument.importNode(_ed,true);_e9.appendChild(_ee);}else{_e9.appendChild(_ed);}WebSquare.WebSquaredoc.detectChange(_e2,undefined,_e4);};WebSquare.ModelUtil.copyChildrenNodes=function(_ef,_f0,_f1,_f2,_f3){try{var _f4=WebSquare.ModelUtil.findInstanceNode(_ef,_f2);}catch(e){throw e;}if(_f4==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] srcNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}try{var _f6=WebSquare.ModelUtil.getInstanceByXPath(_f0,_f3);var _f7=WebSquare.ModelUtil.filterInstanceFunction(_f0);var _f8=WebSquare.xml.createNode(_f6.document,_f7);}catch(e){throw e;}if(_f8==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.copyNode] destNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}switch(_f1){case "replaceAll":var _f9=_f8.childNodes;for(var j=_f9.length-1;j>=0;j--){_f8.removeChild(_f9[j]);}var _fb=_f8.ownerDocument;var _fc=_f4.childNodes;for(var j=0;j<=_fc.length-1;j++){if(_fc[j].nodeType==1){var _fd=WebSquare.xml.parse(WebSquare.xml.serialize(_fc[j]));WebSquare.xml.appendChild(_f8,_fd.documentElement);}}break;case "overwrite":var _fc=_f4.childNodes;var _fe={};var _ff={};for(var j=0;j<=_fc.length-1;j++){var _100=_fc[j];if(_100.nodeType==1){var _101=_100.nodeName;var _102=_f8.selectNodes(_101);if(_102.length>0){if(typeof _ff[_101]=="undefined"){_ff[_101]=0;}else{_ff[_101]=_ff[_101]+1;}if(typeof _102[_ff[_101]]!="undefined"){_fe[j]=_102[_ff[_101]];}else{_fe[j]=null;}}else{_fe[j]=null;}}}for(var j=0;j<=_fc.length-1;j++){var _100=_fc[j];if(_100.nodeType==1){var _fd=WebSquare.xml.parse(WebSquare.xml.serialize(_100));var _103;if(WebSquare.core.browserCheck.chrome||WebSquare.core.browserCheck.safari||WebSquare.core.browserCheck.android||WebSquare.core.browserCheck.blackberry){_103=_fd.documentElement.cloneNode(true);}else{_103=_fd.documentElement;}if(_fe[j]!=null){_f8.replaceChild(_103,_fe[j]);}else{WebSquare.xml.appendChild(_f8,_103);}}}break;case "replaceOnly":var _104=_f8.childNodes;for(var j=0;j<_104.length;j++){var _105=_104.item(j);if(_105.nodeType==1){var _106=_105.nodeName;var _100=_f4.selectSingleNode(_106);if(_100!=null){var _fd=WebSquare.xml.parse(WebSquare.xml.serialize(_100));var _107=_fd.documentElement;var _108=_f8.ownerDocument.importNode(_107,true);_f8.replaceChild(_108,_105);}}}break;case "append":var _fc=_f4.childNodes;for(var j=0;j<=_fc.length-1;j++){var _100=_fc.item(j);if(_100.nodeType==1){var _fd=WebSquare.xml.parse(WebSquare.xml.serialize(_100));var _107=_fd.documentElement;WebSquare.xml.appendChild(_f8,_107);}}break;}var _109=WebSquare.core.getConfiguration("/WebSquare/ModelUtil/copyChildrenNodes/@refresh");if(_109=="true"){WebSquare.ModelUtil.refreshModel(_f0,_f3);}};WebSquare.ModelUtil.setInstanceNode=function(doc,_10b,_10c,mode){var _10e=null;try{if(doc.nodeType==9){doc=doc.documentElement;}try{var _10f=WebSquare.ModelUtil.getInstanceByXPath(_10b,_10c);var _110=WebSquare.ModelUtil.filterInstanceFunction(_10b);_10e=WebSquare.xml.createNode(_10f.document,_110);}catch(e){throw e;}if(_10e==null){var err=new Error();err.number=0;err.description="[WebSquare.ModelUtil.setInstanceNode] destNode\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.";throw err;}var _112=WebSquare.xml.parse(WebSquare.xml.serialize(doc));var node=_112.documentElement;switch(mode){case "append":WebSquare.xml.appendChild(_10e,node);break;case "insertBeforeSibling":_10e.parentNode.insertBefore(node,_10e);break;case "appendSibling":WebSquare.xml.appendChild(_10e.parentNode,node);break;case "replace":default:var _114=_10e.childNodes;for(var j=_114.length-1;j>=0;j--){_10e.removeChild(_114.item(j));}WebSquare.xml.appendChild(_10e,node);break;}var _116=WebSquare.ModelUtil.getModelByID();WebSquare.WebSquaredoc.unrender(_10b);_116.refresh(mode);}catch(e){$l("ERROR [xpath:"+_10b+"] at WebSquare.ModelUtil.setInstanceNode ");WebSquare.exception.printStackTrace(e);}};WebSquare.ModelUtil.refreshModel=function(_117,_118){try{if(!_117){_117="";}var _119=WebSquare.ModelUtil.getModelByID(_118);WebSquare.WebSquaredoc.unrender(_117);_119.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.ModelUtil.removeInstanceNode=function(_11a){try{var node=WebSquare.ModelUtil.findInstanceNode(_11a);if(node){node.parentNode.removeChild(node);var _11c=WebSquare.core.getConfiguration("/WebSquare/ModelUtil/removeInstanceNode/@refresh");if(_11c=="true"){WebSquare.ModelUtil.refreshModel(_11a);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.ModelUtil.removeInstanceNodes=function(_11d){try{var _11e=WebSquare.ModelUtil.findInstanceNodes(_11d);for(var i=0;i<_11e.length;i++){_11e[i].parentNode.removeChild(_11e[i]);}var _120=WebSquare.core.getConfiguration("/WebSquare/ModelUtil/removeInstanceNodes/@refresh");if(_120=="true"){WebSquare.ModelUtil.refreshModel(_11d);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.ModelUtil.removeChildNodes=function(_121){try{var node=WebSquare.ModelUtil.findInstanceNode(_121);if(node){var _123=node.childNodes;for(var i=_123.length-1;i>=0;i--){node.removeChild(_123[i]);}}}catch(e){WebSquare.exception.printStackTrace(e);}};})();WebSquare.Events={};WebSquare.Events.XmlEvent=function(_1,_2,_3){["WebSquare.Events.XmlEvent"];try{this.name=_1;this.action=_2;this.param=_3;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.Events.XmlEvent.parseEvents=function(_4){["WebSquare.Events.XmlEvent.parseEvents"];try{return new WebSquare.XmlEventParser().parseEvents(_4);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.form={};WebSquare.form.tabOrderData={};WebSquare.form.setTabOrder=function(_1){["WebSquare.form.setTabOrder"];};WebSquare.form.getNextObj=function(_2){["WebSquare.form.getNextObj"];};WebSquare.form.getPrevObj=function(_3){["WebSquare.form.getPrevObj"];};WebSquare.form.setXMLOption=function(){["WebSquare.form.setXMLOption"];var _4,xml,display="",formName="",xsl="",strSelected=null,blankText="",strTextSelected=null,allOption="false",chooseOption="false",allOptionText="\uc804\uccb4",chooseOptionText="-\uc120\ud0dd-",append="false",sorted="false",textSorted="false",debug="false";try{_4=arguments[0];xml=arguments[1];if(_4.indexOf(":")>-1){var _5=_4.split(";");for(var i=0;i<_5.length;i++){var _7=_5[i].split(":");if(_7.length==2){if(_7[0].toLowerCase().wq_trim()=="display"){display=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="form"){formName=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="xsl"){xsl=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="selected"){strSelected=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="textselected"){strTextSelected=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="alloption"){allOption=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="alloptiontext"){allOptionText=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="chooseoption"){chooseOption=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="chooseoptiontext"){chooseOptionText=_7[1].wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="blanktext"){blankText=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="append"){append=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="sorted"){sorted=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="textsorted"){textSorted=_7[1].toLowerCase().wq_trim();}else{if(_7[0].toLowerCase().wq_trim()=="debug"){debug=_7[1].toLowerCase().wq_trim();}}}}}}}}}}}}}}}}}else{display=arguments[0];switch(arguments.length){case 8:formName=arguments[7];case 7:debug=arguments[6];case 6:sorted=arguments[5];case 5:allOption=arguments[4];case 4:strSelected=arguments[3];case 3:xsl=arguments[2];}}}catch(e){WebSquare.exception.printStackTrace(e);}var _8=null;var _9=null;var _a=null;var _b=null;if(typeof formName=="undefined"||formName==null||formName==""){formName="";}else{formName="document."+formName+".";}_b=WebSquare.form.getSelectObject(formName+display);if(_b!=null&&_b instanceof WebSquare.uiplugin.selectbox){var _c=_b;if(_c!=null&&xml!=null&&xml.wq_trim()!=""){try{if(xsl!=""){_8=WebSquare.xml.parse(xml);_a=WebSquare.xml.transform(_8,xsl);}else{_a=WebSquare.xml.parse(xml);}if(_a==null){return;}var _d=WebSquare.proworks.getAttribute(_a,"selected");if(_d!=null&&_d.wq_trim()!=""){strSelected=_d.wq_trim();}var _e=WebSquare.proworks.getAttribute(_a,"allOption");if(_e=="true"){allOption="true";}else{if(_e=="false"){allOption="false";}}var _f=WebSquare.proworks.getAttribute(_a,"chooseOption");if(_f=="true"){chooseOption="true";}else{if(_f=="false"){chooseOption="false";}}var _10=new Array();if(append!="true"){_c.resetItemArr();}if(chooseOption=="true"){_c.setHeaderOption("",chooseOptionText);}if(allOption=="true"){_c.setHeaderOption("all",allOptionText);}var _11=[];if(_a.documentElement.nodeName=="hashtable"){var _12=_a.documentElement.childNodes;if(_12.length==0){if(blankText!=""){_c.setHeaderOption("",blankText);}}else{for(var i=0;i<_12.length;i++){var _13=_12.item(i);if(_13.nodeType==1&&_13.nodeName=="data"){var obj=new Object();var _15=_13.getAttribute("hashkey");var _16=_13.getAttribute("value");if(_15!=null&&_16!=null){obj["key"]=_15;obj["value"]=_16;_11.push(obj);}}}}}if(sorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["key"])||_11[i]["key"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort(WebSquare.form.numericKeySort);}else{_11=_11.sort(WebSquare.form.normalKeySort);}}else{if(textSorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["value"])||_11[i]["value"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort(WebSquare.form.numericValueSort);}else{_11=_11.sort(WebSquare.form.normalValueSort);}}}var _18=0;var _19=[];var _1a=_c.itemArr.length;for(var i=0;i<_11.length;i++){var _1b={};_1b.value=_11[i]["key"];_1b.label=_11[i]["value"];_19.push(_1b);if(strSelected!=null&&strSelected!=""){if(_11[i]["key"].wq_trim()==strSelected){_18=i+_1a;}}else{if(strTextSelected!=null&&strTextSelected!=""){if(_11[i]["value"].wq_trim()==strTextSelected){_18=i+_1a;}}}}_c.pushItemArr(_19);_c.selectedIndex=_18;_c.initSelect();}catch(e){WebSquare.exception.printStackTrace(e);}}if(debug=="true"||debug=="y"){var obj=new Object();obj["result"]=WebSquare.xml.indent(_a);if(xsl!=""){obj["xml"]=WebSquare.xml.indent(_8);obj["xsl"]=WebSquare.xml.indent(_9);}WebSquare.logger.showDebugMsg(obj,"xml","setXMLOption \uc2e4\ud589 \uacb0\uacfc");}}else{if(_b!=null&&xml!=null&&xml.wq_trim()!=""){try{if(xsl!=""){_8=WebSquare.xml.parse(xml);_a=WebSquare.xml.transform(_8,xsl);}else{_a=WebSquare.xml.parse(xml);}if(_a==null){return;}var _d=WebSquare.proworks.getAttribute(_a,"selected");if(_d!=null&&_d.wq_trim()!=""){strSelected=_d.wq_trim();}var _e=WebSquare.proworks.getAttribute(_a,"allOption");if(_e=="true"){allOption="true";}else{if(_e=="false"){allOption="false";}}var _f=WebSquare.proworks.getAttribute(_a,"chooseOption");if(_f=="true"){chooseOption="true";}else{if(_f=="false"){chooseOption="false";}}var _10=new Array();var _1c="";if(WebSquare.core.browserCheck.ie){_1c=_b.outerHTML;if(append=="true"){var _1d=_1c.lastIndexOf("<");if(_1d<1){if(_1c.lastIndexOf("<SELECT")==-1){_1c="<SELECT>";}}else{var _1e=_1c.indexOf("/>",_1d);if(_1e==-1){_1c=_1c.substring(0,_1d);}else{_1c=_1c.substring(0,_1e)+">";}}}else{var _1d=_1c.indexOf(">");if(_1d<1){_1c="<SELECT>";}else{if(_1c.charAt(_1d-1)=="/"){_1c=_1c.substring(0,(_1d-1))+">";}else{_1c=_1c.substring(0,(_1d+1));}}if(chooseOption=="true"){_10.push("<OPTION VALUE=''>"+chooseOptionText+"</OPTION>");}if(allOption=="true"){_10.push("<OPTION VALUE='all'>"+allOptionText+"</OPTION>");}}}else{if(append=="true"){_1c=_b.innerHTML;}else{if(chooseOption=="true"){_10.push("<OPTION VALUE=''>"+chooseOptionText+"</OPTION>");}if(allOption=="true"){_10.push("<OPTION VALUE='all'>"+allOptionText+"</OPTION>");}}}var _11=[];if(_a.documentElement.nodeName=="hashtable"){var _12=_a.documentElement.childNodes;if(_12.length==0){if(blankText!=""){var obj=new Object();obj["key"]="";obj["value"]=blankText;_11.push(obj);_10=new Array();}}else{for(var i=0;i<_12.length;i++){var _13=_12.item(i);if(_13.nodeType==1&&_13.nodeName=="data"){var obj=new Object();var _15=_13.getAttribute("hashkey");var _16=_13.getAttribute("value");if(_15!=null&&_16!=null){obj["key"]=_15;obj["value"]=_16;_11.push(obj);}}}}}if(sorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["key"])||_11[i]["key"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort(WebSquare.form.numericKeySort);}else{_11=_11.sort(WebSquare.form.normalKeySort);}}else{if(textSorted=="true"){var _17=true;for(var i=0;i<_11.length;i++){if(isNaN(_11[i]["value"])||_11[i]["value"].wq_trim()==""){_17=false;break;}}if(_17){_11=_11.sort(WebSquare.form.numericValueSort);}else{_11=_11.sort(WebSquare.form.normalValueSort);}}}if(strSelected!=null&&strSelected!=""){for(var i=0;i<_11.length;i++){if(_11[i]["key"].wq_trim()==strSelected){_10.push("<OPTION VALUE='"+_11[i]["key"]+"' SELECTED>"+_11[i]["value"]+"</OPTION>");}else{_10.push("<OPTION VALUE='"+_11[i]["key"]+"'>"+_11[i]["value"]+"</OPTION>");}}}else{if(strTextSelected!=null&&strTextSelected!=""){for(var i=0;i<_11.length;i++){if(_11[i]["value"].wq_trim()==strTextSelected){_10.push("<OPTION VALUE='"+_11[i]["key"]+"' SELECTED>"+_11[i]["value"]+"</OPTION>");}else{_10.push("<OPTION VALUE='"+_11[i]["key"]+"'>"+_11[i]["value"]+"</OPTION>");}}}else{for(var i=0;i<_11.length;i++){_10.push("<OPTION VALUE='"+_11[i]["key"]+"'>"+_11[i]["value"]+"</OPTION>");}}}if(WebSquare.core.browserCheck.ie){_b.outerHTML=_1c+_10.join("")+"</SELECT>";}else{_b.innerHTML=_1c+_10.join("");}}catch(e){WebSquare.exception.printStackTrace(e);}}if(debug=="true"||debug=="y"){var obj=new Object();obj["result"]=WebSquare.xml.indent(_a);if(xsl!=""){obj["xml"]=WebSquare.xml.indent(_8);obj["xsl"]=WebSquare.xml.indent(_9);}WebSquare.logger.showDebugMsg(obj,"xml","setXMLOption \uc2e4\ud589 \uacb0\uacfc");}}};WebSquare.form.normalKeySort=function(a,b){["WebSquare.form.normalKeySort"];if(a["key"]>b["key"]){return 1;}else{if(a["key"]==b["key"]){return 0;}else{return -1;}}};WebSquare.form.numericKeySort=function(a,b){["WebSquare.form.numericKeySort"];return parseInt(a["key"],10)-parseInt(b["key"],10);};WebSquare.form.normalValueSort=function(a,b){["WebSquare.form.normalValueSort"];if(a["value"]>b["value"]){return 1;}else{if(a["value"]==b["value"]){return 0;}else{return -1;}}};WebSquare.form.numericValueSort=function(a,b){["WebSquare.form.numericValueSort"];return parseInt(a["value"],10)-parseInt(b["value"],10);};WebSquare.form.checkAll=function(_27,_28){["WebSquare.form.checkAll"];var _29=_27.form;for(var i=0;i<_29.elements.length;i++){var e=_29.elements[i];if((e.name==_28)&&(e.type=="checkbox")){e.checked=_27.checked;}}};WebSquare.form.printForm=function(_2c,_2d){["WebSquare.form.printForm"];var _2e="<table style='width:510pt'><tr><td>Name</td><td>Type</td><td>Value</td></tr>\n";for(var i=0;i<_2c.elements.length;i++){var e=_2c.elements[i];if(_2d=="compact"){if(e.name!=null&&e.name!=""){if(e.type!="button"&&e.type!="image"&&e.type!="reset"&&e.type!="submit"){_2e=_2e+"<tr><td>"+e.name+"</td><td>"+e.type+"</td><td>"+e.value+"</td></tr>\n";}}}else{_2e=_2e+"<tr><td>"+e.name+"</td><td>"+e.type+"</td><td>"+e.value+"</td></tr>\n";}}_2e=_2e+"</table>\n";var obj=new Object();obj["Form Value"]=_2e;WebSquare.logger.showDebugMsg(obj,"html","Form \uc815\ubcf4");};WebSquare.form.getCheckValue=function(_32){["WebSquare.form.getCheckValue"];var obj=new Array();try{var _34=WebSquare.document.getElementsByTagName("input");if(_34!=null){var j=0;for(var i=0;i<_34.length;i++){var e=_34[i];if((e.name==_32)&&(e.type=="checkbox")&&(e.checked==true)){obj[j]=e.value;j++;}}}}catch(e){WebSquare.exception.printStackTrace(e);}return obj;};WebSquare.form.addElement=function(_38,_39,_3a){["WebSquare.form.addElement"];var _3b=WebSquare.document.getElementsByTagName("SELECT");if(_3b.length>0){for(var i=0;i<_3b.length;i++){if(_3b(i).name==_38){var _3d=WebSquare.document.createElement("OPTION");_3d.value=_39;_3d.text=_3a;_3b(i).add(_3d);}}}};WebSquare.form.deleteElement=function(_3e){["WebSquare.form.deleteElement"];var _3f=WebSquare.document.getElementsByTagName("SELECT");if(_3f.length>0){for(var i=0;i<_3f.length;i++){if(_3f(i).name==_3e){for(var j=_3f(i).options.length-1;j>=0;j--){if(_3f(i).options(j).selected){_3f(i).options(j).removeNode();}}}}}};WebSquare.form.copyElement=function(_42,_43){["WebSquare.form.copyElement"];var _44=WebSquare.document.getElementsByTagName("SELECT");var _45,objTag2;if(_44.length>0){for(var i=0;i<_44.length;i++){if(_44(i).name==_42){_45=_44(i);}if(_44(i).name==_43){objTag2=_44(i);}}var _47=_45.options.length;for(var i=0;i<_47;i++){if(_45.options(i).selected){var _48=WebSquare.document.createElement("OPTION");_48.value=_45.options(i).value;_48.text=_45.options(i).text;objTag2.add(_48);}}}};WebSquare.form.moveElement=function(_49,_4a){["WebSquare.form.moveElement"];var _4b=WebSquare.document.getElementsByTagName("SELECT");var _4c,objTag2;if(_4b.length>0){for(var i=0;i<_4b.length;i++){if(_4b(i).name==_49){_4c=_4b(i);}if(_4b(i).name==_4a){objTag2=_4b(i);}}var _4e=_4c.options.length;for(var i=0;i<_4e;i++){if(_4c.options(i).selected){objTag2.insertBefore(_4c.options(i),null);i--;_4e--;}}}};WebSquare.form.movePosition=function(_4f,_50){["WebSquare.form.movePosition"];var _51=WebSquare.document.getElementsByTagName("SELECT");if(_51.length>0){for(var i=0;i<_51.length;i++){if(_51(i).name==_4f){if(_50.toLowerCase()=="up"){for(var j=1;j<_51(i).options.length;j++){if(_51(i).options(j).selected){if(j==1&&_51(i).options(0).selected){return;}var obj=_51(i).options(j);_51(i).options(j-1).insertAdjacentElement("beforeBegin",obj);}}}else{if(_50.toLowerCase()=="down"){for(var j=_51(i).options.length-2;j>=0;j--){if(_51(i).options(j).selected){if(j==(_51(i).options.length-2)&&_51(i).options(_51(i).options.length-1).selected){return;}var obj=_51(i).options(j);_51(i).options(j+1).insertAdjacentElement("afterEnd",obj);}}}}}}}};WebSquare.form.Form2XML=function(_55,_56){["WebSquare.form.Form2XML"];var _57="";try{var _58="FORMMSG";if(typeof _56!="undefined"&&_56!=null&&_56!=""){_58=_56;}_57+="<"+_58+">";for(var i=0;i<_55.elements.length;i++){var e=_55.elements[i];if(e.name!=null&&e.name!=""){if(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file"||e.type=="hidden"){if(e.className.indexOf("Number")==0){var re=/[,]/g;_57+="<"+e.name+" value='"+WebSquare.xml.encode(e.value.replace(re,""))+"'/>\n";}else{if(e.className.indexOf("Date")==0){var re=/[\u002F]/g;_57+="<"+e.name+" value='"+WebSquare.xml.encode(e.value.replace(re,""))+"'/>\n";}else{if(e.className.indexOf("Time")==0){var re=/[:]/g;_57+="<"+e.name+" value='"+WebSquare.xml.encode(e.value.replace(re,""))+"'/>\n";}else{_57+="<"+e.name+" value='"+WebSquare.xml.encode(e.value)+"'/>\n";}}}}else{if(e.type=="checkbox"&&e.checked){_57+="<"+e.name+" value='"+WebSquare.xml.encode(e.value)+"'/>\n";}else{if(e.type=="radio"&&e.checked){_57+="<"+e.name+" value='"+WebSquare.xml.encode(e.value)+"'/>\n";}else{if(e.type=="select-one"){_57+="<"+e.name+" value='"+WebSquare.xml.encode(e.value)+"'/>\n";}else{if(e.type=="select-multiple"){for(var j=0;j<e.options.length;j++){var opt=e.options[j];if(opt.selected){_57+="<"+e.name+" value='"+WebSquare.xml.encode(opt.value)+"'/>\n";}}}}}}}}}_57+="</"+_58+">\n";}catch(e){WebSquare.exception.printStackTrace(e);}return WebSquare.xml.parse(_57);};WebSquare.form.XML2Form=function(doc,_5f){["WebSquare.form.XML2Form"];try{var dom=null;if(typeof doc=="string"){dom=WebSquare.xml.parse(doc);}else{if(WebSquare.xml.isDocument(doc)){dom=doc;}else{if(typeof doc=="undefined"){return;}}}for(var i=0;i<_5f.elements.length;i++){var e=_5f.elements[i];if(e.name!=null&&e.name!=""){if(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file"||e.type=="hidden"){if(e.className.indexOf("Number")==0){var _63="",commaStr="",cent="";var _64=WebSquare.proworks.getString(dom,e.name);var re=/[,]/g;_64=_64.replace(re,"");if(_64.substring(0,1)=="+"||_64.substring(0,1)=="-"){_63=_64.substring(0,1);_64=_64.substring(1);}if(_64.indexOf(".")>-1){cent=_64.substring(_64.indexOf("."));_64=_64.substring(0,_64.indexOf("."));}var j=_64.length-3;for(;j>=1;j=j-3){commaStr=","+_64.substring(j,j+3)+commaStr;}commaStr=_64.substring(0,j+3)+commaStr;e.value=_63+commaStr+cent;}else{if(e.className.indexOf("Date")==0){var _67=WebSquare.proworks.getString(dom,e.name);if(_67.length==8){e.value=_67.substring(0,4)+"/"+_67.substring(4,6)+"/"+_67.substring(6,8);}else{e.value=_67;}}else{if(e.className.indexOf("Time")==0){var _68=WebSquare.proworks.getString(dom,e.name);if(_68.length==4){e.value=_68.substring(0,2)+":"+_68.substring(2,4);}else{e.value=_68;}}else{e.value=WebSquare.proworks.getString(dom,e.name);}}}}else{if(e.type=="checkbox"){var _69=WebSquare.xml.getElementsByTagName(dom,e.name);for(var j=0;j<_69.length;j++){if(_69.item(j).getAttribute("value")==e.value){e.checked=true;break;}}}else{if(e.type=="radio"&&WebSquare.proworks.getString(dom,e.name)==e.value){e.checked=true;}else{if(e.type=="select-one"){e.value=WebSquare.proworks.getString(dom,e.name);}else{if(e.type=="select-multiple"){var _69=WebSquare.xml.getElementsByTagName(dom,e.name);for(var j=0;j<e.options.length;j++){var opt=e.options[j];for(var k=0;k<_69.length;k++){if(_69.item(k).getAttribute("value")==opt.value){opt.selected=true;break;}}}}}}}}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.form.checkForm=function(){["WebSquare.form.checkForm"];try{var _6c=new Array();var _6d=new Array();var str="";var _6f=arguments[0];for(var i=1;i<arguments.length;i++){_6c.push(arguments[i]);i++;_6d.push(arguments[i]);}for(var i=0;i<_6f.elements.length;i++){var e=_6f.elements[i];for(var j=0;j<_6c.length;j++){if(e.name==_6c[j]&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file")&&(e.value==null||e.value=="")){if(WebSquare.text.isFinalConsonant(_6d[j])){str+="'"+_6d[j]+"'\uc740 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.\n";}else{str+="'"+_6d[j]+"'\ub294 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.\n";}alert(str);e.focus();return false;}else{if(e.name==_6c[j]&&e.type=="select-one"&&e.selectedIndex==0){if(WebSquare.text.isFinalConsonant(_6d[j])){str+="'"+_6d[j]+"'\uc744 \uc120\ud0dd\ud558\uc2ed\uc2dc\uc624.\n";}else{str+="'"+_6d[j]+"'\ub97c \uc120\ud0dd\ud558\uc2ed\uc2dc\uc624.\n";}alert(str);e.focus();return false;}}}}}catch(e){WebSquare.exception.printStackTrace(e);}return true;};WebSquare.form.nextTab=function(_73,_74,len){["WebSquare.form.nextTab"];if((event.keyCode<65||event.keyCode>90)&&(event.keyCode<48||event.keyCode>57)&&(event.keyCode<96||event.keyCode>105)){return;}if(typeof _74=="undefined"&&typeof len=="undefined"&&typeof _73!="undefined"&&typeof _73!="object"){if(event.srcElement.value.length>=_73){for(var i=event.srcElement.sourceIndex+1;i<WebSquare.document.all.length;i++){if(typeof WebSquare.document.all(i).tagName!="undefined"&&WebSquare.document.all(i).tagName.toLowerCase()=="input"){WebSquare.document.all(i).focus();break;}}}}else{if(_73.value.length>=len){_74.focus();}}};WebSquare.form.timeKeyPress=function(tag){["WebSquare.form.timeKeyPress "];if((event.keyCode<48||event.keyCode>57)){event.returnValue=false;}};WebSquare.form.timeKeyUp=function(tag){["WebSquare.form.timeKeyUp"];if((event.keyCode<48||event.keyCode>57)&&(event.keyCode<96||event.keyCode>105)){return;}var re=/[:]/g;var ret=tag.value.replace(re,"");if(ret.length==4){tag.value=ret;var _7b=parseInt(tag.value.substring(0,2),10);if(_7b>24||_7b<1){alert(WebSquare.language.getMessage("E_form_TimeKeyUpWrongHourFormat"));tag.value="";return;}var _7c=parseInt(tag.value.substring(2,4),10);if(_7c>59||_7c<0){alert(WebSquare.language.getMessage("E_form_TimeKeyUpWrongMinuteFormat"));tag.value=tag.value.substring(0,2);return;}tag.value=tag.value.substring(0,2)+":"+tag.value.substring(2,4);}else{if(ret.length>4){tag.value=ret;tag.value=tag.value.substring(0,2)+":"+tag.value.substring(2,4);}}};WebSquare.form.dateKeyPress=function(tag){["WebSquare.form.dateKeyPress"];if((event.keyCode<48||event.keyCode>57)){event.returnValue=false;}};WebSquare.form.dateKeyUp=function(tag){["WebSquare.form.dateKeyUp"];if((event.keyCode<48||event.keyCode>57)&&(event.keyCode<96||event.keyCode>105)){return;}var re=/[\u002F]/g;var ret=tag.value.replace(re,"");if(ret.length==8){tag.value=ret;var _81=parseInt(tag.value.substring(4,6),10);if(_81>12||_81<1){alert("\uc6d4 \uc785\ub825\uc774 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");tag.value=tag.value.substring(0,4);return;}switch(_81){case 1:if(!WebSquare.form.checkDay(tag,1,31)){return;}break;case 2:if(!WebSquare.form.checkFebDay(tag)){return;}break;case 3:if(!WebSquare.form.checkDay(tag,1,31)){return;}break;case 4:if(!WebSquare.form.checkDay(tag,1,30)){return;}break;case 5:if(!WebSquare.form.checkDay(tag,1,31)){return;}break;case 6:if(!WebSquare.form.checkDay(tag,1,30)){return;}break;case 7:if(!WebSquare.form.checkDay(tag,1,31)){return;}break;case 8:if(!WebSquare.form.checkDay(tag,1,31)){return;}break;case 9:if(!WebSquare.form.checkDay(tag,1,30)){return;}break;case 10:if(!WebSquare.form.checkDay(tag,1,31)){return;}break;case 11:if(!WebSquare.form.checkDay(tag,1,30)){return;}break;case 12:if(!WebSquare.form.checkDay(tag,1,31)){return;}break;}tag.value=tag.value.substring(0,4)+"/"+tag.value.substring(4,6)+"/"+tag.value.substring(6,8);}else{if(ret.length>8){tag.value=ret;tag.value=tag.value.substring(0,4)+"/"+tag.value.substring(4,6)+"/"+tag.value.substring(6,8);}}};WebSquare.form.checkFebDay=function(tag){["WebSquare.form.checkFebDay"];var _83=parseInt(tag.value.substring(0,4),10);if((_83%4)==0){if((_83%100)==0){if((_83%400)==0){return WebSquare.form.checkDay(tag,1,29);}else{return WebSquare.form.checkDay(tag,1,28);}}else{return WebSquare.form.checkDay(tag,1,29);}}else{return WebSquare.form.checkDay(tag,1,28);}};WebSquare.form.checkDay=function(tag,min,max){["WebSquare.form.checkDay"];var day=parseInt(tag.value.substring(6,8),10);if(day>max||day<min){alert("\uc77c \uc785\ub825\uc774 \uc798\ubabb\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");tag.value=tag.value.substring(0,6);return false;}return true;};WebSquare.form.getAbsoluteTop_old=function(_88){["WebSquare.form.getAbsoluteTop_old"];var _89=_88;var _8a=0;try{while(_89.tagName!="BODY"){var _8b=WebSquare.util.parseFloat(WebSquare.util.getStyleProperty(_89,"border-top-width"),0);if(WebSquare.util.isOpera()){_8b=0;}_8a+=_89.offsetTop-_89.scrollTop+_8b;_89=_89.offsetParent;}}catch(e){}if(!WebSquare.util.isFF()&&!WebSquare.util.isIE(8)&&!WebSquare.util.isOpera()){}if(WebSquare.util.isIE("6 7")){}return _8a;};WebSquare.form.getAbsoluteTop=function(_8c){["WebSquare.form.getAbsoluteTop"];return WebSquare.style.getAbsoluteTop(_8c);};WebSquare.form.getAbsoluteLeft_old=function(_8d){["WebSquare.form.getAbsoluteLeft_old"];var _8e=_8d;var _8f=0;try{while(_8e.tagName!="BODY"){var _90=WebSquare.util.parseFloat(WebSquare.util.getStyleProperty(_8e,"border-left-width"),0);if(WebSquare.util.isOpera()){_90=0;}_8f+=_8e.offsetLeft+_90-_8e.scrollLeft;_8e=_8e.offsetParent;}}catch(e){}if(WebSquare.util.isIE("6 7")){}if(!WebSquare.util.isFF()&&!WebSquare.util.isIE(8)){}return _8f;};WebSquare.form.getAbsoluteLeft=function(_91){["WebSquare.form.getAbsoluteLeft"];return WebSquare.style.getAbsoluteLeft(_91);};WebSquare.form.disableForm=function(){["WebSquare.form.disableForm"];try{var _92=new Array();var _93=arguments[0];for(var i=1;i<arguments.length;i++){_92.push(arguments[i]);}for(var i=0;i<_93.elements.length;i++){var e=_93.elements[i];for(var j=0;j<_92.length;j++){if((_92[j]=="all"||e.name==_92[j])&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="button"||e.type=="checkbox"||e.type=="radio"||e.type=="file"||e.type=="select-one"||e.type=="select-multiple")){e.disabled=true;}}}}catch(e1){WebSquare.exception.printStackTrace(e1);}};WebSquare.form.enableForm=function(){["WebSquare.form.enableForm"];try{var _97=new Array();var _98=arguments[0];for(var i=1;i<arguments.length;i++){_97.push(arguments[i]);}for(var i=0;i<_98.elements.length;i++){var e=_98.elements[i];for(var j=0;j<_97.length;j++){if((_97[j]=="all"||e.name==_97[j])&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="button"||e.type=="checkbox"||e.type=="radio"||e.type=="file"||e.type=="select-one"||e.type=="select-multiple")){e.disabled=false;}}}}catch(e1){WebSquare.exception.printStackTrace(e1);}};WebSquare.form.getRadioValue=function(_9c){["WebSquare.form.getRadioValue"];var obj="";try{var _9e=WebSquare.document.getElementsByTagName("input");if(_9e!=null){for(var i=0;i<_9e.length;i++){var e=_9e[i];if((e.name==_9c)&&(e.type=="radio")&&(e.checked==true)){obj=e.value;}}}}catch(e1){WebSquare.exception.printStackTrace(e1);}return obj;};WebSquare.form.lockObject=null;WebSquare.form.lock=function(){["WebSquare.form.lock"];try{if(WebSquare.form.lockObject==null){WebSquare.form.lockObject=new Array();var _a1=WebSquare.document.forms;var _a2=_a1.length;for(var i=0;i<_a2;i++){var _a4=_a1[i];var _a5=_a4.elements.length;for(var j=0;j<_a5;j++){var e=_a4.elements[j];if(e.disabled==false&&(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="button"||e.type=="checkbox"||e.type=="radio"||e.type=="file"||e.type=="select-one"||e.type=="select-multiple")){WebSquare.form.lockObject.push(e);e.disabled=true;}}}}}catch(e1){WebSquare.exception.printStackTrace(e1);}};WebSquare.form.release=function(){["WebSquare.form.release"];try{if(WebSquare.form.lockObject!=null){for(var i=0;i<WebSquare.form.lockObject.length;i++){WebSquare.form.lockObject[i].disabled=false;}WebSquare.form.lockObject=null;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.form.resetForm=function(){["WebSquare.form.resetForm"];try{var _a9=WebSquare.document.forms;var _aa=_a9.length;for(var i=0;i<_aa;i++){var _ac=_a9[i];var _ad=_ac.elements.length;for(var j=0;j<_ad;j++){var e=_ac.elements[j];if(e.type=="text"||e.type=="password"||e.type=="textarea"||e.type=="file"){e.value=e.defaultValue;}else{if(e.type=="checkbox"||e.type=="radio"){e.checked=e.defaultChecked;}else{if(e.type=="select-one"||e.type=="select-multiple"){e.selectedIndex=0;}}}}}}catch(e1){WebSquare.exception.printStackTrace(e1);}};WebSquare.form.getFormObject=function(_b0){["WebSquare.form.getFormObject"];try{if(_b0.indexOf(".")>-1){var obj=eval(_b0);if(typeof obj=="undefined"){return null;}return obj;}else{var _b2=_b0.indexOf("[");var _b3=_b0.indexOf("(");var _b4=_b0;var _b5=0;if(_b2>-1){var _b6=_b0.indexOf("]");if(_b6>-1){_b4=_b0.substring(0,_b2);_b5=parseInt(_b0.substring(_b2+1,_b6));}}else{if(_b3>-1){var _b6=_b0.indexOf(")");if(_b6>-1){_b4=_b0.substring(0,_b3);_b5=parseInt(_b0.substring(_b3+1,_b6));}}}var _b7=WebSquare.document.getElementsByTagName("input");var _b8=0;if(_b7!=null){for(var i=0;i<_b7.length;i++){var obj=_b7[i];if(obj.name==_b4){if(_b8==_b5){return obj;}_b8++;}}}}}catch(e){WebSquare.exception.printStackTrace(e);}return null;};WebSquare.form.getSelectObject=function(_ba){["WebSquare.form.getSelectObject"];var _bb=null;try{_bb=eval(_ba);}catch(e){_bb=null;}imports("uiplugin.selectbox");if(_bb&&_bb instanceof WebSquare.uiplugin.selectbox){return eval(_ba);}try{if(_ba.indexOf(".")>-1){var obj=eval(_ba);if(typeof obj=="undefined"){return null;}if(obj.type=="select-one"||obj.type=="select-multiple"){return obj;}else{return null;}}else{var _bd=_ba.indexOf("[");var _be=_ba.indexOf("(");var _bf=_ba;var _c0=0;if(_bd>-1){var _c1=_ba.indexOf("]");if(_c1>-1){_bf=_ba.substring(0,_bd);_c0=parseInt(_ba.substring(_bd+1,_c1));}}else{if(_be>-1){var _c1=_ba.indexOf(")");if(_c1>-1){_bf=_ba.substring(0,_be);_c0=parseInt(_ba.substring(_be+1,_c1));}}}var _c2=WebSquare.document.getElementsByTagName("SELECT");var _c3=0;if(_c2!=null){for(var i=0;i<_c2.length;i++){var obj=_c2[i];if(obj.name==_bf||obj.id==_bf){if(_c3==_c0){return obj;}_c3++;}}}}}catch(e){WebSquare.exception.printStackTrace(e);}return null;};WebSquare.form.setCheckValue=function(_c5,obj){["WebSquare.form.setCheckValue"];try{if(obj==null){return;}var _c7=WebSquare.document.getElementsByTagName("input");if(_c7!=null){for(var i=0;i<_c7.length;i++){var e=_c7[i];if((e.name==_c5)&&(e.type=="checkbox")){for(var j=0;j<obj.length;j++){if(obj[j]==e.value){e.checked=true;break;}}}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.form.getRelativeTop=function(_cb,_cc){["WebSquare.form.getRelativeTop"];var _cd=_cb;var _ce=0;try{while(_cd!=_cc&&_cd.tagName!="BODY"){_ce+=_cd.offsetTop;_cd=_cd.offsetParent;}}catch(e){}return _ce;};WebSquare.form.getRelativeLeft=function(_cf,_d0){["WebSquare.form.getRelativeLeft"];var _d1=_cf;var _d2=0;try{while(_d1!=_d0&&_d1.tagName!="BODY"){_d2+=_d1.offsetLeft;_d1=_d1.offsetParent;}}catch(e){}return _d2;};WebSquare.form.getOffsetLeft=function(_d3){["WebSquare.form.getOffsetLeft"];var _d4=_d3;var _d5=0;try{if(WebSquare.util.isIE("6 7")){while(_d4&&_d4.tagName.toLowerCase()!="body"){var _d6=WebSquare.util.getStyleProperty(_d4,"position");if(_d6=="absolute"){break;}_d5+=_d4.offsetLeft;_d4=_d4.offsetParent;}}else{_d5=_d4.offsetLeft;}}catch(e){}return _d5;};WebSquare.form.getOffsetTop=function(_d7){["WebSquare.form.getOffsetTop"];var _d8=_d7;var Top=0;try{if(WebSquare.util.isIE("6 7")){while(_d8&&_d8.tagName.toLowerCase()!="body"){var _da=WebSquare.util.getStyleProperty(_d8,"position");if(_da=="absolute"){break;}Top+=_d8.offsetTop;_d8=_d8.offsetParent;}}else{Top=_d8.offsetTop;}}catch(e){}return Top;};WebSquare.net={};WebSquare.net.paramObj=null;WebSquare.net.getParameter=function(_1){["WebSquare.net.getParameter"];var _2="";try{if(WebSquare.net.paramObj==null){WebSquare.net.paramObj=new Object();var _3=location.search.substring(1);var _4=_3.split("&");for(var i=0;i<_4.length;i++){var _6=_4[i].split("=");if(_6.length==2){WebSquare.net.paramObj[(_6[0]).wq_trim()]=(_6[1]).wq_trim();}}}_2=WebSquare.net.paramObj[_1];}catch(e){e.detail="WebSquare.net.getParameter \uc5d0\ub7ec";WebSquare.exception.printStackTrace(e);}if(_2==null||typeof _2=="undefined"){_2="";}return WebSquare.text.URLDecoder(_2);};WebSquare.net.getAllParameter=function(){["WebSquare.net.getAllParameter"];var _7={};try{for(obj in WebSquare.net.paramObj){_7[obj]=WebSquare.text.URLDecoder(WebSquare.net.paramObj[obj]);}}catch(e){WebSquare.exception.printStackTrace(e);}return _7;};WebSquare.net.getBASE64Parameter=function(_8){["WebSquare.net.getBASE64Parameter"];var _9="";try{if(WebSquare.net.paramObj==null){WebSquare.net.paramObj=new Object();var _a=location.search.substring(1);var _b=_a.split("&");for(var i=0;i<_b.length;i++){var _d=_b[i].split("=");if(_d.length==2){WebSquare.net.paramObj[(_d[0]).wq_trim()]=(_d[1]).wq_trim();}}}_9=WebSquare.net.paramObj[_8];}catch(e){e.detail="WebSquare.net.getBASE64Parameter \uc5d0\ub7ec";WebSquare.exception.printStackTrace(e);}if(_9==null||typeof _9=="undefined"){_9="";}return WebSquare.text.BASE64URLDecoder(_9);};WebSquare.net.getAllBASE64Parameter=function(){["WebSquare.net.getAllBASE64Parameter"];var _e={};try{for(obj in WebSquare.net.paramObj){_e[obj]=WebSquare.text.BASE64URLDecoder(WebSquare.net.paramObj[obj]);}}catch(e){WebSquare.exception.printStackTrace(e);}return _e;};WebSquare.net.showWindow=function(_f,obj,_11,_12,_13){["WebSquare.net.showWindow"];if(typeof _11=="undefined"||_11==null){_11="channelmode=no,directories=no,fullscreen=no,top=200,height=350,left=250,width=400,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no'";}else{var _14=0,dialogWidth=0,center="false";var _15=_11.split(";");if(_15.length>1){_11="";for(var i=0;i<_15.length;i++){var _17=_15[i].split(":");if(_17.length==2){if(_17[0].wq_trim()=="dialogHeight"){_14=parseInt(_17[1].wq_trim(),10);_11+="height="+_17[1]+",";}else{if(_17[0].wq_trim()=="dialogWidth"){dialogWidth=parseInt(_17[1].wq_trim(),10);_11+="width="+_17[1]+",";}else{if(_17[0].wq_trim()=="center"){center=_17[1].toLowerCase().wq_trim();}else{_11+=_17[0]+"="+_17[1]+",";}}}}}}if(center=="true"||center=="yes"){if(_14!=0){var top=(740-_14)/2;_11="top="+top+"px,"+_11;}if(dialogWidth!=0){var _19=(1000-dialogWidth)/2;_11="left="+_19+"px,"+_11;}}}var idx="idx10_"+(new Date()).getTime()+Math.random()*10000;if(typeof obj=="undefined"){WebSquare.net.showWindowParam[idx]=null;}else{WebSquare.net.showWindowParam[idx]=obj;}if(_f.indexOf("?")>-1){_f=_f+"&modalParamIdx="+idx;}else{_f=_f+"?modalParamIdx="+idx;}var _1b=null;if(typeof _12=="undefined"){_1b=window.open(_f,"_blank",_11);}else{_1b=window.open(_f,_12,_11);}if(_1b==null){alert(WebSquare.language.getMessage("E_net_PopupBlocked"));}return _1b;};WebSquare.net.showWindowParam=new Object();WebSquare.net.showIFrameName=new Object();WebSquare.net.getPopupParam=function(){["WebSquare.net.getPopupParam"];try{var str=WebSquare.net.getParameter("modalParamIdx");return opener.WebSquare.net._getParam(str);}catch(e){return "";}};WebSquare.net._getParam=function(_1d){["WebSquare.net._getParam"];var ret=WebSquare.net.showWindowParam[_1d];return ret;};WebSquare.net.isPopup=function(){["WebSquare.net.isPopup"];try{if(typeof window.opener=="undefined"){return false;}else{if(window.opener.closed){return false;}else{return true;}}}catch(e){return false;}};WebSquare.net.Obj2XML=function(_1f){["WebSquare.net.Obj2XML"];var _20="<obj>";for(var _21 in _1f){_20=_20+"<"+_21+" value='"+WebSquare.xml.encode(_1f[_21])+"'/>";}_20=_20+"</obj>";return _20;};WebSquare.net.XML2Obj=function(doc){["WebSquare.net.XML2Obj"];var obj=new Object();try{var dom=null;if(typeof doc=="string"){dom=WebSquare.xml.parse(doc);}else{if(WebSquare.xml.isDocument(doc)){dom=doc;}else{return "";}}var _25=dom.documentElement;if(_25.nodeName=="vector"||_25.nodeName=="hashtable"){return "";}else{var _26=_25.childNodes;for(var i=0;i<_26.length;i++){var _28=_26.item(i);if(_28.nodeType==1){var _29=_28.nodeName;var _2a=_28.getAttribute("value");if(_2a==null){_2a="";}obj[_29]=_2a;}}}}catch(e){WebSquare.exception.printStackTrace(e);}return obj;};WebSquare.net.showIFrame=function(url,obj,_2d,_2e){["WebSquare.net.showIFrame"];var _2f=0,dialogWidth=0,center="false";if(typeof _2d=="undefined"||_2d==null){_2d="height=370,width=320";}else{var _30=url;var _31=_2d.split(";");if(_31.length>1){_2d="";for(var i=0;i<_31.length;i++){var _33=_31[i].split(":");if(_33.length==2){if(_33[0].wq_trim()=="dialogHeight"){_2f=parseInt(_33[1].wq_trim(),10);_2d+="height="+_33[1]+",";}else{if(_33[0].wq_trim()=="dialogWidth"){dialogWidth=parseInt(_33[1].wq_trim(),10);_2d+="width="+_33[1]+",";}else{if(_33[0].wq_trim()=="center"){center=_33[1].toLowerCase().wq_trim();}else{_2d+=_33[0]+"="+_33[1]+",";}}}}}}}var idx="idx11_"+(new Date()).getTime()+Math.random()*10000;if(typeof obj=="undefined"){WebSquare.net.showWindowParam[idx]=null;}else{WebSquare.net.showWindowParam[idx]=obj;}if(_30.indexOf("?")>-1){_30=_30+"&modalParamIdx="+idx;}else{_30=_30+"?modalParamIdx="+idx;}if(typeof _2e=="undefined"){_2e="___iframeLayer";}WebSquare.net.showIFrameName[idx]=_2e;if(isNaN(_2f)||_2f==0){_2f=370;}if(isNaN(dialogWidth)||dialogWidth==0){dialogWidth=320;}try{if(typeof document.all[_2e]=="undefined"||document.all[_2e]==null){var _35=WebSquare.document.createElement("div");_35.id=_2e;_35.style.position="absolute";_35.style.overflow="hidden";_35.style.zIndex=10000;_35.style.visibility="visible";_35.style.height=_2f+"px";_35.style.width=dialogWidth+"px";_35.style.setExpression("top","document.body.scrollTop+document.body.clientHeight/2-"+_2f+"/2");_35.style.setExpression("left","document.body.scrollLeft+document.body.clientWidth/2-"+dialogWidth+"/2");document.body.appendChild(_35);_35.innerHTML="<iframe frameborder='0' name='iframe"+_2e+"' scrolling='no' style='width:100%; height:100%'></iframe>";document.frames["iframe"+_2e].location.replace(_30);}else{var _36=document.body.scrollTop+document.body.clientHeight/2-parseInt(document.all[_2e].style.height)/2;var _37=document.body.scrollLeft+document.body.clientWidth/2-parseInt(document.all[_2e].style.width)/2;document.all[_2e].style.top=_36;document.all[_2e].style.left=_37;document.all[_2e].visibility="visible";document.all[_2e].style.zIndex=10000;document.all[_2e].innerHTML="<iframe frameborder='0' scrolling='no' src='"+_30+"' style='width:100%; height:100%;'></iframe>";}}catch(eee){_2d="channelmode=no,directories=no,fullscreen=no,top=200,height=350,left=250,width=400,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";WebSquare.net.showWindow(url,obj,_2d,_2e);WebSquare.exception.printStackTrace(eee);}};WebSquare.net.hideIFrame=function(){["WebSquare.net.hideIFrame"];try{if(WebSquare.core.isParentFrameMethod("WebSquare.net._hideIFrame")){var str=WebSquare.net.getParameter("modalParamIdx");parent.WebSquare.net._hideIFrame(str);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.net._hideIFrame=function(idx){["WebSquare.net._hideIFrame"];var _3a=WebSquare.net.showIFrameName[idx];if(typeof document.all[_3a]!="undefined"&&document.all[_3a]!=null){document.all[_3a].innerHTML="";document.all[_3a].style.zIndex=1;document.all[_3a].visibility="hidden";document.body.removeChild(document.all[_3a]);}};WebSquare.net.getIFrameParam=function(){["WebSquare.net.getIFrameParam"];try{if(WebSquare.core.isParentFrameMethod("WebSquare.net._getParam")){var str=WebSquare.net.getParameter("modalParamIdx");return parent.WebSquare.net._getParam(str);}else{return "";}}catch(e){WebSquare.exception.printStackTrace(e);return "";}};WebSquare.net.hasParentFrame=function(){["WebSquare.net.hasParentFrame"];try{if(WebSquare.core.browserCheck.ieAllVersion){var _3c=WebSquare.core.browserVersion();if(_3c.charAt(0)=="5"&&window.parent!=window){return true;}else{if((_3c=="6"||_3c=="7")&&window.parent!=window&&window.parent==window.frameElement.ownerDocument.parentWindow){return true;}else{if(window.parent!=window){return true;}else{return false;}}}}else{if(WebSquare.core.browserCheck.moz){if(window.parent!=window){return true;}else{return false;}}else{if(WebSquare.core.browserCheck.opera){if(window.parent!=window){return true;}else{return false;}}}}}catch(e){WebSquare.exception.printStackTrace(e);}return false;};WebSquare.net.openWebsquareUrl=function(url,_3e,_3f){if(!_3f){_3f=window;}if(_3f&&_3f.location){var _3e=WebSquare.extend(WebSquare.net.getAllParameter(),_3e);_3e["w2xPath"]=WebSquare.core.getURL(url);if(url.startsWith("/")){_3e["w2xHome"]="";}var _40=[];var _41="";for(obj in _3e){_40.push(obj+"="+_3e[obj]);}_41="?"+_40.join("&");url=_3f.location.href.replace(/\?.*/,_41);_3f.location.assign(url);}};WebSquare.net.openUrl=function(url,_43){if(!_43){_43=window;}if(_43&&_43.location){if(!url.match(/^http:\/\//)){url="http://"+url;}_43.location.assign(url);}};WebSquare.net.getSSLBlankPage=function(_44){var src="";if(WebSquare.core.browserCheck.ie&&location.protocol=="https:"){if(_44==true){src=WebSquare.baseURI+"blank.html";}else{src="src='"+WebSquare.baseURI+"blank.html'";}}return src;};WebSquare.net.isSSLBlankPage=function(url){var _47=false;if(url==WebSquare.baseURI+"blank.html"){_47=true;}return _47;};WebSquare.net.ajax=function(_48){try{var _49,result,errorEventObj,doneEventObj;if(_48.beforeAjax){_49=_48.beforeAjax(_48);if(typeof _49!="undefined"&&_49==false){$l("ajax beforeAjax\uc5d0\uc11c result\uac00 false\uc774\ubbc0\ub85c \ucc98\ub9ac\ub97c \uc911\ub2e8");return;}}if(_48.processMsg!=""){WebSquare.layer.showProcessMessage(_48.processMsg);}var obfuscator_http=WebSquare.core.getXMLHTTPObject();var url=WebSquare.util.getSubmissionURL(_48.action);var _4b=(_48.mode=="synchronous")?false:true;var _4c=_48.mediatype||"application/xml";var _4d=_48.method||"post";var _4e=_48.requestData;var _4f=_48.timeout;$l(url);obfuscator_http.open(_4d,url,_4b);obfuscator_http.setRequestHeader("Accept",_4c);obfuscator_http.setRequestHeader("Content-Type",_4c);try{if(_48.requestHeader){for(var _50 in _48.requestHeader){obfuscator_http.setRequestHeader(_50,_48.requestHeader[_50]);}}}catch(ee){WebSquare.exception.printStackTrace(ee);}var _51;if(_4b){if(_4f){_51=window.setTimeout(function(){obfuscator_http.onreadystatechange=function(){};obfuscator_http.abort();errorEventObj={"errorType":"timeout-error","resourceUri":url,"time":_4f};WebSquare.layer.hideProcessMessage();$l("ajax timeout");window.clearTimeout(_51);if(_48.error){_48.error(errorEventObj);}return;},_4f);}obfuscator_http.onreadystatechange=function(){WebSquare.net.defaultcallback(obfuscator_http,_48,_51);};}obfuscator_http.send(_48.requestData);if(!_4b){WebSquare.net.commonHandler(obfuscator_http,_48);}}catch(e){WebSquare.exception.printStackTrace(e);WebSquare.layer.hideProcessMessage();}};WebSquare.net.commonHandler=function(obfuscator_http,_52){var _53;var url=WebSquare.core.getURL(_52.action);var _55=obfuscator_http.getResponseHeader("Content-Type")||"";if(_55.indexOf("xml")>-1){if(WebSquare.BootLoader.useWebSquareXMLParser){_53=WebSquare.xml.parse(obfuscator_http.responseText);}else{_53=obfuscator_http.responseXML;}}else{if(_55.indexOf("json")>-1){_53=JSON.parse(obfuscator_http.responseText);}else{_53=obfuscator_http.responseText;}}var _56=function(obj){if(_55.indexOf("json")>-1){obj.responseJSON=_53;}else{if(_55.indexOf("xml")>-1){obj.responseBody=_53;}}};if((obfuscator_http)&&((200>obfuscator_http.status)||(300<=obfuscator_http.status))){var _58={"errorType":"resource-error","resourceUri":url,"responseHeaders":WebSquare.ModelUtil.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_52.requestData,"responseBody":"text/"+obfuscator_http.responseText};$l("ajax error(E01). Status["+obfuscator_http.status+"] ");WebSquare.layer.hideProcessMessage();if(_52.error){_52.error(_58);}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;return;}var _59={"resourceUri":url,"responseHeaders":WebSquare.ModelUtil.parseResponseHeader(obfuscator_http),"responseStatusCode":obfuscator_http["status"],"responseReasonPhrase":obfuscator_http["statusText"],"requestBody":_52.requestData,"responseText":obfuscator_http.responseText};_56(_59);$l("ajax complete. Status["+obfuscator_http.status+"] ");WebSquare.layer.hideProcessMessage();if(_52.success){_52.success(_59);}obfuscator_http.onreadystatechange=function(){};obfuscator_http=null;};WebSquare.net.defaultcallback=function(obfuscator_http,_5a,_5b){try{var _5c;var url=WebSquare.core.getURL(_5a.action);var _5e=_5a.requestData;if(obfuscator_http.readyState==4){if(_5b){window.clearTimeout(_5b);_5b=null;}WebSquare.net.commonHandler(obfuscator_http,_5a);}}catch(e){WebSquare.exception.printStackTrace(e);WebSquare.layer.hideProcessMessage();}};WebSquare.net.download=function(_5f,_60,_61){["WebSquare.net.download"];WebSquare.core.download(_5f,_60,_61);};WebSquare.session={};WebSquare.session.sessionData={};WebSquare.session.sessionType=new Object();WebSquare.session.getAttribute=function(_1){["WebSquare.session.getAttribute"];var obfuscator_retStr=WebSquare.core.recursiveCall("WebSquare.session._getAttributeData",_1);var _2=WebSquare.core.recursiveCall("WebSquare.session._getAttributeType",_1);if(typeof obfuscator_retStr=="undefined"||obfuscator_retStr==null){return null;}if(_2.toLowerCase()=="string"||_2.toLowerCase()=="number"||_2.toLowerCase()=="boolean"){return obfuscator_retStr;}else{if(_2=="xml"){return WebSquare.xml.parse(obfuscator_retStr);}else{if(_2=="object"){return obfuscator_retStr;}else{return eval("new "+_2+"( obfuscator_retStr )");}}}};WebSquare.session.removeAttribute=function(_3){["WebSquare.session.removeAttribute"];var obfuscator_retStr=WebSquare.core.recursiveCall("WebSquare.session._removeAttributeData",_3);var _4=WebSquare.core.recursiveCall("WebSquare.session._removeAttributeType",_3);if(typeof obfuscator_retStr=="undefined"||obfuscator_retStr==null){return null;}if(_4.toLowerCase()=="string"||_4.toLowerCase()=="number"||_4.toLowerCase()=="boolean"){return obfuscator_retStr;}else{if(_4=="xml"){return WebSquare.xml.parse(obfuscator_retStr);}else{if(_4=="object"){return obfuscator_retStr;}else{return eval("new "+_4+"( obfuscator_retStr )");}}}};WebSquare.session.removeSession=function(){["WebSquare.session.removeSession"];var _5=WebSquare.core.recursiveCall("WebSquare.session._removeSession");var _6=WebSquare.core.recursiveCall("WebSquare.session._removeSession");};WebSquare.session.setAttribute=function(_7,_8){["WebSquare.session.setAttribute"];var _9="object";if(typeof _8=="string"){_9="string";}else{if(WebSquare.xml.isDocument(_8)){_8=WebSquare.xml.serialize(_8);_9="xml";}else{if(typeof _8=="object"){if(typeof _8.serialize=="function"&&typeof _8.classType!="undefined"){_9=_8.classType;_8=_8.serialize();}else{_8=_8;_9="object";}}}}WebSquare.core.recursiveCall("WebSquare.session._setAttribute",_7,_8,_9);};WebSquare.session._getAttributeData=function(_a){["WebSquare.session._getAttributeData"];var _b=WebSquare.session.sessionData[_a];if(typeof _b=="undefined"||_b==null){return null;}return _b;};WebSquare.session._getAttributeType=function(_c){["WebSquare.session._getAttributeType"];var _d=WebSquare.session.sessionType[_c];if(typeof _d=="undefined"||_d==null){return null;}return _d;};WebSquare.session._removeAttributeData=function(_e){["WebSquare.session._removeAttributeData"];var _f=WebSquare.session.sessionData[_e];WebSquare.session.sessionData[_e]=null;delete WebSquare.session.sessionData[_e];if(typeof _f=="undefined"||_f==null){return null;}return _f;};WebSquare.session._removeAttributeType=function(key){["WebSquare.session._removeAttributeType"];var _11=WebSquare.session.sessionType[key];WebSquare.session.sessionType[key]=null;delete WebSquare.session.sessionType[key];if(typeof _11=="undefined"||_11==null){return null;}return _11;};WebSquare.session._removeSession=function(key){["WebSquare.session._removeSession"];WebSquare.session.sessionData={};WebSquare.session.sessionType={};};WebSquare.session._setAttribute=function(key,_14,_15){["WebSquare.session._setAttribute"];WebSquare.session.sessionData[key]=_14;WebSquare.session.sessionType[key]=_15;};(function(_1){WebSquare.util={};WebSquare.util.loadedUserComponent={};WebSquare.util.loadedUserComponentPluginName={};var _2=_1.document;WebSquare.util.documentWrite=function(_3,_4){["WebSquare.util.documentWrite"];if(typeof _4!="undefined"&&_4!=null&&_4!=""){var _5=_2.getElementById(_4);_5.innerHTML=_3;}else{_2.write(_3);}};WebSquare.util.numericSort=function(a,b){["WebSquare.util.numericSort"];return (parseInt(a,10)-parseInt(b,10));};WebSquare.util.getNumber=function(_8){["WebSquare.util.getNumber"];var _9=_8+"";var re=/,/g;var _b=/[^0-9.-]/g;var _c=_9.replace(re,"");if(_c.match(_b)!=null){alert("Not a Number :"+_9);return NaN;}if(_c==null||_c==""){_c="0";}if(_c.indexOf(".")==-1){return parseInt(_c,10);}else{return parseFloat(_c);}};WebSquare.util.setNumber=function(_d){["WebSquare.util.setNumber"];var _e=_d+"";if(_e.length==0){return;}var _f="";var _10="";var _11="";if(_e.substring(0,1)=="+"||_e.substring(0,1)=="-"){_f=_e.substring(0,1);_e=_e.substring(1);}if(_e.indexOf(".")>-1){_11=_e.substring(_e.indexOf("."));_e=_e.substring(0,_e.indexOf("."));}for(var i=_e.length-3;i>=1;i=i-3){_10=","+_e.substring(i,i+3)+_10;}_10=_e.substring(0,i+3)+_10;return _f+_10+_11;};WebSquare.util.parseInt=function(str,_14){["WebSquare.util.parseInt"];var ret=parseInt(str);if(typeof _14!="undefined"&&!isNaN(_14)&&isNaN(ret)){return _14;}else{return ret;}};WebSquare.util.parseFloat=function(str,_17){["WebSquare.util.parseFloat"];var ret=parseFloat(str);if(typeof _17!="undefined"&&!isNaN(_17)&&isNaN(ret)){return _17;}else{return ret;}};WebSquare.util.getDate=function(str){["WebSquare.util.getDate"];var _1a=str+"";if(_1a.length==10){var re=/[^0-9]/g;return _1a.replace(re,"");}else{return _1a;}};WebSquare.util.setDate=function(str){["WebSquare.util.setDate"];var _1d=str+"";if(_1d.length!=8){return;}return _1d.substring(0,4)+"/"+_1d.substring(4,6)+"/"+_1d.substring(6,8);};WebSquare.util.getTime=function(str){["WebSquare.util.getTime"];var _1f=str+"";if(_1f.length==5){var re=/[^0-9]/g;return _1f.replace(re,"");}else{if(_1f.length==8){var re=/[^0-9]/g;return _1f.replace(re,"");}else{return _1f;}}};WebSquare.util.setTime=function(str){["WebSquare.util.setTime"];var _22=str+"";if(_22.length!=4){return;}return _22.substring(0,2)+":"+_22.substring(2,4);};WebSquare.util.viewSource=function(){["WebSquare.util.viewSource"];var _23="top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _24="";if(WebSquare.domain){_24="?domain="+WebSquare.text.URLEncoder(WebSquare.domain);}var url=WebSquare.core.getConfiguration("viewSourceURL");if(!url){url=WebSquare.baseURI+"message/viewSource.html";}var _26=_1.open(url+_24,"_blank",_23);};WebSquare.util.viewInstance=function(){["WebSquare.util.viewInstance"];var _27="top=120,height=485,left=200,width=650,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _28="";if(WebSquare.domain){_28="?domain="+WebSquare.text.URLEncoder(WebSquare.domain);}var url=WebSquare.core.getConfiguration("viewInstanceURL");if(!url){url=WebSquare.baseURI+"message/viewInstance.html";}var _2a=_1.open(url+_28,"_blank",_27);};WebSquare.util.viewFiddle=function(){["WebSquare.util.viewFiddle"];var _2b="top=30,height=710,left=50,width=1100,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _2c="";if(WebSquare.domain){_2c="?domain="+WebSquare.text.URLEncoder(WebSquare.domain);}var url=WebSquare.core.getConfiguration("fiddleURL");if(!url){url=WebSquare.baseURI+"fiddle/fiddle.html";}var _2e=_1.open(url+_2c,"_blank",_2b);};WebSquare.util.getSource=function(_2f){if(typeof _2f!="undefined"&&_2f=="raw"){return WebSquare.xml.serialize(WebSquare.WebSquaredoc.xmlDocument);}else{return WebSquare.xml.indent(WebSquare.WebSquaredoc.xmlDocument,"html");}};WebSquare.util.getInstance=function(_30){if(typeof _30!="undefined"&&_30=="raw"){return WebSquare.xml.serialize(WebSquare.ModelUtil.getInstanceByXPath("/").xmlNode.parentNode);}else{return WebSquare.xml.indent(WebSquare.ModelUtil.getInstanceByXPath("/").xmlNode.parentNode,"html");}};WebSquare.util.printRange=function(obj){["WebSquare.util.printRange"];var _32="top=0,height=670,left=0,width=1000,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";var _33="?id="+obj;if(WebSquare.domain){_33+="&domain="+WebSquare.text.URLEncoder(WebSquare.domain);}var url=WebSquare.core.getConfiguration("printRangeURL");if(!url){url=WebSquare.baseURI+"\"message/printRange.html";}var _35=_1.open(url+_33,"_blank",_32);};WebSquare.util.evalProp=function(_36,_37){["WebSquare.util.evalProp"];return (_37&&WebSquare.util.isDef(_36,_37)?_37[_36]:_37[_36]={});};WebSquare.util.setCursor=function(_38){["WebSquare.util.setCursor"];_2.body.style.cursor=_38;var _39=_2.getElementsByTagName("div");if(_39!=null){for(var i=0;i<_39.length;i++){if(_39[i].id!="undefined"&&_39[i].currentStyle.display!="none"&&_39[i].currentStyle.visibility!="hidden"){_39[i].style.cursor=_38;}}}};WebSquare.util.setCursorAsync=function(_3b){["WebSquare.util.setCursorAsync"];var cmd="WebSquare.util.setCursor('"+_3b+"');";_1.setTimeout(cmd,1);};WebSquare.util.toPixel=function(s,_3e){["WebSquare.util.toPixel"];if(String(s).indexOf("%")!=-1){var n=parseInt(s);return parseInt(n/100*(_3e=="x"?screen.availWidth:screen.availHeight));}return s;};WebSquare.util.dbltoHexacode=function(dbl){["WebSquare.util.dbltoHexacode"];dbl=Math.floor(dbl);var _41="0123456789ABCDEF";var _42=_41.substr(dbl&15,1);while(dbl>15){dbl>>=4;_42=_41.substr(dbl&15,1)+_42;}return _42;};WebSquare.util.hexacodetoDbl=function(_43){["WebSquare.util.hexacodetoDbl"];return parseInt(_43,16);};WebSquare.util.isOdd=function(num){["WebSquare.util.isOdd"];var _45=parseInt(num);if((_45%2)==0){return false;}else{return true;}};WebSquare.util.isInteger=function(num){var y=parseInt(num,10);if(isNaN(y)){return false;}if(num==y&&num.toString()==y.toString()){return true;}else{return false;}};WebSquare.util.isExist=function(_48,_49){["WebSquare.util.isExist"];return (_49[_48]!=null);};WebSquare.util.isDef=function(_4a,_4b){["WebSquare.util.isDef"];if(_4b==null){_4b=_1;}if(_4b[_4a]==null){return false;}else{return (typeof _4b[_4a]!="undefined");}};WebSquare.util.getTDIndex=function(_4c){["WebSquare.util.getTDIndex"];try{while(_4c.tagName!="TABLE"){if(_4c.tagName=="TD"){var _4d=_4c.parentNode.childNodes;for(var i=0;i<_4d.length;i++){if(_4d.item(i)==_4c){return i;}}break;}_4c=_4c.parentNode;}}catch(e){}return -1;};WebSquare.util.getTRIndex=function(_4f){["WebSquare.util.getTRIndex"];try{while(_4f.tagName!="TABLE"){if(_4f.tagName=="TR"){var _50=_4f.parentNode.childNodes;for(var i=0;i<_50.length;i++){if(_50.item(i)==_4f){return i;}}break;}_4f=_4f.parentNode;}}catch(e){}return -1;};WebSquare.util.getSiblingIndex=function(obj){["WebSquare.util.getSiblingIndex"];try{if(!obj){return -1;}var idx=0;while(obj.previousSibling){obj=obj.previousSibling;idx++;}return idx;}catch(e){}return -1;};WebSquare.util.getObjectValue=function(obj,_55,_56){["WebSquare.util.getObjectValue"];if(typeof obj!="undefined"&&obj!=null&&typeof obj[_55]!="undefined"&&obj[_55]!=""){return obj[_55];}else{if(typeof _56=="undefined"){return null;}else{return _56;}}};WebSquare.util.objToXML=function(obj){["WebSquare.util.objToXML"];var _58=WebSquare.xml.parse("<object/>");for(var i in obj){if(typeof i=="string"&&typeof obj[i]=="string"){WebSquare.xml.setValue(_58.documentElement,i,"value",obj[i]);}}return _58;};WebSquare.util.getBoolean=function(_5a){["WebSquare.util.getBoolean"];if(typeof _5a=="boolean"){return _5a;}else{if(typeof _5a=="string"&&_5a.toLowerCase()=="true"){return true;}else{return false;}}};WebSquare.util.checkUpdate=function(){["WebSquare.util.checkUpdate"];if(WebSquare.util.checkMode=="client"){try{var _5b=WebSquare.core.getXMLHTTPIndex();var _5c=WebSquare.core.XMLHTTPObject[_5b];var uri=WebSquare.BootLoader.getRandomPostfix(WebSquare.w2xPath);_5c.open("GET",uri,true);_5c.send(null);_5c.onreadystatechange=function(){try{if(_5c.readyState!=4){return;}if((_5c["status"])&&((200>_5c.status)||(400<=_5c.status))){WebSquare.core.releaseXMLHTTPObject(_5b);_1.setTimeout("WebSquare.util.checkUpdate()",WebSquare.util.checkInterval);}else{var _5e=null;if(WebSquare.BootLoader.useWebSquareXMLParser){_5e=WebSquare.xml.parse(_5c.responseText);}else{_5e=_5c.responseXML;}var ret="N/A";if(WebSquare.core.browserCheck.ieAllVersion&&WebSquare.BootLoader.useActiveXObject){var _60=WebSquare.core.getNamespaces(_5e);var _61="";for(var i in _60){if(i!=""){_61+="xmlns:"+i+"=\""+_60[i]+"\" ";}}_5e.setProperty("SelectionLanguage","XPath");_5e.setProperty("SelectionNamespaces",_61);}var _63=WebSquare.xml.getElementsByTagName(_5e,"buildDate",WebSquare.core._XML_NAMESPACE.W2);if(_63.length==1){ret=(_63[0].firstChild.nodeValue);}if(ret!=WebSquare.buildDate){var _64=_1.confirm("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+WebSquare.w2xPath+"]\uc758 \uc0dd\uc131\uc2dc\uac04\uc774 ["+WebSquare.buildDate+"]\uc5d0\uc11c ["+ret+"]\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uac31\uc2e0\ud558\uc2dc\ub824\uba74 \ud655\uc778\uc744 \ub204\ub974\uace0 \uc911\uc9c0\ud558\ub824\uba74 \ucde8\uc18c\ub97c \ub204\ub974\uc2ed\uc2dc\uc624.");WebSquare.core.releaseXMLHTTPObject(_5b);if(_64){location.reload(true);}else{alert("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+WebSquare.w2xPath+"]\uc740 \ub354\uc774\uc0c1 \ubc84\uc804\uc744 \ud655\uc778\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");}}else{WebSquare.logger.printLog("\ub3d9\uc77c \ud30c\uc77c \ud655\uc778 buildDate["+WebSquare.buildDate+"]");WebSquare.core.releaseXMLHTTPObject(_5b);_1.setTimeout("WebSquare.util.checkUpdate()",WebSquare.util.checkInterval);}}}catch(e){WebSquare.exception.printStackTrace(e,"WebSquare.BootLoader.browserVersion");WebSquare.core.removeXMLHTTPObject(_5b);}};}catch(e){WebSquare.exception.printStackTrace(e,"WebSquare.BootLoader.browserVersion");}}else{if(WebSquare.util.checkMode=="server"){try{var _5b=WebSquare.core.getXMLHTTPIndex();var _5c=WebSquare.core.XMLHTTPObject[_5b];var uri=WebSquare.util.checkURL;_5c.open("POST",uri,true);_5c.send(WebSquare.w2xPath);_5c.onreadystatechange=function(){try{if(_5c.readyState!=4){return;}if((_5c["status"])&&((200>_5c.status)||(400<=_5c.status))){WebSquare.core.releaseXMLHTTPObject(_5b);_1.setTimeout("WebSquare.util.checkUpdate()",WebSquare.util.checkInterval);}else{var ret=_5c.responseText;if(ret!=WebSquare.buildDate){var _66=_1.confirm("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+WebSquare.w2xPath+"]\uc758 \uc0dd\uc131\uc2dc\uac04\uc774 ["+WebSquare.buildDate+"]\uc5d0\uc11c ["+ret+"]\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uac31\uc2e0\ud558\uc2dc\ub824\uba74 \ud655\uc778\uc744 \ub204\ub974\uace0 \uc911\uc9c0\ud558\ub824\uba74 \ucde8\uc18c\ub97c \ub204\ub974\uc2ed\uc2dc\uc624.");WebSquare.core.releaseXMLHTTPObject(_5b);if(_66){location.reload(true);}else{alert("\ud604\uc7ac \ud398\uc774\uc9c0 \ud30c\uc77c["+WebSquare.w2xPath+"]\uc740 \ub354\uc774\uc0c1 \ubc84\uc804\uc744 \ud655\uc778\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");}}else{WebSquare.logger.printLog("\ub3d9\uc77c \ud30c\uc77c \ud655\uc778 buildDate["+WebSquare.buildDate+"]");WebSquare.core.releaseXMLHTTPObject(_5b);_1.setTimeout("WebSquare.util.checkUpdate()",WebSquare.util.checkInterval);}}}catch(e){WebSquare.exception.printStackTrace(e);WebSquare.core.removeXMLHTTPObject(_5b);}};}catch(e){WebSquare.exception.printStackTrace(e);}}}};WebSquare.util.registContextMenu=function(id,vec){["WebSquare.util.registContextMenu"];var obj=id;var _6a=WebSquare.util.makeContextMenuString(vec);var str=_6a.menuStr;var _6c=_6a.width+10;if(typeof id=="string"){obj=eval(id);}if(typeof obj=="object"){if(typeof obj.render!="undefined"&&obj.render!=null){obj=obj.render;}if(WebSquare.core.browserCheck.opera){obj.onmousedown=function(e){if(e.ctrlKey){WebSquare.util.contextObject=WebSquare.event.getTarget(e);var _6e=_1.innerWidth-WebSquare.event.getClientX(e);var _6f=_1.innerHeight-WebSquare.event.getClientY(e);var _70=_2.getElementById("_contextMenuLayer");if(typeof _70=="undefined"||_70==null){_70=_2.createElement("div");_2.body.insertBefore(_70,null);_70.id="_contextMenuLayer";_70.style.position="absolute";}if(_6e<182){_70.style.left=_1.pageXOffset+WebSquare.event.getClientX(e)-182;}else{_70.style.left=_1.pageXOffset+WebSquare.event.getClientX(e);}if(_6f<176){_70.style.top=_1.pageYOffset+WebSquare.event.getClientY(e)-176;}else{_70.style.top=_1.pageYOffset+WebSquare.event.getClientY(e);}var _71=vec.size()*19+9;if(vec.size()>15){_71=295+"px";}_70.style.height=_71;_70.style.overflow="hidden";_70.style.zIndex="20000";_70.style.visibility="visible";_70.innerHTML=str;return false;}else{return true;}};}else{obj.oncontextmenu=function(e){WebSquare.util.contextObject=WebSquare.event.getTarget(e);var _73=_2.getElementById("_contextMenuLayer");var _74=document.documentElement.scrollLeft||document.body.scrollLeft;var _75=document.documentElement.scrollTop||document.body.scrollTop;var _76=WebSquare.event.getClientX(e)+_74;var _77=WebSquare.event.getClientY(e)+_75;if(typeof _73=="undefined"||_73==null){_73=_2.createElement("div");_73.id="_contextMenuLayer";_73.style.position="absolute";document.body.appendChild(_73);}_73.style.zIndex="20000";_73.style.visibility="visible";_73.innerHTML=str;var _78=_73.offsetWidth+10;var _79=_73.offsetHeight+10;if(_76+_78>_74+document.documentElement.clientWidth){_76=_74+document.documentElement.clientWidth-_78-10;}if(_77+_79>_75+document.documentElement.clientHeight){_77=_75+document.documentElement.clientHeight-_79-10;}_73.style.left=_76+"px";_73.style.top=_77+"px";return false;};}}};WebSquare.util.removeContextMenu=function(id){["WebSquare.util.removeContextMenu"];var obj=id;if(typeof id=="string"){obj=eval(id);}if(typeof obj=="object"){if(typeof obj.render!="undefined"&&obj.render!=null){obj=obj.render;}obj.oncontextmenu=null;}};WebSquare.util.makeContextMenuString=function(vec){["WebSquare.util.makeContextMenuString"];var str="";var _7e=175;for(var i=0;i<vec.size();i++){var dom=vec.elementAt(i);var _81=WebSquare.xml.getAttribute(dom,"name","value");var _82=WebSquare.util.getWidth(_81)+30;if(_7e<_82){_7e=_82;}}if(WebSquare.core.browserCheck.ieAllVersion){var _83=vec.size()*19+10;if(vec.size()>15){_83=295;}str+="<div id='contextLayer' onselectstart='return false' style='overflow-x:hidden; overflow-y: auto; width:"+(_7e+5)+"px; height:"+_83+"px; '>";str+="<table width='"+_7e+"' border='0' cellspacing='0' cellpadding='0' style='border-collapse:collapse; border:1px solid #9fbcd4; background-color:#FFFFFF;'>";}else{var _83=vec.size()*19+10;if(vec.size()>15){_83=286;}str+="<div onselectstart='return false' style='position:relative; overflow:auto; width:"+_7e+"px;height:"+_83+"px; border:4px solid #e7e7e7; '>";str+="<table width='"+_7e+"' border='0' cellspacing='0' cellpadding='0' style='border-collapse:collapse; border:1px solid #9fbcd4; background-color:#FFFFFF;'>";}for(var i=0;i<vec.size();i++){var dom=vec.elementAt(i);if(WebSquare.xml.getAttribute(dom,"separator","value")=="true"){str+=WebSquare.logger.contextMenuAddRow1(WebSquare.xml.getAttribute(dom,"method","value"),WebSquare.xml.getAttribute(dom,"name","value"));}else{str+=WebSquare.logger.contextMenuAddRow(WebSquare.xml.getAttribute(dom,"method","value"),WebSquare.xml.getAttribute(dom,"name","value"));}}var _84={};_84.menuStr=str;_84.width=_7e;return _84;};WebSquare.util.getElement=function(_85){["WebSquare.util.createElement"];if(!_1._elements){_1._elements=[];}var _86=_2.createElement(_85);_1._elements.push(_86);return _86;};WebSquare.util.getURLString=function(str){try{if(str.toLowerCase().indexOf("url")!=-1){var _88=str.indexOf("(");var end=str.indexOf(")");var _8a=str.substring(_88+1,end);_8a=_8a.replace(/\"/g,"");return _8a;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.toHexColor=function(_8b){try{if(_8b.indexOf("rgb")!=-1){var _8c=_8b.indexOf("(");var end=_8b.indexOf(")");var _8e=_8b.substring(_8c+1,end);var RGB=_8e.split(",");var r=parseInt(RGB[0]).toString(16);var g=parseInt(RGB[1]).toString(16);var b=parseInt(RGB[2]).toString(16);if(r.length==1){r="0"+r;}if(g.length==1){g="0"+g;}if(b.length==1){b="0"+b;}return "#"+r+g+b;}else{return _8b;}}catch(e){WebSquare.exception.printStackTrace(e);}};if(!_1.getComputedStyle){_1.getComputedStyle=function(el,_94){this.el=el;this.getPropertyValue=function(_95){if(_95=="float"){_95="styleFloat";}_95=_95.capitalizeStyle();return el.currentStyle[_95]?el.currentStyle[_95]:null;};return this;};}if(document.documentElement.currentStyle){WebSquare.util.getStyleProperty=function(_96,_97){_97=_97.wq_trim().capitalizeStyle();var _98=_96.currentStyle[_97];if(_97.toLowerCase().indexOf("color")>-1){return this.toHexColor(_98);}else{return _98;}};}else{if(_1.getComputedStyle){WebSquare.util.getStyleProperty=function(_99,_9a){var _9b=document.defaultView.getComputedStyle(_99,null).getPropertyValue(_9a);if(_9a.toLowerCase().indexOf("color")>-1){return this.toHexColor(_9b);}else{return _9b;}};}else{WebSquare.util.getStyleProperty=function(_9c,_9d){var _9e=_9c.style[_9d];if(_9d.toLowerCase().indexOf("color")>-1){return this.toHexColor(_9e);}else{return _9e;}};}}WebSquare.util.setSize=function(_9f){if(WebSquare.core.browserCheck.ie){return;}var _a0=WebSquare.util.getStyleProperty(_9f,"width");var _a1=WebSquare.util.getStyleProperty(_9f,"height");var _a2=parseInt(WebSquare.util.getStyleProperty(_9f,"border-left-width"))||0;var _a3=parseInt(WebSquare.util.getStyleProperty(_9f,"border-right-width"))||0;var _a4=parseInt(WebSquare.util.getStyleProperty(_9f,"border-top-width"))||0;var _a5=parseInt(WebSquare.util.getStyleProperty(_9f,"border-bottom-width"))||0;var _a6=parseInt(WebSquare.util.getStyleProperty(_9f,"padding-left"))||0;var _a7=parseInt(WebSquare.util.getStyleProperty(_9f,"padding-right"))||0;var _a8=parseInt(WebSquare.util.getStyleProperty(_9f,"padding-top"))||0;var _a9=parseInt(WebSquare.util.getStyleProperty(_9f,"padding-bottom"))||0;var _aa=WebSquare.util.getStyleProperty(_9f,"border-width");if(_a0!=""&&_a0.indexOf("px")>=0){_9f.style.width=parseInt(_a0)-_a2-_a3-_a6-_a7;}if(_a1!=""&&_a1.indexOf("px")>=0){_9f.style.height=parseInt(_a1)-_a4-_a5-_a8-_a9;}};WebSquare.util.getWidth=function(str,_ac,_ad){["WebSquare.util.getWidth"];_ac=(_ac==null)?"":_ac;_ad=(_ad==null)?"":_ad;var _ae=WebSquare.util.getRulerSpan();_ae.style.cssText=_ac;_ae.style.visibility="hidden";_ae.style.position="absolute";_ae.style.width="";_ae.className=_ad;_ae.innerHTML=str;_ae.style.top="-10000px";_ae.style.left="-10000px";return _ae.offsetWidth;};WebSquare.util.getRulerSpan=function(_af,_b0){["WebSquare.util.getRulerSpan"];var _b1=_2.getElementById("__rulerSpan__");if(_b1==null){_b1=_2.createElement("span");_b1.id="__rulerSpan__";_b1.style.visibility="hidden";_b1.style.position="absolute";_2.body.appendChild(_b1);}_b1.style.cssText=_af;_b1.style.visibility="hidden";_b1.style.position="absolute";_b1.className=_b0;return _b1;};WebSquare.util.getImageUrl=function(_b2,_b3){["WebSquare.util.getImageUrl"];var _b4=WebSquare.util.getRulerSpan();_b4.style.cssText=_b2;_b4.style.visibility="hidden";_b4.style.position="absolute";_b4.className=_b3;_b4.style.top="-10000px";_b4.style.left="-10000px";var _b5=WebSquare.util.getStyleProperty(_b4,"background-image");return _b5;};WebSquare.util.getHeight=function(str,_b7,obj){["WebSquare.util.getHeight"];var _b9=WebSquare.util.getRulerSpan();_b9.style.width=_b7;if(obj!=null){_b9.style.fontSize=obj.style.fontSize;_b9.style.fontFamily=obj.style.fontFamily;_b9.style.fontWeight=obj.style.fontWeight;}else{_b9.style.fontSize="";_b9.style.fontFamily="";_b9.style.fontWeight="";}_b9.innerHTML=str;_b9.style.top="-10000px";_b9.style.left="-10000px";return _b9.offsetHeight;};WebSquare.util.getHeight2=function(str,_bb,_bc,_bd){["WebSquare.util.getHeight2"];var _be=WebSquare.util.getRulerSpan();_be.style.cssText=_bc;_be.className=_bd;_be.style.visibility="hidden";_be.style.height="";_be.style.position="";_be.style.padding="0 0 0 0 ";_be.style.width=WebSquare.util.getStyleProperty(_be,"width");_be.style.fontSize=WebSquare.util.getStyleProperty(_be,"font-size")||"12px";_be.style.fontFamily=WebSquare.util.getStyleProperty(_be,"font-family")||"";_be.style.fontWeight=WebSquare.util.getStyleProperty(_be,"font-weight")||"";_be.innerHTML=str;_be.style.top="-10000px";_be.style.left="-10000px";var _bf=_be.offsetHeight;if(_bf==0){_bf=parseInt(_be.style.fontSize);}return _bf;};WebSquare.util.setVerticalAlignMiddle=function(_c0,_c1){var _c2=WebSquare.util.getStyleProperty(_c0,"height");var _c3=WebSquare.util.getStyleProperty(_c0,"vertical-align");_c3=(_c3=="")?"middle":_c3;var _c4=WebSquare.util.getStyleProperty(_c0,"padding-top");if((_c4==""||_c4=="0px")&&_c3=="middle"&&_c2!=""&&_c2.indexOf("px")>=0){var div=document.createElement("div");_c0.appendChild(div);div.innerHTML=_c1;var _c6=WebSquare.util.getRulerSpan(_c0.style.cssText,_c0.className);_c6.style.height="";_c6.style.top="-10000px";_c6.style.left="-10000px";_c6.innerHTML=_c1;var _c7=_c6.offsetHeight;div.style.marginTop=(parseInt(_c2)-_c7)/2;}else{if((_c4==""||_c4=="0px")&&_c3=="bottom"&&_c2!=""&&_c2.indexOf("px")>=0){var div=document.createElement("div");_c0.appendChild(div);div.innerHTML=_c1;var _c6=WebSquare.util.getRulerSpan(_c0.style.cssText,_c0.className);_c6.style.height="";_c6.style.top="-10000px";_c6.style.left="-10000px";_c6.innerHTML=_c1;var _c7=_c6.offsetHeight;var _c8=parseInt(_c2)-_c7-3;div.style.marginTop=_c8;}else{_c0.innerHTML=_c1;}}};WebSquare.util.getChildNodeAt=function(obj,idx){["WebSquare.util.getChildNodeAt"];try{var _cb=WebSquare.util.first(obj);var _cc=0;while(_cb!=null&&_cc<idx){_cb=WebSquare.util.next(_cb);_cc++;}return _cb;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.prev=function(_cd){["WebSquare.util.prev"];do{_cd=_cd.previousSibling;}while(_cd&&_cd.nodeType!=1);return _cd;};WebSquare.util.next=function(_ce){["WebSquare.util.next"];do{_ce=_ce.nextSibling;}while(_ce&&_ce.nodeType!=1);return _ce;};WebSquare.util.first=function(_cf){["WebSquare.util.first"];_cf=_cf.firstChild;if(_cf==null){return _cf;}return _cf&&_cf.nodeType!=1?WebSquare.util.next(_cf):_cf;};WebSquare.util.last=function(_d0){["WebSquare.util.last"];_d0=_d0.lastChild;return _d0&&_d0.nodeType!=1?WebSquare.util.prev(_d0):_d0;};WebSquare.util.parent=function(_d1,num){["WebSquare.util.parent"];num=num||1;for(var i=0;i<num;i++){if(_d1!=null){_d1=_d1.parentNode;}}return _d1;};WebSquare.util.getEvent=function(e){try{e=e||event;}catch(e){WebSquare.exception.printStackTrace(e);}return e;};WebSquare.util.getStringByteSize=function(str){if(!str){return 0;}var _d6=WebSquare.core.getConfiguration("/WebSquare/byteCheckEncoding/@value");if(!_d6){_d6="UTF-8";}_d6=_d6.toUpperCase();switch(_d6){case "UTF-8":return WebSquare.util.getByteLengthUtf8(str);break;default:return WebSquare.util.getByteLength(str);break;}};WebSquare.util.getByteLength=function(str){var _d8=0;for(var i=0;i<str.length;i++){var _da=escape(str.charAt(i));if(_da.length==1){_d8++;}else{if(_da.indexOf("%u")!=-1){_d8+=2;}else{if(_da.indexOf("%")!=-1){_d8+=_da.length/3;}}}}return _d8;};WebSquare.util.getByteLengthUtf8=function(str){var _dc=0;for(var i=0;i<str.length;i++){_dc+=WebSquare.util.getCharByteSize(str.charAt(i));}return _dc;};WebSquare.util.getStringByByteSize=function(str,_df){if(!str){return "";}var _e0=WebSquare.core.getConfiguration("/WebSquare/byteCheckEncoding/@value");if(!_e0){_e0="UTF-8";}_e0=_e0.toUpperCase();switch(_e0){case "UTF-8":return WebSquare.util.getByteStringByLengthUtf8(str,_df);break;default:return WebSquare.util.getByteStringByLength(str,_df);break;}};WebSquare.util.getByteStringByLength=function(str,_e2){var _e3=0;for(var i=0;i<str.length;i++){var _e5=escape(str.charAt(i));if(_e5.length==1){_e3++;}else{if(_e5.indexOf("%u")!=-1){_e3+=2;}else{if(_e5.indexOf("%")!=-1){_e3+=_e5.length/3;}}}if(_e3>_e2){return str.substring(0,i);}}return str;};WebSquare.util.getByteStringByLengthUtf8=function(str,_e7){var _e8=0;for(var i=0;i<str.length;i++){var _ea=WebSquare.util.getCharByteSize(str.charAt(i));_e8+=_ea;if(_e8>_e7){return str.substring(0,i);}}return str;};WebSquare.util.getCharByteSize=function(ch){if(!ch||ch.length==0){return 0;}var _ec=0;var _ed=ch.charCodeAt(0);if(_ed<=127){_ec=1;}else{if(_ed<=2047){_ec=2;}else{if(_ed<=65535){_ec=3;}else{_ec=4;}}}return _ec;};WebSquare.util.getImageStyle=function(_ee,_ef){["WebSquare.util.getImageStyle"];var _f0="";var _f1=_ee.toLowerCase();if(_f1.indexOf("background-image")>=0){_f1=_f1.substring(_f1.indexOf("background-image"));var a=_f1.split(";");var _f3=a[0].split(":");_f3.shift();_f0=_f3.join("").wq_trim();if(_f0.startsWith("url")){_f0=_f0.substring(3).wq_trim();if(_f0.charAt(0)=="("&&_f0.charAt(_f0.length-1)==")"){_f0=WebSquare.core.getImageURL(_f0.substring(1,_f0.length-1));}}}else{_f0=WebSquare.skin.makeBackgroundImageUrl(_ef);}if(_f0!=""&&_f0!="none"){_f0="background-image:url("+_f0+")";}return _f0;};WebSquare.util.getInnerText=function(obj){["WebSquare.util.getInnerText"];var a="";try{a=obj.innerText;if(typeof a=="undefined"){a=obj.textContent;}}catch(e){WebSquare.exception.printStackTrace(e);}return a;};WebSquare.util.getTextNodeValue=function(_f6){try{var _f7=null;if(_f6){for(var _f8=_f6.firstChild;_f8!=null;_f8=_f8.nextSibling){if(_f8.nodeType==3){_f7=_f8.nodeValue;break;}}}return _f7;}catch(e){$l("dataController.getTextNodeValue :"+e.message);WebSquare.exception.printStackTrace(e);}};WebSquare.util.browserVersion=function(){try{return WebSquare.core.browserVersion();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.isIE=function(_f9){try{var _fa=WebSquare.core.browserCheck.ieVersion[_f9];if(_fa!=undefined){return _fa;}else{_fa=WebSquare.core.browserCheck.ie;if(_f9){_f9+="";_fa=_fa&&(_f9.indexOf(WebSquare.core.browserVersion())>-1);WebSquare.core.browserCheck.ieVersion[_f9]=_fa;}return _fa;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.isFF=function(_fb){try{var _fc=WebSquare.core.browserCheck.mozVersion[_fb];if(_fc!=undefined){return _fc;}else{_fc=WebSquare.core.browserCheck.moz;if(_fb){_fb+="";_fc=_fc&&(_fb.indexOf(WebSquare.core.browserVersion())>-1);WebSquare.core.browserCheck.mozVersion[_fb]=_fc;}return _fc;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.isChrome=function(_fd){try{var _fe=WebSquare.core.browserCheck.chromeVersion[_fd];if(_fe!=undefined){return _fe;}else{_fe=WebSquare.core.browserCheck.chrome;if(_fd){_fd+="";_fe=_fe&&(_fd.indexOf(WebSquare.core.browserVersion())>-1);WebSquare.core.browserCheck.chromeVersion[_fd]=_fe;}return _fe;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.isSafari=function(_ff){try{var _100=WebSquare.core.browserCheck.safariVersion[_ff];if(_100!=undefined){return _100;}else{_100=WebSquare.core.browserCheck.safari;if(_ff){_ff+="";_100=_100&&(_ff.indexOf(WebSquare.core.browserVersion())>-1);WebSquare.core.browserCheck.safariVersion[_ff]=_100;}return _100;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.isOpera=function(_101){try{var _102=WebSquare.core.browserCheck.operaVersion[_101];if(_102!=undefined){return _102;}else{_102=WebSquare.core.browserCheck.opera;if(_101&&WebSquare.core.browserVersion()){_101+="";_102=_102&&(_101.indexOf(WebSquare.core.browserVersion())>-1);WebSquare.core.browserCheck.operaVersion[_101]=_102;}return _102;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.isMobile=function(){try{var _103=WebSquare.core.browserCheck.isMobile;if(_103!=undefined){return _103;}else{if(WebSquare.core.browserCheck.android||WebSquare.core.browserCheck.iphone||WebSquare.core.browserCheck.ipad||WebSquare.core.browserCheck.ipod||WebSquare.core.browserCheck.blackberry){_103=true;}else{_103=false;}WebSquare.core.browserCheck.isMobile=_103;return WebSquare.core.browserCheck.isMobile;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.isNull=function(_104){["WebSquare.util.isNull"];if(typeof _104=="undefined"||_104==null){return true;}else{return false;}};WebSquare.util.isNumber=function(_105){["WebSquare.util.isNumber"];if(WebSquare.util.isNull(_105)){return false;}if(_105.constructor==Number){return true;}else{return false;}};WebSquare.util.isString=function(_106){["WebSquare.util.isString"];if(WebSquare.util.isNull(_106)){return false;}if(_106.constructor==String){return true;}else{return false;}};WebSquare.util.isArray=function(_107){["WebSquare.util.isArray"];return _107&&typeof _107==="object"&&typeof _107.length==="number"&&typeof _107.splice==="function"&&!(_107.propertyIsEnumerable("length"));};WebSquare.util.isRegExp=function(_108){["WebSquare.util.isRegExp"];if(WebSquare.util.isNull(_108)){return false;}if(_108 instanceof RegExp){return true;}else{return false;}};WebSquare.util.XMLToHTML=function(node){["WebSquare.util.XMLToHTML"];var _10a=document.createElement(node.tagName);var _10b=WebSquare.WebSquareparser.parseAttribute(node);try{for(var idx in _10b){if(idx=="style"){_10a.style.cssText=_10b[idx];continue;}else{if(idx=="className"){_10a.className=_10b[idx];continue;}}_10a[idx]=_10b[idx];}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}for(var _10d=node.firstChild;_10d!=null;_10d=_10d.nextSibling){if(_10d.nodeType==1){_10a.appendChild(this.XMLToHTML(_10d));}else{if(_10d.nodeType==2||_10d.nodeType==3||_10d.nodeType==4){value=childNode.nodeValue;_10a.appendChild(document.createTextNode(_10d.nodeValue));}}}return _10a;};WebSquare.util.setPrecision=function(_10e){["WebSquare.util.setPrecision"];try{if(typeof _10e=="number"){_10e=parseFloat(_10e.toFixed(10));_10e=parseFloat(_10e.toPrecision(15));}return _10e;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.dynamicCreate=function(id,_110,_111,_112,_113){["WebSquare.util.dynamicCreate"];try{var _114="uiplugin."+_110;if(_110=="secret"){_114="uiplugin.input";}requires(_114);var _115=_114.split(".");var comp;var xml;if(_111.nodeType&&(_111.nodeType===1||_111.nodeType===9)){xml=_111.nodeType==9?_111.documentElement:_111;_111={};}else{if(typeof _111=="string"){xml=WebSquare.xml.parse(_111);xml=xml.documentElement;_111={};}}var _118=WebSquare.util.loadedUserComponentPluginName[_115[1]];if(_118){var xml=WebSquare.util.loadedUserComponent[_118];var _119=xml.getAttribute("class");_111.className+=" "+_119;comp=WebSquare.controlFactory.create(id,_111,xml,"self");comp.scope_obj=comp;comp.makeScope(comp);}else{comp=new WebSquare[_115[0]][_115[1]](id,_111,xml);}_1[id]=comp;if(typeof WebSquare.WebSquareDocument.componentsCache[_110]=="undefined"){WebSquare.WebSquareDocument.componentsCache[_110]=new Array();}if(typeof WebSquare.WebSquareDocument.componentsCache[_110].push=="function"){WebSquare.WebSquareDocument.componentsCache[_110].push(comp);}if(_113){comp.modelControl.setItemset(_113.nodeset,_113.label,_113.value);}comp.appendTo(_112);comp.activate();if(_113){comp.refreshItemset();}return comp;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.setSortable=function(id,_11b,_11c,_11d,_11e){["WebSquare.util.setSortable"];try{for(var i=0;i<_11c.length;i++){var _120=WebSquare.extend({handle:_11b[i]?_11b[i].render:_11c[i].render,delay:10,direction:"y"},_11e||{});WebSquare.dragdrop.sDragManager.registerItem(_11c[i],_120);}for(var i=0;i<_11d.length;i++){WebSquare.dragdrop.sDragManager.registerGroup(id,_11d[i]);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.getComponentById=function(id){["WebSquare.util.getComponentById"];try{return _1[id];}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.util.getGlobalFunction=function(str){["WebSquare.util.getGlobalFunction"];try{var path=str.wq_trim().split(".");var idx=0;var obj=path[0]?_1[path[idx++]]||null:null;while(obj&&(typeof obj=="object"||typeof obj=="function")&&idx<path.length){obj=obj[path[idx++]];}return typeof obj=="function"?obj:null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};var _126=true,queue=[],handlers={},scripts={},root_page=/^[^?#]*\//.exec(location.href)[0],root_domain=/^\w+\:\/\/\/?[^\/]+/.exec(root_page)[0],test_script_elem=document.createElement("script"),explicit_preloading=typeof test_script_elem.preload=="boolean",real_preloading=explicit_preloading||(test_script_elem.readyState&&test_script_elem.readyState=="uninitialized"),script_ordered_async=!real_preloading&&test_script_elem.async===true,script_cache=real_preloading&&!script_ordered_async;var api=WebSquare.util;var _128=0,PRELOADED=1,LOADING=2,LOADED=3;if(script_ordered_async){api.js=function(){$l("[WebSquare.util.js]script loading[script_ordered_async]");var args=arguments,fn=args[args.length-1],els={},lastScriptIndex=-1;if(!isFunc(fn)){fn=null;}each(args,function(el,i){if(el!=fn){el=getScript(el);if(!els[el.url]){lastScriptIndex++;}els[el.url]=el;}});var i=0;for(var el in els){(function(el,i){load(el,fn&&i==lastScriptIndex?function(){one(fn);}:null);})(els[el],i);i++;}return api;};}else{if(script_cache){api.js=function(){$l("[WebSquare.util.js]script loading[script_cache]");var args=arguments,newArr=[],els={};for(var i=0;i<args.length;i++){(function(el){if(!isFunc(el)){if(!els[el]){newArr.push(el);}els[el]=el;}else{newArr.push(el);}})(args[i]);}args=newArr;var rest=[].slice.call(args,1),next=rest[0];if(next){each(rest,function(el){if(!isFunc(el)){preload(getScript(el));}});load(getScript(args[0]),isFunc(next)?next:function(){api.js.apply(null,rest);});}else{load(getScript(args[0]));}return api;};}else{api.js=function(){$l("[WebSquare.util.js]script loading[XHR]");var args=arguments,fn=args[args.length-1],els={},lastScriptIndex=-1;if(!isFunc(fn)){fn=null;}each(args,function(el,i){if(el!=fn){el=getScript(el);if(!els[el.url]){lastScriptIndex++;}els[el.url]=el;}});var i=0;for(var el in els){(function(el,i){var uri=canonical_uri(el.url,"");if(uri.indexOf(root_domain)==0){WebSquare.BootLoader.globalEval(WebSquare.BootLoader.loadUri(uri));}else{load(el,null);}if(fn&&i==lastScriptIndex){one(fn);}})(els[el],i);i++;}return api;};}}function canonical_uri(src,_13e){var _13f=/^\w+\:\/\//;if(/^\/\/\/?/.test(src)){src=location.protocol+src;}else{if(!_13f.test(src)&&src.charAt(0)!="/"){src=(_13e||"")+src;}}return _13f.test(src)?src:((src.charAt(0)=="/"?root_domain:root_page)+src);}api.ready=function(key,fn,_142){if(isFunc(_142)){fn=_142;key="ALL";}var _143=scripts[key];if(_143&&_143.state==LOADED||key=="ALL"&&allLoaded()){one(fn);return api;}var arr=handlers[key];if(!arr){arr=handlers[key]=[fn];}else{arr.push(fn);}return api;};function one(fn){if(!isFunc(fn)||fn._done){return;}fn();fn._done=1;}function toLabel(url){var els=url.split("/"),name=els[els.length-1],i=name.indexOf("?");return i!=-1?name.substring(0,i):name;}function getScript(url){var _149;if(typeof url=="object"){for(var key in url){if(url[key]){_149={name:key,url:url[key]};}}}else{_149={name:toLabel(url),url:url};}var _14b=scripts[_149.url];if(_14b){return _14b;}for(var url in scripts){if(scripts[url]==_149.url){return scripts[url];}}scripts[_149.url]=_149;return _149;}function each(arr,fn){if(!arr){return;}if(typeof arr=="object"){arr=[].slice.call(arr);}for(var i=0;i<arr.length;i++){fn.call(arr,arr[i],i);}}function isFunc(el){return Object.prototype.toString.call(el)=="[object Function]";}function allLoaded(els){els=els||scripts;for(var url in els){if(els[url].state!=LOADED){return false;}}return true;}function onPreload(_152){_152.state=PRELOADED;each(_152.onpreload,function(el){el.call();});}function preload(_154,_155){if(!_154.state){_154.state=_128;_154.onpreload=[];scriptTag({src:_154.url,type:"cache"},function(){onPreload(_154);});}}function load(_156,_157){if(_156.state==LOADED&&_157){return _157();}if(_156.state==LOADING){return api.ready(_156.url,_157,_156.name);}if(_156.state==_128){return _156.onpreload.push(function(){load(_156,_157);});}_156.state=LOADING;scriptTag(_156.url,function(){_156.state=LOADED;if(_157){_157();}each(handlers[_156.url],function(fn){one(fn);});if(allLoaded()){each(handlers.ALL,function(fn){one(fn);});}});}function scriptTag(src,_15b){try{var head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;var s=_2.createElement("script");s.type="text/"+(src.type||"javascript");var _15e=WebSquare.core.getConfiguration("/WebSquare/script/@encoding");if(_15e){s.charset=_15e;}else{s.charset="utf-8";}s.src=WebSquare.BootLoader.getEngineUri(src.src||src);s.async=false;s.onreadystatechange=s.onload=function(){var _15f=s.readyState;if(!_15b.done&&(!_15f||/loaded|complete/.test(_15f))){s.onload=s.onreadystatechange=null;s=undefined;_15b();_15b.done=true;}};if(!WebSquare.util.isIE()){s.onerror=function(){_15b();_15b.done=true;};}head.appendChild(s);head=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}}WebSquare.util.createPopup=function(id,type,_162,_163,_164,_165,_166,_167,_168,xml,_16a){try{WebSquare.uiplugin.popup.createPopup(id,type,_162,_163,_164,_165,_166,_167,_168,xml,_16a);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.util.openPopup=function(url,_16c,_16d,_16e){try{WebSquare.uiplugin.popup.openPopup(url,_16c,_16d,_16e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.util.getPopupParam=function(){try{return WebSquare.uiplugin.popup.getPopupParam();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.util.closePopup=function(id){try{var _170="";if(arguments.length==0){_170=WebSquare.net.getParameter("popupID");}else{_170=id;}if(id==undefined&&opener&&opener.WebSquare){opener.WebSquare.uiplugin.popup.callClose(_170);}else{WebSquare.uiplugin.popup.callClose(_170);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.util.getPopup=function(id){try{return WebSquare.uiplugin.popup.getPopup(id);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.util.getPopupWindow=function(id){try{return WebSquare.uiplugin.popup.getPopupWindow(id);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.util.isPopup=function(){["WebSquare.util.isPopup"];try{if(typeof window.opener=="undefined"){return false;}else{if(window.opener.closed){return false;}else{return true;}}}catch(e){return false;}};WebSquare.util.getDocumentSize=function(_173){["WebSquare.util.getDocumentSize"];try{var _173=_173.toLowerCase();if(_173=="height"){return document.documentElement.clientHeight;}else{if(_173=="width"){return document.documentElement.clientWidth;}}$l("getDocumentSize : wrong sizeName["+_173+"]");return;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.getSubmissionURL=function(url){["WebSquare.util.getSubmissionURL"];try{var _175=WebSquare.core.getConfiguration("/WebSquare/hybrid/submissionURL");var _176=WebSquare.core.getURL(WebSquare.util.appendingPathComponent(_175,url));return _176;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.appendingPathComponent=function(_177,_178){["WebSquare.util.appendingPathComponent"];try{if(_178.indexOf("://")>0||_177.length==0){return _178;}var _179=_177.length;if(_177.charAt(_179-1)=="/"){if(_178.charAt(0)=="/"){return _177+_178.substr(1);}else{return _177+_178;}}else{if(_178.charAt(0)=="/"){return _177+_178;}else{return _177+"/"+_178;}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.setDocumentLang=function(lang){["WebSquare.util.setDocumentLang"];try{document.documentElement.setAttribute("xml:lang",lang);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.util.setDisabled=function(obj){["WebSquare.util.setDisabled"];try{var _17c=[];var _17d=[];var _17e=obj.componentId;var flag=obj.disabled;var _180=obj.excludeIdList;var _181=obj.includeIdList;var _182;if(!_17e){_182=WebSquare.getBody();}else{_182=_1[_17e];}if(!_182||!_182.options||!_182.options.pluginName){$l("[WebSquare.util.setDisabled]id:\ud574\ub2f9\ud558\ub294 WebSquareComponent\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");return {"doneComponents":_17c,"skipComponents":_17d};}var _183;if(WebSquare.util.isArray(_181)){if(!_183){_183={};}for(var i=0;i<_181.length;i++){_183[_181[i]]=true;}}else{if(_181){_183=_181;}}var _185=WebSquare.util.getDisabledComponentIdList(_182,flag);var _186=_185.targetComponents;_17d=_185.skipComponents;for(var i=0;i<_186.length;i++){var _187=_1[_186[i]];if(!_187){continue;}var _188=_187.options.disabled;if(!_183){try{if(_188!==flag){_187.setDisabled(flag);}_17c.push(_187.id);}catch(e){$l("[WebSquare.util.setDisabled]["+_187.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}else{try{if(_183[_187.id]){if(_188!==flag){_187.setDisabled(flag);}_17c.push(_187.id);}}catch(e){$l("[WebSquare.util.setDisabled]["+_187.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}}if(_180){for(var i=0;i<_180.length;i++){var _187=_1[_180[i]];var _188=_187.options.disabled;if(_188===flag){try{_187.setDisabled(!flag);}catch(e){$l("[WebSquare.util.setDisabled]["+_187.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}}}for(var i=0;i<_17d.length;i++){var _187=_1[_17d[i]];var _188=_187.options.disabled;if(_188!==flag){try{_187.setDisabled(flag);}catch(e){$l("[WebSquare.util.setDisabled]["+_187.id+"] \ucef4\ud3ec\ub10c\ud2b8\uc758 disable \ucc98\ub9ac\ub97c \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \ucef4\ud3ec\ub10c\ud2b8 \uc0c1\ud0dc\ub97c \ud655\uc778\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");}}}return {"doneComponents":_17c,"skipComponents":_17d};}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.util.getDisabledComponentIdList=function(_189,_18a,_18b){["WebSquare.util.getComponentIdList"];try{if(!_18b){_18b={};_18b.targetComponents=[];_18b.skipComponents=[];}var _189;if(!_189){_189=WebSquare.getBody();}if(_189&&_189.options&&_189.options.pluginName=="body"){}else{if(_189.activeStatus=="stop"){return _18b;}if(!_189.id||!_1[_189.id].options||!_1[_189.id].options.pluginName){return _18b;}if(_189.options.disabled===_18a){_18b.skipComponents.push(_189.id);}else{_18b.targetComponents.push(_189.id);}}for(var i=0;i<_189.childControlList.length;i++){var _18d=_189.childControlList[i];if(!_18d||!_1[_18d.id]||!_1[_18d.id].options||!_1[_18d.id].options.pluginName){continue;}WebSquare.util.getDisabledComponentIdList(_18d,_18a,_18b);}return _18b;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.util.getIgnoreKeyPressCodes=function(){return {8:"backspace",9:"tab",37:"left",38:"up",39:"right",40:"down",36:"home",35:"end",4:"insert",46:"del",33:"pageup",34:"pagedown"};};WebSquare.util.setDomain=function(_18e){["WebSquare.util.setDomain"];try{WebSquare.domain=_18e;document.domain=_18e;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.addClearMemory=function(fn){["WebSquare.util.addClearMemory"];try{if(fn){WebSquare.core.userClearMemoryStack.push(fn);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.util.loadUserComponent=function(src,id,_192){["WebSquare.util.loadUserComponent"];try{var _193=WebSquare.xml.load(src);var _194=[];if(id){if(this.loadedUserComponent[src+"#"+id]){return;}_194.push(id);}else{var _195=WebSquare.xml.findNodes(_193.documentElement,"//@id");for(var i=0;i<_195.length;i++){var _197=_195[i].value;if(this.loadedUserComponent[src+"#"+_197]){continue;}_194.push(_197);}}for(var i=0;i<_194.length;i++){var _198=WebSquare.xml.findNode(_193.documentElement,"//*[@id='"+_194[i]+"']");var _199;if(_198){var _19a=_198.firstChild;for(var node=_19a;node!=null;node=node.nextSibling){if(node.nodeName=="w2:style"){_199=node;break;}}}if(_199){_198.removeChild(_199);var _19c=_19c=document.getElementsByTagName("head")[0];if(_19c.getElementsByTagName("style").length==0){var _19d=document.createElement("style");_19d.setAttribute("type","text/css");_19c.appendChild(_19d);}var _19e=WebSquare.xml.serialize(_199.childNodes[0]);if(WebSquare.util.isIE(8)){_19c.getElementsByTagName("style")[0].styleSheet.cssText+=_19e;}else{_19c.getElementsByTagName("style")[0].innerHTML+=_19e;}}WebSquare.util.loadedUserComponent[src+"#"+_194[i]]=_198;WebSquare.util.loadedUserComponentPluginName[_192]=src+"#"+_194[i];}}catch(e){WebSquare.exception.printStackTrace(e);}};})(window);WebSquare.date={};WebSquare.date.toTimestampString=function(_1){["WebSquare.date.toTimestampString"];var _2=WebSquare.text.fillZero(_1.getFullYear(),4);var _3=WebSquare.text.fillZero(_1.getMonth()+1,2);var _4=WebSquare.text.fillZero(_1.getDate(),2);var _5=WebSquare.text.fillZero(_1.getHours(),2);var _6=WebSquare.text.fillZero(_1.getMinutes(),2);var _7=WebSquare.text.fillZero(_1.getSeconds(),2);var _8=WebSquare.text.fillZero(_1.getMilliseconds(),3);var _9=_2+"-"+_3+"-"+_4+" "+_5+":"+_6+":"+_7+"."+_8+"000";return _9;};WebSquare.date._parseDate=function(_a,_b){["WebSquare.date._parseDate"];if(typeof _b=="undefined"||_b==null||_b==""){_b="yyyyMMdd";}_a=WebSquare.util.getDate(_a);if(_a.length!=_b.length){return _a;}var _c=["","","","","",""];for(var i=0;i<_b.length;i++){var _e=_b.charAt(i);var _f=_a.charAt(i);switch(_e){case "y":_c[0]+=_f;break;case "M":_c[1]+=_f;break;case "d":_c[2]+=_f;break;case "H":_c[3]+=_f;break;case "m":_c[4]+=_f;break;case "s":_c[5]+=_f;break;}}for(var i=0;i<_c.length;i++){if(i===0){WebSquare.text.fillZero(_c[i],4);}else{WebSquare.text.fillZero(_c[i],2);}}return _c;};WebSquare.date.parseDate=function(str,_11){["WebSquare.date.parseDate"];var _12=WebSquare.date._parseDate(str,_11);if(typeof _12==="string"){return null;}return new Date(_12[0],_12[1]-1,_12[2],_12[3],_12[4],_12[5]);};WebSquare.date.dateDiff=function(_13,_14){["WebSquare.date.dateDiff"];_13=_13+"";_14=_14+"";_13=WebSquare.util.getDate(_13);_14=WebSquare.util.getDate(_14);if(_13.length!=8){alert(WebSquare.language.getMessage("E_date_ShouldBeyyMMddFormat",_13));}if(isNaN(_13)){alert(WebSquare.language.getMessage("E_date_ShouldBeNumberFormat",_13));}if(_14.length!=8){alert(WebSquare.language.getMessage("E_date_ShouldBeyyMMddFormat",_14));}if(isNaN(_14)){alert(WebSquare.language.getMessage("E_date_ShouldBeNumberFormat",_14));}var y1=parseInt(_13.substring(0,4),10);var m1=parseInt(_13.substring(4,6),10);var d1=parseInt(_13.substring(6,8),10);var y2=parseInt(_14.substring(0,4),10);var m2=parseInt(_14.substring(4,6),10);var d2=parseInt(_14.substring(6,8),10);var _1b=WebSquare.date.getMaxMinYear();var _1c=_1b["maxYear"];var _1d=_1b["minYear"];if(y1>_1c||y1<_1d){alert(WebSquare.language.getMessage("E_date_YearRange",_1d,_1c,y1));return;}if(m1>12||m1<1){alert(WebSquare.language.getMessage("E_date_MonthRange","1","12",m1));return;}if(d1>31||d1<1){alert(WebSquare.language.getMessage("E_date_DayRange","1","31",d1));return;}if(y2>_1c||y2<_1d){alert(WebSquare.language.getMessage("E_date_YearRange",_1d,_1c,y2));return;}if(m2>12||m2<1){alert(WebSquare.language.getMessage("E_date_MonthRange","1","12",m2));return;}if(d2>31||d2<1){alert(WebSquare.language.getMessage("E_date_DayRange","1","31",d2));return;}var _1e=24*60*60*1000;var t1=Date.UTC(y1,m1-1,d1);var t2=Date.UTC(y2,m2-1,d2);return (t2-t1)/_1e;};WebSquare.date.dateAdd=function(_21,_22){["WebSquare.date.dateAdd"];_21=_21+"";_21=WebSquare.util.getDate(_21);if(_21.length!=8){alert(WebSquare.language.getMessage("E_date_ShouldBeyyMMddFormat",_21));}if(isNaN(_21)){alert(WebSquare.language.getMessage("E_date_ShouldBeNumberFormat",_21));}var y1=parseInt(_21.substring(0,4),10);var m1=parseInt(_21.substring(4,6),10);var d1=parseInt(_21.substring(6,8),10);var _26=WebSquare.date.getMaxMinYear();var _27=_26["maxYear"];var _28=_26["minYear"];if(y1>_27||y1<_28){alert(WebSquare.language.getMessage("E_date_YearRange",_28,_27,y1));return;}if(m1>12||m1<1){alert(WebSquare.language.getMessage("E_date_MonthRange","1","12",m1));return;}if(d1>31||d1<1){alert(WebSquare.language.getMessage("E_date_DayRange","1","31",d1));return;}var _29=24*60*60*1000;var t1=Date.UTC(y1,m1-1,d1)+_22*_29;var t2=new Date();t2.setTime(t1);var ret=WebSquare.text.fillZero(t2.getUTCFullYear()+"",4)+WebSquare.text.fillZero((t2.getUTCMonth()+1)+"",2)+WebSquare.text.fillZero(t2.getUTCDate()+"",2);return ret;};WebSquare.date.isValidDate=function(obj,_2e){["WebSquare.date.isValidDate"];_2e=WebSquare.util.getDate(_2e);if(_2e==null||_2e.length!=8){alert(WebSquare.language.getMessage("E_date_ShouldBeyyMMddFormat",_2e));try{obj.focus();obj.select();}catch(e){WebSquare.exception.printStackTrace(e);}return false;}if(isNaN(_2e)){alert(WebSquare.language.getMessage("E_date_ShouldBeNumberFormat",_2e));try{obj.focus();obj.select();}catch(e){WebSquare.exception.printStackTrace(e);}return false;}var y1=parseInt(_2e.substring(0,4),10);var m1=parseInt(_2e.substring(4,6),10);var d1=parseInt(_2e.substring(6,8),10);if(m1<1||m1>12){alert(WebSquare.language.getMessage("E_date_MonthRange","1","12",m1));try{obj.focus();obj.select();}catch(e){WebSquare.exception.printStackTrace(e);}return false;}var _32=31;if(m1==2){_32=((y1%400==0)||((y1%4==0)&&(y1%100!=0)))?29:28;}else{if(m1==4||m1==6||m1==9||m1==11){_32=30;}}if(d1<1||d1>_32){alert(WebSquare.language.getMessage("E_date_DayRange","1",_32,d1));try{obj.focus();obj.select();}catch(e){WebSquare.exception.printStackTrace(e);}return false;}return true;};WebSquare.date.getFormattedDate=function(_33,_34){["WebSquare.date.getFormattedDate"];var ret=null;if(typeof _33!=="object"||_33==null){return null;}if(typeof _34=="undefined"||_34==null||_34==""){ret=_33.getTime()+"";}else{var idx=-1;idx=_34.indexOf("yyyy");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=WebSquare.text.fillZero(_33.getFullYear()+"",4);if(idx+4<_34.length){tmp+=_34.substring(idx+4,_34.length);}_34=tmp;}idx=_34.indexOf("yy");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=WebSquare.text.fillZero((_33.getFullYear()+"").substr(2,2)+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("MM");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=WebSquare.text.fillZero((_33.getMonth()+1)+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("dd");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=WebSquare.text.fillZero(_33.getDate()+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("HH");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=WebSquare.text.fillZero(_33.getHours()+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("hh");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=WebSquare.text.fillZero(_33.getHours()+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("mm");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=WebSquare.text.fillZero(_33.getMinutes()+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("ss");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=WebSquare.text.fillZero(_33.getSeconds()+"",2);if(idx+2<_34.length){tmp+=_34.substring(idx+2,_34.length);}_34=tmp;}idx=_34.indexOf("SSS");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}tmp+=WebSquare.text.fillZero(_33.getMilliseconds()+"",3);if(idx+3<_34.length){tmp+=_34.substring(idx+3,_34.length);}_34=tmp;}idx=_34.indexOf("EEEE");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}var _38=WebSquare.language.getMessage("F_dateFormat_daynames_full").split(",");tmp+=_38[_33.getUTCDay()];if(idx+4<_34.length){tmp+=_34.substring(idx+4,_34.length);}_34=tmp;}idx=_34.indexOf("E");if(idx>-1){var tmp="";if(idx>0){tmp+=_34.substring(0,idx);}var _38=WebSquare.language.getMessage("F_dateFormat_daynames_abbr").split(",");tmp+=_38[_33.getUTCDay()];var _39=1;for(var i=idx+1;_34.charAt(i)==="E";i++){_39++;}if(idx+_39<_34.length){tmp+=_34.substring(idx+_39,_34.length);}_34=tmp;}ret=_34;}return ret;};WebSquare.date._getDay=function(_3b,_3c){["WebSquare.date._getDay"];_3b=_3b+"";var _3d=parseInt(_3b.slice(0,4));var _3e=_3b.slice(4,6);if(_3e.charAt(0)==0){_3e=parseInt(_3e.charAt(1));}else{_3e=parseInt(_3e);}var _3f=_3b.slice(6,8);if(_3f.charAt(0)==0){_3f=parseInt(_3f.charAt(1));}else{_3f=parseInt(_3f);}if(_3d<1900){if(_3c){alert(WebSquare.language.getMessage("Date_err_1900"));}return -1;}if(_3e<0||_3e>12){if(_3c){alert(WebSquare.language.getMessage("Date_err_12"));}return -1;}if(_3f<0||_3f>31){if(_3c){alert(WebSquare.language.getMessage("Date_err_31"));}return -1;}if(_3e==2&&_3f>28){if((_3d%4==0)&&(_3d%100!=0)||(_3d%400==0)){if(_3f>29){if(_3c){alert(WebSquare.language.getMessage("Date_err_29"));}return -1;}}else{if(_3c){alert(WebSquare.language.getMessage("Date_err_28"));}return -1;}}if(_3e==4||_3e==6||_3e==9||_3e==11){if(_3f>30){if(_3c){alert(WebSquare.language.getMessage("DatePicker_monthNames").split(",")[_3e-1]+WebSquare.language.getMessage("Date_err_30"));}return -1;}}var _40=_3e;if(_3e==1){_40=13;_3d=_3d-1;}if(_3e==2){_40=14;_3d=_3d-1;}var _41=parseInt(((_40+1)*3)/5,10);var _42=parseInt(_3d/4,10);var _43=parseInt(_3d/100,10);var _44=parseInt(_3d/400,10);var _45=_3f+(_40*2)+_3d+_41+_42-_43+_44+2;var _46=parseInt(_45/7,10);return _45-(_46*7);};WebSquare.date.getDay=function(_47){["WebSquare.date.getDay"];var _48=this._getDay(_47,true);switch(_48){case 0:return "\ud1a0\uc694\uc77c";case 1:return "\uc77c\uc694\uc77c";case 2:return "\uc6d4\uc694\uc77c";case 3:return "\ud654\uc694\uc77c";case 4:return "\uc218\uc694\uc77c";case 5:return "\ubaa9\uc694\uc77c";case 6:return "\uae08\uc694\uc77c";}};WebSquare.date.toLunar=function(_49){["WebSquare.date.toLunar"];_49=_49.toString();var _4a=parseInt(_49.substring(0,4));var _4b=parseInt(_49.substring(4,6));if(_49.substring(4,6)=="09"){_4b=9;}var _4c=parseInt(_49.substring(6,8));if(_49.charAt(6)=="0"){_4c=parseInt(_49.charAt(7),10);}var _4d=new Array("1212122322121","1212121221220","1121121222120","2112132122122","2112112121220","2121211212120","2212321121212","2122121121210","2122121212120","1232122121212","1212121221220","1121123221222","1121121212220","1212112121220","2121231212121","2221211212120","1221212121210","2123221212121","2121212212120","1211212232212","1211212122210","2121121212220","1212132112212","2212112112210","2212211212120","1221412121212","1212122121210","2112212122120","1231212122212","1211212122210","2121123122122","2121121122120","2212112112120","2212231212112","2122121212120","1212122121210","2132122122121","2112121222120","1211212322122","1211211221220","2121121121220","2122132112122","1221212121120","2121221212110","2122321221212","1121212212210","2112121221220","1231211221222","1211211212220","1221123121221","2221121121210","2221212112120","1221241212112","1212212212120","1121212212210","2114121212221","2112112122210","2211211412212","2211211212120","2212121121210","2212214112121","2122122121120","1212122122120","1121412122122","1121121222120","2112112122120","2231211212122","2121211212120","2212121321212","2122121121210","2122121212120","1212142121212","1211221221220","1121121221220","2114112121222","1212112121220","2121211232122","1221211212120","1221212121210","2121223212121","2121212212120","1211212212210","2121321212221","2121121212220","1212112112210","2223211211221","2212211212120","1221212321212","1212122121210","2112212122120","1211232122212","1211212122210","2121121122210","2212312112212","2212112112120","2212121232112","2122121212110","2212122121210","2112124122121","2112121221220","1211211221220","2121321122122","2121121121220","2122112112322","1221212112120","1221221212110","2122123221212","1121212212210","2112121221220","1211231212222","1211211212220","1221121121220","1223212112121","2221212112120","1221221232112","1212212122120","1121212212210","2112132212221","2112112122210","2211211212210","2221321121212","2212121121210","2212212112120","1232212122112","1212122122120","1121212322122","1121121222120","2112112122120","2211231212122","2121211212120","2122121121210","2124212112121","2122121212120","1212121223212","1211212221220","1121121221220","2112132121222","1212112121220","2121211212120","2122321121212","1221212121210","2121221212120","1232121221212","1211212212210","2121123212221","2121121212220","1212112112220","1221231211221","2212211211220","1212212121210","2123212212121","2112122122120","1211212322212","1211212122210","2121121122120","2212114112122","2212112112120","2212121211210","2212232121211","2122122121210","2112122122120","1231212122212","1211211221220","2121121321222","2121121121220","2122112112120","2122141211212","1221221212110","2121221221210","2114121221221");var _4e=new Array("\uac11","\uc744","\ubcd1","\uc815","\ubb34","\uae30","\uacbd","\uc2e0","\uc784","\uacc4");var _4f=new Array("\uc790","\ucd95","\uc778","\ubb18","\uc9c4","\uc0ac","\uc624","\ubbf8","\uc2e0","\uc720","\uc220","\ud574");var _50=new Array("\uc950","\uc18c","\ubc94","\ud1a0\ub07c","\uc6a9","\ubc40","\ub9d0","\uc591","\uc6d0\uc22d\uc774","\ub2ed","\uac1c","\ub3fc\uc9c0");var _51=new Array("MOUSE","COW","TIGER","RABBIT","DRAGON","SNAKE","HORSE","SHEEP","MONKEY","COCK","DOG","PIG");var _52=new Array(31,28,31,30,31,30,31,31,30,31,30,31);var _53=new Array("SUN","MON","TUE","WED","THU","FRI","SAT");var _54,LunarMonth,LunarDay;var _55,LVar_month1,LVar_month2;var _56,LVar_iCount1,LVar_jCount,LVar_jCount1,LVar_jCount2;var _57,LVar_weekValue;var _58=new Array(170);var _59,LVar_TotalDays0,LVar_TotalDays1,LVar_TotalDays2;var _5a;var _5b,LunarStrDay;var _5c="";var _5d="";for(_56=0;_56<170;_56++){_58[_56]=0;for(LVar_jCount=0;LVar_jCount<12;LVar_jCount++){switch(Number(_4d[_56].charAt(LVar_jCount))){case 1:case 3:_58[_56]=_58[_56]+29;break;case 2:case 4:_58[_56]=_58[_56]+30;}}switch(Number(_4d[_56].charAt(12))){case 0:break;case 1:case 3:_58[_56]=_58[_56]+29;break;case 2:case 4:_58[_56]=_58[_56]+30;break;}}LVar_TotalDays1=(1880*365)+Math.floor(1880/4)-Math.floor(1880/100)+Math.floor(1880/400)+30;_5a=_4a-1;LVar_TotalDays2=(_5a*365)+Math.floor(_5a/4)-Math.floor(_5a/100)+Math.floor(_5a/400);_57=((_4a%400)==0)||((_4a%100)!=0)&&((_4a%4)==0);if(_57){_52[1]=29;}else{_52[1]=28;}if(_4c>_52[_4b-1]){return;}for(_56=0;_56<(_4b-1);_56++){LVar_TotalDays2=LVar_TotalDays2+_52[_56];}LVar_TotalDays2=LVar_TotalDays2+_4c;_59=LVar_TotalDays2-LVar_TotalDays1+1;LVar_TotalDays0=_58[0];for(_56=0;_56<170;_56++){if(_59<=LVar_TotalDays0){break;}LVar_TotalDays0=LVar_TotalDays0+_58[_56+1];}_54=_56+1881;LVar_TotalDays0=LVar_TotalDays0-_58[_56];_59=_59-LVar_TotalDays0;if(Number(_4d[_56].charAt(12))!=0){LVar_jCount2=13;}else{LVar_jCount2=12;}LVar_month2=0;for(LVar_jCount=0;LVar_jCount<LVar_jCount2;LVar_jCount++){if(Number(_4d[_56].charAt(LVar_jCount))<=2){LVar_month2++;}if(Number(_4d[_56].charAt(LVar_jCount))<=2){LVar_month1=Number(_4d[_56].charAt(LVar_jCount))+28;}else{LVar_month1=Number(_4d[_56].charAt(LVar_jCount))+26;}if(_59<=LVar_month1){break;}_59=_59-LVar_month1;}_55=LVar_jCount;LunarMonth=LVar_month2;LunarDay=_59;LVar_weekValue=LVar_TotalDays2%7;_56=(LVar_TotalDays2+4)%10;LVar_jCount=(LVar_TotalDays2+2)%12;LVar_iCount1=(_54+6)%10;LVar_jCount1=(_54+8)%12;if(LunarMonth<10){_5b="0"+LunarMonth;}else{_5b=""+LunarMonth;}if(LunarDay<10){LunarStrDay="0"+LunarDay;}else{LunarStrDay=""+LunarDay;}return _54.toString()+_5b.toString()+LunarStrDay.toString();};WebSquare.date.getCurrentServerDate=function(_5e){["WebSquare.date.getCurrentServerDate"];var _5f=WebSquare.core.getXMLHTTPObject();_5e=_5e||"";var _60=WebSquare.core.getConfiguration("serverTimeURL");if(!_60){_60=WebSquare.baseURI+"/engine/system/getServerTime.jsp";}_5f.open("POST",_60+"?pattern="+_5e+"&idx="+(new Date()).getTime()+Math.random()*10000,false);_5f.send(null);var _61=_5f.responseText;_5f.onreadystatechange=function(){};_5f=null;return _61.wq_trim();};WebSquare.date.getMaxMinYear=function(){var _62=WebSquare.core.getConfiguration("/WebSquare/date/maxYear/@value")-0;if(_62<1000||_62>9999||isNaN(_62)){_62=2099;}var _63=WebSquare.core.getConfiguration("/WebSquare/date/minYear/@value")-0;if(_63<1000||_63>9999||isNaN(_63)){_63=1901;}if(_63>_62){var tmp=_63;_63=_62;_62=tmp;}var ret={};ret["maxYear"]=_62;ret["minYear"]=_63;return ret;};WebSquare.text={};WebSquare.text.checkMaxLength=function(_1,_2){["WebSquare.text.checkMaxLength"];if(typeof _1!="undefined"&&typeof _1.maxLength!="undefined"&&_1.maxLength>-1){if(_2.length>_1.maxLength){var _3=_2.length-_1.maxLength;_2=_2.substring(_3);}}return _2;};WebSquare.text.checkAllowChar=function(_4,_5){["WebSquare.text.checkAllowChar"];var _6=_4;var _7="";if(typeof _5!="undefined"&&_5!=null&&_5!=""){var re=new RegExp("["+_5+"]");for(var i=0;i<_6.length;i++){var s=_6.charAt(i);if(s.match(re)!=null){_7+=s;}else{}}return _7;}else{return _6;}};WebSquare.text.checkIgnoreChar=function(_b,_c){["WebSquare.text.checkIgnoreChar"];var _d=_b;var _e="";if(typeof _c!="undefined"&&_c!=null&&_c!=""){var re=new RegExp("["+_c+"]");for(var i=0;i<_d.length;i++){var s=_d.charAt(i);if(s.match(re)!=null){}else{_e+=s;}}return _e;}else{return _d;}};WebSquare.text.getSelection=function(_12){var _13={start:0,end:0};try{if("selectionStart" in _12){_13.start=_12.selectionStart;_13.end=_12.selectionEnd;}else{var _14=document.selection.createRange().getBookmark();var _15=_12.createTextRange();_15.moveToBookmark(_14);var _16=_12.createTextRange();_16.collapse(true);_16.setEndPoint("EndToStart",_15);var _17=_16.text.length;var _18=_15.text.length;_13.start=_17;_13.end=_17+_18;}}catch(e){WebSquare.exception.printStackTrace(e);}return _13;};WebSquare.text.getCaretPos=function(_19){var len=0;try{if(WebSquare.util.isIE()){var _1b=WebSquare.document.selection.createRange();var _1c=_1b.duplicate();var _1d=_19.createTextRange();while(_1c.compareEndPoints("StartToStart",_1d)>0){_1c.moveStart("character",-1);len++;}}else{len=_19.selectionStart;}}catch(e){WebSquare.exception.printStackTrace(e);}return len;};WebSquare.text.setCaretPos=function(_1e,pos){try{if(WebSquare.util.isIE()){var _20=_1e.createTextRange();_20.move("character",pos);_20.select();}else{_1e.selectionStart=pos;_1e.selectionEnd=pos;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.text.checkString=function(obj,e){["WebSquare.text.checkString"];var _23=obj.render.value;if(WebSquare.core.browserCheck.moz){if(e.charCode==0){return;}if(obj.maxLength!=-1&&_23.length>=obj.maxLength){var _24=obj.render.selectionStart;var end=obj.render.selectionEnd;if(_24!=end){return;}e.preventDefault();return;}}var _26=(e.charCode)?e.charCode:e.keyCode;if(e.ctrlKey==true&&_26==86){return;}if(e.ctrlKey==true&&_26==118){return;}var _27=String.fromCharCode(_26);if(typeof obj.ignoreChar!="undefined"&&obj.ignoreChar!=null&&obj.ignoreChar!=""){var re=new RegExp("["+obj.ignoreChar+"]");if(_27.match(re)!=null){if(WebSquare.core.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}}if(typeof obj.allowChar!="undefined"&&obj.allowChar!=null&&obj.allowChar!=""){var re=new RegExp("["+obj.allowChar+"]");if(_27.match(re)==null){if(WebSquare.core.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}}if(obj.characterCase!=""&&obj.characterCase=="upper"){if(e.keyCode>=97&&e.keyCode<=122){e.keyCode-=32;}}if(obj.characterCase!=""&&obj.characterCase=="lower"){if(event.keyCode>=65&&event.keyCode<=90){event.keyCode+=32;}}if(obj.valueType=="number"){if((obj.getCaretPos()!=0&&(event.keyCode==45||event.keyCode==43))){if(WebSquare.core.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}if((_23.charAt(0)=="+"||_23.charAt(0)=="-")&&obj.getCaretPos()==0){if(WebSquare.core.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}if((_23.indexOf(".")>-1&&e.keyCode==46)){if(WebSquare.core.browserCheck.ie){e.returnValue=false;return;}else{e.preventDefault();return;}}}};WebSquare.text.validateValue=function(_29,obj){["WebSquare.text.validateValue"];if(obj.mandatory=="true"){if(_29.wq_trim()==""){obj.isValid="false";if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" has to be filled ";}return false;}}if(obj.minLength!=-1){if(_29.length<obj.minLength){obj.isValid="false";if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" has to be same or more than "+obj.minLength;}return false;}}if(obj.maxLength!=-1){if(_29.length>obj.maxLength){obj.isValid="false";if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" has to be same or less than "+obj.maxLength;}return false;}}return true;};WebSquare.text.validateText=function(_2b,obj){["WebSquare.text.validateText"];if(!WebSquare.text.validateValue(_2b,obj)){WebSquare.text.validateEffect(_2b,obj);return false;}if(obj.validator!=""){var _2d=obj;var _2e=_2b;var _2f=true;try{_2f=eval(obj.validator+"(validateValue,validateTextObj);");if(!_2f){WebSquare.text.validateEffect(_2b,obj);if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" \uc758 validator\uc5d0 \uc758\ud55c \uc218\ud589 \uc870\uac74\uc744 \ub9cc\uc871\uc2dc\ud0a4\uc9c0 \ubabb\ud558\uc600\uc2b5\ub2c8\ub2e4. ";}}return _2f;}catch(e){if(obj.displayMessage=="true"){obj.inValidMessage=obj.id+" \uc758 validator\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uac70\ub098 \uac1d\uccb4\uac00 \uc544\ub2d9\ub2c8\ub2e4. ";}return false;}}return true;};WebSquare.text.validateEffect=function(_30,obj){["WebSquare.text.validateEffect"];if(obj.invalid_background_color!=""){obj.render.style.backgroundColor=obj.invalid_background_color;}if(obj.invalid_color!=""){obj.render.style.color=obj.invalid_color;}};WebSquare.text.getPosition=function(_32){var _33=_32.indexOf(".");var _34=0;if(_33>-1){var str=_32.substring(_33);for(var i=0;i<str.length;i++){var _37=str.charAt(i);if(_37=="#"||_37=="0"){_34++;}}_34=_34-(_34*2);}else{for(var j=0;j<_32.length;j++){var _37=_32.charAt(j);if(_37=="0"){_34++;}}}return _34;};WebSquare.text.checkComma=function(_39){var _3a=_39.indexOf(",");if(_3a==-1){return false;}return true;};WebSquare.numFRe=new RegExp("[^0]+[0-9]*");WebSquare.numberFormatter=function(str,_3c,_3d){this.sign="";this.integer=new Array();this.decimal=new Array();this.delimeter=_3c||",";this.decimalDelimeter=_3d||".";var _3e="";vardecimalStr="";var arr=str.split(this.decimalDelimeter);if(arr.length==1){_3e=arr[0];decimalStr="";}else{if(arr.length>1){_3e=arr[0];decimalStr=arr[1];}}if(_3e.charAt(0)=="+"||_3e.charAt(0)=="-"){this.sign=_3e.charAt(0);_3e=_3e.substr(1);}var _40=_3e.match(WebSquare.numFRe);if(_40!=null){_3e=_40.join("");}else{_3e="0";}for(var i=0;i<_3e.length;i++){this.integer.push(parseInt(_3e.charAt(i)));}for(var i=0;i<decimalStr.length;i++){this.decimal.push(parseInt(decimalStr.charAt(i)));}};WebSquare.numberFormatter.prototype.getValue=function(){var _42="";_42+=this.sign;if(this.integer.length>0){_42+=this.integer.join("");}if(this.decimal.length>0){_42+=".";_42+=this.decimal.join("");}return _42;};WebSquare.numberFormatter.prototype.setPrecision=function(_43,_44){if(_43==null){_43=0;}if(_44==null){_44="[round]";}var _45=0;if(_44=="[round]"){_45=5;}else{if(_44=="[floor]"){_45=0;}else{if(_44=="[ceil]"){_45=9;}}}var _46=this.decimal.length;if(_43+1>_46){for(var i=0;i<_43+1-_46;i++){this.decimal.push(0);}}else{this.decimal=this.decimal.slice(0,_43+1);}var _48=0;if(this.decimal[_43]+_45>9){_48=1;}for(var i=_43-1;i>=0;i--){this.decimal[i]+=_48;if(this.decimal[i]>9){_48=1;this.decimal[i]-=10;}else{_48=0;}}this.decimal.pop();if(_48!=0){for(var i=this.integer.length-1;i>=0;i--){this.integer[i]+=_48;if(this.integer[i]>9){_48=1;this.integer[i]-=10;}else{_48=0;}}}if(_48!=0){this.integer.push(0);for(var i=this.integer.length-1;i>=1;i--){this.integer[i]=this.integer[i-1];}this.integer[0]=1;}};WebSquare.numberFormatter.prototype.getValueWithDelimeter=function(_49,_4a){var _4b="";if(_4a==null||_4a<=0){return this.getValue();}_4b+=this.sign;if(this.integer.length>0){var _4c=this.integer.length%_4a;var _4d=0;for(var i=0;i<this.integer.length;i++){if((i+1)%_4a==_4c){_4b+=this.integer.slice(_4d,i+1).join("");if(i+1<this.integer.length){_4b+=_49||this.delimeter;}_4d=i+1;}}}if(this.decimal.length>0){_4b+=this.decimalDelimeter;_4b+=this.decimal.join("");}return _4b;};WebSquare.numberFormatter.prototype.getFormattedValue=function(_4f){var _50="";if(!_4f){return this.getValue();}_50+=this.sign;var _51=[];WebSquare.extend(_51,this.integer);var _52=[];var _53;if(_4f.indexOf(this.decimalDelimeter)>-1){_53=_4f.substring(0,_4f.indexOf(this.decimalDelimeter));}else{_53=_4f.substring(0);}var _54=_53.split(this.delimeter).reverse();for(var i=0;i<this.integer.length;i++){if(_51.length==0){break;}var _56=_54[i%_54.length].length;var _57=[];for(var j=0;j<_56;j++){_57.push(_51.pop());}_52.push(_57.reverse().join(""));}_50+=_52.reverse().join(this.delimeter);if(this.decimal.length>0){_50+=this.decimalDelimeter;_50+=this.decimal.join("");}return _50;};WebSquare.numberFormatter.prototype.cutZeroDecimal=function(_59){var _5a=_59.lastIndexOf("0")-1;var _5b=this.decimal.length-1;while(_5b>=0&&this.decimal[_5b]==0&&_5b>_5a){this.decimal.pop();_5b--;}};WebSquare.text.formatCurrency=function(_5c,_5d,obj,_5f,_60,_61){_5c=_5c+"";if(_5c.wq_trim()==""){return "";}else{if(typeof _5d=="undefined"||_5d==null||_5d==""){return parseFloat(_5c)+"";}}if(!_60){_60=",";}if(!_61){_61=".";}var _62=new RegExp("\\[("+_61+"*)\\]","g");var _63=new RegExp("["+_61+"]+[#0]+");var _64=new RegExp("["+_60+"]+[#0]+");var _65=new RegExp("["+_61+"][0-9]*");var _66=_5d.match(_62);_5d=_5d.replace(_62,"");var _67=_5d.match(_63);if(_67!=null){_67=_67.join("");}else{_67=_61;}var _68=_67.length-1;_5d=_5d.replace(_63,"");var _69=_5d.match(_64);if(_69!=null){_69=_69.join("");}else{_69=_60;}var _6a=_69.length-1;_5d=_5d.replace(_64,"");var _6b=new WebSquare.numberFormatter(_5c,_60,_61);if(_5f){if(_66==null){_66="[floor]";}var _6c=_5c.match(_65);_67=_61;if(_6c&&_6c.toString().length>=2){var len=_6c.toString().length;for(var i=0;i<len-1;i++){_67+="0";}}}_6b.setPrecision(_68,_66);_6b.cutZeroDecimal(_67);var _6f=_6b.getValueWithDelimeter(_60,_6a);if(_5f&&_5c.slice(-1)==_61){_6f+=_61;}if(_5f&&(_5c==="-"||_5c==="+")){_6f=_5c;}var _70=_5d.substr(0,_5d.indexOf("#"));var _71=_5d.substr(_5d.lastIndexOf("#")+1,_5d.length-1-_5d.lastIndexOf("#"));if(_70){_6f=_70+_6f;}if(_71){_6f=_6f+_71;}return _6f;};WebSquare.text.formatEuroCurrency=function(_72,_73,obj,_75,_76,_77){_72=_72+"";if(_72.wq_trim()==""){return "";}else{if(typeof _73=="undefined"||_73==null||_73==""){return parseFloat(_72)+"";}}if(!_76){_76=".";}if(!_77){_77=",";}var _78=new RegExp("\\[("+_76+"*)\\]","g");var _79=new RegExp("["+_77+"]+[#0]+");var _7a=new RegExp("["+_76+"]+[#0]+");var _7b=new RegExp("["+_77+"][0-9]*");var _7c=_73.match(_78);_73=_73.replace(_78,"");var _7d=_73.match(_79);if(_7d!=null){_7d=_7d.join("");}else{_7d=_77;}var _7e=_7d.length-1;_73=_73.replace(_79,"");var _7f=_73.match(_7a);if(_7f!=null){_7f=_7f.join("");}else{_7f=_76;}var _80=_7f.length-1;_73=_73.replace(_7a,"");var _81=new WebSquare.numberFormatter(_72,_76,_77);if(_75){if(_7c==null){_7c="[floor]";}var _82=_72.match(_7b);_7d=_77;if(_82&&_82.toString().length>=2){var len=_82.toString().length;for(var i=0;i<len-1;i++){_7d+="0";}}}_81.setPrecision(_7e,_7c);_81.cutZeroDecimal(_7d);var _85=_81.getValueWithDelimeter(_76,_80);if(_75&&_72.slice(-1)==_77){_85+=_77;}if(_75&&(_72==="-"||_72==="+")){_85=_72;}var _86=_73.substr(0,_73.indexOf("#"));var _87=_73.substr(_73.lastIndexOf("#")+1,_73.length-1-_73.lastIndexOf("#"));if(_86){_85=_86+_85;}if(_87){_85=_85+_87;}return _85;};WebSquare.text.formatRupeeCurrency=function(_88,_89,obj,_8b,_8c,_8d){var _8e=_89;_88=_88+"";if(_88.wq_trim()==""){return "";}else{if(typeof _89=="undefined"||_89==null||_89==""){return parseFloat(_88)+"";}}if(!_8c){_8c=",";}if(!_8d){_8d=".";}if(_89.indexOf(";")>-1){var _8f=_89.split(";");var _90="";for(var i=0;i<_8f.length;i++){_90=_8f[i].wq_trim();var _92=_90.match(WebSquare.text.formatRupeeCRe1);if(_92&&_92.length>0){var _93=_92[0].replace("[","").replace("]","");if(eval("Number("+_88+")"+_93)){break;}}}if(_90){return WebSquare.text.formatRupeeCurrency(_88,_90.replace(WebSquare.text.formatRupeeCRe1,""),obj,_8b,_8c,_8d);}}var _94=new RegExp("\\[("+_8d+"*)\\]","g");var _95=new RegExp("["+_8d+"]+[#0]+");var _96=new RegExp("["+_8c+"]+[#0]+");var _97=new RegExp("["+_8d+"][0-9]*");var _98=_89.match(_94);_89=_89.replace(_94,"");var _99=_89.match(_95);if(_99!=null){_99=_99.join("");}else{_99=_8d;}var _9a=_99.length-1;_89=_89.replace(_95,"");var _9b=_89.substr(0,_89.indexOf("#"));var _9c=_89.substr(_89.lastIndexOf("#")+1,_89.length-1-_89.lastIndexOf("#"));var _9d=_89.match(_96);if(_9d!=null){_9d=_9d.join("");}else{_9d=_8c;}var _9e=_9d.length-1;_89=_89.replace(_96,"");var _9f=new WebSquare.numberFormatter(_88,_8c,_8d);if(_8b){if(_98==null){_98="[floor]";}var _a0=_88.match(_97);_99=_8d;if(_a0&&_a0.toString().length>=2){var len=_a0.toString().length;for(var i=0;i<len-1;i++){_99+="0";}}}_9f.setPrecision(_9a,_98);_9f.cutZeroDecimal(_99);var _a2=_9f.getFormattedValue(_8e);if(_8b&&_88.slice(-1)==_8d){_a2+=_8d;}if(_8b&&(_88==="-"||_88==="+")){_a2=_88;}if(_9b){_a2=_9b+_a2;}if(_9c){_a2=_a2+_9c;}return _a2;};WebSquare.text.formatTengeCurrency=function(_a3,_a4,obj,_a6,_a7,_a8){_a3=_a3+"";if(_a3.wq_trim()==""){return "";}else{if(typeof _a4=="undefined"||_a4==null||_a4==""){return parseFloat(_a3)+"";}}if(!_a7){_a7=" ";}if(!_a8){_a8="-";}var _a9=new RegExp("\\[("+_a8+"*)\\]","g");var _aa=new RegExp("["+_a8+"]+[#0]+");var _ab=new RegExp("["+_a7+"]+[#0]+");var _ac=new RegExp("["+_a8+"][0-9]*");var _ad=_a4.match(_a9);_a4=_a4.replace(_a9,"");var _ae=_a4.match(_aa);if(_ae!=null){_ae=_ae.join("");}else{_ae=_a8;}var _af=_ae.length-1;_a4=_a4.replace(_aa,"");var _b0=_a4.match(_ab);if(_b0!=null){_b0=_b0.join("");}else{_b0=_a7;}var _b1=_b0.length-1;_a4=_a4.replace(_ab,"");var _b2=new WebSquare.numberFormatter(_a3,_a7,_a8);if(_a6){if(_ad==null){_ad="[floor]";}var _b3=_a3.match(_ac);_ae=_a8;if(_b3&&_b3.toString().length>=2){var len=_b3.toString().length;for(var i=0;i<len-1;i++){_ae+="0";}}}_b2.setPrecision(_af,_ad);_b2.cutZeroDecimal(_ae);var _b6=_b2.getValueWithDelimeter(_a7,_b1);if(_a6&&_a3.slice(-1)==_a8){_b6+=_a8;}if(_a6&&(_a3==="-"||_a3==="+")){_b6=_a3;}var _b7=_a4.substr(0,_a4.indexOf("#"));var _b8=_a4.substr(_a4.lastIndexOf("#")+1,_a4.length-1-_a4.lastIndexOf("#"));if(_b7){_b6=_b7+_b6;}if(_b8){_b6=_b6+_b8;}return _b6;};WebSquare.text.formatDate=function(_b9,_ba,_bb){if(typeof _bb=="undefined"||_bb==null||_bb==""){_bb="yyyyMMdd";}if(_b9.length!==_bb.length){return _b9;}if(typeof _ba=="undefined"||_ba==null||_ba==""){_ba="yyyy/MM/dd";}for(var i=0;i<_b9.length&&i<_bb.length;i++){var _bd=_bb.charAt(i);var _be=_b9.charAt(i);if("yMdHms".indexOf(_bd)>=0){_ba=_ba.replace(_bd,_be);}}if(_ba.indexOf("E")>=0){var _bf=WebSquare.date._parseDate(_b9,_bb);var _c0=WebSquare.date._getDay(_bf.slice(0,3).join(""),false);if(_c0>=0){var _c1=new Date(_bf[0],_bf[1]-1,_bf[2],_bf[3],_bf[4],_bf[5]);_ba=WebSquare.date.getFormattedDate(_c1,_ba);}else{_ba=_ba.wq_replaceAll("E","");}}return _ba;};WebSquare.text.formatTime=function(_c2,_c3,_c4){if(typeof _c4=="undefined"||_c4==null||_c4==""){_c4="HHmmss";}if(typeof _c3=="undefined"||_c3==null||_c3==""){_c3="HH:mm";}if(_c2==""){return "";}for(var i=0;i<_c2.length&&i<_c4.length;i++){var _c6=_c4.charAt(i);var _c7=_c2.charAt(i);if("Hms".indexOf(_c6)>=0){_c3=_c3.replace(_c6,_c7);}}_c3=_c3.replace(/H|m|s/g,"0");return _c3;};WebSquare.text.formatWithFormatter=function(_c8,_c9){return eval(_c9+"('"+_c8.replace(/'/g,"\\'")+"');");};WebSquare.text.formatText=function(_ca,_cb){_ca=_ca+"";if(typeof _cb=="undefined"||_cb==null||_cb==""){return _ca;}var _cc="";var j=_ca.length-1;var i=_cb.length-1;for(;i>=0&&j>=0;i--){var _cf=_cb.charAt(i);if(_cf!="#"){_cc=_cf+_cc;}else{_cc=_ca.charAt(j)+_cc;j--;}}if(j>-1&&j<_ca.length){_cc=_ca.substring(0,j+1)+_cc;}if(i>-1&&_cb.substring(0,i+1).indexOf("#")==-1){_cc=_cb.substring(0,i+1)+_cc;}return _cc;};WebSquare.text.format=function(_d0,_d1,_d2,_d3){["WebSquare.text.format"];var _d4;if(_d2=="number"){_d4=WebSquare.text.formatCurrency(_d0,_d1);}else{if(_d2=="currency"){_d4=WebSquare.text.formatEuroCurrency(_d0,_d1,_d3);}else{if(_d2=="date"){_d4=WebSquare.text.formatDate(_d0,_d1,_d3);}else{if(_d2=="time"){_d4=WebSquare.text.formatTime(_d0,_d1,_d3);}else{_d4=WebSquare.text.formatText(_d0,_d1);}}}}return _d4;};WebSquare.text.getValidString=function(_d5,_d6,_d7,_d8){return _d5;};WebSquare.text.unformatCurrency=function(_d9,_da){var _db="";for(var i=0;i<_da.length;i++){if(_da.charAt(i)!=","){if(_da.charAt(i)=="$"){if(_d9.indexOf("$")==-1){_db=_db+_da.charAt(i);}}else{if(_da.charAt(i)=="\\"){if(_d9.indexOf("\\")==-1){_db=_db+_da.charAt(i);}}else{if(_da.charAt(i)=="+"){if(_d9.indexOf("+")==-1){_db=_db+_da.charAt(i);}}else{if(_da.charAt(i)=="-"){if(_d9.indexOf("-")==-1){_db=_db+_da.charAt(i);}}else{_db=_db+_da.charAt(i);}}}}}}return _db;};WebSquare.text.unformatDate=function(_dd,_de){if(typeof _dd=="undefined"||_dd==null||_dd==""){_dd="yyyy/MM/dd";}if(_de.length!=_dd.length){return _de;}var ret="";var _e0=_dd.indexOf("yyyy");var _e1=_dd.indexOf("MM");var _e2=_dd.indexOf("dd");if(_e0!=-1){ret+=_de.substr(_e0,4);}if(_e1!=-1){ret+=_de.substr(_e1,2);}if(_e2!=-1){ret+=_de.substr(_e2,2);}return ret;};WebSquare.text.unformatTime=function(_e3,_e4){if(_e4.length!=_e3.length){return _e4;}if(typeof _e3=="undefined"||_e3==null||_e3==""){_e3="HH:mm";}var ret="";var _e6=_e3.indexOf("HH");var _e7=_e3.indexOf("mm");if(_e6!=-1){ret+=_e4.substr(_e6,2);}if(_e7!=-1){ret+=_e4.substr(_e7,2);}return ret;};WebSquare.text.unformatText=function(_e8,_e9){if(typeof _e8=="undefined"||_e8==null||_e8==""){return _e9;}_e8=_e8.substring(_e8.indexOf(","));var _ea="";var j=_e9.length-1;var i=_e8.length-1;for(;i>=0&&j>=0;i--){var _ed=_e8.charAt(i);var _ee=_e9.charAt(j);if(_ed=="#"&&_ee!="#"){_ea=_ee+_ea;}else{if(_ed!=_ee){_ea=_ee+_ea;}}j--;}if(j>-1){_ea=_e9.substring(0,j+1)+_ea;}return _ea;};WebSquare.text.unformat=function(obj){["WebSquare.text.unformat"];if(!(typeof obj.formatArray!="undefined"&&typeof obj.formatArray["displayFormat"]!="undefined"&&obj.formatArray["displayFormat"]!=null)){return obj.render.value;}if(obj.status!="format"){return obj.render.value;}else{obj.status="unformat";}var _f0=obj.render.value;var _f1=obj.formatArray["displayFormat"];var _f2=obj.valueType;var _f3;if(typeof _f2!="undefined"&&_f2!=null&&_f2=="number"){_f3=WebSquare.text.unformatCurrency(_f1,_f0);}else{if(typeof _f2!="undefined"&&_f2!=null&&_f2=="date"){_f3=WebSquare.text.unformatDate(_f1,_f0);}else{if(typeof _f2!="undefined"&&_f2!=null&&_f2=="time"){_f3=WebSquare.text.unformatTime(_f1,_f0);}else{_f3=WebSquare.text.unformatText(_f1,_f0);}}}return _f3;};WebSquare.text.BASE64Encoder=function(d){["WebSquare.text.BASE64Encoder"];var _f5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var b64=new Array();for(var i=0;i<_f5.length;i++){b64[i]=_f5.charAt(i);}var r=new Array();var i=0;if(d.charCodeAt(0)!=65279){d=String.fromCharCode(65279)+d;}var dl=d.length;if((dl%3)==1){d+=String.fromCharCode(0)+String.fromCharCode(0);}if((dl%3)==2){d+=String.fromCharCode(0);}while((i+2)<d.length){r[r.length]=b64[d.charCodeAt(i)>>10];r[r.length]=b64[(d.charCodeAt(i)&1008)>>4];r[r.length]=b64[(d.charCodeAt(i)&15)<<2|(d.charCodeAt(i+1)>>14)];r[r.length]=b64[(d.charCodeAt(i+1)&16128)>>8];if((r.length%76)==0){r[r.length]="\n";}r[r.length]=b64[(d.charCodeAt(i+1)&252)>>2];r[r.length]=b64[(d.charCodeAt(i+1)&3)<<4|(d.charCodeAt(i+2)>>12)];r[r.length]=b64[(d.charCodeAt(i+2)&4032)>>6];r[r.length]=b64[d.charCodeAt(i+2)&63];if((r.length%76)==0){r[r.length]="\n";}i+=3;}if((dl%3)==1){r.pop();r.pop();r.pop();r.pop();if(dl==28){r.pop();}r[r.length-1]="=";}if((dl%3)==2){r[r.length-1]=r[r.length-2]="=";}var t=r.join("");return t;};WebSquare.text.BASE64Decoder=function(t){["WebSquare.text.BASE64Decoder"];var _fc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var f64=new Array(),i;for(i=0;i<_fc.length;i++){f64[_fc.charAt(i)]=i;}var d=new Array;var i=0;t=t.replace(/\n|\r/g,"");t=t.replace(/=/g,"");var len=parseInt(t.length*3/4)/2;while(i<t.length){d[d.length]=(f64[t.charAt(i)]<<10)|(f64[t.charAt(i+1)]<<4)|(f64[t.charAt(i+2)]>>2);d[d.length]=((f64[t.charAt(i+2)]&3)<<14)|(f64[t.charAt(i+3)]<<8)|(f64[t.charAt(i+4)]<<2)|(f64[t.charAt(i+5)])>>4;d[d.length]=((f64[t.charAt(i+5)]&15)<<12)|(f64[t.charAt(i+6)]<<6)|f64[t.charAt(i+7)];i+=8;}d=d.slice(1,len);var r="";try{r=String.fromCharCode.apply(document,d);}catch(e){for(i=0;i<d.length;i++){r+=String.fromCharCode(d[i]);}}return r;};WebSquare.text.BASE64URLEncoder=function(d){["WebSquare.text.BASE64URLEncoder"];return escape(WebSquare.text.BASE64Encoder(d));};WebSquare.text.BASE64URLDecoder=function(t){["WebSquare.text.BASE64URLDecoder"];return WebSquare.text.BASE64Decoder(unescape(t));};WebSquare.text.fillZero=function(str,len){["WebSquare.text.fillZero"];var _106;var i;var _108=(str+"");if(isNaN(_108)){return str;}if(_108.length>=len){return _108;}_106=len-_108.length;while(_106>0){switch(_106){case 1:_106=0;_108="0"+_108;break;case 2:_106=0;_108="00"+_108;break;case 3:_106=0;_108="000"+_108;break;case 4:_106=0;_108="0000"+_108;break;case 5:_106=0;_108="00000"+_108;break;case 6:_106=0;_108="000000"+_108;break;case 7:_106=0;_108="0000000"+_108;break;case 8:_106=0;_108="00000000"+_108;break;case 9:_106=0;_108="000000000"+_108;break;case 10:_106=0;_108="0000000000"+_108;break;case 11:_106=0;_108="00000000000"+_108;break;case 12:_106=0;_108="000000000000"+_108;break;case 13:_106=0;_108="0000000000000"+_108;break;case 14:_106=0;_108="00000000000000"+_108;break;case 15:_106=0;_108="000000000000000"+_108;break;default:_106-=15;_108="000000000000000"+_108;break;}}return _108;};WebSquare.text.isKorean=function(str){["WebSquare.text.isKorean"];if(str!=null&&str.length>0){var _10a=0;for(var i=0;i<str.length;i++){_10a|=WebSquare.text.getLocale(str.charAt(i));}if((_10a&~3)==0){return true;}}return false;};WebSquare.text.getLocale=function(str){["WebSquare.text.getLocale"];var _10d=0;if(str.length>0){var _10e=str.charCodeAt(0);if(_10e>=44032&&_10e<=55203){_10d=1;}else{if((_10e>=4352&&_10e<=4601)||(_10e>=12593&&_10e<=12686)){_10d=2;}else{if(_10e>=48&&_10e<=57){_10d=4;}else{if((_10e>=32&&_10e<=47)||(_10e>=58&&_10e<=64)||(_10e>=91&&_10e<=96)||(_10e>=123&&_10e<=126)){_10d=8;}else{if(_10e>=65&&_10e<=90){_10d=16;}else{if(_10e>=97&&_10e<=122){_10d=32;}else{_10d=48;}}}}}}}return _10d;};WebSquare.text.URLEncoder=function(str){["WebSquare.text.URLEncoder"];var ret="";if(str==null||str.length==0){return ret;}for(var i=0;i<str.length;i++){var code="";if(str.charAt(i)==" "){ret+="+";}else{if((str.charCodeAt(i)>=48&&str.charCodeAt(i)<=57)||(str.charCodeAt(i)>=65&&str.charCodeAt(i)<=90)||(str.charCodeAt(i)>=97&&str.charCodeAt(i)<=122)||str.charAt(i)=="@"||str.charAt(i)=="."||str.charAt(i)=="-"||str.charAt(i)=="*"||str.charAt(i)=="_"){ret+=str.charAt(i);}else{if((code=WebSquare.text.getEUCKR(str.charCodeAt(i)))!=null&&code>=42145){ret+="%"+(code>>8).toString(16)+"%"+(code&255).toString(16);}else{if(str.charCodeAt(i)<=126){var _113=str.charCodeAt(i).toString(16);if(_113.length==1){ret+="%0"+_113;}else{ret+="%"+_113;}}else{ret+="%3f";}}}}}return ret;};WebSquare.text.URLDecoder=function(str){["WebSquare.text.URLDecoder"];var ret="";if(str==null||str.length==0){return ret;}for(var i=0;i<str.length;i++){if(str.charAt(i)=="+"){ret+=" ";}else{if(str.charAt(i)!="%"){ret+=str.charAt(i);}else{if(i+5<=str.length){var tmp=str.substring(i+1,i+3);if(str.charAt(i+3)=="%"&&parseInt(tmp,16)>160){tmp+=str.substring(i+4,i+6);tmp=tmp.toUpperCase();ret+=String.fromCharCode(WebSquare.text.getUNICODE(parseInt(tmp,16)));i+=5;}else{ret+=String.fromCharCode(parseInt(tmp,16));i+=2;}}else{if(i+2<=str.length){var tmp=str.substring(i+1,i+3);ret+=String.fromCharCode(parseInt(tmp,16));i+=2;}else{ret+=str.charAt(i);}}}}}return ret;};WebSquare.text.getEUCKR=function(k){["WebSquare.text.getEUCKR"];if(!WebSquare.text.EUCKR){WebSquare.text.setEUCKR();}if(!WebSquare.text.UNICODE){WebSquare.text.setUNICODE();}var max=16;var str=0;var end=WebSquare.text.UNICODE.length-1;var pos=Math.round((str+end)/2);while(max-->0){if(WebSquare.text.UNICODE[pos]>k){end=pos;pos=Math.round((str+end)/2);}else{if(WebSquare.text.UNICODE[pos]<k){str=pos;pos=Math.round((str+end)/2);}else{return WebSquare.text.EUCKR[pos];}}}return "";};WebSquare.text.getUNICODE=function(k){["WebSquare.text.getUNICODE"];if(!WebSquare.text.EUCKR){WebSquare.text.setEUCKR();}if(!WebSquare.text.UNICODE){WebSquare.text.setUNICODE();}var max=16;var str=0;var end=WebSquare.text.EUCKR.length-1;var pos=Math.round((str+end)/2);while(max-->0){if(WebSquare.text.EUCKR[pos]>k){end=pos;pos=Math.round((str+end)/2);}else{if(WebSquare.text.EUCKR[pos]<k){str=pos;pos=Math.round((str+end)/2);}else{return WebSquare.text.UNICODE[pos];}}}return 63;};WebSquare.text.isFinalConsonant=function(str){["WebSquare.text.isFinalConsonant"];var code=str.charCodeAt(str.length-1);if(code<44032||code>55197){return false;}if((code-16)%28==0){return false;}return true;};WebSquare.text.arraySort=function(arr,_125){["WebSquare.text.arraySort"];var a=new Array();for(var i=0;i<arr.length;i++){a.push(arr[i]);}if(typeof _125=="undefined"){return a.sort();}else{return a.sort(_125);}};WebSquare.text.setEUCKR=function(){var _128=[42145];var len=2444;for(var i=1;i<94;i++){_128[i]=_128[i-1]+1;}_128[i]=_128[i-1]+2979;for(i++;i<len;i++){_128[i]=_128[i-1]+((i-188)%94==0?163:1);}WebSquare.text.EUCKR=_128;};WebSquare.text.setUNICODE=function(){var _12b=[12593];var len=2444;var conv="#%%###(#######$####%&*#$##)#%&-$)&&6#%%#$(#$###%###&&*#$##)##$%#*#$##&%&&+$+#%%#$$%##$$#(#%&$(#$$)&&+%#)#%&*#$$)&&+$+#%%###'##$$#(#%&.#)5+#%&*#$+&&6#%%##)#$$)>#%%#$(#$$#&$##$&$(#$##&%#%&*#$##)#)R##$&*#$##)#%.%$)&&-#'%>#%$$*#$$##'#).#)#6)&&*#&)>#%&)##$$#(*.#)#%&*#%*&&*#->#%$$$'##$$&A#%&*#$$)##$%###(#$####$$##%&*#$##)#%&*'E#$#&$#'#$##(##%&*#$##)#%&*#%#%&&:#%&$(#$$'##&&.F&&*#$+#%&+$$)#%%#*#$$)6*>&&*#-#)*#&)#%&##(#$$#&$&&6#%&$(#$$'$##$%####&##$####&##%&*#$##)Z##$%#$#'#$$$%$#%&*#$##)&&.#)&:#%%#$$&#$$$$%&&66*&&*#$+>#%&*#$$)6*7)&&+$$)&&*')#%%#$(#$$)>#%%#*#$###(#%&*#$##(##%&*#$##a#%&$#'#$##(##%&*#$##)6F#%&/)*6>&V#%&)#'E>&&*#&E#%%#*#$+&&*#-&&*#$$)#%&*#$###&###%&*#$##)#%1$E#%&*#$##(##%&*#$$)#%&*#$##)&/$+#%&*#$$)&3=*&&*#$$)&&+$$)#%&*#$$)6*>#%&*%$)#%&*#$$)#%&*#$$#%#@#%&*#$$)#%$####(#$$#%$##%&*#$###(#)/E#%&$(#$$#'##%&*#$##)#%&-##$'>#$#&$(#$$)&2#E&&+$$)&&+$+##$%###(#$$&$#&&+$+>&&6&&*%+&&*%G#%%#$(#$##$$%####%####'#$$&%#%&*#$##&%#%/I#%%#$(#$$#(#%%#*#$##)#%&+$##&%&:##$&*#$$)&2*6*#%&*#-&:#%%###(#$$&#$*.*>#%&/)&&*%$)#%&*#$G#%&$(#$$##'#%&$(#$##(##%&*#$##)#1J#%%#*%##)7)#1#$##E#%&*#&a>7)#%&*%$}7)&&*#I#%&*#$$)#$#%###(#$##&%#%&*#$##)#%&*#$$)&&*')####%#$#'#$##'$#%&*#$##)#%&*#$##)&&/)##$&$(#$$&%#%&/)&&*%#*&&*#$+#%&*#$$)#%%#*#$$$$#$6*#%&*')#%&*#$$)#)*%$)#%&#)#$$E#%%#)##$$'$#$#&*#%#(##%&*#%#>E#%&$(#%#)&&V:#%%#$(#&)#%2*6*&&*#->#%&*#&)6*>&O)#%&$'##-&&*.#%&*#$$)#%##$##'##$##&#$#%&*#$##)#%&%'#$$&$#&&+-#%#$###(######$$$#%&*#$$)##$&$#'#####&###&&*#$#*#%&##$%##$$$'#%&*#$##)#%.%$)#%&*#$$)#%&*#$$)#%&##(#$$)#%&*#%#)#%&*#&)#%&*#$$)#%&*#$$$'#%&($#$$#######&&*%+#%&##'##$###&$#%$##$(#$###(#%&*#$##)#%$$*')&&6#%&$(#$$#(#%&*#$$)&&*#%#)>#%&$(#$$##&##)+$$)6#)&&*#$$)#%3)#%&##(#$$)6*>#%&*#$+&&*.#%&*#$$E#%%#$(#$$#%#$#%$$%'#$##)#%&*#$##)&3E#%&*#$##)7)6F#%&*#$$$'#).*6*&&*#B)#%&*#&)6#E>>2%$E#%&*#&#'##%$$*#$###(#%&*#$##)&$$*'E#%&*#$##)#%&*#$$)&2*&3)#%&*#$$)&&/E&&*#$$)2.#%&*#$$)6*&:&&*#$$)&&*')#%&*#$$E#%%##)#$$)#%&*#$$)#%&*#$##)#6E#%%#*#$##)#%&*#$$)&&*#$##)>#%&*#$$)#%&*')7)*6>#%&*#$$)&&/)7)#%&*#$$)&&*.#%&*#&E#%&*#$$)#%&#)#$##)#%&*#$##)7E#%&$(#$##)#%&*#$$)&2*&:#%&*#$$'$&:>&1$)>#%&*#$$)6*>#%&*#&)&&*')#%%#$(#$+&&*#-#%&*#$$)##$&$(#$##&%#%&*#$##)#Y#%&*#$##)#%&*#$$)&&*#%#)*+$+#%&*#$$)7E&:&&+$+#%%#$(#$$)7E&&*%+&&*%$)&&*#$G#%&*#$$)#%&'%#$$)#%&*#$##)7E#%&$(#$$)#%&*#$$)#%&*#$##)&&+-#%&'%#$$&%#%&-$)#%1$)#%&+$$)&&+$+#%&'%%$)&&*')#%&/)#%&*#$$)#%&*%$)#%$###)#$$&%&&*#&)#%&*#$$";for(var i=1;i<94;i++){_12b[i]=_12b[i-1]+1;}_12b[i]=_12b[i-1]+31346;for(i++;i<len;i++){_12b[i]=_12b[i-1]+conv.substr(i-95,1).charCodeAt(0)-34;}WebSquare.text.UNICODE=_12b;};WebSquare.layer={};WebSquare.layer.cache={};WebSquare.layer.processMsg="";WebSquare.layer.disabledList=[];WebSquare.layer.saveLayer=function(_1,_2){["WebSquare.layer.saveLayer"];try{var _3=WebSquare.document.getElementById(_1);if(typeof _3!="undefined"&&_3!=null){WebSquare.layer.cache[_1+_2]=_3.innerHTML;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.layer.loadLayer=function(_4,_5){["WebSquare.layer.loadLayer"];try{if(typeof WebSquare.layer.cache[_4+_5]!="undefined"&&WebSquare.layer.cache[_4+_5].wq_trim()!=""){var _6=WebSquare.document.getElementById(_4);if(typeof _6!="undefined"&&_6!=null){_6.innerHTML=WebSquare.layer.cache[_4+_5];return true;}return false;}return false;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.layer.clearLayer=function(){["WebSquare.layer.clearLayer"];try{WebSquare.layer.cache=new Object();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.layer.showProcessMessage=function(_7){["WebSquare.layer.showProcessMessage"];try{if(_7=="$blank"){return;}if(!_7){return;}$l("WebSquare.layer.showProcessMessage ["+_7+"]");var _8=_7.wq_trim();var _9=/^javascript\s*:\s*(.*)/i;var _a=_8.match(_9);if(_a==null||typeof _a=="undefined"){}else{_7=eval(_a[1]);}var _b=WebSquare.document.getElementById("___processbar2");var _c=WebSquare.document.getElementById("___processbar2_i");var _d=WebSquare.core.getConfiguration("processMsgURL");var _e=WebSquare.core.getConfiguration("processMsgHeight");var _f=WebSquare.core.getConfiguration("processMsgWidth");var _10=WebSquare.core.getConfiguration("processMsgBackground");var _11=WebSquare.core.getConfiguration("/WebSquare/processMsgBackground/@backgroundColor");if(_11==""){_11="#112233";}if(_d==""){_d=WebSquare.baseURI+"message/processMsg.html";}if(WebSquare.WebSquareCache==false){_d=WebSquare.BootLoader.getRandomPostfix(_d+"?param="+WebSquare.text.URLEncoder(_7));}else{_d=_d+"?param="+WebSquare.text.URLEncoder(_7);}WebSquare.layer.processMsg=_7;if(_e==""||_f==""){_e="74";_f="272";}if(!_b){var _12=WebSquare.document.createElement("div");_12.id="___processbar2";_12.className="w2modal";_12.style.backgroundColor=_11;_12.tabIndex=1;if(_10=="true"){_12.style.visibility="visible";}else{_12.style.visibility="hidden";}WebSquare.getBody().appendChild(_12);WebSquare.event.addListener(_12,"onkeydown",function(e){this.focus();WebSquare.event.stopEvent(e);},false);}else{_b.tabIndex=1;_b.style.zIndex=10000;_b.style.display="block";_b.style.top="0px";_b.style.left="0px";}if(!_c){var _14=WebSquare.document.documentElement.scrollTop+WebSquare.document.documentElement.clientHeight/2-parseInt(_e)/2;var _15=WebSquare.document.documentElement.scrollLeft+WebSquare.document.documentElement.clientWidth/2-parseInt(_f)/2;var _16=WebSquare.document.createElement("div");_16.id="___processbar2_i";_16.style.position="absolute";_16.style.top=parseInt(_14)+"px";_16.style.left=parseInt(_15)+"px";_16.style.overflow="hidden";_16.style.zIndex=10001;_16.style.visibility="visible";_16.style.height=_e+"px";_16.style.width=_f+"px";WebSquare.getBody().appendChild(_16);_16.innerHTML="<iframe frameborder='0' scrolling='no' allowtransparency='true' name='__processbarIFrame' style='position:absolute; width:"+_f+"px; height:"+_e+"px; top:0px; left:0px' src='"+_d+"'></iframe>";}else{var _14=WebSquare.document.documentElement.scrollTop+WebSquare.document.documentElement.clientHeight/2-parseInt(_e)/2;var _15=WebSquare.document.documentElement.scrollLeft+WebSquare.document.documentElement.clientWidth/2-parseInt(_f)/2;_c.style.top=parseInt(_14)+"px";_c.style.left=parseInt(_15)+"px";_c.style.zIndex=10001;window.frames["__processbarIFrame"].location.replace(_d);_c.style.display="block";}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.layer.setProcessMsgColor=function(){["WebSquare.layer.setProcessMsgColor"];try{var _17=WebSquare.layer.colorArr.shift();WebSquare.layer.colorArr.push(_17);document.getElementById("processMsgLayer").style.color=_17;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.layer.hideProcessMessage=function(){["WebSquare.layer.hideProcessMessage"];try{var _18=WebSquare.document.getElementById("___processbar2");var _19=WebSquare.document.getElementById("___processbar2_i");if(typeof _18!="undefined"&&_18!=null){_18.style.zIndex=-1;_18.style.display="none";_18.tabIndex="-1";_18.innerHTML="";}if(typeof _19!="undefined"&&_19!=null){_19.style.zIndex=-1;_19.style.display="none";}clearInterval(WebSquare.layer.prcMsgIntv);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.layer.submissionIDQueue=new Array();WebSquare.layer.submissionMessageQueue=new Array();WebSquare.layer.addSubmissionMessage=function(_1a,_1b){["WebSquare.layer.addSubmissionMessage"];try{WebSquare.layer.submissionIDQueue.push(_1a);WebSquare.layer.submissionMessageQueue.push(_1b);if(WebSquare.layer.submissionIDQueue.length==1){WebSquare.layer.showProcessMessage(_1b);}else{if(WebSquare.layer.submissionMessageQueue[WebSquare.layer.submissionMessageQueue.length-2]!=_1b){WebSquare.layer.showProcessMessage(_1b);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.layer.deleteSubmissionMessage=function(_1c){["WebSquare.layer.deleteSubmissionMessage"];try{var idx=-1;for(var i=0;i<WebSquare.layer.submissionIDQueue.length;i++){if(WebSquare.layer.submissionIDQueue[i]==_1c){idx=i;}}if(idx>=0){WebSquare.layer.submissionIDQueue.splice(idx,1);var _1f=(WebSquare.layer.submissionMessageQueue.splice(idx,1))[0];if(idx==WebSquare.layer.submissionIDQueue.length){if(_1f!=WebSquare.layer.submissionMessageQueue[idx-1]){WebSquare.layer.showProcessMessage(WebSquare.layer.submissionMessageQueue[idx-1]);}}}if(WebSquare.layer.submissionIDQueue.length==0){WebSquare.layer.hideProcessMessage();}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.layer.showModal=function(_20){["WebSquare.layer.showModal"];try{if(WebSquare.layer.disabledList.length>0){$l("[WebSquare.layer.showModal]\ud604\uc7ac showModal\uc0c1\ud0dc\uc774\ubbc0\ub85c \ucc98\ub9ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");return;}WebSquare.layer.disabledList.push(WebSquare.util.setDisabled({"componentId":"","disabled":true,"excludeIdList":_20}));WebSquare.getBody().showModal(null,_20);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.layer.hideModal=function(){["WebSquare.layer.hideModal"];try{if(WebSquare.layer.disabledList.length>0){var _21=WebSquare.layer.disabledList.splice(WebSquare.layer.disabledList.length-1,1)[0];WebSquare.util.setDisabled({"componentId":"","disabled":false,"excludeIdList":_21.skipComponents});WebSquare.getBody().hideModal();}}catch(e){WebSqre.exception.printStackTrace(e);}};WebSquare.cookie={};WebSquare.cookie.setCookie=function(_1,_2){["WebSquare.cookie.setCookie"];WebSquare.document.cookie=_1+"="+escape(_2)+";path=/";};WebSquare.cookie.setCookieAsync=function(_3,_4){["WebSquare.cookie.setCookieAsync"];window.setTimeout("WebSquare.document.cookie = '"+_3+"="+escape(_4)+";path=/';",1);};WebSquare.cookie.getCookie=function(_5){["WebSquare.cookie.getCookie"];try{var _6=WebSquare.document.cookie.split("; ");for(var i=0;i<_6.length;i++){var _8=_6[i].split("=");if(_5==_8[0]){if(_8.length==1){return "";}else{return unescape(_8[1]);}}}}catch(e){WebSquare.exception.printStackTrace(e);}return null;};WebSquare.cookie.delCookie=function(_9){["WebSquare.cookie.delCookie"];try{WebSquare.document.cookie=_9+"=abc; expires=Fri, 31 Dec 1970 23:59:59 GMT;path=/";}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.domIterator=function(){};WebSquare.domIterator.prototype.construct=function(_1){["WebSquare.domIterator.construct"];this.status=0;this.element=_1;};WebSquare.domIterator.prototype.next=function(){["WebSquare.domIterator.next"];if(this.status==0){this.status=1;return true;}};WebSquare.domIterator.prototype.stop=function(){["WebSquare.domIterator.stop"];this.status=2;};WebSquare.domIterator.prototype.match=function(_2,id,_4){["WebSquare.domIterator.match "];if(this.status==2){return false;}var _5=true;if(_2&&(" "+this.element.className+" ").indexOf(" "+_2.wq_trim()+" ")<0){_5=false;}if(id&&this.element.id!=id){_5=false;}if(_4&&this.element.tagName.toUpperCase()!=_4.toUpperCase()){_5=false;}return _5;};WebSquare.domIterator.prototype.matchSvg=function(_6,id,_8){["WebSquare.domIterator.matchSvg "];if(this.status==2){return false;}var _9=false;if(this.element.className.baseVal){_9=true;if(_6&&(" "+this.element.className.baseVal+" ").indexOf(" "+_6.wq_trim()+" ")<0){_9=false;}if(id&&this.element.id!=id){_9=false;}if(_8&&this.element.tagName.toUpperCase()!=_8.toUpperCase()){_9=false;}}return _9;};WebSquare.domIterator.prototype.getElement=function(){["WebSquare.domIterator.getElement"];return this.element;};WebSquare.childIterator=function(_a,_b){["WebSquare.childIterator"];this.construct(_a);this.options=WebSquare.extend({type:"dfs",pruning:null},WebSquare.extend({},_b));this.elementStack=[];};WebSquare.extend(WebSquare.childIterator.prototype,WebSquare.domIterator.prototype);WebSquare.childIterator.prototype.next=function(){["WebSquare.childIterator.next"];if(this.status==0){this.status=1;return true;}if(this.status==2){return false;}if(!(this.options.pruning&&this.options.pruning.call(this,this.element))){for(var _c=this.element.firstChild;_c!=null;_c=_c.nextSibling){if(_c.nodeType==1){this.elementStack.push(_c);}}}if(this.elementStack.length==0){return false;}else{if(this.options.type=="dfs"){this.element=this.elementStack.pop();}else{if(this.options.type=="bfs"){this.element=this.elementStack.shift();}else{this.element=this.elementStack.shift();}}return true;}};WebSquare.targetIterator=function(_d,_e){["WebSquare.targetIterator"];this.construct(_d);this.upperBoundElem=_e||document.body;};WebSquare.extend(WebSquare.targetIterator.prototype,WebSquare.domIterator.prototype);WebSquare.targetIterator.prototype.next=function(){["WebSquare.targetIterator.next"];if(this.status==0){this.status=1;return true;}if(this.status==2){return false;}if(this.element!=this.upperBoundElem&&this.element.parentNode){this.element=this.element.parentNode;return true;}return false;};requires("engine/thread.js");WebSquare.effect={};WebSquare.effect.transitions={};WebSquare.effect.transitions.linear=function(_1){return _1;};WebSquare.effect.transitions.sinoidal=function(_2){return (-Math.cos(_2*Math.PI)/2)+0.5;};WebSquare.effect.transitions.reverse=function(_3){return 1-_3;};WebSquare.effect.transitions.flicker=function(_4){return ((-Math.cos(_4*Math.PI)/4)+0.75)+Math.random()/4;};WebSquare.effect.transitions.wobble=function(_5){return (-Math.cos(_5*Math.PI*(9*_5))/2)+0.5;};WebSquare.effect.transitions.pulse=function(_6){return (Math.floor(_6*10)%2==0?(_6*10-Math.floor(_6*10)):1-(_6*10-Math.floor(_6*10)));};WebSquare.effect.transitions.none=function(_7){return 0;};WebSquare.effect.transitions.full=function(_8){return 1;};WebSquare.effect.transitions.exponential=function(_9){return Math.exp(_9)/Math.E;};WebSquare.effect.transitions.square2=function(_a){return _a*_a;};WebSquare.effect.transitions.square3=function(_b){return _b*_b*_b;};WebSquare.effect.transitions.square4=function(_c){return _c*_c*_c*_c;};WebSquare.effect.transitions.square5=function(_d){return _d*_d*_d*_d*_d;};WebSquare.effect.effectManager=function(){this.effects=[];this.timeState="stopped";var _e=this;this._mouseMoveEvent=function(){_e.onDrag.apply(_e,arguments);};};WebSquare.effect.effectManager.prototype={add:function(_f,_10){_f.init(_10);this.effects.push(_f);if(this.timeState=="stopped"){this.timeState="running";this.startTimeout();}},remove:function(_11){var _12=[];for(var i=0;i<this.effects.length;i++){if(this.effects[i]!=_11){_12.push(this.effects[i]);}}this.effects=_12;if(this.effects.length==0){this.cancelTimeout();}},startTimeout:function(){var _14=this;this.interval=setInterval(function(){var _15=new Date().getTime();_14.notifyLoop(_15);},10);},cancelTimeout:function(){clearInterval(this.interval);this.timeState="stopped";},notifyLoop:function(){var _16=[];for(var i=0;i<this.effects.length;i++){if(this.effects[i].state!="finished"){_16.push(this.effects[i]);}}this.effects=_16;var _18=new Date().getTime();for(var i=0;i<this.effects.length;i++){if(this.effects[i].state!="finished"){this.effects[i].loop(_18);}}if(this.effects.length==0){this.cancelTimeout();}}};WebSquare.effect.effectManager=new WebSquare.effect.effectManager();WebSquare.effect.defaultOptions={transition:WebSquare.effect.transitions.sinoidal,duration:1,fps:60,from:0,to:1,delay:0};WebSquare.effect.base={};WebSquare.effect.base.prototype={position:null,init:function(_19){this.options=WebSquare.extend(WebSquare.extend({},WebSquare.effect.defaultOptions),_19||{});this.currentFrame=0;this.state="stoped";this.startOn=this.options.delay*1000;this.finishOn=this.startOn+(this.options.duration*1000);var _1a=new Date().getTime();this.startOn+=_1a;this.finishOn+=_1a;},loop:function(_1b){if(_1b>=this.startOn){if(_1b>=this.finishOn){this.render(1);if(this.finish){this.finish();}this.state="finished";return;}var pos=(_1b-this.startOn)/(this.finishOn-this.startOn);var _1d=Math.round(pos*this.options.fps*this.options.duration);if(_1d>this.currentFrame){this.render(pos);this.currentFrame=_1d;}}},render:function(pos){if(this.state=="stoped"){this.state="running";if(this.setup){this.setup();}}if(this.state=="running"){if(this.options.transition){pos=this.options.transition(pos);}pos=pos*(this.options.to-this.options.from)+this.options.from;if(this.update){this.update(pos);}}},setup:function(){},update:function(pos){},finish:function(){try{if(this.options.finish){this.options.finish.call();}}catch(e){WebSquare.exception.printStackTrace(e);}}};WebSquare.effect.move=function(_20,_21){["WebSquare.effect.move"];try{this.element=_20;var _22=WebSquare.extend({x:0,y:0,mode:"delta"},_21||{});WebSquare.effect.effectManager.add(this,_22);}catch(e){$e(e);}};WebSquare.extend(WebSquare.extend(WebSquare.effect.move.prototype,WebSquare.effect.base.prototype),{setup:function(){this.originalLeft=parseFloat(WebSquare.style.getStyle(this.element,"left")||0);this.originalTop=parseFloat(WebSquare.style.getStyle(this.element,"top")||0);if(this.options.mode=="absolute"){this.options.x=this.options.x-this.originalLeft;this.options.y=this.options.y-this.originalTop;}},update:function(_23){WebSquare.style.setStyle(this.element,{left:this.options.x*_23+this.originalLeft+"px",top:this.options.y*_23+this.originalTop+"px"});}});WebSquare.effect.resize=function(_24,_25){["WebSquare.effect.resize"];try{this.element=_24;var _26=WebSquare.extend({width:null,height:null,fromLeft:true,fromTop:true,mode:"delta"},_25||{});WebSquare.effect.effectManager.add(this,_26);}catch(e){$e(e);}};WebSquare.extend(WebSquare.extend(WebSquare.effect.resize.prototype,WebSquare.effect.base.prototype),{setup:function(){this.originalLeft=parseFloat(WebSquare.style.getStyle(this.element,"left")||0);this.originalTop=parseFloat(WebSquare.style.getStyle(this.element,"top")||0);this.originalWidth=parseFloat(WebSquare.style.getStyle(this.element,"width")||0);this.originalHeight=parseFloat(WebSquare.style.getStyle(this.element,"height")||0);if(this.options.mode=="absolute"){if(this.options.width!=null){this.options.width=(this.options.width-this.originalWidth);}if(this.options.height!=null){this.options.height=(this.options.height-this.originalHeight);}}},update:function(_27){if(this.options.width!=null){this.element.style.width=(this.options.width*_27+this.originalWidth)+"px";if(!this.options.fromLeft){WebSquare.style.setStyle(this.element,{left:(-1*this.options.width*_27+this.originalLeft)+"px"});}}if(this.options.height!=null){this.element.style.height=(this.options.height*_27+this.originalHeight)+"px";if(!this.options.fromTop){WebSquare.style.setStyle(this.element,{top:(-1*this.options.height*_27+this.originalTop)+"px"});}}}});WebSquare.effect.scale=function(_28,_29){["WebSquare.effect.scale"];try{this.element=_28;var _2a=WebSquare.extend({scaleX:true,scaleY:true,scaleFromCenter:false,scaleFromEnd:false,scaleFrom:100,scaleTo:_29},arguments[2]||{});WebSquare.effect.effectManager.add(this,_2a);}catch(e){$e(e);}};WebSquare.extend(WebSquare.extend(WebSquare.effect.scale.prototype,WebSquare.effect.base.prototype),{setup:function(){this.elementPositioning=WebSquare.style.getStyle(this.element,"position");this.originalTop=parseInt(this.element.style.top);this.originalLeft=parseInt(this.element.style.left);this.factor=(this.options.scaleTo-this.options.scaleFrom)/100;this.dims=null;this.dims=[parseInt(this.element.style.height),parseInt(this.element.style.width)];},update:function(_2b){var _2c=(this.options.scaleFrom/100)+(this.factor*_2b);this.setDimensions(this.dims[0]*_2c,this.dims[1]*_2c);},setDimensions:function(_2d,_2e){var d={};if(this.options.scaleX){d.width=_2e+"px";}if(this.options.scaleY){d.height=_2d+"px";}if(this.options.scaleFromCenter){var _30=(_2d-this.dims[0])/2;var _31=(_2e-this.dims[1])/2;if(this.options.scaleY){d.top=this.originalTop-_30+"px";}if(this.options.scaleX){d.left=this.originalLeft-_31+"px";}}if(this.options.scaleFromEnd){var _30=(_2d-this.dims[0]);var _31=(_2e-this.dims[1]);if(this.options.scaleY){d.top=parseInt(this.originalTop-_30)+"px";}if(this.options.scaleX){d.left=parseInt(this.originalLeft-_31)+"px";}}WebSquare.style.setStyle(this.element,d);}});WebSquare.effect.pathAnimation=function(_32){["WebSquare.effect.pathAnimation"];try{this.element=_32;if(arguments.length<2){return;}this.fromOptions=WebSquare.extend({pointList:[]},arguments[1]||{});this.toOptions=WebSquare.extend({pointList:[]},arguments[2]||{});var _33=WebSquare.extend({id:"",graphicUtil:null},arguments[3]||{});WebSquare.effect.effectManager.add(this,_33);}catch(e){$e(e);}};WebSquare.extend(WebSquare.extend(WebSquare.effect.pathAnimation.prototype,WebSquare.effect.base.prototype),{setup:function(){var _34=this.fromOptions.pointList.length;var _35=this.toOptions.pointList.length;this.pointLength=Math.min(_34,_35);this.updatePointList=new Array(this.pointLength);for(var i=0;i<this.pointLength;i++){this.updatePointList[i]=new WebSquare.point2d(0,0);}},update:function(pos){for(var i=0;i<this.pointLength;i++){this.updatePointList[i].x=this.fromOptions.pointList[i].x+pos*(this.toOptions.pointList[i].x-this.fromOptions.pointList[i].x);this.updatePointList[i].y=this.fromOptions.pointList[i].y+pos*(this.toOptions.pointList[i].y-this.fromOptions.pointList[i].y);}this.options.graphicUtil.drawToolkit.modifyPath(this.options.id,{pointList:this.updatePointList,closeFlag:false});},finish:function(){}});WebSquare.effect.rectAnimation=function(_39){["WebSquare.effect.rectAnimation"];try{this.element=_39;if(arguments.length<2){return;}this.fromOptions=WebSquare.extend({},arguments[1]||{});this.toOptions=WebSquare.extend({},arguments[2]||{});var _3a=WebSquare.extend({id:"",graphicUtil:null},arguments[3]||{});WebSquare.effect.effectManager.add(this,_3a);}catch(e){$e(e);}};WebSquare.extend(WebSquare.extend(WebSquare.effect.rectAnimation.prototype,WebSquare.effect.base.prototype),{setup:function(){if(this.fromOptions.x!=null&&this.toOptions.x!=null){this.modifyX=true;}if(this.fromOptions.y!=null&&this.toOptions.y!=null){this.modifyY=true;}if(this.fromOptions.width!=null&&this.toOptions.width!=null){this.modifyWidth=true;}if(this.fromOptions.height!=null&&this.toOptions.height!=null){this.modifyHeight=true;}},update:function(pos){var x=this.fromOptions.x+pos*(this.toOptions.x-this.fromOptions.x);var y=this.fromOptions.y+pos*(this.toOptions.y-this.fromOptions.y);var _3e=this.fromOptions.width+pos*(this.toOptions.width-this.fromOptions.width);var _3f=this.fromOptions.height+pos*(this.toOptions.height-this.fromOptions.height);if(this.options.svg3D){var _40=(this.options.inverse?_3f:_3e)/3;var _41=[{x:x,y:y},{x:x+_40,y:y-_40},{x:x+_40+_3e,y:y-_40},{x:x+_3e,y:y}];this.options.graphicUtil.drawToolkit.modifyPath(this.options.id+"_upper",{pointList:_41,closeFlag:true});var _42=[{x:x+_3e,y:y},{x:x+_3e+_40,y:y-_40},{x:x+_3e+_40,y:y+_3f-_40},{x:x+_3e,y:y+_3f}];this.options.graphicUtil.drawToolkit.modifyPath(this.options.id+"_right",{pointList:_42,closeFlag:true});}this.options.graphicUtil.drawToolkit.modifyRectangle(this.options.id,{x:this.modifyX?x:null,y:this.modifyY?y:null,width:this.modifyWidth?_3e:null,height:this.modifyHeight?_3f:null});},finish:function(){}});WebSquare.effect.arcAnimation=function(_43){["WebSquare.effect.arcAnimation"];try{this.element=_43;if(arguments.length<2){return;}this.fromOptions=WebSquare.extend({},arguments[1]||{});this.toOptions=WebSquare.extend({},arguments[2]||{});var _44=WebSquare.extend({id:"",graphicUtil:null},arguments[3]||{});WebSquare.effect.effectManager.add(this,_44);}catch(e){$e(e);}};WebSquare.extend(WebSquare.extend(WebSquare.effect.arcAnimation.prototype,WebSquare.effect.base.prototype),{setup:function(){if(this.fromOptions.centerX!=null&&this.toOptions.centerX!=null&&this.fromOptions.centerY!=null&&this.toOptions.centerY!=null&&this.fromOptions.radius!=null&&this.toOptions.radius!=null&&this.fromOptions.startAngle!=null&&this.fromOptions.endAngle!=null&&this.toOptions.startAngle!=null&&this.toOptions.endAngle!=null){this.modify=true;}this.movingVector=new WebSquare.point2d(0,0);this.center=new WebSquare.point2d(0,0);},update:function(pos){if(this.modify){this.options.graphicUtil.drawToolkit.modifyArc(this.options.id,{centerX:this.fromOptions.centerX+pos*(this.toOptions.centerX-this.fromOptions.centerX),centerY:this.fromOptions.centerY+pos*(this.toOptions.centerY-this.fromOptions.centerY),radius:this.fromOptions.radius+pos*(this.toOptions.radius-this.fromOptions.radius),startAngle:this.fromOptions.startAngle+pos*(this.toOptions.startAngle-this.fromOptions.startAngle),endAngle:this.fromOptions.endAngle+pos*(this.toOptions.endAngle-this.fromOptions.endAngle)});}},finish:function(){}});WebSquare.effect.blindDown=function(_46){["WebSquare.effect.blindDown"];try{this.element=_46;WebSquare.style.setStyle(this.element,{display:"none"});var _47=WebSquare.extend({},arguments[1]||{});WebSquare.effect.effectManager.add(this,_47);}catch(e){$e(e);}};WebSquare.extend(WebSquare.extend(WebSquare.effect.blindDown.prototype,WebSquare.effect.base.prototype),{setup:function(){this.originalHeight=parseInt(this.element.style.height);WebSquare.style.setStyle(this.element,{height:0,overflow:"hidden",display:"block"});},update:function(pos){this.element.style.height=this.originalHeight*pos;},finish:function(){}});WebSquare.effect.blindUp=function(_49){["WebSquare.effect.blindUp"];try{this.element=_49;WebSquare.style.setStyle(this.element,{display:"none"});var _4a=WebSquare.extend({},arguments[1]||{});WebSquare.effect.effectManager.add(this,_4a);}catch(e){$e(e);}};WebSquare.extend(WebSquare.extend(WebSquare.effect.blindUp.prototype,WebSquare.effect.base.prototype),{setup:function(){this.originalHeight=parseInt(this.element.style.height);WebSquare.style.setStyle(this.element,{overflow:"hidden",display:"block"});},update:function(pos){WebSquare.style.setStyle(this.element,{height:this.originalHeight*(1-pos)});},finish:function(){}});WebSquare.effect.slide=function(_4c){["WebSquare.effect.slide"];try{this.element=_4c;WebSquare.style.setStyle(this.element,{display:"none"});var _4d=WebSquare.extend({direction:"down"},arguments[1]||{});WebSquare.effect.effectManager.add(this,_4d);}catch(e){$e(e);}};WebSquare.extend(WebSquare.extend(WebSquare.effect.slide.prototype,WebSquare.effect.base.prototype),{setup:function(){this.originalLeft=parseInt(this.element.style.left);this.originalTop=parseInt(this.element.style.top);this.originalWidth=parseInt(this.element.style.width);this.originalHeight=parseInt(this.element.style.height);WebSquare.style.setStyle(this.element,{display:"block"});},update:function(pos){switch(this.options.direction){case "down":this.element.style.top=this.originalTop+this.originalHeight*(-1+pos)+"px";break;case "up":this.element.style.top=this.originalTop+this.originalHeight*(1-pos)+"px";break;case "left":this.element.style.left=this.originalLeft+this.originalWidth*(1-pos)+"px";break;case "right":this.element.style.left=this.originalLeft+this.originalWidth*(-1+pos)+"px";break;}},finish:function(){}});WebSquare.effect.opacity=function(_4f){["WebSquare.effect.opacity"];try{this.element=_4f;var _50=WebSquare.extend({opacity:0},arguments[1]||{});WebSquare.effect.effectManager.add(this,_50);}catch(e){$e(e);}};WebSquare.extend(WebSquare.extend(WebSquare.effect.opacity.prototype,WebSquare.effect.base.prototype),{setup:function(){},update:function(pos){var _52=1*(1-pos)+this.options.opacity*pos;WebSquare.style.setOpacity(this.element,_52);},finish:function(){}});WebSquare.effect.newEffect=function(_53){["WebSquare.effect.newEffect"];try{this.element=_53;var _54=WebSquare.extend({},arguments[1]||{});WebSquare.effect.effectManager.add(this,_54);}catch(e){$e(e);}};WebSquare.extend(WebSquare.extend(WebSquare.effect.newEffect.prototype,WebSquare.effect.base.prototype),{setup:function(){},update:function(pos){},finish:function(){}});WebSquare.effect.animate=function(_56,_57,_58,_59){["WebSquare.effect.animate"];try{this.options=WebSquare.extend({mode:"absolute",transition:null},_59||{});var _5a=function(pos){for(var _5c in _57){var _5d=_57[_5c];var _5e=_58[_5c];var _5f="";switch(_5c){case "left":case "top":case "width":case "height":_5d=parseInt(_5d);_5e=parseInt(_5e);_5f=_5d+(_5e-_5d)*pos;_56.style[_5c]=_5f+"px";break;case "scrollLeft":case "scrollTop":_5d=parseInt(_5d);_5e=parseInt(_5e);_5f=_5d+(_5e-_5d)*pos;_56[_5c]=_5f+"px";break;case "opacity":_5d=parseInt(_5d);_5e=parseInt(_5e);_5f=_5d+(_5e-_5d)*pos;WebSquare.style.setOpacity(_56,_5f);break;case "color":break;}}};var _60=new WebSquare.thread(_56.id,_5a);_60.run();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.threadManager=function(){this.threadHash={};};WebSquare.threadManager.prototype.add=function(_1){if(this.threadHash[_1.id]){this.threadHash[_1.id].abort();}this.threadHash[_1.id]=_1;};WebSquare.threadManager.prototype.remove=function(_2){this.threadHash[_2.id]=null;};WebSquare.threadManager=new WebSquare.threadManager();WebSquare.thread=function(id,_4,_5){this.id=id;this.callback=_4;this.options=WebSquare.extend({delay:0,duration:1000,fps:60,mode:"",context:this},_5||{});this.timeState="abort";this.interval=null;};WebSquare.thread.prototype.run=function(){WebSquare.threadManager.add(this);var _6=new Date().getTime();this.startTime=this.options.delay+_6;this.finishTime=this.startTime+this.options.duration;this.currentFrame=0;var _7=this;this.interval=setInterval(function(){var _8=new Date().getTime();_7.runTime(_8);},10);this.timeState="run";};WebSquare.thread.prototype.abort=function(){clearInterval(this.interval);this.interval=null;this.timeState="abort";WebSquare.threadManager.remove(this);};WebSquare.thread.prototype.sleep=function(){};WebSquare.thread.prototype.runTime=function(_9){if(_9>=this.startTime){if(_9>=this.finishTime){this.update(1);this.abort();return;}var _a=(_9-this.startTime)/(this.finishTime-this.startTime);var _b=Math.round(_a*this.options.fps*this.options.duration/1000);if(_b>this.currentFrame){this.update(_a);this.currentFrame=_b;}}};WebSquare.thread.prototype.update=function(_c){this.callback.call(this.options.context,_c);};imports("engine/domIterator.js");WebSquare.event={};WebSquare.event.clear=function(){$l(" WebSquare memory leak initialize start ");for(var k in window._funs){window._funs[k]=null;}for(var i in window._objs){if(typeof window._objs[i]._closures!="undefined"){for(var j in window._objs[i]._closures){try{window._objs[i].detachEvent(window._objs[i]._closures[j].name,window._objs[i]._closures[j]);window._objs[i]._closures[j]=null;window._funs[j]=null;}catch(e){}}window._objs[i]._closures=null;window._objs[i]=null;}}window._objs=null;$l(" WebSquare memory leak initialize end ");};WebSquare.event.cleanObj=function(_4){try{for(var i in _4){WebSquare.event.cleanObj(_4[i]);}}catch(e){}delete _4;};WebSquare.event.clearElement=function(_6){var _7=null;var i=0;var _9=0;var _a="";_7=_6.attributes;if(_7){_9=_7.length;for(i=0;i<_9;i++){_a=_7[i].name;if(typeof _6[_a]=="function"){_6[_a]=null;}}}_7=_6.childNodes;if(_7){_9=_7.length;for(i=0;i<_9;i++){this.clearElement(_6.childNodes[i]);}}};WebSquare.event.applyParentObject=function(_b,_c){["WebSquare.event.applyParentObject"];try{return _c.apply(_b,arguments);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.addListener=function(_d,_e,_f,_10){["WebSquare.event.addListener"];WebSquare.addListenerCnt++;try{_10=_10||false;if(_d.attachEvent){try{if(_d!=window){if(_e=="onload"){WebSquare.onload=_f;}else{_d.attachEvent(_e,_f.closure(_d,_e));}}else{_d.attachEvent(_e,_f);}}catch(e){WebSquare.exception.printStackTrace(e);}}else{if(_d.addEventListener){try{if((typeof _e!="undefined")&&(_e!=null)&&(_e!="")){if(_e.startsWith("on")){_d.addEventListener(_e.slice(2),_f,_10);}else{_d.addEventListener(_e,_f,_10);}}}catch(e){WebSquare.exception.printStackTrace(e);}}}}catch(e){$l("ERROR ["+_d.id+"] ["+_e+"] at WebSquare.event.addListener");WebSquare.exception.printStackTrace(e);}};WebSquare.event.removeListener=function(_11,_12,_13,_14){["WebSquare.event.removeListener"];try{_14=_14||false;if(_11.detachEvent){try{if(_11!=window){_11.detachEvent(_12,_13.closure(_11,_12));}else{_11.detachEvent(_12,_13);}}catch(e){WebSquare.exception.printStackTrace(e);}}else{if(_11.removeEventListener){try{_11.removeEventListener(_12.slice(2),_13,_14);}catch(e){WebSquare.exception.printStackTrace(e);}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.addEvents=function(o,_16,_17){["WebSquare.event.addActions"];var _18=[];try{if(typeof _16!="undefined"&&_16!=null){if(typeof _17!="undefined"){var _19={};for(var i=0;i<_17.length;i++){_19[_17[i]]="";}var _1b=[];for(var i=0;i<_16.length;i++){if(typeof _19[_16[i].name]=="undefined"){_18.push(_16[i]);}else{_1b.push(_16[i]);}}_16=_1b;}var _1c=undefined;try{_1c=eval(o.id);}catch(e){WebSquare.exception.printStackTrace(e);}if(typeof _1c!="undefined"){for(var i=0;i<_16.length;i++){switch(_16[i].action){case "script":if(typeof _16[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_16[i].param.handler);_16[i].param.handler=obfuscator_eventHandler;}if(typeof _16[i].param.handler=="function"){var obfuscator_obj=_1c;var obfuscator_xmlEvents=_16;eval("var obfuscator_event"+i+" = obfuscator_xmlEvents[i].name;");eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event"+i+" , e );};");WebSquare.event.addListener(o,_16[i].name,eval("applyEvent"+i),false);}break;case "send":case "dispatch":case "refresh":case "setValue":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":case "upload":default:var obfuscator_obj=_1c;var obfuscator_event=_16[i].name;eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event , e);};");WebSquare.event.addListener(o,_16[i].name,eval("applyEvent"+i),false);break;}}if(typeof _1c.userEventList=="object"&&typeof _1c.userEventList.length=="number"){_1c.userEventList=_1c.userEventList.concat(_16);}else{_1c.userEventList=_16;}}else{for(var i=0;i<_16.length;i++){switch(_16[i].action){case "script":if(typeof _16[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_16[i].param.handler);_16[i].param.handler=obfuscator_eventHandler;}if(typeof _16[i].param.handler=="function"){WebSquare.event.addListener(o,_16[i].name,_16[i].param.handler);}break;case "send":WebSquare.event.addListener(o,_16[i].name,function(){WebSquare.ModelUtil.executeSubmission(_16[i].param.submission);});break;case "refresh":var _1d=_16[i].param.model;var _1e=WebSquare.ModelUtil.getModelByID(_1d);if(_1e!=null){WebSquare.event.addListener(o,_16[i].name,function(){_1e.refresh();});}break;case "setValue":if(typeof _16[i].param.xpath!="undefined"){var _1f=function(){var _20="";if(typeof _16[i].param.value!="undefined"){_20=WebSquare.ModelUtil.getInstanceValue(_16[i].param.value);}else{if(typeof _16[i].param._text!="undefined"){_20=_text;}}var _21=new WebSquare.Actions.WebSquareSetValueAction(null,null,_16[i].param.xpath,_20);_21.activate();};WebSquare.event.addListener(o,_16[i].name,_1f);}break;case "upload":var _1f=function(){var _22=new WebSquare.Actions.WebSquareUploadAction(_16[i].param);_22.activate();};WebSquare.event.addListener(o,_16[i].name,_1f);break;case "dispatch":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":default:WebSquare.logger.printLog("[WebSquare.event.addEvents]"+WebSquare.language.getMessage("E_event_AddEventError",_16[i].action));break;}}}}}catch(e){WebSquare.exception.printStackTrace(e);}return _18;};WebSquare.event.addUserEvents=function(o,obfuscator_Actions,_24){["WebSquare.event.addUserEvents"];var _25=[];try{if(obfuscator_Actions){if(typeof _24!="undefined"){var _26={};for(var i=0;i<_24.length;i++){_26[_24[i]]="";}var _28=[];for(var i=0;i<obfuscator_Actions.length;i++){if(typeof _26[obfuscator_Actions[i].name]=="undefined"){_25.push(obfuscator_Actions[i]);}else{_28.push(obfuscator_Actions[i]);}}obfuscator_Actions=_28;}for(var i=0;i<obfuscator_Actions.length;i++){if(obfuscator_Actions[i].action=="script"){if(typeof obfuscator_Actions[i].param.handler=="string"){eval("obfuscator_Actions[i].param.handler = "+obfuscator_Actions[i].param.handler);}}}if(typeof o.userEventList=="object"&&typeof o.userEventList.length=="number"){o.userEventList=o.userEventList.concat(obfuscator_Actions);}else{o.userEventList=obfuscator_Actions;}}}catch(e){WebSquare.exception.printStackTrace(e);}return _25;};WebSquare.event.fireEvent=function(o,ev){["WebSquare.event.fireEvent"];try{var _2b=o.userEventList;if(o.options&&o.options.parentEvent&&(o!=o.options.parentEvent)){o.options.parentEvent.childFiredEvent.apply(o.options.parentEvent,arguments);return;}if(_2b){var _2c=null;var ret=undefined;for(var i=0;i<_2b.length;i++){if(typeof _2b[i].name!="undefined"&&_2b[i].name==ev.toLowerCase()){switch(_2b[i].action){case "script":if(typeof _2b[i].param.handler=="function"){if(_2c==null){_2c=[];if(arguments.length>2){for(var j=2;j<arguments.length;j++){_2c.push(arguments[j]);}}}ret=_2b[i].param.handler.apply(o,_2c);}break;case "send":WebSquare.ModelUtil.executeSubmission(_2b[i].param.submission);break;case "dispatch":var _30=parseInt(_2b[i].param.delay);if(!isNaN(_30)){setTimeout("WebSquare.event.fireEvent( eval( '"+_2b[i].param.target+"'), '"+_2b[i].param.name+"');",_30);}else{WebSquare.event.fireEvent(eval(_2b[i].param.target),_2b[i].param.name);}break;case "refresh":var _31=_2b[i].param.model;var _32=WebSquare.ModelUtil.getModelByID(_31);if(_32!=null){_32.refresh();}break;case "setValue":if(typeof _2b[i].param.xpath!="undefined"){var _33="";if(typeof _2b[i].param.value!="undefined"){_33=WebSquare.ModelUtil.getInstanceValue(_2b[i].param.value);}else{if(typeof _2b[i].param._text!="undefined"){_33=_text;}}var _34=new WebSquare.Actions.WebSquareSetValueAction(null,null,_2b[i].param.xpath,_33);_34.activate();}break;case "prompt":break;case "reset":break;case "rebuild":break;case "recalculate":break;case "revalidate":break;case "setfocus":break;case "load":break;case "toggle":break;case "insert":break;case "copy":break;case "delete":break;case "setindex":break;case "upload":var _35=new WebSquare.Actions.WebSquareUploadAction(_2b[i].param);_35.activate();break;case "popup":var _36=new WebSquare.Actions.WebSquarePopupAction(_2b[i].param);_36.activate();break;default:break;}}}if(typeof ret!="undefined"){return ret;}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.fireSystemEvent=function(o,_38,_39){["WebSquare.event.fireSystemEvent"];try{if(!WebSquare.util.isIE()&&"createEvent" in document){if(_38.slice(0,2)=="on"){_38=_38.substring(2,_38.length);}var ev=document.createEvent("HTMLEvents");ev.initEvent(_38,true,true);for(var key in _39){ev[key]=_39[key];}o.render.dispatchEvent(ev);}else{if("createEventObject" in document){if(_38.slice(0,2)!="on"){_38="on"+_38;}var ev=document.createEventObject();ev.eventType=_38;ev.cancelBubble=true;ev.returnValue=true;for(var key in _39){ev[key]=_39[key];}o.render.fireEvent(_38,ev);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.getTarget=function(e){["WebSquare.event.getTarget"];try{if(e==null){return null;}if(e.target){return e.target;}else{if(e.srcElement){return e.srcElement;}}return null;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.getRelatedTarget=function(e){["WebSquare.event.getRelatedTarget"];try{if(e==null){return null;}else{if(e.relatedTarget){return e.relatedTarget;}else{if(event.fromElement){return e.fromElement===WebSquare.event.getTarget(e)?e.toElement:e.fromElement;}}}return null;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.getClientX=function(e){["WebSquare.event.getClientX"];try{if(WebSquare.core.browserCheck.ie){return event.clientX;}else{return e.clientX;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.getClientY=function(e){["WebSquare.event.getClientY"];try{if(WebSquare.core.browserCheck.ie){return event.clientY;}else{return e.clientY;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.getOffsetX=function(ev){["WebSquare.event.getOffsetX"];try{if(WebSquare.core.browserCheck.ie){return event.offsetX;}else{var e=ev.target;var _42=WebSquare.style.getAbsoluteLeft(e);return ev.pageX-_42;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.getOffsetY=function(ev){["WebSquare.event.getOffsetY"];try{if(WebSquare.core.browserCheck.ie){return event.offsetY;}else{var e=ev.target;var _45=WebSquare.style.getAbsoluteTop(e);return ev.pageY-_45;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.getScreenX=function(e){["WebSquare.event.getScreenX"];try{if(WebSquare.core.browserCheck.ie){return event.screenX;}else{return e.screenX;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.getScreenY=function(e){["WebSquare.event.getScreenY"];try{if(WebSquare.core.browserCheck.ie){return event.screenX;}else{return e.screenX;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.getMouseX=function(e){["WebSquare.event.getClientX"];try{e=e||event;var _49=e.clientX;_49+=WebSquare.document.documentElement.scrollLeft||WebSquare.document.body.scrollLeft;if(WebSquare.util.isMobile()){_49=e.touches.item(0).pageX;}return _49;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.getMouseY=function(e){["WebSquare.event.getClientX"];try{e=e||event;var _4b=e.clientY;_4b+=WebSquare.document.documentElement.scrollTop||WebSquare.document.body.scrollTop;if(WebSquare.util.isMobile()){_4b=e.touches.item(0).pageY;}return _4b;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.stopPropagation=function(e){["WebSquare.event.stopPropagation"];try{if(e.stopPropagation){e.stopPropagation();}else{e.cancelBubble=true;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.preventDefault=function(e){["WebSquare.event.preventDefault"];try{if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.stopEvent=function(e){["WebSquare.event.stopEvent"];try{WebSquare.event.stopPropagation(e);WebSquare.event.preventDefault(e);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.event.bindAsEventListener=function(_4f,_50){return function(e){_50.apply(_4f,[e||window.event].concat(Array.prototype.slice.call(arguments,2)));};};WebSquare.event2=function(){this.cache=null;};WebSquare.event2.prototype.addListener=function(_52,_53,_54,_55){_55=_55||null;if(_52.addEventListener){_52.addEventListener(_53.slice(2),_54,_55);}else{if(_52.attachEvent){_52.attachEvent(_53,_54);}}this.setCache(_52,_53,_54,_55);};WebSquare.event2.prototype.removeListener=function(_56,_57,_58,_59){_59=_59||null;if(_56.removeEventListener){_56.removeEventListener(_57.slice(2),_58,_59);}else{if(_56.detachEvent){_56.detachEvent(_57,_58);}}};WebSquare.event2.prototype.setCache=function(_5a,_5b,_5c,_5d){if(!this.cache){this.cache=[];}this.cache.push([_5a,_5b,_5c,_5d]);};WebSquare.event2.prototype.clearCache=function(){if(!this.cache){return;}for(var i=0;i<this.cache.length;i++){this.removeListener.apply(this,this.cache[i]);this.cache[i][0]=null;}this.cache=null;};WebSquare.event2.prototype.bind=function(_5f,_60){var _61=[];for(var i=2;i<arguments.length;i++){_61.push(arguments[i]);}return function(){_60.apply(_5f,_61);};};WebSquare.event2.prototype.bindAsEventListener=function(_63,_64){var _65=[];for(var i=2;i<arguments.length;i++){_65.push(arguments[i]);}return function(e){_64.apply(_63,[e||window.event].concat(_65));};};WebSquare.event2.prototype.clearElement=function(_68){var _69=null;var i=0;var _6b=0;var _6c="";_69=_68.attributes;if(_69){_6b=_69.length;for(i=0;i<_6b;i++){_6c=_69[i].name;if(typeof _68[_6c]=="function"){_68[_6c]=null;}}}};WebSquare.event2.prototype.getTarget=function(e,_6e){_6e=_6e||"main";var _6f=WebSquare.event.getTarget(e);while(_6f){var _70=_6f.getAttribute("catch");if(_70&&_70.indexOf(_6e)>-1){break;}_6f=_6f.parentNode;}return _6f;};WebSquare.event2.prototype.getTargetIterator=function(e,_72){var _73=WebSquare.event.getTarget(e);return new WebSquare.targetIterator(_73,_72);};WebSquare.event2.prototype.getChildIterator=function(_74){return new WebSquare.childIterator(_74);};WebSquare.event2.prototype.addEvents=function(o,_76,_77){var _78=[];try{if(typeof _76!="undefined"&&_76!=null){if(typeof _77!="undefined"){var _79={};for(var i=0;i<_77.length;i++){_79[_77[i]]="";}var _7b=[];for(var i=0;i<_76.length;i++){if(typeof _79[_76[i].name]=="undefined"){_78.push(_76[i]);}else{_7b.push(_76[i]);}}_76=_7b;}var _7c=undefined;try{_7c=eval(o.id);}catch(e){}if(typeof _7c!="undefined"){for(var i=0;i<_76.length;i++){switch(_76[i].action){case "script":if(typeof _76[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_76[i].param.handler);_76[i].param.handler=obfuscator_eventHandler;}if(typeof _76[i].param.handler=="function"){var obfuscator_obj=_7c;var obfuscator_xmlEvents=_76;eval("var obfuscator_event"+i+" = obfuscator_xmlEvents[i].name;");eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event"+i+" , e );};");this.addListener(o,_76[i].name,eval("applyEvent"+i),false);}break;case "send":case "dispatch":case "refresh":case "setValue":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":case "upload":default:var obfuscator_obj=_7c;var obfuscator_event=_76[i].name;eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event , e);};");this.addListener(o,_76[i].name,eval("applyEvent"+i),false);break;}}if(typeof _7c.userEventList=="object"&&typeof _7c.userEventList.length=="number"){_7c.userEventList.concat(_76);}else{_7c.userEventList=_76;}}else{for(var i=0;i<_76.length;i++){switch(_76[i].action){case "script":if(typeof _76[i].param.handler=="string"){eval("var obfuscator_eventHandler = "+_76[i].param.handler);_76[i].param.handler=obfuscator_eventHandler;}if(typeof _76[i].param.handler=="function"){this.addListener(o,_76[i].name,_76[i].param.handler);}break;case "send":this.addListener(o,_76[i].name,function(){WebSquare.ModelUtil.executeSubmission(_76[i].param.submission);});break;case "refresh":var _7d=_76[i].param.model;var _7e=WebSquare.ModelUtil.getModelByID(_7d);if(_7e!=null){this.addListener(o,_76[i].name,function(){_7e.refresh();});}break;case "setValue":if(typeof _76[i].param.xpath!="undefined"){var _7f=function(){var _80="";if(typeof _76[i].param.value!="undefined"){_80=WebSquare.ModelUtil.getInstanceValue(_76[i].param.value);}else{if(typeof _76[i].param._text!="undefined"){_80=_text;}}var _81=new WebSquare.Actions.WebSquareSetValueAction(null,null,_76[i].param.xpath,_80);_81.activate();};this.addListener(o,_76[i].name,_7f);}break;case "upload":var _7f=function(){var _82=new WebSquare.Actions.WebSquareUploadAction(_76[i].param);_82.activate();};this.addListener(o,_76[i].name,_7f);break;case "dispatch":case "prompt":case "reset":case "rebuild":case "recalculate":case "revalidate":case "setfocus":case "load":case "toggle":case "insert":case "copy":case "delete":case "setindex":default:WebSquare.logger.printLog("[WebSquare.event.addEvents]"+WebSquare.language.getMessage("E_event_AddEventError",_76[i].action));break;}}}}}catch(e){WebSquare.exception.printStackTrace(e);}return _78;};WebSquare.event.addEvent=function(_83,_84,_85){if(!_85.$$guid){_85.$$guid=WebSquare.event.addEvent.guid++;}if(!_83.events){_83.events={};}var _86=_83.events[_84];if(!_86){_86=_83.events[_84]={};if(_83["on"+_84]){_86[0]=_83["on"+_84];}}_86[_85.$$guid]=_85;_83["on"+_84]=WebSquare.event.handleEvent;};WebSquare.event.removeEvent=function(_87,_88,_89){if(_87.events&&_87.events[_88]){delete _87.events[_88][_89.$$guid];}};WebSquare.event.handleEvent=function(_8a){var _8b=true;_8a=_8a||window.event;var _8c=this.events[_8a.type];for(var i in _8c){this.$$handleEvent=_8c[i];if(this.$$handleEvent(_8a)===false){_8b=false;}}return _8b;};WebSquare.event.fixEvent=function(_8e){_8e.preventDefault=WebSquare.event.fixEvent.preventDefault;_8e.stopPropagation=WebSquare.event.fixEvent.stopPropagation;};WebSquare.event.fixEvent.preventDefault=function(){this.returnValue=false;};WebSquare.event.fixEvent.stopPropagation=function(){this.cancelBubble=true;};WebSquare.event.isEventSupported=function(_8f,_90){["WebSquare.event.isEventSupported"];var _91=false;try{if(!_8f){return false;}var _92=_90;if(typeof _92==="string"&&(_92.charAt(0)!=="o"||_92.charAt(1)!=="n")){_92="on"+_92;}_91=_92 in _8f;if(!_91){if(_8f.setAttribute&&_8f.removeAttribute){_8f.setAttribute(_92,"");_91=(typeof _8f[_92]==="function");if(typeof _8f[_92]!=="undefined"){_8f[_92]=undefined;}_8f.removeAttribute(_92);}}}catch(e){WebSquare.exception.printStackTrace(e);}return _91;};WebSquare.skin={};WebSquare.skin.skinTag=new Array();WebSquare.skin.addImport=function(_1,_2,_3){["WebSquare.skin.addImport"];try{if(typeof _1==="string"){var _4={};_4.href=WebSquare.core.getURL(_1);_4.type="text/css";_4.rel="stylesheet";_1=_4;}var _5=false;for(var i in WebSquare.skin.skinTag){if(_1==WebSquare.skin.skinTag[i]){_5=true;break;}}if(_5&&WebSquare.core.docType!="quirk"){}else{WebSquare.skin.skinTag.push(_1);if(WebSquare.core.getConfiguration("/WebSquare/stylesheet/@import")=="link"){if(_2==true){WebSquare.cssManager.linkExternalCSS(_1);}else{WebSquare.cssManager.linkControlCSS(_1);}}else{var _7=_1.href;var _8=WebSquare.core.load(_7);if(_2==true){WebSquare.cssManager.addExternalCSS(_8);}else{WebSquare.cssManager.addControlCSS(_8);}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.skin.parseCSS=function(_9){["WebSquare.skin.parseCss"];try{if(WebSquare.core.browserCheck.ie){var _a=WebSquare.document.createStyleSheet();_a.cssText=_9;}else{if(WebSquare.core.browserCheck.opera){var _b=WebSquare.document.createElementNS("http://www.w3.org/1999/xhtml","style");_b.appendChild(document.createTextNode(_9));WebSquare.document.getElementsByTagName("head").item(0).appendChild(_b);}else{var _b=WebSquare.document.createElementNS("http://www.w3.org/1999/xhtml","style");_b.appendChild(document.createTextNode(_9));WebSquare.document.getElementsByTagName("head").item(0).appendChild(_b);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.skin.importCSS=function(_c,_d){["WebSquare.skin.importCSS"];try{var _e=WebSquare.xml.getElementsByTagName(_c.documentElement,"style",WebSquare.core._XML_NAMESPACE.XHTML);var _f="";for(var i=0;i<_e.length;i++){var _11=_e[i];if(_11.nodeType==1){var _12=_11.childNodes;for(var j=0;j<_12.length;j++){var _14=_12[j];if(_14.nodeType==4||_14.nodeType==3){_f+=_14.nodeValue;}}}}if(_f.wq_trim()!=""){WebSquare.cssManager.addInternalCSS(_f);}var _12=_c.childNodes;for(var i=0;i<_12.length;i++){var _11=_12[i];if(_11.nodeType==7&&_11.nodeName==="xml-stylesheet"){var _15=_11.data.wq_replaceAll("=","");var _16=_15.split("\"");_16.pop();var obj={};for(var j=0;j<_16.length;j+=2){obj[_16[j].wq_trim()]=_16[j+1];}if(obj.href){obj.href=WebSquare.core.getURL(obj.href);}if(obj.type==undefined){obj.type="text/css";}if(obj.rel==undefined){obj.rel="stylesheet";}if(_d){WebSquare.skin.addImport(obj,true,true);}else{WebSquare.skin.addImport(obj,true);}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.skin.applyClass=function(obj,_19){["WebSquare.skin.applyClass"];try{obj.className=_19;}catch(e){}};WebSquare.skin.ClassStyleCache={};WebSquare.skin.makeTime=0;WebSquare.skin.makeClassStyle=function(_1a){["WebSquare.skin.makeClassStyle"];var _1b={};if(typeof _1a=="undefined"||_1a==null||_1a==""){return _1b;}if(typeof WebSquare.skin.ClassStyleCache[_1a]!="undefined"&&WebSquare.skin.ClassStyleCache[_1a]!=null){return WebSquare.skin.ClassStyleCache[_1a];}try{var _1c=WebSquare.document.styleSheets;if(WebSquare.core.browserCheck.ie){for(var i=_1c.length-1;i>=0;i--){var _1e=_1c[i];for(var j=0;j<_1e.rules.length;j++){var _20=_1e.rules.item(j);if(typeof _20.selectorText=="undefined"){continue;}var _21=_20.selectorText;var _22=_21.lastIndexOf(".");if(_22>-1){var end=_21.indexOf(" ",_22);if(end>-1){_21=_21.substring(_22+1,end);}else{_21=_21.substring(_22+1);}}if(_21==_1a){var _24=_20.style.cssText.split(";");for(var k=0;k<_24.length;k++){var s=_24[k].split(":");if(s[1]!=null){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){var _27=s[1].substring(3).wq_trim();if(_27.charAt(0)=="("&&_27.charAt(_27.length-1)==")"){s[1]="url("+WebSquare.core.getImageURL(_27.substring(1,_27.length-1))+")";}}}_1b[(s[0].wq_trim()).capitalizeStyle()]=s[1].wq_trim();}}WebSquare.skin.ClassStyleCache[_1a]=_1b;break;}}}}else{if(WebSquare.core.browserCheck.opera){for(var i=_1c.length-1;i>=0;i--){var _1e=_1c[i];for(var j=0;j<_1e.cssRules.length;j++){var _20=_1e.cssRules[j];if(typeof _20.selectorText=="undefined"){continue;}var _21=_20.selectorText;var _22=_21.lastIndexOf(".");if(_22>-1){var end=_21.indexOf(" ",_22);if(end>-1){_21=_21.substring(_22+1,end);}else{_21=_21.substring(_22+1);}}if(_21==_1a){var _24=_20.style.cssText.split(";");for(var k=0;k<_24.length;k++){var idx=_24[k].indexOf(":");if(idx>-1){var _29=_24[k].substring(0,idx);var _2a=_24[k].substring(idx+1);_1b[(_29.wq_trim()).capitalizeStyle()]=_2a.wq_trim();}}WebSquare.skin.ClassStyleCache[_1a]=_1b;break;}}}}else{for(var i=_1c.length-1;i>=0;i--){var _1e=_1c[i];for(var j=0;j<_1e.cssRules.length;j++){var _20=_1e.cssRules[j];if(typeof _20.selectorText=="undefined"){continue;}var _21=_20.selectorText;var _22=_21.lastIndexOf(".");if(_22>-1){var end=_21.indexOf(" ",_22);if(end>-1){_21=_21.substring(_22+1,end);}else{_21=_21.substring(_22+1);}}_21=_21.toLowerCase();_1a=_1a.toLowerCase();if(_21==_1a){var _24=_20.style.cssText.split(";");for(var k=0;k<_24.length;k++){var s=_24[k].split(":");if(s[1]!=null){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){if(s[1].indexOf("http")>=0){index=2;while(s[index]!=null){s[1]=s[1]+":"+s[index];index++;}}else{var _27=s[1].substring(3).wq_trim();if(_27.charAt(0)=="("&&_27.charAt(_27.length-1)==")"){s[1]="url("+WebSquare.core.getImageURL(_27.substring(1,_27.length-1))+")";}}}}_1b[(s[0].wq_trim()).capitalizeStyle()]=s[1].wq_trim();}}WebSquare.skin.ClassStyleCache[_1a]=_1b;break;}}}}}}catch(e){WebSquare.exception.printStackTrace(e);}return _1b;};WebSquare.skin.makeBackgroundImageUrl=function(_2b){["WebSquare.skin.makeBackgroundImageUrl"];var _2c="";if(typeof _2b=="undefined"||_2b==null||_2b==""){return "";}try{var _2d=WebSquare.document.styleSheets;if(WebSquare.core.browserCheck.ie){for(var i=_2d.length-1;i>=0;i--){var _2f=_2d[i];for(var j=0;j<_2f.rules.length;j++){var _31=_2f.rules.item(j);if(typeof _31.selectorText=="undefined"){continue;}var _32=_31.selectorText;var _33=_32.lastIndexOf(".");if(_33>-1){var end=_32.indexOf(" ",_33);if(end>-1){_32=_32.substring(_33+1,end);}else{_32=_32.substring(_33+1);}}if(_32==_2b){var _35=_31.style.cssText.split(";");for(var k=0;k<_35.length;k++){var s=_35[k].split(":");if(s[1]!=null&&(s[0].toUpperCase()=="BACKGROUND-IMAGE")){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){var _38=s[1].substring(3).wq_trim();if(_38.charAt(0)=="("&&_38.charAt(_38.length-1)==")"){s[1]=WebSquare.core.getImageURL(_38.substring(1,_38.length-1));}}}_2c=s[1].wq_trim();}}break;}}}}else{if(WebSquare.core.browserCheck.opera){for(var i=_2d.length-1;i>=0;i--){var _2f=_2d[i];for(var j=0;j<_2f.cssRules.length;j++){var _31=_2f.cssRules[j];if(typeof _31.selectorText=="undefined"){continue;}var _32=_31.selectorText;var _33=_32.lastIndexOf(".");if(_33>-1){var end=_32.indexOf(" ",_33);if(end>-1){_32=_32.substring(_33+1,end);}else{_32=_32.substring(_33+1);}}if(_32==_2b){var _35=_31.style.cssText.split(";");for(var k=0;k<_35.length;k++){var s=_35[k].split(":");var idx=_35[k].indexOf(":");if(idx>-1){var _3a=_35[k].substring(0,idx);var _3b=_35[k].substring(idx+1);if(_3a.toUpperCase().wq_trim()=="BACKGROUND-IMAGE"){if(_3b.indexOf("url")>=0){_3b=_3b.wq_trim();if(_3b.startsWith("url")){var _38=_3b.substring(3).wq_trim();_38=_38.replace(/"/g,"");if(_38.charAt(0)=="("&&_38.charAt(_38.length-1)==")"){var _3c=_38.lastIndexOf(WebSquare.baseURI);_3c+=WebSquare.baseURI.length;_3b=WebSquare.core.getImageURL(_38.substring(_3c,_38.length-1));}}}_2c=_3b;}}}break;}}}}else{for(var i=_2d.length-1;i>=0;i--){var _2f=_2d[i];for(var j=0;j<_2f.cssRules.length;j++){var _31=_2f.cssRules[j];if(typeof _31.selectorText=="undefined"){continue;}var _32=_31.selectorText;var _33=_32.lastIndexOf(".");if(_33>-1){var end=_32.indexOf(" ",_33);if(end>-1){_32=_32.substring(_33+1,end);}else{_32=_32.substring(_33+1);}}_32=_32.toLowerCase();_2b=_2b.toLowerCase();if(_32==_2b){var _35=_31.style.cssText.split(";");for(var k=0;k<_35.length;k++){var s=_35[k].split(":");if(s[1]!=null&&(s[0].toUpperCase().wq_trim()=="BACKGROUND-IMAGE")){if(s[1].indexOf("url")>=0){s[1]=s[1].wq_trim();if(s[1].startsWith("url")){if(s[1].indexOf("http")>=0){index=2;while(s[index]!=null){s[1]=s[1]+":"+s[index];index++;}}else{var _38=s[1].substring(3).wq_trim();if(_38.charAt(0)=="("&&_38.charAt(_38.length-1)==")"){s[1]=WebSquare.core.getImageURL(_38.substring(1,_38.length-1));}}}}_2c=s[1].wq_trim();}}break;}}}}}}catch(e){WebSquare.exception.printStackTrace(e);}return _2c;};WebSquare.skin.loadCSS=function(url){["WebSquare.skin.loadCSS"];try{if(!url||url===""){return;}var _3e=WebSquare.core.load(url);if(WebSquare.core.browserCheck.ie){var _3f=WebSquare.document.createStyleSheet();_3f.cssText=_3e;}else{var _40=WebSquare.document.createElementNS("http://www.w3.org/1999/xhtml","style");_40.appendChild(document.createTextNode(_3e));WebSquare.document.getElementsByTagName("head")[0].appendChild(_40);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.language={};WebSquare.language.getMessage=function(){["WebSquare.language.getMessage"];try{var _1="";if(arguments.length==0){return "";}if(typeof WebSquareLang[arguments[0]]=="undefined"){WebSquare.logger.printLog("'"+arguments[0]+"' is not definde.");_1="";}else{_1=WebSquareLang[arguments[0]];}for(var i=1;i<arguments.length;i++){try{_1=_1.replace(eval("/%"+i+"/g"),arguments[i]);}catch(e){WebSquare.logger.printLog(e.message);}}return _1;}catch(e){WebSquare.logger.printLog(e.message);}};WebSquare.point2d=function(x,y){this.x=null;this.y=null;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}this.x=x;this.y=y;};WebSquare.point2d.prototype.assign=function(_3){this.x=_3.x;this.y=_3.y;};WebSquare.point2d.prototype.add=function(_4){["WebSquare.point2d.add"];try{return new WebSquare.point2d(this.x+_4.x,this.y+_4.y);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.point2d.prototype.subtract=function(_5){["WebSquare.point2d.subtract"];try{return new WebSquare.point2d(this.x-_5.x,this.y-_5.y);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.point2d.prototype.scale=function(_6){["WebSquare.point2d.scale"];try{return new WebSquare.point2d(this.x*_6,this.y*_6);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.point2d.prototype.getSize=function(){["WebSquare.point2d.getSize"];try{return Math.sqrt(this.x*this.x+this.y*this.y);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.point2d.prototype.innerProduct=function(_7){["WebSquare.point2d.innerProduct"];try{return this.x*_7.x+this.y*_7.y;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.point2d.prototype.crossProduct=function(_8){["WebSquare.point2d.crossProduct"];try{}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.point3d=function(x,y,z){this.x=null;this.y=null;if(isNaN(x)){x=0;}if(isNaN(y)){y=0;}if(isNaN(z)){z=0;}this.x=x;this.y=y;this.z=z;};WebSquare.point3d.prototype.assign=function(_c){this.x=_c.x;this.y=_c.y;this.z=_c.z;};WebSquare.point3d.prototype.add=function(_d){["WebSquare.point3d.add"];try{return new WebSquare.point3d(this.x+_d.x,this.y+_d.y,this.z+_d.z);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.point3d.prototype.subtract=function(_e){["WebSquare.point3d.subtract"];try{return new WebSquare.point3d(this.x-_e.x,this.y-_e.y,this.z-_e.z);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.point3d.prototype.scale=function(_f){["WebSquare.point3d.scale"];try{return new WebSquare.point3d(this.x*_f,this.y*_f,this.z*_f);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.point3d.prototype.getSize=function(){["WebSquare.point3d.getSize"];try{return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.point3d.prototype.innerProduct=function(rhs){["WebSquare.point3d.innerProduct"];try{return this.x*rhs.x+this.y*rhs.y+this.z*rhs.z;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.point3d.prototype.crossProduct=function(rhs){["WebSquare.point3d.crossProduct"];try{}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.matrix=function(row,col){["WebSquare.matrix"];try{this.rowCount=null;this.colCount=null;this.data=null;this.rowCount=row|0;this.colCount=col|0;this.data=new Array(row);for(var i=0;i<row;i++){this.data[i]=new Array(col);}for(var i=0;i<row;i++){for(var j=0;j<col;j++){this.data[i][j]=0;}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.matrix.prototype.add=function(mat){["WebSquare.matrix.add"];try{var _17=new WebSquare.matrix(this.rowCount,this.colCount);if(this.rowCount==mat.rowCount&&this.colCount==mat.colCount){for(var i=0;i<this.rowCount;i++){for(var j=0;j<this.colCount;j++){_17.data[i][j]=this.data[i][j]+mat.data[i][j];}}}return _17;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.matrix.prototype.scale=function(_1a){["WebSquare.matrix.scale"];try{for(var i=0;i<this.rowCount;i++){for(var j=0;j<this.colCount;j++){this.data[i][j]*=_1a;}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.matrix.prototype.multiplyMatrix=function(rhs){["WebSquare.matrix.add"];try{var l=this.rowCount;var m=this.colCount;var m2=rhs.rowCount;var n=mat.colCount;var _22=new WebSquare.matrix(l,n);if(m==m2){for(var i=0;i<l;i++){for(var j=0;j<n;j++){var sum=0;for(var k=0;k<m;k++){sum+=this.data[i][k]*rhs.data[k][j];}_22.data[i][j]=sum;}}}return _22;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.matrix.prototype.rightMultiply2d=function(_27){["WebSquare.matrix.rightMultiply2d"];try{var _28=new WebSquare.point2d();_28.x=this.data[0][0]*_27.x+this.data[0][1]*_27.y;_28.y=this.data[1][0]*_27.x+this.data[1][1]*_27.y;return _28;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.matrix.prototype.rightMultiply3d=function(_29){["WebSquare.matrix.rightMultiply3d"];try{var _2a=new WebSquare.point3d();_2a.x=this.data[0][0]*_29.x+this.data[0][1]*_29.y+this.data[0][2]*_29.z;_2a.y=this.data[1][0]*_29.x+this.data[1][1]*_29.y+this.data[1][2]*_29.z;_2a.z=this.data[2][0]*_29.x+this.data[2][1]*_29.y+this.data[2][2]*_29.z;return _2a;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.geometry={rotMatrix2:new WebSquare.matrix(2,2),rotMatrix3:new WebSquare.matrix(3,3),rotMatrix4:new WebSquare.matrix(4,4)};WebSquare.geometry.translate2d=function(_2b,_2c){["WebSquare.geometry.translate2d"];try{_2b.x=_2b.x+_2c.x;_2b.y=_2b.y+_2c.y;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.geometry.translate3d=function(_2d,_2e){["WebSquare.geometry.translate3d"];try{_point2d.x+=_2e.x;_point2d.y+=_2e.y;_point2d.z+=_2e.z;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.geometry.reflect2d=function(_2f,_30){["WebSquare.geometry.reflect2d"];try{if(_30.x==1&&_30.y==1){this.rotMatrix2.data[0][0]=0;this.rotMatrix2.data[0][1]=1;this.rotMatrix2.data[1][0]=1;this.rotMatrix2.data[1][1]=0;}else{if(_30.x==0&&_30.y==1){this.rotMatrix2.data[0][0]=-1;this.rotMatrix2.data[0][1]=0;this.rotMatrix2.data[1][0]=0;this.rotMatrix2.data[1][1]=1;}}return this.rotMatrix2.rightMultiply2d(_2f);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.geometry.reflect3d=function(_31,_32){["WebSquare.geometry.reflect3d"];try{}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.geometry.rotate2d=function(_33,_34,_35){["WebSquare.geometry.rotate2d"];try{this.rotMatrix2.data[0][0]=Math.cos(_35*Math.PI/180);this.rotMatrix2.data[0][1]=Math.sin(_35*Math.PI/180)*-1;this.rotMatrix2.data[1][0]=Math.sin(_35*Math.PI/180);this.rotMatrix2.data[1][1]=Math.cos(_35*Math.PI/180);return this.rotMatrix2.rightMultiply2d(_33.subtract(_34)).add(_34);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.geometry.rotate3d=function(_36,_37,_38){["WebSquare.geometry.rotate3d"];try{}catch(e){WebSquare.exception.printStackTrace(e);}};requires("engine/effect.js");WebSquare.shape={};WebSquare.shape.shape=function(id){["WebSquare.shape.shape"];this.id=id;this.renderType="";};WebSquare.shape.shape.prototype.render=function(_2){["WebSquare.shape.render"];alert("should override WebSquare.shape.render");};WebSquare.shape.shape.prototype.renderTime=function(_3,_4){["WebSquare.shape.render"];this.render(_3);};WebSquare.shape.lineShape=function(id,_6,_7,_8,_9,_a,_b){["WebSquare.shape.lineShape"];try{_b=WebSquare.extend({},_b);WebSquare.shape.shape.call(this,id);this.startX=_6;this.startY=_7;this.endX=_8;this.endY=_9;this.style=_a;this.params=_b;this.graphicObj=null;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.shape.lineShape.inherit(WebSquare.shape.shape);WebSquare.shape.lineShape.prototype.render=function(_c){["WebSquare.shape.lineShape.render"];try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_c.getDarkColor(this.style.backgroundColor,4);}this.graphicObj=_c.drawToolkit.createLine(this.id,this.style.borderWidth,this.startX,this.startY,this.endX,this.endY,this.style.borderColor,true,this.style.zIndex);return this.graphicObj;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.shape.lineShape.prototype.renderTime=function(_d,_e){["WebSquare.shape.lineShape.renderTime"];try{var _f=this;if(_e!=null&&_e>=0){setTimeout(function(){_f.graphicObj=_d.drawToolkit.createLine(_f.id,this.style.borderWidth,_f.startX,_f.startY,_f.endX,_f.endY,this.style.borderColor,true,this.style.zIndex);},_e);}return null;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.shape.arcShape=function(id,_11,_12,_13,_14,_15,_16,_17){["WebSquare.shape.arcShape"];try{_17=WebSquare.extend({},_17);WebSquare.shape.shape.call(this,id);this.centerX=_11;this.centerY=_12;this.radius=_13;this.startAngle=_14;this.endAngle=_15;this.style=_16;this.params=_17;this.graphicObj=null;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.shape.arcShape.inherit(WebSquare.shape.shape);WebSquare.shape.arcShape.prototype.render=function(_18){["WebSquare.shape.arcShape.render"];try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_18.getDarkColor(this.style.backgroundColor,4);}if(this.renderType.indexOf("[animation]")>-1){if(this.renderType.indexOf("[animation]1")>-1){this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX,this.centerY,1,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);new WebSquare.effect.arcAnimation(null,{centerX:this.centerX,centerX:this.centerY,radius:this.radius,startAngle:this.startAngle,endAngle:this.startAngle},{centerX:this.centerX,centerX:this.centerY,radius:this.radius,startAngle:this.startAngle,endAngle:this.endAngle},{id:this.id,graphicUtil:_18,duration:0.5});}else{if(this.renderType.indexOf("[animation]2")>-1){var _19=new WebSquare.point2d(this.radius/2,0);var _1a=new WebSquare.point2d(0,0);var _1b=(this.startAngle+this.endAngle)/2;_19=WebSquare.geometry.rotate2d(_19,_1a,-_1b);this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX+_19.x,this.centerY+_19.y,this.radius,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);new WebSquare.effect.arcAnimation(null,{centerX:this.centerX+_19.x,centerY:this.centerY+_19.y,radius:this.radius,startAngle:this.startAngle,endAngle:this.endAngle},{centerX:this.centerX,centerY:this.centerY,radius:this.radius,startAngle:this.startAngle,endAngle:this.endAngle},{id:this.id,graphicUtil:_18,transition:WebSquare.effect.transitions.square4,duration:0.5});}else{this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX,this.centerY,1,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);new WebSquare.effect.arcAnimation(null,{centerX:this.centerX,centerY:this.centerY,startAngle:0,endAngle:0,radius:this.radius},{centerX:this.centerX,centerY:this.centerY,startAngle:this.startAngle,endAngle:this.endAngle,radius:this.radius},{id:this.id,graphicUtil:_18,duration:0.5});}}}else{this.graphicObj=_18.drawToolkit.createArc(this.id,this.style.borderWidth,this.centerX,this.centerY,this.radius,this.startAngle,this.endAngle,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);}if(this.renderType.indexOf("[gradient]")>-1){var _1c=_18.getBrightColor(this.style.backgroundColor,2);_18.drawToolkit.addLinearGradient(this.id,"bottom_top",this.style.backgroundColor,_1c);}return this.graphicObj;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.shape.circleShape=function(id,_1e,_1f,_20,_21,_22){["WebSquare.shape.circleShape"];try{_22=WebSquare.extend({},_22);WebSquare.shape.shape.call(this,id);this.centerX=_1e;this.centerY=_1f;this.radius=_20;this.style=_21;this.params=_22;this.graphicObj=null;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.shape.circleShape.inherit(WebSquare.shape.shape);WebSquare.shape.circleShape.prototype.render=function(_23){["WebSquare.shape.circleShape.render"];try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_23.getDarkColor(this.style.backgroundColor,4);}this.graphicObj=_23.drawToolkit.createCircle(this.id,this.style.borderWidth,this.centerX,this.centerY,this.radius,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);if(this.renderType.indexOf("[gradient]")>-1){var _24=_23.getBrightColor(this.style.backgroundColor,2);_23.drawToolkit.addLinearGradient(this.id,"bottom_top",this.style.backgroundColor,_24);}return this.graphicObj;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.shape.rectangleShape=function(id,_26,_27,_28,_29,_2a,_2b){["WebSquare.shape.rectangleShape"];try{_2b=WebSquare.extend({},_2b);WebSquare.shape.shape.call(this,id);this.startX=_26;this.startY=_27;this.endX=_28;this.endY=_29;this.style=_2a;this.params=_2b;this.graphicObj=null;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.shape.rectangleShape.inherit(WebSquare.shape.shape);WebSquare.shape.rectangleShape.prototype.render=function(_2c){["WebSquare.shape.rectangleShape.render"];try{var _2d=Math.abs(this.endX-this.startX);var _2e=Math.abs(this.endY-this.startY);var _2f=Math.min(this.startX,this.endX);var _30=Math.min(this.startY,this.endY);if(this.style.borderColor=="autoDark"){this.style.borderColor=_2c.getDarkColor(this.style.backgroundColor,4);}if(this.renderType.indexOf("[animation]")>-1){this.graphicObj=_2c.drawToolkit.createRectangle(this.id,this.style.borderWidth,_2f,_30,0,0,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);var _31=this.renderType.indexOf("[inverse]")>=0;var _32=!_31?{x:_2f,y:_30+_2e,width:_2d,height:0}:{x:_2f,y:_30,width:0,height:_2e};new WebSquare.effect.rectAnimation(null,_32,{x:_2f,y:_30,width:_2d,height:_2e},{id:this.id,graphicUtil:_2c,transition:WebSquare.effect.transitions.linear,duration:0.5,inverse:_31,svg3D:(_2c.platformType==="svg"&&this.renderType.indexOf("[3D]")>=0)});}else{this.graphicObj=_2c.drawToolkit.createRectangle(this.id,this.style.borderWidth,_2f,_30,_2d,_2e,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);}if(this.renderType.indexOf("[gradient]")>-1){var _33=_2c.getBrightColor(this.style.backgroundColor,2);_2c.drawToolkit.addLinearGradient(this.id,"bottom_top",this.style.backgroundColor,_33);}var _34=_2d;if(this.renderType.indexOf("[inverse]")>-1){_34=_2e;}if(this.renderType.indexOf("[3D]")>-1){_2c.drawToolkit.add3DEffect(this.id,_34);}return this.graphicObj;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.shape.pathShape=function(id,_36,_37,_38){["WebSquare.shape"];try{_38=WebSquare.extend({},_38);WebSquare.shape.shape.call(this,id);this.pointArr=_36;this.style=_37;this.params=WebSquare.extend({closeFlag:true,fillFlag:true},_38);this.graphicObj=null;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.shape.pathShape.inherit(WebSquare.shape.shape);WebSquare.shape.pathShape.prototype.render=function(_39){["pathShape.render"];try{if(this.style.borderColor=="autoDark"){this.style.borderColor=_39.getDarkColor(this.style.backgroundColor,4);}if(this.renderType.indexOf("[animation]")>-1){if(this.renderType.indexOf("[animation]1")>-1){this.graphicObj=_39.drawToolkit.createPath2(this.id,this.style.borderWidth,[],this.style.borderColor,this.style.backgroundColor,this.params.fillFlag,this.params.closeFlag,true,this.style.zIndex);var _3a=new WebSquare.point2d(0,0);for(var i=0;i<this.pointArr.length;i++){if(i==0){_3a.x=this.pointArr[i].x;_3a.y=this.pointArr[i].y;}}var _3c=new Array(this.pointArr.length);for(var i=0;i<_3c.length;i++){_3c[i]=new WebSquare.point2d(_3a.x,_3a.y);}new WebSquare.effect.pathAnimation(null,{pointList:_3c},{pointList:this.pointArr},{id:this.id,graphicUtil:_39,transition:WebSquare.effect.transitions.sinodial,duration:0.5});}else{this.graphicObj=_39.drawToolkit.createPath2(this.id,this.style.borderWidth,[],this.style.borderColor,this.style.backgroundColor,this.params.fillFlag,this.params.closeFlag,true,this.style.zIndex);var _3a=new WebSquare.point2d(0,0);for(var i=0;i<this.pointArr.length;i++){_3a.x+=this.pointArr[i].x;_3a.y+=this.pointArr[i].y;if(i==this.pointArr.length-1){_3a.x/=this.pointArr.length;_3a.y/=this.pointArr.length;}}var _3c=new Array(this.pointArr.length);for(var i=0;i<_3c.length;i++){_3c[i]=new WebSquare.point2d(_3a.x,_3a.y);}new WebSquare.effect.pathAnimation(null,{pointList:_3c},{pointList:this.pointArr},{id:this.id,graphicUtil:_39,transition:WebSquare.effect.transitions.sinodial,duration:0.5});}}else{if(this.params.closeFlag==true){this.graphicObj=_39.drawToolkit.createPath(this.id,this.style.borderWidth,this.pointArr,this.style.borderColor,this.style.backgroundColor,true,this.style.zIndex);}else{this.graphicObj=_39.drawToolkit.createPath2(this.id,this.style.borderWidth,this.pointArr,this.style.borderColor,this.style.backgroundColor,this.params.fillFlag,this.params.closeFlag,true,this.style.zIndex);}}return this.graphicObj;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.shape.textShape=function(id,_3e,_3f,_40,_41,_42){["WebSquare.shape.textShape"];try{_42=WebSquare.extend({},_42);WebSquare.shape.shape.call(this,id);this.text=_3e;this.centerX=_3f;this.centerY=_40;this.style=_41;this.params=_42;this.graphicObj=null;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.shape.textShape.inherit(WebSquare.shape.shape);WebSquare.shape.textShape.prototype.render=function(_43){["WebSquare.shape.textShape.render"];try{var _44=document.createElement("div");var _45=parseInt(this.style.fontSize);if(isNaN(_45)){_45=12;}var _46=this.text.length*_45;_44.id=this.id;WebSquare.core.applyStyle(_44,this.style);_44.style.width=_46+"px";_44.style.left=this.centerX-_46/2+"px";_44.style.top=this.centerY-_45/2+"px";_44.innerHTML=this.text;if(this.params.graphicID){_44.graphicID=this.params.graphicID;}if(this.params.className){_44.className=this.params.className;}_43.drawToolkit.appendObj(_44.id,_44,false);_43.render.appendChild(_44);this.graphicObj=_44;}catch(e){WebSquare.exception.printStackTrace(e);}return this.graphicObj;};WebSquare.shape.shapeComposite=function(id){["WebSquare.shape.shapeComposite"];try{WebSquare.shape.shape.call(this,id);this.shapeList=new Array();this.graphicObj=null;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.shape.shapeComposite.inherit(WebSquare.shape.shape);WebSquare.shape.shapeComposite.prototype.addShape=function(_48){["WebSquare.shape.shapeComposite.addShape"];try{this.shapeList.push(_48);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.shape.shapeComposite.prototype.render=function(_49){["WebSquare.shape.shapeComposite.render"];try{if(this.renderType=="sequence Animation"){var _4a=0;for(var i=0;i<this.shapeList.length;i++){_4a+=50;this.shapeList[i].renderTime(_49,_4a);}}else{if(this.renderType=="simultaneous Animation"){var _4a=0;for(var i=0;i<this.shapeList.length;i++){this.shapeList[i].renderTime(_49,_4a);}}else{for(var i=0;i<this.shapeList.length;i++){if(this.renderType!=null&&this.renderType!=""){this.shapeList[i].renderType=this.renderType;}var _4c=this.shapeList[i].render(_49);}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.shape.debugPoint=function(_4d,_4e,_4f){["WebSquare.shape.debugPoint"];try{if(_4e==null){_4e=WebSquare.document.body;}_4f=WebSquare.extend({style:{},colorIndex:0,graphicUtil:null},_4f||{});var _50=new Array("#b83c55","#6142a4","#3771df","#43993c","#c8d238","#db7141","#7380C1","#7BB39C","#AED22F","#AFC084","#FC9C32","#DB4C81","#9B60C1","#DCD64F","#C7725B","#C0C3B8","#C181B3","#DBAC46","#838B9E","#82C6D2","#4F77AE");var _51=5;var _52=2;var _53=WebSquare.style.extendStyle({position:"absolute",backgroundColor:_50[_4f.colorIndex],borderColror:_50[_4f.colorIndex],borderStyle:"solid",borderWidth:"0px",width:_51,height:_52},_4f.style||{});if(_4f.graphicUtil){var _54=new WebSquare.shape.circleShape("debug_circle",_4d.x,_4d.y,3,_53);_54.render(_4f.graphicUtil);}else{var div=WebSquare.document.createElement("div");WebSquare.style.setStyle(div,_53);WebSquare.style.setStyle(div,{left:_4d.x-_51/2,top:_4d.y-_52/2});_4e.appendChild(div);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.configManager=function(_1){if(Object.prototype.toString.call(_1)==="[object Array]"){this.xmlDoc=_1;}else{this.xmlDoc=[_1];}this.configCache={};};WebSquare.configManager.prototype.setConfig=function(_2){["WebSquare.configManager.setConfig"];try{if(Object.prototype.toString.call(_2)==="[object Array]"){this.xmlDoc=_2;}else{this.xmlDoc=[_2];}this.configCache={};}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.configManager.prototype.parseConfig=function(_3){["WebSquare.configManager.parseConfig"];try{var _4={};for(var i=0;i<this.xmlDoc.length;i++){var _6=WebSquare.xml.findNode(this.xmlDoc[i],"/WebSquare/"+_3);if(_6){for(var _7=_6.firstChild;_7!=null;_7=_7.nextSibling){if(_7.nodeType==1){var _8=_7.tagName;var _9=WebSquare.xml.getValue(_7,"@value");_4[_8]=_9;}}break;}}this.configCache[_3]=_4;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.configManager.prototype.getConfig=function(_a){["WebSquare.configManager.getConfig"];try{if(!this.configCache[_a]){this.parseConfig(_a);}return this.configCache[_a];}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.configManager=new WebSquare.configManager(WebSquare.BootLoader.configurationDOM);WebSquare.styleSheet={};WebSquare.styleSheet.CSSStyleSheet=function(){this.rules=[];this.ruleIndex=[];if(document.createStyleSheet&&false){this.sheet=document.createStyleSheet();}else{this.styleElement=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(this.styleElement);this.sheet=this.styleElement.styleSheet?this.styleElement.styleSheet:this.styleElement.sheet;}};WebSquare.styleSheet.CSSStyleSheet.addRuleRe1=new RegExp("^\\{?([^\\}])");WebSquare.styleSheet.CSSStyleSheet.addRuleRe2=new RegExp("^\\{[^\\}]*\\}$");WebSquare.styleSheet.CSSStyleSheet.prototype.addRule=function(_1,_2){var _3;if(!this.sheet){_2=_2.replace(WebSquare.styleSheet.CSSStyleSheet.addRuleRe1,"$1");if(!this.ruleIndex[_1]){this.ruleIndex[_1]=this.rules.length;}this.rules[this.ruleIndex[_1]]=_2;var _4="";for(var _5 in this.ruleIndex){_4=_5+" {"+this.rules[this.ruleIndex[_5]]+"}";}this.styleElement.innerHTML=_4;}else{if(this.sheet.addRule){_2=_2.replace(WebSquare.styleSheet.CSSStyleSheet.addRuleRe1,"$1");var r=this.sheet.rules.length;this.sheet.addRule(_1,_2);_3=this.sheet.rules[r];this.ruleIndex[_1]=r;this.rules=this.sheet.rules;}else{if(this.sheet.insertRule){if(!WebSquare.styleSheet.CSSStyleSheet.addRuleRe2.test(_2)){_2="{"+_2+"}";}var r=this.sheet.cssRules.length;this.sheet.insertRule(_1+" "+_2,r);_3=this.sheet.cssRules[r];this.ruleIndex[_1]=r;if(this.rules.length==0){this.rules=this.sheet.cssRules;}}else{alert("Cannot create rule");}}}return _3;};WebSquare.styleSheet.CSSStyleSheet.prototype.changeRule=function(_7,_8,_9){["WebSquare.styleSheet.CSSStyleSheet.prototype.changeRule"];try{var _a=this.ruleIndex[_7];if(typeof _a=="undefined"){this.addRule(_7,_8+":"+_9);return;}if(!this.sheet){var _b=this.rules[_a];if(_b){var _c=new RegExp("^(.*"+_8+"\\s*:\\s*)([^;]*)(.*)$");var _d=_c.exec(_b);if(_d){if(_d[4]!=_9){this.rules[_a]=_d[1]+_9+_d[3];}}else{this.rules[_a]=_b+"; "+_8+": "+_9+";";}_b="";for(var _e in this.ruleIndex){_b=_e+" {"+this.rules[this.ruleIndex[_e]]+"}";}this.styleElement.innerHTML=_b;}var _b="";var _b="";for(var _e in this.ruleIndex){_b=_e+" {"+this.rules[this.ruleIndex[_e]]+"}";}}else{if(this.rules[_a].style){var m=/^([^-]*)-([a-z])(.*)$/.exec(_8);while(m){_8=m[1]+m[2].toUpperCase()+m[3];m=/^([^-]*)-([a-z])(.*)$/.exec(_8);}var _10=this;setTimeout(function(){_10.rules[_a].style[_8]=_9;},1);}else{if(this.sheet.insertRule){var _11=this.rules[_a];if(_11){var _b=_11.cssText;var _c=new RegExp("^[^\\{]*(\\{.*"+_8+"\\s*\\:\\s*)([^};]*)([^}]*})");var _d=_c.exec(_b);if(_d){if(_d[4]!=_9){_b=_d[1]+_9+_d[3];this.sheet.deleteRule(_a);this.sheet.insertRule(_7+" "+_b,_a);}}else{var _c=new RegExp("\\{([^}]*)}");_d=_c.exec(_b);_b="{ "+_d[1]+"; "+_8+": "+_9+" }";this.sheet.deleteRule(_a);this.sheet.insertRule(_7+" "+_b,_a);}}}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.styleSheet.CSSStyleSheet.prototype.getRuleProperty=function(_12,_13){var _14=this.ruleIndex[_12];if(typeof _14=="undefined"){return;}if(!this.sheet){var _15=this.rules[_14];if(_15){var _16=new RegExp("^.*"+_13+"s*:s*([^;]*)");var _17=_16.exec(_15);if(_17){return _17[1];}}}else{if(this.rules[_14].style){var m=/^([^-]*)-([a-z])(.*)$/.exec(_13);while(m){_13=m[1]+m[2].toUpperCase()+m[3];m=/^([^-]*)-([a-z])(.*)$/.exec(_13);}var _19=this.rules[_14].style;return _19[_13];}else{if(this.sheet.insertRule){var _1a=this.rules[_14];if(_1a){_15=_1a.cssText;var _16=new RegExp("^.*"+_13+"\\s*\\:\\s*([^};]*)");var _17=_16.exec(_15);if(_17){return _17[1];}}}}}};WebSquare.styleSheet.CSSStyleSheet.prototype.getRule=function(_1b){var _1c=this.ruleIndex[_1b];if(typeof _1c=="undefined"){return;}if(!this.sheet){var _1d=this.rules[_1c];return _1d;}else{if(this.rules[_1c].style){var _1e=this.rules[_1c].style;return _1e.cssText;}else{if(this.sheet.insertRule){var _1f=this.rules[_1c];if(_1f){_1d=_1f.cssText;return _1d;}}}}};WebSquare.cssStyleSheet={};WebSquare.cssStyleSheet.styleSheet=null;WebSquare.cssStyleSheet.initialize=function(){if(WebSquare.cssStyleSheet.styleSheet==null){WebSquare.cssStyleSheet.styleSheet=new WebSquare.styleSheet.CSSStyleSheet();}};WebSquare.cssStyleSheet.addRule=function(_20,_21){WebSquare.cssStyleSheet.initialize();WebSquare.cssStyleSheet.styleSheet.addRule(_20,_21);};WebSquare.cssStyleSheet.changeRule=function(_22,_23,_24){["WebSquare.cssStyleSheet.changeRule"];WebSquare.cssStyleSheet.initialize();WebSquare.cssStyleSheet.styleSheet.changeRule(_22,_23,_24);};WebSquare.cssStyleSheet.getRuleProperty=function(_25,_26){WebSquare.cssStyleSheet.initialize();WebSquare.cssStyleSheet.styleSheet.getRuleProperty(_25,_26);};WebSquare.cssStyleSheet.getRule=function(_27){WebSquare.cssStyleSheet.initialize();WebSquare.cssStyleSheet.styleSheet.getRule(_27);};WebSquare.eventControl=function(){["WebSquare.eventControl"];try{this.cache=null;}catch(e){WebSquare.exception.printStackTrace(e);}};if(document.addEventListener&&!WebSquare.util.isIE()){WebSquare.eventControl.prototype.addListener=function(_1,_2,_3,_4){try{_4=_4||null;if(_2.toLowerCase().wq_trim()=="onchange"){return;}var ff=function(e){if(typeof this.disabled!="undefined"&&(this.disabled||this.getAttribute("disabled")=="true")){return;}else{_3.apply(_1,arguments);}};var _7=_2.slice(2);if(_2.toLowerCase()=="onmousewheel"&&WebSquare.core.browserCheck.moz){_7="DOMMouseScroll";}_1.addEventListener(_7,ff,_4);this.setCache(_1,_2,ff,_4);}catch(e){$l(this.addListener.caller,"caller");WebSquare.exception.printStackTrace(e);}};}else{if(document.attachEvent){WebSquare.eventControl.prototype.addListener=function(_8,_9,_a,_b){try{_b=_b||null;if(_9.toLowerCase().wq_trim()=="onchange"){return;}var ff=function(){if(typeof _8.disabled!="undefined"&&(_8.disabled||_8.getAttribute("disabled")=="true")){return;}else{_a.apply(_8,arguments);}};_8.attachEvent(_9,ff);this.setCache(_8,_9,ff,_b);}catch(e){$l(this.addListener.caller,"caller");WebSquare.exception.printStackTrace(e);}};}else{WebSquare.eventControl.prototype.addListener=function(){};}}WebSquare.eventControl.prototype.addListener2=function(_d,_e,_f,_10){try{var _11=(function(_12,_13){return function(e){_13.call(_12,e||window.event);};})(_10||_d,_f);if(_d.attachEvent){_d.attachEvent(_e,_11);}else{if(_d.addEventListener){_e=_e.slice(2);if(_e.wq_trim().toLowerCase()=="mousewheel"&&WebSquare.util.isFF()){_e="DOMMouseScroll";}_d.addEventListener(_e,_11,false);}}this.setCache(_d,_e,_11,null);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.eventControl.prototype.removeListener=function(_15,_16,_17,_18){["WebSquare.eventControl.removeListener"];try{_18=_18||null;try{if(!WebSquare.util.isIE()&&_15.removeEventListener){_15.removeEventListener(_16.slice(2),_17,_18);}else{if(_15.detachEvent){_15.detachEvent(_16,_17);}}}catch(e){}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.eventControl.prototype.setCache=function(_19,_1a,_1b,_1c){["WebSquare.eventControl.setCache"];try{if(!this.cache){this.cache=[];}this.cache.push([_19,_1a,_1b,_1c]);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.eventControl.prototype.clearCache=function(){["WebSquare.eventControl.clearCache"];try{if(!this.cache){return;}for(var i=0;i<this.cache.length;i++){this.removeListener.apply(this,this.cache[i]);this.cache[i]=null;}this.cache=null;}catch(e){WebSquare.exception.printStackTrace(e);}},WebSquare.eventControl.prototype.bindAsEventListener=(function(){["WebSquare.eventControl.bindAsEventListener"];try{var id=0;function createLookupHandler(id,_20){return function(e){if(id in WebSquare&&WebSquare[id]){if(WebSquare[id].context["__removed_object__"]){return;}if(WebSquare[id].context.getDisabled&&WebSquare[id].context.getDisabled()==true){return;}if(WebSquare[id].context.options&&WebSquare[id].context.options.pluginName!="grid"){if(WebSquare[id].context.getReadOnly&&WebSquare[id].context.getReadOnly()==true){return;}}if(e&&e.type==="mousedown"){WebSquare.getBody().getLayerListener().otherClick(e);}WebSquare[id].handler.apply(WebSquare[id].context,[e||window.event].concat(_20));}};}function createWrapper(_22,_23){var _24=[];for(var i=2;i<arguments.length;i++){_24.push(arguments[i]);}var cid="bindAsEventListener_"+id++,wrapper=createLookupHandler(cid,_24);WebSquare[cid]={"handler":_23,"context":_22};_22.bindAsEventList.push(cid);return wrapper;}return createWrapper;}catch(e){WebSquare.exception.printStackTrace(e);}})(),WebSquare.eventControl.prototype.bindAsUserEventListener=(function(){["WebSquare.eventControl.bindAsUserEventListener"];try{var id=0;function createLookupHandler(id){return function(){if(id in WebSquare&&WebSquare[id]){WebSquare[id].handler.apply(WebSquare[id].context,arguments);}};}function createWrapper(_29,_2a){var cid="bindAsUserEventListener_"+id++,wrapper=createLookupHandler(cid);WebSquare[cid]={"handler":_2a,"context":_29};var obj=WebSquare.WebSquareDocument.componentIdCache[_29.id]||window[_29.id];if(obj&&obj.bindAsUserEventList){obj.bindAsUserEventList.push(cid);}return wrapper;}return createWrapper;}catch(e){WebSquare.exception.printStackTrace(e);}})(),WebSquare.eventControl.prototype.clearElement=function(_2d){["WebSquare.eventControl.clearElement"];try{var _2e=null;var i=0;var _30=0;var _31="";_2e=_2d.attributes;if(_2e){_30=_2e.length;for(i=0;i<_30;i++){if(_2e[i]){_31=_2e[i].name;if(typeof _2d[_31]=="function"){_2d[_31]=null;}}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.eventControl.prototype.getTarget=function(e,_33){["WebSquare.eventControl.getTarget"];try{_33=_33||"main";var _34=WebSquare.event.getTarget(e);while(_34){var _35=_34.getAttribute("catch");if(_35&&_35.indexOf(_33)>-1){break;}_34=_34.parentNode;}return _34;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.eventControl.prototype.getTargetIterator=function(e,_37){["WebSquare.eventControl.getTargetIterator"];try{var _38=WebSquare.event.getTarget(e);return new WebSquare.targetIterator(_38,_37);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.eventControl.prototype.getChildIterator=function(_39){["WebSquare.eventControl.getChildIterator"];try{return new WebSquare.childIterator(_39);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.eventControl.prototype.isMe=function(e,_3b){["WebSquare.eventControl.isMe"];try{var _3c=WebSquare.event.getTarget(e);while(_3c!=null){if(_3c==_3b){return true;}_3c=_3c.parentNode;}return false;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.eventControl.prototype.isMine=function(e,_3e){["WebSquare.eventControl.isMine"];try{var _3f=WebSquare.event.getTarget(e);while(_3f!=null){if(_3f.id&&_3f.id.indexOf(_3e.id)>=0){return true;}_3f=_3f.parentNode;}return false;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.eventControl.prototype.addEvents=function(_40,_41){["WebSquare.eventControl.addEvents"];var _42=[];try{if(_40!=null&&_41!=null){for(var i=0;i<_41.length;i++){if(WebSquare.event.isEventSupported(_40.render,_41[i].name)){switch(_41[i].action){case "script":if(typeof _41[i].param.handler=="string"){if(_40.scope_obj){eval("WebSquare.scope_obj="+_40.scope_obj.id+";\nwith("+_40.scope_obj.id+".scope) {\n var obfuscator_eventHandler = "+_41[i].param.handler+"\n}\nWebSquare.scope_obj=null;\n");}else{eval("var obfuscator_eventHandler = "+_41[i].param.handler);}_41[i].param.handler=obfuscator_eventHandler;}if(typeof _41[i].param.handler=="function"){if(_40.systemEventList[_41[i].name]==undefined||!(_40.systemEventList[_41[i].name].count>0)){_40.systemEventList[_41[i].name]={};_40.systemEventList[_41[i].name].count=1;var _44=(function(_45,_46){return _46.bindAsUserEventListener(_40.render,function(e){WebSquare.event.fireEvent.call(_40,_40,_45,e);});})(_41[i].name,this);this.addListener(_40.render,_41[i].name,_44,false);if(_40.event.cache){_40.systemEventList[_41[i].name].handler=_40.event.cache[_40.event.cache.length-1][2];}}else{_40.systemEventList[_41[i].name].count++;}}break;default:var obfuscator_obj=_40;var obfuscator_event=_41[i].name;eval("var applyEvent"+i+" = function(e){ WebSquare.event.fireEvent.call(obfuscator_obj, obfuscator_obj, obfuscator_event , e);};");if(_40.systemEventList[_41[i].name]==undefined||!(_40.systemEventList[_41[i].name].count>0)){_40.systemEventList[_41[i].name]={};_40.systemEventList[_41[i].name].count=1;_40.systemEventList[_41[i].name].handler=eval("applyEvent"+i);this.addListener(_40.render,_41[i].name,_40.systemEventList[_41[i].name].handler,false);}else{_40.systemEventList[_41[i].name].count++;}break;}}else{if(_41[i].param!=undefined&&typeof _41[i].param.handler=="string"){if(_40.scope_obj){eval("WebSquare.scope_obj="+_40.scope_obj.id+";\nwith("+_40.scope_obj.id+".scope) {\n var obfuscator_eventHandler = "+_41[i].param.handler+"\n}\nWebSquare.scope_obj=null;\n");}else{eval("var obfuscator_eventHandler = "+_41[i].param.handler);}_41[i].param.handler=obfuscator_eventHandler;}}}_40.userEventList=_40.userEventList.concat(_41);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.eventControl.prototype.addUserEvents=function(_48,obfuscator_Actions,_49){["WebSquare.eventControl.addUserEvents"];var _4a=[];try{if(obfuscator_Actions){if(typeof _49!="undefined"){var _4b={};for(var i=0;i<_49.length;i++){_4b[_49[i]]="";}var _4d=[];for(var i=0;i<obfuscator_Actions.length;i++){if(typeof _4b[obfuscator_Actions[i].name]=="undefined"){_4a.push(obfuscator_Actions[i]);}else{_4d.push(obfuscator_Actions[i]);}}obfuscator_Actions=_4d;}for(var i=0;i<obfuscator_Actions.length;i++){if(obfuscator_Actions[i].action=="script"){if(typeof obfuscator_Actions[i].param.handler=="string"){if(_48.scope_obj){eval("WebSquare.scope_obj="+_48.scope_obj.id+";\nwith("+_48.scope_obj.id+".scope) {\n obfuscator_Actions[i].param.handler = "+obfuscator_Actions[i].param.handler+"\n}\nWebSquare.scope_obj=null;\n");}else{eval("obfuscator_Actions[i].param.handler = "+obfuscator_Actions[i].param.handler);}}}}_48.userEventList=_48.userEventList.concat(obfuscator_Actions);}}catch(e){WebSquare.exception.printStackTrace(e);}return _4a;};requires("uiplugin/control/eventControl.js");WebSquare.dragdrop={};WebSquare.dragdrop.ghostDragManager=function(){["WebSquare.uiplugin.ghostDragManager"];try{this.init();this.event=new WebSquare.eventControl();var _1=this;this.mouseMoveListener=function(e){_1.update.apply(_1,arguments);};this.mouseUpListener=function(e){_1.finish.apply(_1,arguments);};}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.dragdrop.ghostDragManager.prototype.init=function(){["WebSquare.uiplugin.ghostDragManager.init"];try{this.dragGhost=null;this.element=null;this.target=null;this.currentFrame=0;this.deltaX=0;this.deltaY=0;this.oldMouseX=-1;this.oldMouseY=-1;this.status="stop";this.options={id:"w2drag",className:"w2drag",contents:"",direction:"x y",resizeDirection:"width height",frameGap:20,delay:0,mode:"move",applyMousePosition:false,dropClass:"",onDrop:null,makeGhostLayer:null,useDragLayer:false,handleStart:null,handleUpdate:null,handleFinish:null,beforeStart:null,afterFinish:null};this.original={position:"",left:0,top:0,width:0,height:0,mouseX:0,mouseY:0};}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.dragdrop.ghostDragManager.prototype.activate=function(e,_5,_6){["WebSquare.uiplugin.ghostDragManager.activate"];try{if(WebSquare.util.isMobile()==true){WebSquare.event.addListener(document.documentElement,"ontouchmove",this.mouseMoveListener);WebSquare.event.addListener(document.documentElement,"ontouchend",this.mouseUpListener);}else{WebSquare.event.addListener(document.documentElement,"onmousemove",this.mouseMoveListener);WebSquare.event.addListener(document.documentElement,"onmouseup",this.mouseUpListener);}this.options=WebSquare.extend(this.options,_6||{});var _7=WebSquare.style.getAbsoluteLeft(_5);var _8=WebSquare.style.getAbsoluteTop(_5);var _9=this.getDragGhost();var _a=WebSquare.style.getAbsoluteTop(_9.render);var _b=WebSquare.style.getAbsoluteLeft(_9.render);if(_9.render.style.display=="none"){_a=0;_b=0;}if(_9.saveOffsetTop==undefined){_9.saveOffsetTop=_a;}if(_9.saveOffsetLeft==undefined){_9.saveOffsetLeft=_b;}_9.saveLeft=_7;_9.saveTop=_8;if(this.options.makeGhostLayer){_9=this.options.makeGhostLayer(_9,e);if(this.options.mode=="resize"){_9.show();}}_9.render.innerHTML=this.options.contents;if(_9){this.dragGhost=_9;this.element=_5;this.target=this.dragGhost.render;this.original={left:this.dragGhost.saveOffsetLeft+_7,top:this.dragGhost.saveOffsetTop+_8,width:this.target.offsetWidth,height:this.target.offsetHeight,mouseX:WebSquare.event.getMouseX(e),mouseY:WebSquare.event.getMouseY(e)};}WebSquare.getBody().addClass("w2drag_activate");}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.dragdrop.ghostDragManager.prototype.drawSize=function(_c,_d){["WebSquare.uiplugin.ghostDragManager.drawSize"];try{if(this.target){if(_c>=0&&this.options.resizeDirection.indexOf("width")>-1){this.target.style.width=_c+"px";}if(_d>=0&&this.options.resizeDirection.indexOf("height")>-1){this.target.style.height=_d+"px";}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.dragdrop.ghostDragManager.prototype.drawPosition=function(x,y){["WebSquare.uiplugin.ghostDragManager.drawPosition"];try{if(this.target){if(this.options.direction.indexOf("x")>-1){this.target.style.left=x+"px";}if(this.options.direction.indexOf("y")>-1){this.target.style.top=y+"px";}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.dragdrop.ghostDragManager.prototype.start=function(e){["WebSquare.uiplugin.ghostDragManager.start"];try{if(this.status=="stop"){this.status="started";if(this.options.beforeStart){this.options.beforeStart(e);}if(this.options.handleStart){this.options.handleStart(e);}this.dragGhost.show();this.dragGhost.setPosition(this.dragGhost.saveLeft,this.dragGhost.saveTop);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.dragdrop.ghostDragManager.prototype.update=function(e){["WebSquare.uiplugin.ghostDragManager.update"];try{var _12=false;if(this.target){WebSquare.event.stopEvent(e);var _13=WebSquare.event.getMouseX(e);var _14=WebSquare.event.getMouseY(e);if(this.oldMouseX!=_13||this.oldMouseY!=_14){this.oldMouseX=_13;this.oldMouseY=_14;_12=true;}this.deltaX=_13-this.original.mouseX;this.deltaY=_14-this.original.mouseY;}if(_12&&this.target&&Math.abs(this.deltaX)+Math.abs(this.deltaY)>this.options.delay){this.start(e);}if(_12&&this.target&&this.status=="started"){if(this.options.mode=="move"){this.options.applyMousePosition?this.drawPosition(this.original.mouseX+this.deltaX,this.original.mouseY+this.deltaY):this.drawPosition(this.original.left+this.deltaX,this.original.top+this.deltaY);}else{if(this.options.mode=="resize"){var _15=this.original.width+this.deltaX;var _16=this.original.height+this.deltaY;var _17=this.original.left;var top=this.original.top;if(_15<0){_15=Math.abs(_15);_17=_17-_15;}if(_16<0){_16=Math.abs(_16);top=top-_16;}this.options.applyMousePosition?this.drawPosition(this.original.mouseX,this.original.mouseY):this.drawPosition(_17,top);this.drawSize(_15,_16);}}if(this.options.handleUpdate){this.options.handleUpdate(this.original.left,this.original.top,this.deltaX,this.deltaY,e);}if(this.options.onDragover){var _19=null;if(this.options.dragoverClass!=""){var it=this.event.getTargetIterator(e);while(it.next()){if(it.match(this.options.dragoverClass)){_19=it.getElement();it.stop();}}it=null;}this.options.onDragover(this.element,_19,this.original.left,this.original.top,this.deltaX,this.deltaY,e);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.dragdrop.ghostDragManager.prototype.finish=function(e){["WebSquare.uiplugin.ghostDragManager.finish"];try{if(this.target){if(this.status=="started"||this.dragGhost.getStyle("visibility")=="visible"){if(!WebSquare.util.isMobile()){WebSquare.event.removeListener(document.documentElement,"onmousemove",this.mouseMoveListener);WebSquare.event.removeListener(document.documentElement,"onmouseup",this.mouseUpListener);}else{WebSquare.event.removeListener(document.documentElement,"ontouchmove",this.mouseMoveListener);WebSquare.event.removeListener(document.documentElement,"ontouchend",this.mouseUpListener);}if(this.options.onDrop){var _1c=null;if(this.options.dropClass!=""){var it=this.event.getTargetIterator(e);while(it.next()){if(it.match(this.options.dropClass)){_1c=it.getElement();it.stop();}}it=null;}this.options.onDrop(this.element,_1c,this.original.left,this.original.top,this.deltaX,this.deltaY,e);}if(this.options.handleFinish){this.options.handleFinish(this.original.left,this.original.top,this.deltaX,this.deltaY,e);}if(this.options.afterFinish){this.options.afterFinish(this.original.left,this.original.top,this.deltaX,this.deltaY,e);}this.dragGhost.hide();}this.init();WebSquare.getBody().removeClass("w2drag_activate");}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.dragdrop.ghostDragManager.prototype.getDragGhost=function(){["WebSquare.dragdrop.ghostDragManager.getDragGhost"];try{var _1e=null;var _1f=WebSquare.getBody();if(_1f){_1e=_1f.getChild(this.options.id);if(!_1e){requires("uiplugin/group/group.js");_1e=new WebSquare.uiplugin.group(this.options.id,{className:"w2drag "+this.options.className});_1e.writeTo(_1f);_1e.activate();_1e.hide();}}return _1e;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.dragdrop.gDragManager=new WebSquare.dragdrop.ghostDragManager();WebSquare.dragdrop.sortDragManager=function(){["WebSquare.uiplugin.sortDragManager"];try{this.sortGroupArrHash={};this.sortItemArrHash={};this.event=new WebSquare.eventControl();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.dragdrop.sortDragManager.prototype.registerItem=function(obj,_21){_21=WebSquare.extend({handle:obj.render},_21||{});obj.addClass(obj.render,"w2sort_item");this.event.addListener(_21.handle,"onmousedown",function(e){WebSquare.event.stopEvent(e);WebSquare.dragdrop.sDragManager.activate(e,obj.render,_21);});};WebSquare.dragdrop.sortDragManager.prototype.registerGroup=function(_23,_24,_25){["WebSquare.uiplugin.sortDragManager.init"];try{var _26=[];var it=this.event.getChildIterator(_24.render);while(it.next()){if(it.match("w2sort_item")){_26.push(it.getElement());}}if(!this.sortGroupArrHash[_23]){this.sortGroupArrHash[_23]=[];}if(!this.sortItemArrHash[_23]){this.sortItemArrHash[_23]=[];}this.sortGroupArrHash[_23].push({groupElement:_24.render,sortItemArr:_26});this.sortItemArrHash[_23]=this.sortItemArrHash[_23].concat(_26);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.dragdrop.sortDragManager.prototype.activate=function(e,_29,_2a){["WebSquare.uiplugin.sortDragManager.activate"];try{var _2b=this;var _2c=_29;var _2d=null;_2a=WebSquare.extend({className:"w2drag_widget_ghost",makeGhostLayer:function(_2e){_2e.setSize(_2c.offsetWidth,_2c.offsetHeight);return _2e;},handleStart:function(){var _2f=_2c.offsetWidth;var _30=_2c.offsetHeight;_2d=document.createElement("div");_2d.style.width=_2f+"px";_2d.style.height=_30+"px";_2d.className="w2sort_ghost";_2c.parentNode.insertBefore(_2d,_2c);_2c.old_display=_2c.style.display;_2c.style.display="none";_2b.initCache();},handleUpdate:function(x,y,dx,dy,e){var _36=WebSquare.event.getMouseX(e);var _37=WebSquare.event.getMouseY(e);for(var id in _2b.sortGroupArrHash){var _39=_2b.sortGroupArrHash[id];var _3a=_2b.sortItemArrHash[id];for(var i=0;i<_39.length;i++){var _3c=_39[i];var _3d=_2b.isIn(_36,_37,_3c.groupElement);if(_3d!="out"){_3c.groupElement.appendChild(_2d);}}for(var i=0;i<_3a.length;i++){var _3e=_3a[i];if(_3e!=_2c){var _3f=_2b.isIn(_36,_37,_3e);if(_3f=="top"&&_2d!=_3e.previousSibling){_3e.parentNode.insertBefore(_2d,_3e);_2b.initCache();}else{if(_3f=="bottom"&&_2d!=_3e.nextSibling){_3e.parentNode.insertBefore(_2d,_3e.nextSibling);_2b.initCache();}else{}}}}}},handleFinish:function(x,y,dx,dy){_2d.parentNode.insertBefore(_2c,_2d);_2d.parentNode.removeChild(_2d);_2c.style.display=_2c.old_display;}},_2a||{});WebSquare.dragdrop.gDragManager.activate(e,_2c,_2a);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.dragdrop.sortDragManager.prototype.initCache=function(){["WebSquare.uiplugin.sortDragManager.initCache"];try{return;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.dragdrop.sortDragManager.prototype.isIn=function(x,y,_46){["WebSquare.uiplugin.sortDragManager.isIn"];try{var _47=WebSquare.style.getAbsoluteLeft(_46);var top=WebSquare.style.getAbsoluteTop(_46);var _49=_46.clientWidth;var _4a=_46.clientHeight;var _4b="";if(x>_47&&x<_47+_49&&y>top&&y<top+_4a/2){_4b="top";}else{if(x>_47&&x<_47+_49&&y>top+_4a/2&&y<top+_4a){_4b="bottom";}else{_4b="out";}}return _4b;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.dragdrop.sDragManager=new WebSquare.dragdrop.sortDragManager();WebSquare.dragdrop2=(function(_4c){var _4d=300;var _4e=50;var _4f=[];var _50=[];var api={updatePosition:function(arr){for(var i=0;i<arr.length;i++){var el=arr[i].comp.render;var top=_4c.style.getAbsoluteTop(el);var _56=_4c.style.getAbsoluteLeft(el);arr[i].position={top:top,left:_56,bottom:top+el.offsetHeight,right:_56+el.offsetWidth};}},updatePositionByScroll:function(arr,_58,_59){for(var i=0;i<arr.length;i++){var _5b=arr[i].comp;var _5c=false;while(_5b=_5b.parentControl){if(_5b==_58){_5c=true;break;}}if(_5c){arr[i].position.top-=_59;arr[i].position.bottom-=_59;}}},doDroppables:function(x,y){for(var i=0;i<_50.length;i++){var _60=_50[i];var pos=_60.position;if(pos.left<=x&&x<=pos.right&&pos.top<=y&&y<=pos.bottom){if(!_60.over){_60.over=true;_4c.event.fireEvent(_60.comp,"ondragenter");}_60.drop=_4c.event.fireEvent(_60.comp,"ondragover")===false;}else{if(_60.over){_60.over=false;_60.drop=false;_4c.event.fireEvent(_60.comp,"ondragleave");}}}},doScrollables:function(x,y){for(var i=0;i<_4f.length;i++){var _65=_4f[i];var _66=_65.comp;var pos=_65.position;var _68=_66.options.dragScrollSize;var _69,speed;if(pos.left<=x&&x<=pos.right){if(pos.top<=y&&y<=pos.top+_68){_69="up";speed=_66.render.clientHeight*(_68-(y-pos.top))/_68+_4e;}else{if(pos.bottom-_68<=y&&y<=pos.bottom){_69="down";speed=_66.render.clientHeight*(_68-(pos.bottom-y))/_68+_4e;}}}if(_69==null){_65.scroll=false;_4c.core.clearTimer(_66.id+"_setSlideByDrag");_4c.core.clearTimer(_66.id+"_slideByDrag");}else{var _6a=_65.scroll?50:_4d;_4c.core.setTimer(function(_6b,_6c){var _6d=this.comp.getScrollTop();var _6e=_6b=="up"?0:this.comp.getMaxScrollTop();if(_6d!=_6e){this.scroll=true;_4c.style.animate(this.comp,function(t){var _70=parseInt(_6d+t*(_6e-_6d),10);var _71=_70-this.getScrollTop();this._scrollTo(null,_70);api.updatePositionByScroll(_50,this,_71);api.doDroppables(x,y);},{key:this.comp.id+"_slideByDrag",easing:"linear",duration:1000/_6c*Math.abs(_6e-_6d)});}},{key:_66.id+"_setSlideByDrag",delay:_6a,caller:_65,args:[_69,speed]});}}},handleTouchStart:function(e){if(!e.touches||e.touches.length==1){this.setUserData("dragStatus","stop");var _73=_4c.getBody();_73.addClass("w2noselect");if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}}},handleTouchMove:function(e){if(!e.touches||e.touches.length==1){var _75=this.getUserData("dragStatus");if((_75!="stop"&&_75!="move")||!this.getUserData("draggable")){return;}_4c.core.setTimer(api._handleTouchMove,{key:this.id+"_handleTouchMove",caller:this,args:[{clientX:e.touches?e.touches[0].pageX:e.clientX,clientY:e.touches?e.touches[0].pageY:e.clientY}],delay:30,max:30});_4c.event.preventDefault(e);}},_handleTouchMove:function(e){var _77=this.getUserData("dragStatus");if((_77!="stop"&&_77!="move")||!this.getUserData("draggable")){return;}var x=e.touches?e.touches[0].pageX:e.clientX;var y=e.touches?e.touches[0].pageY:e.clientY;x+=document.body.scrollLeft;y+=document.body.scrollTop;if(_77=="stop"){api.updatePosition(_50);api.updatePosition(_4f);this.setUserData("dragStatus","move");_4c.event.fireEvent(this,"ondragstart",x,y);}_4c.event.fireEvent(this,"ondrag",x,y);api.doScrollables(x,y);api.doDroppables(x,y);},handleTouchEnd:function(e){var _7b=this.getUserData("dragStatus","move");var _7c=_4c.getBody();_7c.removeClass("w2noselect");if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}if(_7b!="pass"){for(var i=0;i<_50.length;i++){if(_50[i].over&&_50[i].drop){_4c.event.fireEvent(_50[i].comp,"ondrop",this);}_50[i].over=false;_50[i].drop=false;}_4c.event.fireEvent(this,"ondragend");if(this.render){this.setUserData("dragStatus","pass");}for(var i=0;i<_4f.length;i++){_4f[i].scroll=false;_4c.core.clearTimer(_4f[i].comp.id+"_setSlideByDrag");_4c.core.clearTimer(_4f[i].comp.id+"_slideByDrag");}}}};var _7e=function(_7f){if(_7f.options.pluginName=="scrollView"){_4f.push({comp:_7f,scroll:false});}if(_7f.options.pluginName!="group"||!_7f.options.xmlEvents){return;}var _80=false;var _81=false;for(var i=0;i<_7f.options.xmlEvents.length;i++){var _83=_7f.options.xmlEvents[i];switch(_83.name){case "ondragstart":case "ondrag":case "ondragend":_80=true;_7f.options.userEvents.push(_83.name);break;case "ondragenter":case "ondragover":case "ondragleave":case "ondrop":_81=true;_7f.options.userEvents.push(_83.name);break;}}if(_80){if(_4c.util.isMobile()){_7f.event.addListener(_7f.render,"ontouchstart",_7f.event.bindAsEventListener(_7f,api.handleTouchStart));_7f.event.addListener(_7f.render,"ontouchmove",_7f.event.bindAsEventListener(_7f,api.handleTouchMove));_7f.event.addListener(_7f.render,"ontouchend",_7f.event.bindAsEventListener(_7f,api.handleTouchEnd));}else{_7f.event.addListener(_7f.render,"onmousedown",_7f.event.bindAsEventListener(_7f,api.handleTouchStart));_7f.event.addListener(document.documentElement,"onmousemove",_7f.event.bindAsEventListener(_7f,api.handleTouchMove));_7f.event.addListener(document.documentElement,"onmouseup",_7f.event.bindAsEventListener(_7f,api.handleTouchEnd));}}if(_81){_50.push({comp:_7f,over:false});}};var _84=function(_85){for(var i=0;i<_50.length;i++){if(_50[i].comp===_85){_50[i].comp=null;_50.splice(i,1);break;}}for(var i=0;i<_4f.length;i++){if(_4f[i].comp===_85){_4f[i].comp=null;_4f.splice(i,1);break;}}};var _87=function(){_50=[];_4f=[];};return {setDragDrop:_7e,removeComp:_84,clearComp:_87};})(WebSquare);WebSquare.format={};WebSquare.format.createFormatter=function(_1,_2,_3,_4,_5,_6){["WebSquare.format.createFormatter"];try{var _7=null;if(_3){_7=new WebSquare.format.formatterAdapter(_1,_2,_3,_4);return _7;}if(_1!=""){switch(_1){case "text":_7=new WebSquare.format.textFormatter(_1,_2,_3,_4);break;case "number":if(_2==""){_7=new WebSquare.format.emptyFormatter(_1,_2,_3,_4);}else{_7=new WebSquare.format.numberFormatter(_1,_2,_3,_4,_5,_6);}break;case "euro":_7=new WebSquare.format.euroFormatter(_1,_2,_3,_4,_5,_6);break;case "rupee":_7=new WebSquare.format.rupeeFormatter(_1,_2,_3,_4,_5,_6);break;case "tenge":_7=new WebSquare.format.tengeFormatter(_1,_2,_3,_4,_5,_6);break;case "date":_7=new WebSquare.format.dateFormatter(_1,_2,_3,_4);break;case "time":_7=new WebSquare.format.timeFormatter(_1,_2,_3,_4);break;default:_7=new WebSquare.format.emptyFormatter(_1,_2,_3,_4);}}else{_7=new WebSquare.format.emptyFormatter(_1,_2,_3,_4);}return _7;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.format.formatter=function(_8,_9,_a,_b){["WebSquare.format.formatter"];try{this.type=_8||"text";this.masking=_9||"";this.userFunc=_a||null;this.ioFormat=_b||null;this.count=0;this.hash_format_to_original={};}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.format.formatter.prototype.setMasking=function(_c){this.masking=_c;};WebSquare.format.formatter.prototype.format=function(_d,_e){["WebSquare.format.formatter.format"];try{if(WebSquare.util.isNull(_d)){return "";}_d=_d.toString();var _f=this.executeFormat(_d,_e);if(this.count>100){this.hash_format_to_original={};this.count=0;}this.hash_format_to_original[_f]=_d;this.count++;return _f;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.format.formatter.prototype.unformat=function(_10){["WebSquare.format.formatter.unformat"];try{if(this.hash_format_to_original[_10]){return this.hash_format_to_original[_10];}else{return _10;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.format.formatter.prototype.executeFormat=function(_11){alert("you should override 'executeFormat'");};WebSquare.format.emptyFormatter=function(_12,_13,_14,_15){WebSquare.format.formatter.call(this,_12,_13,_14,_15);};WebSquare.extend(WebSquare.format.emptyFormatter.prototype,WebSquare.format.formatter.prototype);WebSquare.format.emptyFormatter.prototype.executeFormat=function(_16){return _16;};WebSquare.format.textFormatter=function(_17,_18,_19,_1a){WebSquare.format.formatter.call(this,_17,_18,_19,_1a);};WebSquare.extend(WebSquare.format.textFormatter.prototype,WebSquare.format.formatter.prototype);WebSquare.format.textFormatter.prototype.executeFormat=function(_1b){["WebSquare.format.textFormatter.executeFormat"];try{_1b=WebSquare.text.formatText(_1b,this.masking,this.ioFormat);return _1b;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.format.numberFormatter=function(_1c,_1d,_1e,_1f,_20,_21){WebSquare.format.formatter.call(this,_1c,_1d,_1e,_1f);this.delemeter=_20;this.decimalDelimeter=_21;};WebSquare.extend(WebSquare.format.numberFormatter.prototype,WebSquare.format.formatter.prototype);WebSquare.format.numberFormatter.prototype.executeFormat=function(_22,_23){["WebSquare.format.numberFormatter.executeFormat"];try{_22=WebSquare.text.formatCurrency(_22,this.masking,this.ioFormat,_23,this.delemeter,this.decimalDelimeter);return _22;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.format.euroFormatter=function(_24,_25,_26,_27,_28,_29){WebSquare.format.formatter.call(this,_24,_25,_26,_27);this.delemeter=_28;this.decimalDelimeter=_29;};WebSquare.extend(WebSquare.format.euroFormatter.prototype,WebSquare.format.formatter.prototype);WebSquare.format.euroFormatter.prototype.executeFormat=function(_2a,_2b){["WebSquare.format.euroFormatter.executeFormat"];try{_2a=WebSquare.text.formatEuroCurrency(_2a,this.masking,this.ioFormat,_2b,this.delemeter,this.decimalDelimeter);return _2a;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.format.rupeeFormatter=function(_2c,_2d,_2e,_2f,_30,_31){WebSquare.format.formatter.call(this,_2c,_2d,_2e,_2f);this.delemeter=_30;this.decimalDelimeter=_31;};WebSquare.extend(WebSquare.format.rupeeFormatter.prototype,WebSquare.format.formatter.prototype);WebSquare.format.rupeeFormatter.prototype.executeFormat=function(_32,_33){["WebSquare.format.rupeeFormatter.executeFormat"];try{_32=WebSquare.text.formatRupeeCurrency(_32,this.masking,this.ioFormat,_33,this.delemeter,this.decimalDelimeter);return _32;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.format.tengeFormatter=function(_34,_35,_36,_37,_38,_39){WebSquare.format.formatter.call(this,_34,_35,_36,_37);this.delemeter=_38;this.decimalDelimeter=_39;};WebSquare.extend(WebSquare.format.tengeFormatter.prototype,WebSquare.format.formatter.prototype);WebSquare.format.tengeFormatter.prototype.executeFormat=function(_3a,_3b){["WebSquare.format.tengeFormatter.executeFormat"];try{_3a=WebSquare.text.formatTengeCurrency(_3a,this.masking,this.ioFormat,_3b,this.delemeter,this.decimalDelimeter);return _3a;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.format.dateFormatter=function(_3c,_3d,_3e,_3f){WebSquare.format.formatter.call(this,_3c,_3d,_3e,_3f);};WebSquare.extend(WebSquare.format.dateFormatter.prototype,WebSquare.format.formatter.prototype);WebSquare.format.dateFormatter.prototype.executeFormat=function(_40){["WebSquare.format.dateFormatter.executeFormat"];try{_40=WebSquare.text.formatDate(_40,this.masking,this.ioFormat);return _40;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.format.timeFormatter=function(_41,_42,_43,_44){WebSquare.format.formatter.call(this,_41,_42,_43,_44);};WebSquare.extend(WebSquare.format.timeFormatter.prototype,WebSquare.format.formatter.prototype);WebSquare.format.timeFormatter.prototype.executeFormat=function(_45){["WebSquare.format.timeFormatter.executeFormat"];try{_45=WebSquare.text.formatTime(_45,this.masking,this.ioFormat);return _45;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.format.formatterAdapter=function(_46,_47,_48,_49){WebSquare.format.formatter.call(this,_46,_47,_48,_49);this.userFunc=_48;};WebSquare.extend(WebSquare.format.formatterAdapter.prototype,WebSquare.format.formatter.prototype);WebSquare.format.formatterAdapter.prototype.executeFormat=function(_4a){["WebSquare.format.formatterAdapter.executeFormat"];try{if(typeof this.userFunc!="function"){try{this.userFunc=eval(this.userFunc);}catch(e){}}if(typeof this.userFunc=="function"){_4a=this.userFunc(_4a);}return _4a;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.style={styleHash:new Object()};WebSquare.style.camelize=function(_1){["WebSquare.style.makeStyle"];var _2=_1.split("-");if(_2.length==1){return _2[0];}var _3=_1.indexOf("-")==0?_2[0].charAt(0).toUpperCase()+_2[0].substring(1):_2[0];for(var i=1,len=_2.length;i<len;i++){var s=_2[i];_3+=s.charAt(0).toUpperCase()+s.substring(1);}return _3;};WebSquare.style.setStyle=function(_6,_7,_8){["WebSquare.style.setStyle"];if(typeof _7=="object"){for(var _9 in _7){_6.style[WebSquare.style.camelize(_9)]=_7[_9];}}else{if(typeof _7=="string"){var _9=_7.capitalizeStyle();if(_9=="opacity"){if(_6.style.opacity===undefined){var _a=parseFloat(_8,10);_a=isNaN(_a)?1:_a;_9="filter";_8="alpha(opacity="+100*_a+")";}}else{if(_9=="float"){if(_6.style.cssFloat!==undefined){_6.style.cssFloat=_8;}else{if(_6.style.styleFloat!==undefined){_6.style.styleFloat=_8;}}}}_6.style[_9]=_8;}}};if(document.documentElement.currentStyle){WebSquare.style.getStyleProperty=function(_b,_c){_c=_c.wq_trim().capitalizeStyle();var _d=_b.currentStyle[_c];if(_c.toLowerCase().indexOf("color")>-1){return WebSquare.util.toHexColor(_d);}else{return _d;}};}else{if(window.getComputedStyle){WebSquare.style.getStyleProperty=function(_e,_f){var _10=document.defaultView.getComputedStyle(_e,null).getPropertyValue(_f);if(_f.toLowerCase().indexOf("color")>-1){return WebSquare.util.toHexColor(_10);}else{return _10;}};}else{WebSquare.style.getStyleProperty=function(_11,_12){var _13=_11.style[_12];if(_12.toLowerCase().indexOf("color")>-1){return WebSquare.util.toHexColor(_13);}else{return _13;}};}}WebSquare.style.getStyle=function(_14,_15){["WebSquare.style.getStyle"];var _16=WebSquare.style.getStyleProperty(_14,_15);if(!_16){if(_15=="opacity"){var _17=WebSquare.style.getStyleProperty(_14,"filter");var _18=_17.match(/alpha\(.*\)/gi)||[""];var _19=_18[0].match(/opacity=\d+/gi)||[""];_16=(parseInt(_19[0].substr(8)||"100",10)/100)+"";}else{if(_15=="float"){_16=WebSquare.style.getStyleProperty(_14,"styleFloat");}}}return _16;};WebSquare.style.OpacRe1=new RegExp("Gecko");WebSquare.style.OpacRe2=new RegExp("Konqueror|Safari|KHTML");WebSquare.style.OpacRe3=new RegExp("MSIE");WebSquare.style.OpacRe4=new RegExp("alpha\\([^\\)]*\\)","gi");WebSquare.style.setOpacity=function(_1a,_1b){if(_1b==1){WebSquare.style.setStyle(_1a,{opacity:(WebSquare.style.OpacRe1.test(navigator.userAgent)&&!WebSquare.style.OpacRe2.test(navigator.userAgent))?0.999999:null});if(WebSquare.style.OpacRe3.test(navigator.userAgent)){WebSquare.style.setStyle(_1a,{filter:WebSquare.style.getStyle(_1a,"filter").replace(WebSquare.style.OpacRe4,"")});}}else{if(_1b<0.00001){_1b=0;}WebSquare.style.setStyle(_1a,{opacity:_1b});if(WebSquare.style.OpacRe3.test(navigator.userAgent)){WebSquare.style.setStyle(_1a,{filter:WebSquare.style.getStyle(_1a,"filter").replace(WebSquare.style.OpacRe4,"")+"alpha(opacity="+_1b*100+")"});}}};WebSquare.style.extendStyle=function(_1c,_1d){["WebSquare.style.makeStyleString"];var _1e=new Object();for(key in _1c){_1e[WebSquare.style.camelize(key)]=_1c[key];}for(key in _1d){var _1f=WebSquare.style.camelize(key);_1e[_1f]=_1d[key];}return _1e;};WebSquare.style.setSize=function(_20,_21,_22){["WebSquare.style.setSize"];try{if(!_20){return;}_21=parseInt(_21);_22=parseInt(_22);if(_21!=null&&!isNaN(_21)&&_21>=0){_20.style.width=_21+"px";}if(_22!=null&&!isNaN(_22)&&_22>=0){_20.style.height=_22+"px";}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.style.getSize=function(_23,_24){["WebSquare.style.getSize"];try{if(!_23){return;}var _24=_24.toLowerCase();if(_24=="height"){return _23.clientHeight;}else{if(_24=="width"){return _23.clientWidth;}else{if(_24=="innerheight"){var _25=parseInt(WebSquare.style.getStyleProperty(_23,"padding-top"))||0;var _26=parseInt(WebSquare.style.getStyleProperty(_23,"padding-bottom"))||0;return _23.clientHeight+_25+_26;}else{if(_24=="innerwidth"){var _27=parseInt(WebSquare.style.getStyleProperty(_23,"padding-left"))||0;var _28=parseInt(WebSquare.style.getStyleProperty(_23,"padding-right"))||0;return _23.clientWidth+_27+_28;}else{if(_24=="outerheight"){var _29=parseInt(WebSquare.style.getStyleProperty(_23,"border-top-width"))||0;var _2a=parseInt(WebSquare.style.getStyleProperty(_23,"border-bottom-width"))||0;var _25=parseInt(WebSquare.style.getStyleProperty(_23,"padding-top"))||0;var _26=parseInt(WebSquare.style.getStyleProperty(_23,"padding-bottom"))||0;return _23.clientHeight+_29+_2a+_25+_26;}else{if(_24=="outerwidth"){var _2b=parseInt(WebSquare.style.getStyleProperty(_23,"border-left-width"))||0;var _2c=parseInt(WebSquare.style.getStyleProperty(_23,"border-right-width"))||0;var _27=parseInt(WebSquare.style.getStyleProperty(_23,"padding-left"))||0;var _28=parseInt(WebSquare.style.getStyleProperty(_23,"padding-right"))||0;return _23.clientWidth+_2b+_2c+_27+_28;}else{if(_24=="outermarginheight"){var _29=parseInt(WebSquare.style.getStyleProperty(_23,"border-top-width"))||0;var _2a=parseInt(WebSquare.style.getStyleProperty(_23,"border-bottom-width"))||0;var _25=parseInt(WebSquare.style.getStyleProperty(_23,"padding-top"))||0;var _26=parseInt(WebSquare.style.getStyleProperty(_23,"padding-bottom"))||0;var _2d=parseInt(WebSquare.style.getStyleProperty(_23,"margin-top"))||0;var _2e=parseInt(WebSquare.style.getStyleProperty(_23,"margin-bottom"))||0;return _23.clientHeight+_29+_2a+_25+_26+_2d+_2e;}else{if(_24=="outermarginwidth"){var _2b=parseInt(WebSquare.style.getStyleProperty(_23,"border-left-width"))||0;var _2c=parseInt(WebSquare.style.getStyleProperty(_23,"border-right-width"))||0;var _27=parseInt(WebSquare.style.getStyleProperty(_23,"padding-left"))||0;var _28=parseInt(WebSquare.style.getStyleProperty(_23,"padding-right"))||0;var _2f=parseInt(WebSquare.style.getStyleProperty(_23,"margin-left"))||0;var _30=parseInt(WebSquare.style.getStyleProperty(_23,"margin-right"))||0;return _23.clientWidth+_2b+_2c+_27+_28+_2f+_30;}}}}}}}}$l("getSize : wrong sizeName["+_24+"]");return;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.style.animate=function(_31,_32,_33){var _33=_33||{duration:500};_33.easing=_33.easing||"ease";_33.startTime=new Date();_33.key=_33.key||"WebSquare.style.animate_"+Math.random();_33.delay=15;if(typeof _32=="object"){if(_31&&_31.render){_31=_31.render;}var _34=WebSquare.util.isArray(_31)?_31:[_31];var _35=[];var _36=[];for(var i=0;i<_34.length;i++){var el=_34[i];var _39={};var _3a=_32;for(var key in _3a){_39[key]=WebSquare.style.getStyle(el,key);if(typeof _39[key]=="string"){var str=(_3a[key]+"").wq_trim();if(str.startsWith("+=")){_3a[key]=parseFloat(_39[key])+parseFloat(str.substr(2));}else{if(str.startsWith("-=")){_3a[key]=parseFloat(_39[key])-parseFloat(str.substr(2));}}}}_35.push(_39);_36.push(_3a);}_32=function(t){for(var i=0;i<_34.length;i++){var el=_34[i];var _40=_35[i];var _41=_36[i];for(var key in _41){var _43=parseFloat(_40[key]);var _44=_40[key].substr((_43+"").length);var _45=_43+t*(_41[key]-_43);WebSquare.style.setStyle(el,key,_45+_44);}}};}else{if(!_33.caller&&_31){_33.caller=_31;}}var _46=function(){var _47=(new Date()-_33.startTime)/_33.duration;(_47>1)&&(_47=1);t=WebSquare.style.cubicBezierAtTime(_47,_33.easing,_33.duration);_32.call(_33.caller,t);if(t<1){WebSquare.core.setTimer(_46,_33);}else{if(_33.complete){_33.complete.call(_33.caller);}}};WebSquare.core.setTimer(_46,_33);return _33.key;};WebSquare.style.cubicBezierAtTime=function(t,cp,_4a){if(typeof cp=="string"){switch(cp){case "ease":cp=[0.25,0.1,0.25,1];break;case "linear":cp=[0,0,1,1];break;case "ease-in":cp=[0.42,0,1,1];break;case "ease-out":cp=[0,0,0.58,1];break;case "ease-in-out":cp=[0.42,0,0.58,1];break;case "deceleration":cp=[0,0,0,1];break;case "acceleration":cp=[1,0,1,1];break;case "default":default:cp=[0.25,0.1,0.25,1];}}var p1x=cp[0],p1y=cp[1],p2x=cp[2],p2y=cp[3];var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;function sampleCurveX(t){return ((ax*t+bx)*t+cx)*t;}function sampleCurveY(t){return ((ay*t+by)*t+cy)*t;}function sampleCurveDerivativeX(t){return (3*ax*t+2*bx)*t+cx;}function solveEpsilon(_50){return 1/(200*_50);}function solve(x,_52){return sampleCurveY(solveCurveX(x,_52));}function solveCurveX(x,_54){var t0,t1,t2,x2,d2,i;function fabs(n){if(n>=0){return n;}else{return 0-n;}}for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(fabs(x2)<_54){return t2;}d2=sampleCurveDerivativeX(t2);if(fabs(d2)<0.000001){break;}t2=t2-x2/d2;}t0=0;t1=1;t2=x;if(t2<t0){return t0;}if(t2>t1){return t1;}while(t0<t1){x2=sampleCurveX(t2);if(fabs(x2-x)<_54){return t2;}if(x>x2){t0=t2;}else{t1=t2;}t2=(t1-t0)*0.5+t0;}return t2;}cx=3*p1x;bx=3*(p2x-p1x)-cx;ax=1-cx-bx;cy=3*p1y;by=3*(p2y-p1y)-cy;ay=1-cy-by;return solve(t,solveEpsilon(_4a));};WebSquare.style.addClass=function(_57,_58){["WebSquare.style.addClass"];try{if(!_57||!_58){return;}var _59=_57.className.wq_trim();var _5a=_59.split(" ");for(var i=0;i<_5a.length;i++){var tmp=_5a[i].wq_trim();if((" "+tmp+" ").indexOf(" "+_58+" ")>-1){if(i==_5a.length-1){return;}}else{continue;}}if(_5a.length>1){_59+=" ";}_59+=_58.wq_trim();_57.className=_59;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.style.removeClass=function(_5d,_5e){["WebSquare.style.removeClass"];try{if(!_5d||!_5e){return;}var _5f=_5d.className.split(" ");var _60=[];for(var i=0;i<_5f.length;i++){var tmp=_5f[i].wq_trim();if((" "+tmp+" ").indexOf(" "+_5e+" ")>-1){continue;}else{if(tmp.length>0){_60.push(tmp);}}}_5d.className=_60.join(" ");}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.style.show=function(_63,_64){["WebSquare.style.show"];try{if(!_63){return;}if(typeof _64==="undefined"){_64="block";}_63.style.display=_64;_63.style.visibility="visible";if(WebSquare.util.isIE(6)){WebSquare.style.addClass(_63," ");}_63.setAttribute("aria-hidden","false");if(WebSquare.layer.disabledList.length>0){WebSquare.style.addClass(_63,"w2modal_popupLayer");}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.style.hide=function(_65){["WebSquare.style.hide"];try{if(!_65){return;}_65.style.display="none";_65.style.visibility="hidden";_65.setAttribute("aria-hidden","true");WebSquare.style.removeClass(_65,"w2modal_popupLayer");}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.style.getAbsoluteTop=function(_66){["WebSquare.style.getAbsoluteTop"];var _67=0;try{if(_66.getBoundingClientRect!=null){var top=_66.getBoundingClientRect().top;var doc=_66.ownerDocument;var _6a=doc.documentElement;var _6b=doc.body;var _6c=(doc.window===doc)?doc:(doc.nodeType===9?(doc.defaultView||doc.parentWindow):null);var _6d=_6a.clientTop||_6b.clientTop||0;var _6e=_6c.pageYOffset||_6a.scrollTop;var _6f=_6b.getBoundingClientRect();var _70=(WebSquare.util.isIE("6")||WebSquare.util.isIE("7"))?((_6f.bottom-_6f.top)/_6b.offsetHeight):1;_67=(top+_6e-_6d)/_70;}else{var _71=_66;var _72=_66;var _73=0;while(_72.tagName!="BODY"){var _74=WebSquare.util.parseFloat(WebSquare.util.getStyleProperty(_72,"border-top-width"),0);if(WebSquare.util.isOpera()){_74=0;}var top=_72.offsetTop;if(WebSquare.util.getStyleProperty(_72,"position")=="fixed"){top=WebSquare.util.parseFloat(WebSquare.util.getStyleProperty(_72,"top"),0);if(!WebSquare.util.isIE("6")){_73+=top+_74-_72.scrollTop+_74+(window.scrollY||document.documentElement.scrollTop);break;}}else{if(WebSquare.util.getStyleProperty(_72,"position")!="static"||_71==_72){_73+=top+_74-_72.scrollTop;}else{_73-=_72.scrollTop;}}_72=_72.parentNode;}_67=_73;}}catch(e){}return _67;};WebSquare.style.getAbsoluteLeft=function(_75){["WebSquare.style.getAbsoluteLeft"];var _76=0;try{if(_75.getBoundingClientRect!=null){var _77=_75.getBoundingClientRect().left;var doc=_75.ownerDocument;var _79=doc.documentElement;var _7a=doc.body;var _7b=(doc.window===doc)?doc:(doc.nodeType===9?(doc.defaultView||doc.parentWindow):null);var _7c=_79.clientLeft||_7a.clientLeft||0;var _7d=_7b.pageXOffset||_79.scrollLeft;var _7e=_7a.getBoundingClientRect();var _7f=(WebSquare.util.isIE("6")||WebSquare.util.isIE("7"))?((_7e.right-_7e.left)/_7a.offsetWidth):1;_76=(_77+_7d-_7c)/_7f;}else{var _80=0;var _81=_75;var _82=_75;while(_81.tagName!="BODY"){var _83=WebSquare.util.parseFloat(WebSquare.util.getStyleProperty(_81,"border-left-width"),0);if(WebSquare.util.isOpera()){_83=0;}var _77=_81.offsetLeft;if(WebSquare.util.getStyleProperty(_81,"position")=="fixed"){if(typeof WebSquare.util.getStyleProperty(_81,"left")=="number"){_77=WebSquare.util.parseFloat(WebSquare.util.getStyleProperty(_81,"left"),0);}if(!WebSquare.util.isIE("6")){_80+=_77+_83-_81.scrollLeft+(window.scrollX||document.documentElement.scrollLeft);break;}}else{if(WebSquare.util.getStyleProperty(_81,"position")!="static"||_82==_81){_80+=_77+_83-_81.scrollLeft;}else{_80-=_81.scrollLeft;}}_81=_81.parentNode;}_76=_80;}}catch(e){}return _76;};WebSquare.style.getRelativeTop=function(_84,_85){["WebSquare.style.getRelativeTop"];var _86=0;try{_86=WebSquare.style.getAbsoluteTop(_84)-WebSquare.style.getAbsoluteTop(_85);}catch(e){}return _86;};WebSquare.style.getRelativeLeft=function(_87,_88){["WebSquare.style.getRelativeLeft"];var _89=0;try{_89=WebSquare.style.getAbsoluteLeft(_87)-WebSquare.style.getAbsoluteLeft(_88);}catch(e){}return _89;};WebSquare.validator={};WebSquare.IValidate=function(){};WebSquare.IValidate.prototype.validate=function(){return true;};WebSquare.IValidate.prototype.setMandatory=function(_1){if(this.validator){if(_1==false){this.validator.removeCommand(new WebSquare.validator.mandatoryCommand(this.options.mandatory));}else{this.validator.addCommand(new WebSquare.validator.mandatoryCommand(_1));}}this.options.mandatory=_1;};WebSquare.IValidate.prototype.getMandatory=function(){return this.options.mandatory;};WebSquare.IValidate.prototype.setMinLength=function(_2){if(this.validator){this.validator.removeCommand(new WebSquare.validator.minLengthCommand(this.options.minLength));this.validator.addCommand(new WebSquare.validator.minLengthCommand(_2));}this.options.minlength=_2;};WebSquare.IValidate.prototype.getMinLength=function(){return this.options.minlength;};WebSquare.IValidate.prototype.setMaxLength=function(_3){if(this.validator){this.validator.removeCommand(new WebSquare.validator.maxLengthCommand(this.options.maxLength));this.validator.addCommand(new WebSquare.validator.maxLengthCommand(_3));}this.options.maxlength=_3;};WebSquare.IValidate.prototype.getMaxLength=function(){return this.options.maxlength;};WebSquare.IValidate.prototype.setMinByteLength=function(_4){if(this.validator){this.validator.removeCommand(new WebSquare.validator.minByteLengthCommand(this.options.minByteLength));this.validator.addCommand(new WebSquare.validator.minByteLengthCommand(_4));}this.options.minByteLength=_4;};WebSquare.IValidate.prototype.getMinByteLength=function(){return this.options.minByteLength;};WebSquare.IValidate.prototype.setMaxByteLength=function(_5){if(this.validator){this.validator.removeCommand(new WebSquare.validator.maxByteLengthCommand(this.options.maxByteLength));this.validator.addCommand(new WebSquare.validator.maxByteLengthCommand(_5));}this.options.maxByteLength=_5;};WebSquare.IValidate.prototype.getMaxByteLength=function(){return this.options.maxByteLength;};WebSquare.IValidate.prototype.getAllowChar=function(){return this.options.allowChar;};WebSquare.IValidate.prototype.setIgnoreChar=function(_6){this.options.ignoreChar=_6;};WebSquare.IValidate.prototype.getIgnoreChar=function(){return this.options.ignoreChar;};WebSquare.IValidate.prototype.getDisplayMessage=function(){return this.options.displaymessage;};WebSquare.IValidate.prototype.getInvalidMessage=function(){return this.options.invalidMessage;};WebSquare.validator.validateCommand=function(){};WebSquare.validator.validateCommand.prototype.executeValidate=function(_7){alert("you should override 'executeValidate'");return true;};WebSquare.validator.validateCommand.prototype.executeValidateString=function(_8){alert("you should override 'executeValidateString'");return _8;};WebSquare.validator.validateCommand.prototype.executeValidateKeyPress=function(_9,_a,e){alert("you should override 'executeValidateKeyPress'");return true;};WebSquare.validator.validateCommand.prototype.executeInvalidMessage=function(){alert("you should override 'executeInvalidMessage'");return "invalidMessage";};WebSquare.validator.validateCommand.prototype.getType=function(){alert("you should override 'getType'");return "";};WebSquare.validator.validateCommand.prototype.getValue=function(){alert("you should override 'getValue'");return "";};WebSquare.validator.invalidObject=function(_c,_d){["WebSquare.validator.invalidObject"];try{this.invalidCommand=_d;this.callerId=_c;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.invalidObject.prototype.getCaller=function(){var _e=null;try{_e=eval(this.callerId);}catch(e){}return _e;};WebSquare.validator.invalidObject.prototype.getType=function(){if(this.invalidCommand){return this.invalidCommand.getType();}return "";};WebSquare.validator.invalidObject.prototype.getValue=function(){if(this.invalidCommand){return this.invalidCommand.getValue();}return "";};WebSquare.validator.invalidObject.prototype.getPrefix=function(){return null;};WebSquare.validator.validateInvoker=function(id,_10){["WebSquare.validator.validateInvoker"];try{this.commandList=[];this.invalidMessage=_10.invalidMessage||"";this.displaymessage=_10.displaymessage||false;this.invalidMessageFunc=_10.invalidMessageFunc||null;if(this.invalidMessageFunc){if(this.invalidMessageFunc.indexOf("(")<0){this.invalidMessageFunc+="()";}this.invalidMsgFuncName=this.invalidMessageFunc.substring(0,this.invalidMessageFunc.indexOf("("));this.tmpFunc=this.invalidMessageFunc.replace(this.invalidMsgFuncName,"this.doValidate");}this.callerId=id;if(typeof _10.mandatory!="undefined"&&_10.mandatory==true){this.addCommand(new WebSquare.validator.mandatoryCommand(_10.mandatory));}if(typeof _10.allowChar!="undefined"&&_10.allowChar!=""){this.addCommand(new WebSquare.validator.allowCharCommand(_10.allowChar));}if(typeof _10.ignoreChar!="undefined"&&_10.ignoreChar!=""){this.addCommand(new WebSquare.validator.ignoreCharCommand(_10.ignoreChar));}if(typeof _10.maxlength!="undefined"&&_10.maxlength!=-1){this.addCommand(new WebSquare.validator.maxLengthCommand(_10.maxlength));}if(typeof _10.minlength!="undefined"&&_10.minlength!=-1){this.addCommand(new WebSquare.validator.minLengthCommand(_10.minlength));}if(typeof _10.maxByteLength!="undefined"&&_10.maxByteLength!=-1){this.addCommand(new WebSquare.validator.maxByteLengthCommand(_10.maxByteLength));}if(typeof _10.minByteLength!="undefined"&&_10.minByteLength!=-1){this.addCommand(new WebSquare.validator.minByteLengthCommand(_10.minByteLength));}if(typeof _10.validator!="undefined"&&_10.validator!=""){this.addCommand(new WebSquare.validator.commandAdapter(_10.validator));}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.validateInvoker.prototype.addCommand=function(_11){["WebSquare.validator.validateInvoker.addCommand"];try{this.commandList.push(_11);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.validateInvoker.prototype.removeCommand=function(_12){["WebSquare.validator.validateInvoker.removeCommand"];try{var _13=new Array();for(var i=0;i<this.commandList.length;i++){if(this.commandList[i].getType()!=_12.getType()){_13.push(this.commandList[i]);}}this.commandList=_13;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.validateInvoker.prototype.clearCommand=function(){["WebSquare.validator.validateInvoker.clearCommand"];try{this.commandList=null;this.commandList=[];}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.validateInvoker.prototype.applyPriority=function(){["WebSquare.validator.validateInvoker.applyPriority"];try{}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.validateInvoker.prototype.validate=function(_15){["WebSquare.validator.validateInvoker.validate"];try{var _16=true;var _17="";this.obfuscator_invalidObject=null;for(var i=0;i<this.commandList.length;i++){if(!this.commandList[i].executeValidate(_15)){_16=false;var _19=this.commandList[i].executeInvalidMessage();_17+=(_19+"\n");this.obfuscator_invalidObject=new WebSquare.validator.invalidObject(this.callerId,this.commandList[i]);break;}}if(_16==false){if(this.invalidMessage!=""){_17=this.invalidMessage;}if(this.invalidMessageFunc&&this.obfuscator_invalidObject){_17=eval(this.tmpFunc);}if(this.displaymessage==true){alert(_17);}}return _16;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.validateInvoker.prototype.doValidate=function(){var _1a=eval(this.invalidMsgFuncName);var ret=_1a.apply(this.obfuscator_invalidObject,arguments);return ret;};WebSquare.validator.validateInvoker.prototype.validateString=function(_1c){["WebSquare.validator.validateInvoker.validateString"];try{this.applyPriority();for(var i=0;i<this.commandList.length;i++){_1c=this.commandList[i].executeValidateString(_1c);}return _1c;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.validateInvoker.prototype.validateKeyPress=function(_1e,_1f,e){["WebSquare.validator.validateInvoker.validateKeyPress"];try{var _21=true;for(var i=0;i<this.commandList.length;i++){if(!this.commandList[i].executeValidateKeyPress(_1e,_1f,e)){_21=false;break;}}return _21;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.mandatoryCommand=function(_23){this.mandatory=_23;};WebSquare.extend(WebSquare.validator.mandatoryCommand.prototype,WebSquare.validator.validateCommand.prototype);WebSquare.validator.mandatoryCommand.prototype.getType=function(){return "mandatory";};WebSquare.validator.mandatoryCommand.prototype.getValue=function(){return "";};WebSquare.validator.mandatoryCommand.prototype.executeValidate=function(_24){["WebSquare.validator.mandatoryCommand.executeValidate"];try{if(_24!=""){return true;}else{return false;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.mandatoryCommand.prototype.executeValidateString=function(_25){return _25;};WebSquare.validator.mandatoryCommand.prototype.executeValidateKeyPress=function(_26){return true;};WebSquare.validator.mandatoryCommand.prototype.executeInvalidMessage=function(){var _27=WebSquare.language.getMessage("V_error_mandatory");return _27;};WebSquare.validator.maxLengthCommand=function(max){this.maxLength=max||0;};WebSquare.extend(WebSquare.validator.maxLengthCommand.prototype,WebSquare.validator.validateCommand.prototype);WebSquare.validator.maxLengthCommand.prototype.getType=function(){return "maxLength";};WebSquare.validator.maxLengthCommand.prototype.getValue=function(){return this.maxLength;};WebSquare.validator.maxLengthCommand.prototype.executeValidate=function(_29){var _2a=true;if(_29.length>this.minLength){_2a=false;}return _2a;};WebSquare.validator.maxLengthCommand.prototype.executeValidateString=function(_2b){["WebSquare.validator.maxLengthCommand.executeValidateString"];try{if(_2b&&_2b.length>this.maxLength){_2b=_2b.substr(0,this.maxLength);}return _2b;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.maxLengthCommand.prototype.executeValidateKeyPress=function(_2c,_2d,e){["WebSquare.validator.maxLengthCommand.executeValidateKeyPress"];try{_2c.maxLength=this.maxLength;return true;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.maxLengthCommand.prototype.executeInvalidMessage=function(){var _2f=WebSquare.language.getMessage("V_error_maxLength",this.maxLength);return _2f;};WebSquare.validator.minLengthCommand=function(min){this.minLength=min||0;};WebSquare.extend(WebSquare.validator.minLengthCommand.prototype,WebSquare.validator.validateCommand.prototype);WebSquare.validator.minLengthCommand.prototype.getType=function(){return "minLength";};WebSquare.validator.minLengthCommand.prototype.getValue=function(){return this.minLength;};WebSquare.validator.minLengthCommand.prototype.executeValidate=function(_31){["WebSquare.validator.minLengthCommand.executeValidate"];try{var _32=true;if(_31.length<this.minLength){_32=false;}return _32;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.minLengthCommand.prototype.executeValidateString=function(_33){return _33;};WebSquare.validator.minLengthCommand.prototype.executeValidateKeyPress=function(_34,_35,e){return true;};WebSquare.validator.minLengthCommand.prototype.executeInvalidMessage=function(){var _37=WebSquare.language.getMessage("V_error_minLength",this.minLength);return _37;};WebSquare.validator.maxByteLengthCommand=function(max){this.maxByteLength=max||0;};WebSquare.extend(WebSquare.validator.maxByteLengthCommand.prototype,WebSquare.validator.validateCommand.prototype);WebSquare.validator.maxByteLengthCommand.prototype.getType=function(){return "maxByteLength";};WebSquare.validator.maxByteLengthCommand.prototype.getValue=function(){return this.maxByteLength;};WebSquare.validator.maxByteLengthCommand.prototype.executeValidate=function(_39){try{var _3a=true;var _3b=WebSquare.util.getStringByteSize(_39);if(_3b>this.maxByteLength){_3a=false;}return _3a;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.maxByteLengthCommand.prototype.executeValidateString=function(_3c){["WebSquare.validator.maxByteLengthCommand.executeValidateString"];try{var _3d=WebSquare.util.getStringByteSize(_3c);while(_3c.length>0&&_3d>this.maxByteLength){_3c=_3c.substr(0,_3c.length-1);_3d=WebSquare.util.getStringByteSize(_3c);}return _3c;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.maxByteLengthCommand.prototype.executeValidateKeyPress=function(_3e,_3f,e){["WebSquare.validator.maxByteLengthCommand.executeValidateKeyPress"];return true;};WebSquare.validator.maxByteLengthCommand.prototype.executeInvalidMessage=function(){var _41=WebSquare.language.getMessage("V_error_maxByteLength",this.maxByteLength);return _41;};WebSquare.validator.minByteLengthCommand=function(min){this.minByteLength=min||0;};WebSquare.extend(WebSquare.validator.minByteLengthCommand.prototype,WebSquare.validator.validateCommand.prototype);WebSquare.validator.minByteLengthCommand.prototype.getType=function(){return "minByteLength";};WebSquare.validator.minByteLengthCommand.prototype.getValue=function(){return this.minByteLength;};WebSquare.validator.minByteLengthCommand.prototype.executeValidate=function(_43){["WebSquare.validator.minByteLengthCommand.executeValidate"];try{var _44=true;var _45=WebSquare.util.getStringByteSize(_43);if(_45<this.minByteLength){_44=false;}return _44;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.minByteLengthCommand.prototype.executeValidateString=function(_46){return _46;};WebSquare.validator.minByteLengthCommand.prototype.executeValidateKeyPress=function(_47,_48,e){return true;};WebSquare.validator.minByteLengthCommand.prototype.executeInvalidMessage=function(){var _4a=WebSquare.language.getMessage("V_error_minByteLength",this.minByteLength);return _4a;};WebSquare.validator.allowCharCommand=function(_4b){this.allowChar=_4b;this.regExp=new RegExp("["+_4b+"]","g");};WebSquare.extend(WebSquare.validator.allowCharCommand.prototype,WebSquare.validator.validateCommand.prototype);WebSquare.validator.allowCharCommand.prototype.getType=function(){return "allowChar";};WebSquare.validator.allowCharCommand.prototype.getValue=function(){return this.allowChar;};WebSquare.validator.allowCharCommand.prototype.executeValidate=function(_4c){["WebSquare.validator.allowCharCommand.executeValidate"];try{var _4d=true;if(_4c!=""){if(!_4c.match(this.regExp)){_4d=false;}}return _4d;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.allowCharCommand.prototype.executeValidateString=function(_4e){["WebSquare.validator.allowCharCommand.executeValidateString"];try{var _4f=_4e.match(this.regExp);if(_4f){_4e=_4f.join("");}else{_4e="";}return _4e;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.allowCharCommand.prototype.executeValidateKeyPress=function(_50,_51,e){["WebSquare.validator.allowCharCommand.executeValidateKeyPress"];try{var _53=true;if(e){var _54=(e.charCode)?e.charCode:e.keyCode;var _55=String.fromCharCode(_54);if(!_55.match(this.regExp)){_53=false;}if(WebSquare.util.isFF()&&e.charCode==0){_53=true;}if(WebSquare.util.isOpera()){if(WebSquare.util.isOpera()){if(WebSquare.util.getIgnoreKeyPressCodes()[_54]){_53=true;}}}}return _53;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.allowCharCommand.prototype.executeInvalidMessage=function(){var _56=WebSquare.language.getMessage("V_error_allowChar",this.allowChar);return _56;};WebSquare.validator.ignoreCharCommand=function(_57){this.ignoreChar=_57;this.regExp=new RegExp("["+_57+"]","g");};WebSquare.extend(WebSquare.validator.ignoreCharCommand.prototype,WebSquare.validator.validateCommand.prototype);WebSquare.validator.ignoreCharCommand.prototype.getType=function(){return "ignoreChar";};WebSquare.validator.ignoreCharCommand.prototype.getValue=function(){return this.ignoreChar;};WebSquare.validator.ignoreCharCommand.prototype.executeValidate=function(_58){["WebSquare.validator.ignoreCharCommand.executeValidate"];try{var _59=true;if(_58!=""){if(_58.match(this.regExp)){_59=false;}}return _59;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.ignoreCharCommand.prototype.executeValidateString=function(_5a){["WebSquare.validator.ignoreCharCommand.executeValidateString"];try{_5a=_5a.replace(this.regExp,"");return _5a;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.ignoreCharCommand.prototype.executeValidateKeyPress=function(_5b,_5c,e){["WebSquare.validator.ignoreCharCommand.executeValidateKeyPress"];try{var _5e=true;if(e){var _5f=(e.charCode)?e.charCode:e.keyCode;var _60=String.fromCharCode(_5f);if(_60.match(this.regExp)){_5e=false;}}return _5e;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.ignoreCharCommand.prototype.executeInvalidMessage=function(){var _61=WebSquare.language.getMessage("V_error_ignoreChar",this.ignoreChar);return _61;};WebSquare.validator.numberCommand=function(_62,_63){if(!_62){_62=",";}if(!_63){_63=".";}this.pattern=new RegExp("^[+-]?[0-9]*["+_63+"]?[0-9]*");this.delimeter=_62;this.decimalDelimeter=_63;};WebSquare.extend(WebSquare.validator.numberCommand.prototype,WebSquare.validator.validateCommand.prototype);WebSquare.validator.numberCommand.prototype.getType=function(){return "number";};WebSquare.validator.numberCommand.prototype.getValue=function(){return "";};WebSquare.validator.numberCommand.prototype.executeValidate=function(_64){["WebSquare.validator.numberCommand.executeValidate"];try{return true;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.numberCommand.prototype.executeValidateString=function(_65){["WebSquare.validator.numberCommand.executeValidateString"];try{var _66=_65.match(/[0-9\+\-\.]+/g);if(_66){_65=_66.join("");}else{_65="";}return _65;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.numberCommand.prototype.executeValidateKeyPress=function(_67,_68,e){["WebSquare.validator.numberCommand.executeValidateKeyPress"];try{var _6a=true;if(e){var _6b=WebSquare.event.getTarget(e);var _6c=(e.charCode)?e.charCode:e.keyCode;var _6d=String.fromCharCode(_6c);var _6e=WebSquare.text.getSelection(_67);var _6f=_68.substr(0,_6e.start)+_6d+_68.substr(_6e.end);var _70=_6f.match(this.pattern);if(_70&&_70+""==_6f){_6a=true;}else{_6a=false;}if(WebSquare.util.isFF()&&e.charCode==0){_6a=true;}else{if(WebSquare.util.isOpera()){if(WebSquare.util.getIgnoreKeyPressCodes()[_6c]){_6a=true;}}}}return _6a;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.numberCommand.prototype.executeInvalidMessage=function(){return "";};WebSquare.validator.dateCommand=function(){requires("uiplugin/helper/dateHelper.js");this.dateHelper=new WebSquare.uiplugin.dateHelper();};WebSquare.extend(WebSquare.validator.dateCommand.prototype,WebSquare.validator.validateCommand.prototype);WebSquare.validator.dateCommand.prototype.getType=function(){return "date";};WebSquare.validator.dateCommand.prototype.getValue=function(){return "";};WebSquare.validator.dateCommand.prototype.executeValidate=function(_71){["WebSquare.validator.dateCommand.executeValidate"];try{var _72=true;switch(_71.length){case 6:var _73=_71.substr(0,4);var _74=_71.substr(4,2);if(isNaN(parseInt(_74,10))||parseInt(_74,10)<1||parseInt(_74,10)>12){_72=false;}break;case 8:var _73=_71.substr(0,4);var _74=_71.substr(4,2);var _75=_71.substr(6,2);if(isNaN(parseInt(_74,10))||parseInt(_74,10)<1||parseInt(_74,10)>12){_72=false;}var _76=this.dateHelper.getMonthCount(_73,_74);if(isNaN(parseInt(_75,10))||parseInt(_75,10)<1||parseInt(_75,10)>_76){_72=false;}break;case 12:var _73=_71.substr(0,4);var _74=_71.substr(4,2);var _75=_71.substr(6,2);var _77=_71.substr(8,2);var _78=_71.substr(10,2);if(isNaN(parseInt(_74,10))||parseInt(_74,10)<1||parseInt(_74,10)>12){_72=false;}var _76=this.dateHelper.getMonthCount(_73,_74);if(isNaN(parseInt(_75,10))||parseInt(_75,10)<1||parseInt(_75,10)>_76){_72=false;}if(isNaN(parseInt(_77,10))||parseInt(_77,10)<0||parseInt(_77,10)>23){_72=false;}if(isNaN(parseInt(_78,10))||parseInt(_78,10)<0||parseInt(_78,10)>59){_72=false;}break;default:_72=false;break;}return _72;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.dateCommand.prototype.executeValidateString=function(_79){["WebSquare.validator.dateCommand.executeValidateString"];try{return _79;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.dateCommand.prototype.executeValidateKeyPress=function(_7a,_7b,e){["WebSquare.validator.dateCommand.executeValidateKeyPress"];try{return true;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.dateCommand.prototype.executeInvalidMessage=function(){var _7d=WebSquare.language.getMessage("V_error_date");return _7d;};WebSquare.validator.euroCommand=function(_7e,_7f){if(!_7e){_7e=".";}if(!_7f){_7f=",";}this.pattern=new RegExp("^[0-9]*["+_7f+"]?[0-9]*");this.delimeter=_7e;this.decimalDelimeter=_7f;};WebSquare.extend(WebSquare.validator.euroCommand.prototype,WebSquare.validator.validateCommand.prototype);WebSquare.validator.euroCommand.prototype.getType=function(){return "euro";};WebSquare.validator.euroCommand.prototype.getValue=function(){return "";};WebSquare.validator.euroCommand.prototype.executeValidate=function(_80){["WebSquare.validator.euroCommand.executeValidate"];try{return true;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.euroCommand.prototype.executeValidateString=function(_81){["WebSquare.validator.euroCommand.executeValidateString"];try{var _82=_81.match(new RegExp("[0-9\\"+this.decimalDelimeter+"]+","g"));if(_82){_81=_82.join("");}else{_81="";}return _81;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.euroCommand.prototype.executeValidateKeyPress=function(_83,_84,e){["WebSquare.validator.euroCommand.executeValidateKeyPress"];try{var _86=true;if(e){var _87=WebSquare.event.getTarget(e);var pos=WebSquare.text.getCaretPos(_87);var _89=(e.charCode)?e.charCode:e.keyCode;var _8a=String.fromCharCode(_89);var _8b=_84.substr(0,pos)+_8a+_84.substr(pos);var _8c=_8b.match(this.pattern);if(_8c&&_8c+""==_8b){_86=true;}else{_86=false;}if(WebSquare.util.isFF()&&e.charCode==0){_86=true;}else{if(WebSquare.util.isOpera()){if(WebSquare.util.getIgnoreKeyPressCodes()[_89]){_86=true;}}}}return _86;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.euroCommand.prototype.executeInvalidMessage=function(){return "";};WebSquare.validator.rupeeCommand=function(_8d,_8e){if(!_8d){_8d=".";}if(!_8e){_8e=",";}this.pattern=new RegExp("^[0-9]*["+_8e+"]?[0-9]*");this.delimeter=_8d;this.decimalDelimeter=_8e;};WebSquare.extend(WebSquare.validator.rupeeCommand.prototype,WebSquare.validator.validateCommand.prototype);WebSquare.validator.rupeeCommand.prototype.getType=function(){return "rupee";};WebSquare.validator.rupeeCommand.prototype.getValue=function(){return "";};WebSquare.validator.rupeeCommand.prototype.executeValidate=function(_8f){["WebSquare.validator.rupeeCommand.executeValidate"];try{return true;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.rupeeCommand.prototype.executeValidateString=function(_90){["WebSquare.validator.rupeeCommand.executeValidateString"];try{var _91=_90.match(new RegExp("[0-9\\"+this.decimalDelimeter+"]+","g"));if(_91){_90=_91.join("");}else{_90="";}return _90;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.rupeeCommand.prototype.executeValidateKeyPress=function(_92,_93,e){["WebSquare.validator.rupeeCommand.executeValidateKeyPress"];try{var _95=true;if(e){var _96=WebSquare.event.getTarget(e);var pos=WebSquare.text.getCaretPos(_96);var _98=(e.charCode)?e.charCode:e.keyCode;var _99=String.fromCharCode(_98);var _9a=_93.substr(0,pos)+_99+_93.substr(pos);var _9b=_9a.match(this.pattern);if(_9b&&_9b+""==_9a){_95=true;}else{_95=false;}if(WebSquare.util.isFF()&&e.charCode==0){_95=true;}else{if(WebSquare.util.isOpera()){if(WebSquare.util.getIgnoreKeyPressCodes()[_98]){_95=true;}}}}return _95;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.rupeeCommand.prototype.executeInvalidMessage=function(){return "";};WebSquare.validator.tengeCommand=function(_9c,_9d){if(!_9c){_9c=" ";}if(!_9d){_9d="-";}this.pattern=new RegExp("^[0-9]*["+_9d+"]?[0-9]*");this.delimeter=_9c;this.decimalDelimeter=_9d;};WebSquare.extend(WebSquare.validator.tengeCommand.prototype,WebSquare.validator.validateCommand.prototype);WebSquare.validator.tengeCommand.prototype.getType=function(){return "tenge";};WebSquare.validator.tengeCommand.prototype.getValue=function(){return "";};WebSquare.validator.tengeCommand.prototype.executeValidate=function(_9e){["WebSquare.validator.tengeCommand.executeValidate"];try{return true;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.tengeCommand.prototype.executeValidateString=function(_9f){["WebSquare.validator.tengeCommand.executeValidateString"];try{var _a0=_9f.match(new RegExp("[0-9\\"+this.decimalDelimeter+"]+","g"));if(_a0){_9f=_a0.join("");}else{_9f="";}return _9f;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.tengeCommand.prototype.executeValidateKeyPress=function(_a1,_a2,e){["WebSquare.validator.tengeCommand.executeValidateKeyPress"];try{var _a4=true;if(e){var _a5=WebSquare.event.getTarget(e);var pos=WebSquare.text.getCaretPos(_a5);var _a7=(e.charCode)?e.charCode:e.keyCode;var _a8=String.fromCharCode(_a7);var _a9=_a2.substr(0,pos)+_a8+_a2.substr(pos);var _aa=_a9.match(this.pattern);if(_aa&&_aa+""==_a9){_a4=true;}else{_a4=false;}if(WebSquare.util.isFF()&&e.charCode==0){_a4=true;}else{if(WebSquare.util.isOpera()){if(WebSquare.util.getIgnoreKeyPressCodes()[_a7]){_a4=true;}}}}return _a4;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.tengeCommand.prototype.executeInvalidMessage=function(){return "";};WebSquare.validator.commandAdapter=function(_ab){this.userFunc=_ab;};WebSquare.extend(WebSquare.validator.commandAdapter.prototype,WebSquare.validator.validateCommand.prototype);WebSquare.validator.commandAdapter.prototype.executeValidate=function(_ac){return true;};WebSquare.validator.commandAdapter.prototype.getType=function(){return "user";};WebSquare.validator.commandAdapter.prototype.getValue=function(){return "";};WebSquare.validator.commandAdapter.prototype.executeValidateString=function(_ad){["WebSquare.validator.commandAdapter.executeValidateString"];try{if(typeof this.userFunc!="function"){try{this.userFunc=eval(this.userFunc);}catch(e){}}if(typeof this.userFunc=="function"){_ad=this.userFunc(_ad);}return _ad;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.validator.commandAdapter.prototype.executeValidateKeyPress=function(_ae,_af,e){return true;};WebSquare.validator.commandAdapter.prototype.executeInvalidMessage=function(){return "";};WebSquare.wUnit={commandList:[],testFrame:null,currentTestCount:-1,totalTestCount:-1,lock:false,options:{interval:0,showSuccess:true,showLog:false}};WebSquare.wUnit.start=function(){["WebSquare.wUnit.start"];try{this.testFrame=parent.document.getElementById("testFrame");this.testSuiteFrame=parent.document.getElementById("testSuiteFrame");this.selenium_myiframe=parent.document.getElementById("selenium_myiframe");this.commandList=[];this.currentTestCount=-1;this.totalTestCount=-1;this.totalTestCount=-1;this.lock=false;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.wUnit.stop=function(){};WebSquare.wUnit.log=function(){["WebSquare.wUnit.log"];try{var _1=true;var _2=[];for(var i=0;i<this.commandList.length;i++){if(this.commandList[i].success==false){_2.push(i);$l("--fail.."+i);_1=false;}}if(WebSquare.logger.getErrorLog()!=""){_1=false;}$lobj2(this.commandList,{log:true});$l("  wUnit TEST : "+_1);if(this.options.showSuccess==true){if(_1){alert("wUnit Test SUCCESS");}else{alert("wUnit Test FAIL "+_2.length+"\n see : "+_2);}}if(_1==false||this.options.showLog==true){WebSquare.logger.showLog();}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.wUnit.runTimeout=function(){["WebSquare.wUnit.runTimeout"];try{var _4=this;var _5=_4.options.interval;if(this.currentTestCount<this.commandList.length){if(this.commandList[this.currentTestCount].command=="pause"){_5=_5+parseInt(this.commandList[this.currentTestCount].target);}}setTimeout(function(){var _6=_4.executeCommand(_4.currentTestCount);if(_6){_4.currentTestCount++;_4.runTimeout();}else{_4.log();}},_5);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.wUnit.run=function(){["WebSquare.wUnit.run"];try{var _7=WebSquare.util.getBoolean(WebSquare.net.getParameter("bySelenium"));if(_7==true){}else{this.currentTestCount=0;this.totalTestCount=this.commandList.length;this.runTimeout();}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.wUnit.executeCommand=function(_8){["WebSquare.wUnit.executeCommand"];try{if(_8>this.commandList.length||!this.commandList[_8]){return false;}var _9=this.commandList[_8].command;switch(_9){case "set":eval(this.commandList[_8].target);this.commandList[_8].success="pass";break;case "assert":var _a=eval(this.commandList[_8].target);if(typeof _a!="undefined"&&_a!=null){_a=_a.toString();}if(_a==this.commandList[_8].value){this.commandList[_8].success=true;this.commandList[_8].message="";}else{this.commandList[_8].success=false;this.commandList[_8].message="value '"+this.commandList[_8].value+"' is different from the actual value '"+_a+"'";}break;case "assertNot":var _a=eval(this.commandList[_8].target);if(typeof _a!="undefined"&&_a!=null){_a=_a.toString();}if(_a!=this.commandList[_8].value){this.commandList[_8].success=true;this.commandList[_8].message="";}else{this.commandList[_8].success=false;this.commandList[_8].message="value '"+this.commandList[_8].value+"' is same with the actual value '"+_a+"'";}break;case "object":break;case "exec":var _a=eval("this."+this.commandList[_8].target);this.commandList[_8].success="pass";break;case "assertExec":var _a=eval("this."+this.commandList[_8].target);if(typeof _a!="undefined"&&_a!=null){_a=_a.toString();}if(_a==this.commandList[_8].value){this.commandList[_8].success=true;this.commandList[_8].message="";}else{this.commandList[_8].success=false;this.commandList[_8].message="value '"+this.commandList[_8].value+"' is different from the actual value '"+_a+"'";}break;default:}}catch(e){$l("[wUnit] error to execute command.  idx:"+_8);WebSquare.exception.printStackTrace(e);return false;}return true;};WebSquare.wUnit.setOptions=function(_b){WebSquare.extend(this.options,_b);};WebSquare.wUnit.addCommand=function(_c,_d,_e){["WebSquare.wUnit.addCommand"];try{_c=_c||"";_d=_d||"";_e=_e||"";this.commandList.push({command:_c,target:_d,value:_e,success:null,message:""});}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.wUnit.click=function(id){["WebSquare.wUnit.click"];try{var dom=document.getElementById(id);if(dom){dom.click();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.editGridCell=function(id,row,col){["WebSquare.wUnit.editGridCell"];try{var dom=document.getElementById(id+"_cell_"+row+"_"+col);if(dom){dom.click();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.getGridScrollX=function(id){["WebSquare.wUnit.editGridCell"];try{var dom=document.getElementById(id+"_scrollX_right");if(dom){return dom.scrollLeft;}return null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.getGridScrollXRange=function(id,min,max){["WebSquare.wUnit.editGridCell"];try{var dom=document.getElementById(id+"_scrollX_right");if(dom){return min<=dom.scrollLeft&&dom.scrollLeft<=max;}return null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.checkCell=function(id){["WebSquare.wUnit.checkCell"];try{var dom=this.getEditCellDom(id);var _1d=WebSquare.text.getSelection(dom);if(_1d.start!=_1d.end){return true;}return false;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.getEditCellInfo=function(id){["WebSquare.wUnit.getEditCellInfo"];try{var _1f=window[id];if(_1f){var col=_1f.getFocusedColumnIndex();var row=_1f.getFocusedRowIndex();var _22=document.getElementById(id+"_cell_"+row+"_"+col);if(_22){var _23=_1f.getCellInfo(_22);return _23;}}return null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.getEditCellDom=function(id){["WebSquare.wUnit.getEditCellDom"];try{var _25=window[id];var _26=this.getEditCellInfo(id);var _27=_25.getFocusedColumnID();return document.getElementById(_26.mainGridId+_26.id);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.openGridCalendar=function(id){["WebSquare.wUnit.openCalendar"];try{var dom=this.getEditCellDom(id);if(dom){this.openCalendar(dom.id);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.openCalendar=function(id){["WebSquare.wUnit.openCalendar"];try{var dom=document.getElementById(id+"_img");if(dom){dom.click();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.openSelectbox=function(id){["WebSquare.wUnit.openCalendar"];try{var dom=document.getElementById(id+"_button");if(dom){dom.click();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.checkInputCalendarPos=function(id){["WebSquare.wUnit.checkInputCalendarPos"];try{return true;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.checkGridSelectboxPos=function(id){["WebSquare.wUnit.checkSelectboxPos"];try{var dom=this.getEditCellDom(id);if(dom){return this.checkSelectboxPos(dom.id);}return null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.checkSelectboxPos=function(id){["WebSquare.wUnit.checkSelectboxPos"];try{var _32=document.getElementById(id);var _33=WebSquare.style.getAbsoluteLeft(_32);var _34=WebSquare.style.getAbsoluteTop(_32);var _34=WebSquare.style.getAbsoluteTop(_32);var _35=_32.offsetHeight;var _36=document.getElementById(id+"_itemTable");var _37=WebSquare.style.getAbsoluteLeft(_36);var _38=WebSquare.style.getAbsoluteTop(_36);var _39=_36.offsetHeight;if(Math.abs(_33-_37)<3&&(Math.abs(_34+_35-_38)<3||Math.abs(_38+_39-_34)<3)){return true;}return false;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.keyinInput=function(_3a,_3b,_3c){["WebSquare.wUnit.keyinInput"];try{var obj=eval(_3c)||window[_3a];var _3e=document.getElementById(_3a);if(obj&&_3e){if(obj.focus){obj.focus();}for(var i=0;i<_3b.length;i++){var _40=_3b.charCodeAt(i);var _41={charCode:_40,keyCode:_40,target:_3e};if(obj.handleKeydownEvent){obj.handleKeydownEvent(_41);WebSquare.event.fireEvent(obj,"onkeydown","");}var _42;if(obj.handleKeypressEvent){_42=obj.validator.validateKeyPress(obj.render,obj.getValue(),_41);if(!_42){}else{_3e.value=_3e.value+String.fromCharCode(_40);}WebSquare.event.fireEvent(obj,"onkeypress","");}if(obj.handleKeyupEvent){obj.handleKeyupEvent(_41);WebSquare.event.fireEvent(obj,"onkeyup","");}}if(obj.blur){obj.blur();}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.keyinInputCalendar=function(_43,_44){["WebSquare.wUnit.keyinInputCalendar"];try{var obj=window[_43];var _46=document.getElementById(_43+"_input");if(obj&&_46){if(obj.focus){obj.focus();}for(var i=0;i<_44.length;i++){var _48=_44.charCodeAt(i);var _49={charCode:_48,keyCode:_48};if(obj.handleKeydownEvent){obj.handleKeydownEvent(_49);}var _4a;if(obj.handleKeypressEvent){_4a=obj.validator.validateKeyPress(obj.render,obj.getValue(),_49);if(!_4a){}else{_46.value=_46.value+String.fromCharCode(_48);}}if(obj.handleKeyupEvent){obj.handleKeyupEvent(_49);}}if(obj.blur){obj.blur();}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.keyinGridCell=function(_4b,_4c){["WebSquare.wUnit.keyinGridCell"];try{var td=document.getElementById(_4b);var _4e=grid1.getCellInfo(td);var obj=grid1.dom[_4e.mainGridId+_4e.id];var _50=document.getElementById(obj.id);if(obj&&_50){if(obj.focus){obj.focus();}for(var i=0;i<_4c.length;i++){var _52=_4c.charCodeAt(i);var _53={charCode:_52,keyCode:_52,target:_50};if(obj.handleKeydownEvent){obj.handleKeydownEvent(_53);}var _54;if(obj.handleKeypressEvent){_54=obj.validator.validateKeyPress(obj.render,obj.getValue(),_53);if(!_54){}else{_50.value=_50.value+String.fromCharCode(_52);}}if(obj.handleKeyupEvent){obj.handleKeyupEvent(_53);}}if(obj.blur){obj.blur();}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.getGridCellDisplayData=function(id,_56){["WebSquare.wUnit.getGridCellDisplayData"];try{var dom=document.getElementById(id);var str=dom?dom.innerHTML:"";var _59=/<[^<|>]*>/g;str=str.replace(_59,"");return str;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.getInnerHTML=function(id,_5b){["WebSquare.wUnit.getInnerHTML"];try{var dom=document.getElementById(id);if(dom){return dom.innerHTML;}return null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.getProperty=function(id,_5e){["WebSquare.wUnit.getProperty"];try{var dom=document.getElementById(id);if(dom){var _60=dom[_5e];return _60;}return null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.getStyle=function(id,_62){["WebSquare.wUnit.getProperty"];try{var dom=document.getElementById(id);if(dom){var _64=WebSquare.util.getStyleProperty(dom,_62);return _64;}return null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.doesExist=function(id){["WebSquare.wUnit.doesExist"];try{var dom=document.getElementById(id);if(dom){return true;}else{return false;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.isVisible=function(id){["WebSquare.wUnit.isVisible"];try{var dom=document.getElementById(id);if(dom){if(WebSquare.util.getStyleProperty(dom,"display")=="none"){return false;}if(WebSquare.util.getStyleProperty(dom,"visibility")=="hidden"){return false;}if(dom.offsetWidth==0||dom.offsetHeight==0){return false;}return true;}return null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wUnit.clickSelectboxIndex=function(id,idx){var _6b=WebSquare.util.getComponentById(id);if(_6b.options.renderType=="native"){_6b.setSelectedIndex(idx);}else{WebSquare.wUnit.click(id+"_button");var _6c=document.getElementById(id+"_itemTable");var _6d=_6c.firstChild.firstChild.childNodes;setTimeout(function(){_6d[idx].firstChild.click();},500);}};WebSquare.wUnit.getTextNode=function(id){var obj=document.getElementById(id);var _70=obj.firstChild;return _70.data;};WebSquare.wUnit.compareXML=function(src,_72,_73,_74){var _75=src.documentElement;var _76=_72.documentElement;var _77=WebSquare.wUnit.compareNode(_75,_76,_73,_74);if(!_77){$l("\uc6d0\ubcf8 XML "+WebSquare.xml.indent(src));$l("\ube44\uad50\ub300\uc0c1 XML "+WebSquare.xml.indent(_72));}return _77;};WebSquare.wUnit.compareNode=function(src,_79,_7a,_7b){if(src==null){$l("src node is null");return false;}if(_79==null){$l("dest node is null");return false;}var _7c=src.nodeName;var _7d=_79.nodeName;if(_7c==_7d){if(typeof _7b!="undefined"){for(var i=0;i<_7b.length;i++){src.removeAttribute(_7b[i]);_79.removeAttribute(_7b[i]);}}if(_7a){var _7f=src.attributes;for(var i=0;_7f!=null&&i<_7f.length;i++){var _80=_7f[i];if(_79.getAttribute(_80.nodeName)!=_80.nodeValue){$l("\uc18d\uc131 ["+_80.nodeName+"] \uc774\uc804\uac12["+_80.nodeValue+"] \ubcc0\uacbd\ub41c\uac12["+_79.getAttribute(_80.nodeName)+"]");return false;}}}var _81=src.firstChild;var _82=_79.firstChild;while(_81!=null){if(_82==null){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uac1c\uc218\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8\ub178\ub4dc\uc218["+src.childNodes.length+"] \ube44\uad50\ub300\uc0c1\ub178\ub4dc\uc218["+_79.childNodes.length+"]");return false;}while(_81!=null&&(_81.nodeType==3||_81.nodeType==4||_81.nodeType==8)){_81=_81.nextSibling;}while(_82!=null&&(_82.nodeType==3||_82.nodeType==4||_82.nodeType==8)){_82=_82.nextSibling;}if(_81==null||_82==null){break;}if(_81.nodeType!=_82.nodeType){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uc885\ub958\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+_81.nodeType+"] \ube44\uad50\ub300\uc0c1["+_82.nodeType+"]");return false;}else{if(_81.nodeType==1){if(!WebSquare.wUnit.compareNode(_81,_82,_7a,_7b)){return false;}}else{if(_81.nodeType==3){if(_81.nodeValue!=destNode.nodeValue){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 TextNode \uac12\uc774 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+_81.nodeType+"] \ube44\uad50\ub300\uc0c1["+_82.nodeType+"]");return false;}}else{if(_81.nodeType==4){if(_81.nodeValue!=destNode.nodeValue){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 CData \uac12\uc774 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+_81.nodeType+"] \ube44\uad50\ub300\uc0c1["+_82.nodeType+"]");return false;}}}}}_81=_81.nextSibling;_82=_82.nextSibling;}if(_81!=null){while(_81!=null&&(_81.nodeType==8||_81.nodeType==3||_81.nodeType==4)){_81=_81.nextSibling;}if(_81!=null){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uac1c\uc218\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8\ub178\ub4dc\uc218["+src.childNodes.length+"] \ube44\uad50\ub300\uc0c1\ub178\ub4dc\uc218["+_79.childNodes.length+"]");return false;}}if(_82!=null){while(_82!=null&&(_82.nodeType==8||_82.nodeType==3||_82.nodeType==4)){_82=_82.nextSibling;}if(_82!=null){$l(src.nodeName+" \ud558\uc704\ub178\ub4dc\uc758 \uac1c\uc218\uac00 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8\ub178\ub4dc\uc218["+src.childNodes.length+"] \ube44\uad50\ub300\uc0c1\ub178\ub4dc\uc218["+_79.childNodes.length+"]");return false;}}}else{$l("\ub178\ub4dc\uc758 \uc774\ub984\uc774 \ub2e4\ub985\ub2c8\ub2e4. \uc6d0\ubcf8["+src.nodeName+"] \ube44\uad50\ub300\uc0c1["+_79.nodeName+"]");return false;}return true;};WebSquare.json={};WebSquare.json.DefaultXML2JSONString=function(_1,_2){["WebSquare.json.DefaultXML2JSONString"];var _3="";var _4=[];if(WebSquare.xml.isDocumentString(_1)){_1=WebSquare.xml.parse(_1);}if(WebSquare.xml.isDocument(_1)){WebSquare.json.XMLparseForJSON(_1.documentElement,_4,false);}_3=_4.join("");return _3;};WebSquare.json.XML2JSONString=function(_5,_6){var _7=WebSquare.core.getConfiguration("/WebSquare/json/xml2jsonFunction/@value");if(_7){WebSquare.json.XML2JSONString=eval(_7);if(WebSquare.json.XML2JSONString){WebSquare.logger.printLog("XML2JSON conversion rule exists in config.xml. [/WebSquare/json/@xml2jsonFunction]");}else{WebSquare.json.XML2JSONString=WebSquare.json.DefaultXML2JSONString;}}else{WebSquare.json.XML2JSONString=WebSquare.json.DefaultXML2JSONString;}return WebSquare.json.XML2JSONString(_5,_6);};WebSquare.json.parseType=function(_8){["WebSquare.json.parseType"];if(_8&&_8.childNodes&&_8.childNodes.length>0){var _9={};var _a=0;for(var i=0;i<_8.childNodes.length;i++){if(_8.childNodes[i].nodeType==1){if(_9[_8.childNodes[i].nodeName]==true){return "array";}_9[_8.childNodes[i].nodeName]=true;_a++;}}if(_a==0){return "string";}else{return "object";}}else{return "string";}};WebSquare.json.XMLparseForJSON=function(_c,_d,_e){["WebSquare.json.XMLparseForJSON"];var _f=_c.getAttribute("type");if(!_f){_f=WebSquare.json.parseType(_c);}if(_e){_d.push("\"");_d.push(_c.nodeName);_d.push("\" : ");}if(_f==="object"){var _10=true;_d.push("{");for(var i=0;i<_c.childNodes.length;i++){if(_c.childNodes[i].nodeType==1){if(_10){_10=false;}else{_d.push(", ");}_d.push(WebSquare.json.XMLparseForJSON(_c.childNodes[i],_d,true));}}_d.push("}");}else{if(_f==="array"){var _10=true;_d.push("[");for(var i=0;i<_c.childNodes.length;i++){if(_c.childNodes[i].nodeType==1){if(_10){_10=false;}else{_d.push(", ");}_d.push(WebSquare.json.XMLparseForJSON(_c.childNodes[i],_d,false));}}_d.push("]");}else{if(_f==="number"){if(_c.childNodes&&_c.childNodes[0].nodeValue){_d.push(_c.childNodes[0].nodeValue);}}else{if(_f==="true"){_d.push("true");}else{if(_f==="false"){_d.push("false");}else{if(_f==="null"){_d.push("null");}else{_d.push("\"");if(_c.childNodes&&_c.childNodes[0]){_d.push(WebSquare.xml.decode(_c.childNodes[0].nodeValue).wq_replaceAll("\\","\\\\").wq_replaceAll("\"","\\\"").wq_replaceAll("\n","\\n"));}_d.push("\"");}}}}}}};WebSquare.json.DefaultJSON2XML=function(_12,_13){["WebSquare.json.DefaultJSON2XML"];var _14;if(_12.constructor===String){_14=eval("("+_12+")");}else{_14=_12;}var _15=[];var _16="<object type=\"object\">";var _17="<array type=\"array\">";var _18="</object>";var _19="</array>";var _1a=-1;if(_14.constructor===Array){_1a=1;_15.push(_17);}else{if(typeof _14=="object"){_1a=2;_15.push(_16);}}for(var i in _14){WebSquare.json._recursiveJSON2XML(_15,_14[i],i,_1a);}if(_14.constructor===Array){_15.push(_19);}else{if(typeof _14=="object"){_15.push(_18);}}var _1c=_15.join("");var _1d=WebSquare.xml.parse(_1c);return _1d;};WebSquare.json.DefaultJSON2XMLString=function(_1e,_1f){["WebSquare.json.DefaultJSON2XMLString"];var _20;if(_1e.constructor===String){_20=eval("("+_1e+")");}else{_20=_1e;}var _21=[];var _22="<object type=\"object\">";var _23="<array type=\"array\">";var _24="</object>";var _25="</array>";var _26=-1;if(_20.constructor===Array){_26=1;_21.push(_23);}else{if(typeof _20=="object"){_26=2;_21.push(_22);}}for(var i in _20){WebSquare.json._recursiveJSON2XML(_21,_20[i],i,_26);}if(_20.constructor===Array){_21.push(_25);}else{if(typeof _20=="object"){_21.push(_24);}}var _28=_21.join("");return _28;};WebSquare.json.JSON2XML=function(_29,_2a){var _2b=WebSquare.core.getConfiguration("/WebSquare/json/json2xmlFunction/@value");if(_2b){WebSquare.json.JSON2XML=eval(_2b);if(WebSquare.json.JSON2XML){WebSquare.logger.printLog("JSON2XML conversion rule exists in config.xml. [/WebSquare/json/@json2xmlFunction]");}else{WebSquare.json.JSON2XML=WebSquare.json.DefaultJSON2XML;}}else{WebSquare.json.JSON2XML=WebSquare.json.DefaultJSON2XML;}return WebSquare.json.JSON2XML(_29,_2a);};WebSquare.json.JSON2XMLString=function(_2c,_2d){var _2e=WebSquare.core.getConfiguration("/WebSquare/json/json2xmlFunction/@value");if(_2e){WebSquare.json.JSON2XMLString=eval(_2e);if(WebSquare.json.JSON2XMLString){WebSquare.logger.printLog("JSON2XMLString conversion rule exists in config.xml. [/WebSquare/json/@json2xmlFunction]");}else{WebSquare.json.JSON2XMLString=WebSquare.json.DefaultJSON2XMLString;}}else{WebSquare.json.JSON2XMLString=WebSquare.json.DefaultJSON2XMLString;}return WebSquare.json.JSON2XMLString(_2c,_2d);};WebSquare.json._recursiveJSON2XML=function(_2f,_30,key,_32){["WebSquare.json._recursiveJSON2XML"];var _33="<object type=\"object\">";var _34="<array type=\"array\">";var _35="</object>";var _36="</array>";if(_30==null){_2f.push("<"+key+" type=\""+_30+"\"/>");}else{if(typeof _30=="string"){if(_32==1){_2f.push("<value>"+WebSquare.xml.encode(_30)+"</value>");}else{if(_32==2){_2f.push("<"+key+">"+WebSquare.xml.encode(_30)+"</"+key+">");}}}else{if(typeof _30=="number"){if(_32==1){_2f.push("<value type=\"number\">"+_30+"</value>");}else{if(_32==2){_2f.push("<"+key+" type=\"number\">"+_30+"</"+key+">");}}}else{if(typeof _30=="boolean"){if(_32==1){_2f.push("<value type=\""+_30+"\"/>");}else{if(_32==2){_2f.push("<"+key+" type=\""+_30+"\"/>");}}}else{if(_30.constructor===Array){if(isNaN(parseInt(key))){_32=1;_2f.push("<"+key+" type=\"array\">");}else{if(_30.constructor!==Array&&typeof _30=="object"){_32=2;_2f.push(_33);}else{_32=1;_2f.push(_34);}}for(var j in _30){WebSquare.json._recursiveJSON2XML(_2f,_30[j],j,_32);}if(isNaN(parseInt(key))){_32=1;_2f.push("</"+key+">");}else{if(_30.constructor!==Array&&typeof _30=="object"){_2f.push(_35);}else{_2f.push(_36);}}}else{if(typeof _30=="object"){if(_30.constructor===Array&&isNaN(parseInt(key))){_32=1;_2f.push("<"+key+" type=\"array\">");}else{if(_30.constructor===Array){_32=1;_2f.push(_34);}else{if(isNaN(parseInt(key))){_32=2;_2f.push("<"+key+" type=\"object\">");}else{_32=2;_2f.push(_33);}}}for(var j in _30){WebSquare.json._recursiveJSON2XML(_2f,_30[j],j,_32);}if(_30.constructor===Array&&isNaN(parseInt(key))){_2f.push("</"+key+">");}else{if(_30.constructor===Array){_2f.push(_36);}else{if(isNaN(parseInt(key))){_2f.push("</"+key+">");}else{_2f.push(_35);}}}}}}}}}};var JSON;if(!JSON){JSON={};}(function(){"use strict";function f(n){return n<10?"0"+n:n;}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null;};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf();};}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\"":"\\\"","\\":"\\\\"},rep;function quote(_3c){escapable.lastIndex=0;return escapable.test(_3c)?"\""+_3c.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);})+"\"":"\""+_3c+"\"";}function str(key,_40){var i,k,v,length,mind=gap,partial,value=_40[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key);}if(typeof rep==="function"){value=rep.call(_40,key,value);}switch(typeof value){case "string":return quote(value);case "number":return isFinite(value)?String(value):"null";case "boolean":case "null":return String(value);case "object":if(!value){return "null";}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null";}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v;}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v);}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v;}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(_42,_43,_44){var i;gap="";indent="";if(typeof _44==="number"){for(i=0;i<_44;i+=1){indent+=" ";}}else{if(typeof _44==="string"){indent=_44;}}rep=_43;if(_43&&typeof _43!=="function"&&(typeof _43!=="object"||typeof _43.length!=="number")){throw new Error("JSON.stringify");}return str("",{"":_42});};}if(typeof JSON.parse!=="function"){JSON.parse=function(_46,_47){var j;function walk(_49,key){var k,v,value=_49[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v;}else{delete value[k];}}}}return _47.call(_49,key,value);}_46=String(_46);cx.lastIndex=0;if(cx.test(_46)){_46=_46.replace(cx,function(a){return "\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);});}if(/^[\],:{}\s]*$/.test(_46.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+_46+")");return typeof _47==="function"?walk({"":j},""):j;}throw new SyntaxError("JSON.parse");};}}());WebSquare.css=function(){};WebSquare.css.prototype.setStyle=function(_1,_2){["WebSquare.css.setStyle"];try{if(!this.render){return;}WebSquare.style.setStyle(this.render,_1,_2);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.setStyleAsync=function(_3,_4){["WebSquare.css.setStyleAsync"];try{if(!this.render){return;}if(!this.__setStyleAsyncPeriod){this.__setStyleAsyncPeriod=1;}WebSquare.core.setTimer(function(){WebSquare.core.measureTime(function(_5){this.__setStyleAsyncPeriod=parseInt(_5.aver,10);},{key:this.id+"_setStyleAsync",caller:this});WebSquare.style.setStyle(this.render,_3,_4);},{key:this.id+"_setStyleAsync",caller:this,delay:this.__setStyleAsyncPeriod,max:this.__setStyleAsyncPeriod});}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.getStyle=function(_6){["WebSquare.css.getStyle"];try{if(!this.render){return null;}return WebSquare.style.getStyle(this.render,_6);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.setPosition=function(x,y,_9){["WebSquare.css.setPosition"];try{if(!this.render){return;}x=parseInt(x);y=parseInt(y);_9=_9||"absolute";if(_9=="absolute"){if(x!=null&&!isNaN(x)){this.render.style.left=x+"px";}if(y!=null&&!isNaN(y)){this.render.style.top=y+"px";}}else{if(_9=="delta"){if(x!=null&&!isNaN(x)){this.render.style.left=this.render.offsetLeft+x+"px";}if(y!=null&&!isNaN(y)){this.render.style.top=this.render.offsetTop+y+"px";}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.getPosition=function(_a){["WebSquare.css.getPosition"];try{if(!this.render){return;}var _a=_a.toLowerCase();if(_a=="top"){return this.render.offsetTop;}else{if(_a=="left"){return this.render.offsetLeft;}}$l("getPosition : wrong positionName["+_a+"]");return;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.getAbsolutePosition=function(_b,_c){["WebSquare.css.getAbsolutePosition"];try{var _d=_c==undefined?this.render:_c;if(_b=="top"){return WebSquare.style.getAbsoluteTop(_d);}else{if(_b=="left"){return WebSquare.style.getAbsoluteLeft(_d);}}$l("getPosition : wrong positionName["+_b+"]");return;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.setSize=function(_e,_f){["WebSquare.css.setSize"];try{WebSquare.style.setSize(this.render,_e,_f);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.getSize=function(_10){["WebSquare.css.getSize"];try{return WebSquare.style.getSize(this.render,_10);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.show=function(_11){["WebSquare.css.show"];try{WebSquare.style.show(this.render,_11);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.hide=function(){["WebSquare.css.hide"];try{WebSquare.style.hide(this.render);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.setOpacity=function(_12){["WebSquare.css.setOpacity"];try{this.setStyle("opacity",_12);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.getOpacity=function(){["WebSquare.css.getOpacity"];try{return this.getStyle("opacity");}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.addClassRe=new RegExp("\\s\\s");WebSquare.css.prototype.addClass=function(_13){["WebSquare.css.addClass"];try{if(arguments.length===1){this.__addClass(this.render,arguments[0]);}else{if(arguments.length===2){this.__addClass(arguments[0],arguments[1]);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.__addClass=function(_14,_15){["WebSquare.css.__addClass"];try{if(!_14||!_15){return;}var _16=_14.className;if(this.__hasClass(_14,_15)==false){_16+=(" "+_15);_16=_16.replace(WebSquare.css.addClassRe," ").wq_trim();}_14.className=_16;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.removeClass=function(_17){["WebSquare.css.removeClass"];try{if(arguments.length===1){this.__removeClass(this.render,arguments[0]);}else{if(arguments.length===2){this.__removeClass(arguments[0],arguments[1]);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.__removeClass=function(_18,_19){["WebSquare.css.__removeClass"];try{if(!_18||!_19){return;}if(!WebSquare.core.getConfiguration("/WebSquare/style/removeDefaultClass/@value")){if(this.__hasClass(this.options.className,_19)==true){return;}}var _1a=" "+_18.className+" ";_1a=_1a.replace(" "+_19+" "," ");_1a=_1a.replace(WebSquare.css.addClassRe," ").wq_trim();_18.className=_1a;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.changeClass=function(_1b,_1c){["WebSquare.css.changeClass"];try{if(arguments.length===2){this.__changeClass(this.render,arguments[0],arguments[1]);}else{if(arguments.length===3){this.__changeClass(arguments[0],arguments[1],arguments[2]);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.__changeClass=function(_1d,_1e,_1f){["WebSquare.css.__changeClass"];try{this.removeClass(_1d,_1e);this.addClass(_1d,_1f);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.hasClass=function(_20){["WebSquare.css.hasClass"];try{if(arguments.length===1){return this.__hasClass(this.render,arguments[0]);}else{if(arguments.length===2){return this.__hasClass(arguments[0],arguments[1]);}}return false;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.__hasClass=function(_21,_22){["WebSquare.css.__hasClass"];try{var _23=typeof _21=="string"?(_21||""):_21.className;var _24=" "+_23+" ";return _24.indexOf(" "+_22+" ")>=0;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.toggleClass=function(_25){["WebSquare.css.toggleClass"];try{if(arguments.length===1){return this.__toggleClass(this.render,arguments[0]);}else{if(arguments.length===2){return this.__toggleClass(arguments[0],arguments[1]);}}return false;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.__toggleClass=function(_26,_27){["WebSquare.css.__toggleClass"];try{if(this.hasClass(_26,_27)){this.removeClass(_26,_27);}else{this.addClass(_26,_27);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.movable=function(_28,_29){["WebSquare.css.movable"];try{if(!this.render){return;}var _2a=this;if(!this.handleFinishMove){var id="";var _2c="";id="w2drag_move";_2c="w2drag_move";_29=WebSquare.extend({id:id,className:_2c,makeGhostLayer:function(_2d){_2d.setSize(_2a.render.offsetWidth,_2a.render.offsetHeight);return _2d;},handleFinish:function(x,y,dx,dy){var _32=parseInt(_2a.getStyle("left"));var top=parseInt(_2a.getStyle("top"));_2a.setPosition(_32+dx,top+dy);}},_29||{});this.handleFinishMove=function(e){WebSquare.event.stopEvent(e);WebSquare.dragdrop.gDragManager.activate(e,_2a.render,_29);};}if(_28){this.event.addListener(this.render,"onmousedown",this.handleFinishMove);this.event.addListener(this.render,"ontouchstart",this.handleFinishMove);}else{this.event.removeListener(this.render,"onmousedown",this.handleFinishMove);this.event.removeListener(this.render,"ontouchstart",this.handleFinishMove);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.resizable=function(_35,_36){["WebSquare.css.movable"];try{if(!this.render){return;}var _37=this;if(!this.handleFinishResize){this.handleFinishResize=function(e){WebSquare.event.stopEvent(e);WebSquare.dragdrop.gDragManager.activate(e,_37.render,{id:"w2drag_resize",className:"w2drag_resize",mode:"resize",makeGhostLayer:function(_39){_39.setSize(_37.render.offsetWidth,_37.render.offsetHeight);return _39;},handleFinish:function(x,y,dx,dy){var _3e=parseInt(_37.getStyle("width"));var _3f=parseInt(_37.getStyle("height"));_37.setSize(_3e+dx,_3f+dy);}});};}if(_35){this.event.addListener(this.render,"onmousedown",this.handleFinishResize);}else{this.event.removeListener(this.render,"onmousedown",this.handleFinishResize);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.visible=function(_40){["WebSquare.css.visible"];try{if(!this.render){return;}var _40=WebSquare.util.getBoolean(_40);this.render.style.visibility=_40?"visible":"hidden";}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.showBySize=function(){["WebSquare.css.showBySize"];try{if(!this.render){return;}this.setStyle("visibility","visible");this.render.style.overflow="";this.render.style.width="";this.render.style.height="";}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.hideBySize=function(){["WebSquare.css.hideBySize"];try{if(!this.render){return;}this.setStyle("visibility","hidden");this.render.style.overflow="hidden";this.render.style.width="0px";this.render.style.height="0px";}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.getStyleValue=function(_41){return this.getStyle(_41);};WebSquare.css.prototype.getStyleIntValue=function(_42){return parseInt(this.getStyle(_42));};WebSquare.css.prototype.getStyleProperty=function(_43){["WebSquare.css.getStyleProperty"];try{return this.getStyle(_43);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.getClass=function(){["WebSquare.css.getClass"];try{return this.options.className;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.highlight=function(_44){["WebSquare.css.highlight"];try{if(!this.render){return;}this.render.style.border=_44?"solid 1px blue":"";}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.css.prototype.enable=function(){};WebSquare.css.prototype.disable=function(){};WebSquare.css.prototype.hover=function(_45,_46){};WebSquare.IAction=function(){};WebSquare.IAction.prototype.activate=function(){alert("you should override 'activate' for "+this.id);};WebSquare.IAction.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};WebSquare.IVisible=function(){};WebSquare.IVisible.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};WebSquare.widget=function(){};requires("uiplugin/control/widget.js");requires("uiplugin/control/IVisible.js");requires("uiplugin/control/IAction.js");WebSquare.control=function(id,_2,_3){["WebSquare.control"];try{WebSquare.widget.call(this);this.parentControl=null;this.childControlList=[];}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.extend(WebSquare.control.prototype,WebSquare.widget.prototype);WebSquare.extend(WebSquare.control.prototype,WebSquare.IVisible.prototype);WebSquare.extend(WebSquare.control.prototype,WebSquare.IAction.prototype);WebSquare.control.prototype.initialize=function(){["WebSquare.control.initialize"];try{}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.control.prototype.finalize=function(){["WebSquare.control.finalize"];try{}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.control.prototype.addControl=function(_4,_5){["WebSquare.control.addControl"];try{if(!_4){return;}var _6=this;do{if(_4==_6){$l("cannot execute : "+this.id+".addControl("+_4.id+");");return;}_6=_6.parentControl;}while(_6);if(_4.parentControl){_4.parentControl.removeControl(_4);}this.childControlList.push(_4);if(this.render){_4.domStatus="new";}_4.parentControl=this;if(_5){this.refreshDom();}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.control.prototype.removeControl=function(_7){["WebSquare.control.removeControl"];try{for(var i in this.childControlList){if(this.childControlList[i]==_7){this.childControlList.splice(i,1);}}_7.parentControl=null;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.control.prototype.getParent=function(){["WebSquare.control.getParent"];try{return this.parentControl;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.control.prototype.getChild=function(id){["WebSquare.control.getChild"];try{for(var i=0;i<this.childControlList.length;i++){var _b=this.childControlList[i];if(_b.id==id){return _b;}}return null;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.control.prototype.getChildren=function(){["WebSquare.control.getChildren"];try{return this.childControlList;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.control.prototype.getChildrenCount=function(){["WebSquare.control.getChildrenCount"];try{return this.childControlList.length;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.control.prototype.clearChildren=function(){["WebSquare.control.getChildrenCount"];try{this.childControlList=[];}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.control.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};WebSquare.control.prototype.activate=function(){alert("you should override 'activate' for "+this.id);};WebSquare.control.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};WebSquare.control.prototype.destroy=function(){["WebSquare.control.destroy"];try{if(typeof this.unbind=="function"){this.unbind();}WebSquare.isPrintLog=false;this.finalize();WebSquare.isPrintLog=true;if(this.render&&this.render.nodeName=="IFRAME"){var _c=this.getWindow();try{var _d=this.render.getAttribute("src");if(_d){this.render.setAttribute("src","");}if(_c.WebSquare){_c.WebSquare.getBody().remove();}}catch(e){}}if(this.modelControl){this.modelControl.unbindRef();this.modelControl.unbindItemset();}for(var i=this.childControlList.length-1;i>=0;i--){WebSquare.idCache[this.childControlList[i].id]=null;this.childControlList[i].destroy();for(var k in this.childControlList[i]){this.childControlList[i][k]=null;delete this.childControlList[i][k];}delete this.childControlList[i];}this.childControlList=[];this.parentControl=null;if(this.id!=""){WebSquare.idCache[this.id]=null;WebSquare.WebSquareDocument.componentIdCache[this.id]=null;}if(typeof window[this.id]!="undefined"){window[this.id]=null;}if(typeof WebSquare.renderCache[this.id]!="undefined"){WebSquare.renderCache[this.id]=null;delete WebSquare.renderCache[this.id];}var _10={"secret":"input","selectbox":"select1","radio":"select1","multiselect":"select","checkbox":"select","checkcombobox":"select"};var _11=_10[this.options.pluginName]||this.options.pluginName;var arr=WebSquare.WebSquareDocument.getElementsByTagName(_11);for(var idx=0,len=arr.length;idx<len;idx++){if(arr[idx]==this){WebSquare.WebSquareDocument.componentsCache[_11].splice(idx,1);}}if(this.event){if(this.render){this.event.clearElement(this.render);}this.event.clearCache();}var _14=this.bindAsEventList||[];for(var i=0,len=_14.length;i<len;i++){WebSquare[_14[i]].context=null;WebSquare[_14[i]].handler=null;delete WebSquare[_14[i]];}var _15=this.bindAsUserEventList||[];for(var i=0,len=_15.length;i<len;i++){WebSquare[_15[i]].context=null;WebSquare[_15[i]].handler=null;delete WebSquare[_15[i]];}WebSquare.getBody().getLayerListener().remove(this.id);for(var i in this){delete this[i];}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};requires("engine/cssStyleSheet.js");WebSquare.cssManager=function(){this.cache=true;this.convertedCSSText=null;this.controlCSSText=null;this.importedCSSText=null;this.internalCSSText=null;this.externalCSSText=null;this.externalCSSLink=null;this.controlCSSLink=null;this.classStyleCache=[];this.excludeList=[];this.excludeList["trigger"]="1";this.excludeList["submit"]="1";this.excludeList["inputCalendar"]="1";this.heightPattern=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/ig;this.widthPattern=/(?:^|;)\s*width\s*:\s*(\d*)px\s*(?:$|;)/ig;};WebSquare.cssManager.prototype.startCache=function(){this.cache=true;};WebSquare.cssManager.prototype.endCache=function(){this.cache=false;};WebSquare.cssManager.prototype.initialize=function(){this.convertedCSSText=[];this.controlCSSText=[];this.internalCSSText=[];this.externalCSSText=[];this.externalCSSLink=[];this.controlCSSLink=[];};WebSquare.cssManager.prototype.addConvertedCSS=function(_1,_2){if(_2==""){return;}if(this.cache==true){this.convertedCSSText.push(_1+" {"+_2+"} \n");}else{WebSquare.cssStyleSheet.addRule(_1,_2);}};WebSquare.cssManager.prototype.addControlCSS=function(_3){this.controlCSSText.push(_3+"\n");};WebSquare.cssManager.prototype.addInternalCSS=function(_4){this.internalCSSText.push(_4+"\n");};WebSquare.cssManager.prototype.addExternalCSS=function(_5){this.externalCSSText.push(_5+"\n");};WebSquare.cssManager.prototype.linkControlCSS=function(_6){this.controlCSSLink.push(_6);};WebSquare.cssManager.prototype.linkExternalCSS=function(_7){this.externalCSSLink.push(_7);};WebSquare.cssManager.prototype.toCSS=function(){var _8=[];if(this.controlCSSText&&this.controlCSSText.length>0){_8=_8.concat(["/*controlCSSText*/\n"]);_8=_8.concat(this.controlCSSText);_8=_8.concat(["\n\n"]);}if(this.convertedCSSText&&this.convertedCSSText.length>0){_8=_8.concat(["/*convertedCSSText*/\n"]);_8=_8.concat(this.convertedCSSText);_8=_8.concat(["\n\n"]);}if(this.externalCSSText&&this.externalCSSText.length>0){_8=_8.concat(["/*externalCSSText*/\n"]);_8=_8.concat(this.externalCSSText);_8=_8.concat(["\n\n"]);}if(this.internalCSSText&&this.internalCSSText.length>0){_8=_8.concat(["/*internalCSSText*/\n"]);_8=_8.concat(this.internalCSSText);}return _8.join("");};WebSquare.cssManager.prototype.executeImport=function(){["WebSquare.cssManager.executeImport"];try{var _9=[];var _a=WebSquare.document.getElementsByTagName("head")[0];for(var i=0,len=this.controlCSSLink.length;i<len;i++){var _c=WebSquare.document.createElement("link");for(var _d in this.controlCSSLink[i]){_c[_d]=this.controlCSSLink[i][_d];}_a.appendChild(_c);_9.push(_c);WebSquare.logger.printLog("import core css : "+_c.href);}for(var i=0,len=this.externalCSSLink.length;i<len;i++){var _c=WebSquare.document.createElement("link");for(var _d in this.externalCSSLink[i]){_c[_d]=this.externalCSSLink[i][_d];}_a.appendChild(_c);_9.push(_c);WebSquare.logger.printLog("import user css : "+_c.href);}this.controlCSSLink=[];this.externalCSSLink=[];var _e=this.toCSS();if(_e){if(WebSquare.core.browserCheck.ie){var _f=WebSquare.document.createStyleSheet();_f.cssText=_e;_9.push(_f.owningElement);}else{if(WebSquare.core.browserCheck.opera){var s=WebSquare.document.createElementNS("http://www.w3.org/1999/xhtml","style");s.appendChild(document.createTextNode(_e));WebSquare.document.getElementsByTagName("head").item(0).appendChild(s);_9.push(s);}else{var s=WebSquare.document.createElementNS("http://www.w3.org/1999/xhtml","style");s.appendChild(document.createTextNode(_e));WebSquare.document.getElementsByTagName("head").item(0).appendChild(s);_9.push(s);}}}this.initialize();this.endCache();return _9;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.cssManager.prototype.resizeStyle=function(id,_12){["WebSquare.cssManager.styleToClass"];try{var _13=_12["style"];if(_13&&_13!=""){var _14=this.setResizeStyle(_13,_12);if(_14!=null&&_14.newSizeStyle!=null){_12["style"]=_13+";"+_14.newSizeStyle;}}return _12;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.cssManager.prototype.styleToClass=function(id,_16){["WebSquare.cssManager.styleToClass"];try{for(var idx in _16){if(idx.indexOf("Style")>-1){var _18=_16[idx];if(_18!=""){var _19=idx+"Class";var _1a="#"+id+" ."+_19;WebSquare.cssManager.addConvertedCSS(_1a,_18);_16[idx]="";var _1b=idx.replace("Style","Class");if(!_16[_1b]){_16[_1b]="";}if(_16[_1b]!=""){_16[_1b]+=" ";}_16[_1b]+=_19;}}}return _16;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.cssManager.prototype.setResizeStyle=function(_1c,_1d){["WebSquare.cssManager.setResizeStyle"];if(this.excludeList[_1d.pluginName]!=null){return null;}var _1e="";var _1f=null;var _20=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/i;var _21=_20.exec(_1c);if(_21&&_21.length==2){var _22=parseInt(_21[1]);_1f=this.getSizeObj(_1c,_1d,_1f);_1f.newSizeStyle=";height:"+(_22-(_1f.paddingTop+_1f.paddingBottom+_1f.borderTopWidth+_1f.borderBottomWidth))+"px";}var _23=/(?:^|;)\s*width\s*:\s*(\d*)px\s*(?:$|;)/i;var _24=_23.exec(_1c);if(_24&&_24.length==2){var _25=parseInt(_24[1]);_1f=this.getSizeObj(_1c,_1d,_1f);_1f.newSizeStyle+=";width:"+(_25-(_1f.paddingLeft+_1f.paddingRight+_1f.borderLeftWidth+_1f.borderRightWidth))+"px";}return _1f;};WebSquare.cssManager.prototype.getSizeObj=function(_26,_27,_28){["WebSquare.cssManager.getSizeObj"];if(_28!=null){return _28;}var _29={};_29.paddingTop=0;_29.paddingBottom=0;_29.paddingLeft=0;_29.paddingRight=0;_29.borderTopWidth=0;_29.borderBottomWidth=0;_29.borderLeftWidth=0;_29.borderRightWidth=0;_29.newSizeStyle="";var _2a=new WebSquare.sizeObj(_26);var _2b=this.getSizeStyleObj("w2"+_27.pluginName);var _2c=this.getSizeStyleObj(_27.className);_29=this.inherit(_29,_2b);_29=this.inherit(_29,_2c);_29=this.inherit(_29,_2a);return _29;};WebSquare.cssManager.prototype.inherit=function(_2d,_2e){if(_2e==null){return _2d;}if(_2e.paddingTop!=null){_2d.paddingTop=_2e.paddingTop;}if(_2e.paddingBottom!=null){_2d.paddingBottom=_2e.paddingBottom;}if(_2e.paddingLeft!=null){_2d.paddingLeft=_2e.paddingLeft;}if(_2e.paddingRight!=null){_2d.paddingRight=_2e.paddingRight;}if(_2e.borderTopWidth!=null){_2d.borderTopWidth=_2e.borderTopWidth;}if(_2e.borderBottomWidth!=null){_2d.borderBottomWidth=_2e.borderBottomWidth;}if(_2e.borderLeftWidth!=null){_2d.borderLeftWidth=_2e.borderLeftWidth;}if(_2e.borderRightWidth!=null){_2d.borderRightWidth=_2e.borderRightWidth;}return _2d;};WebSquare.cssManager.prototype.getSizeStyleObj=function(_2f){["WebSquare.cssManager.getSizeStyleObj"];if(_2f==null||_2f==""){return null;}var _30=this.classStyleCache[_2f];if(_30==null){var _31=this.toCSS();var reg=new RegExp("[.]"+_2f+"[ \t\n\r]*{([^}]*)}");var _33=_31.match(reg);var _34="";if(_33!=null&&_33.length==2){_34=_33[1];}_30=new WebSquare.sizeObj(_34);this.classStyleCache[_2f]=_30;}return _30;};WebSquare.sizeObj=function(_35){this.paddingTop=null;this.paddingBottom=null;this.paddingLeft=null;this.paddingRight=null;this.borderTopWidth=null;this.borderBottomWidth=null;this.borderLeftWidth=null;this.borderRightWidth=null;var _36=_35.split(";");for(var i=0;i<_36.length;i++){var _38=_36[i].toLowerCase();if(_38.indexOf("padding")>=0){this.setPaddingProperty(_38);}else{if(_38.indexOf("border")>=0){this.setBorderProperty(_38);}}}};WebSquare.sizeObj.prototype.toString=function(){var ret="paddingTop["+this.paddingTop+"] ";ret+="paddingBottom["+this.paddingBottom+"] ";ret+="paddingLeft["+this.paddingLeft+"] ";ret+="paddingRight["+this.paddingRight+"] ";ret+="borderTopWidth["+this.borderTopWidth+"] ";ret+="borderBottomWidth["+this.borderBottomWidth+"] ";ret+="borderLeftWidth["+this.borderLeftWidth+"] ";ret+="borderRightWidth["+this.borderRightWidth+"] ";};WebSquare.sizeObj.prototype.setPaddingProperty=function(_3a){var _3b=_3a.split(":");var _3c=_3b[0].wq_trim();var _3d=_3b[1].wq_trim();if(_3d==""){return;}if(_3c=="padding"){var _3e=_3d.split(" ");if(_3e.length==1){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[0]);this.paddingBottom=parseInt(_3e[0]);this.paddingLeft=parseInt(_3e[0]);}else{if(_3e.length==2){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[1]);this.paddingBottom=parseInt(_3e[0]);this.paddingLeft=parseInt(_3e[1]);}else{if(_3e.length==3){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[1]);this.paddingBottom=parseInt(_3e[2]);this.paddingLeft=parseInt(_3e[1]);}else{if(_3e.length==4){this.paddingTop=parseInt(_3e[0]);this.paddingRight=parseInt(_3e[1]);this.paddingBottom=parseInt(_3e[2]);this.paddingLeft=parseInt(_3e[3]);}}}}}else{if(_3c.indexOf("padding-left")>=0){this.paddingLeft=parseInt(_3d);}else{if(_3c.indexOf("padding-top")>=0){this.paddingTop=parseInt(_3d);}else{if(_3c.indexOf("padding-right")>=0){this.paddingRight=parseInt(_3d);}else{if(_3c.indexOf("padding-bottom")>=0){this.paddingBottom=parseInt(_3d);}}}}}};WebSquare.sizeObj.prototype.setBorderProperty=function(_3f){var _40=_3f.split(":");var _41=_40[0].wq_trim();var _42=_40[1].wq_trim();var svl=_42.split(" ");var _44=null;for(var i=0;i<svl.length;i++){if(svl[i].indexOf("px")>=0){_44=parseInt(svl[i]);}}if(_44==null){return;}if(_41=="border"){this.borderTopWidth=_44;this.borderBottomWidth=_44;this.borderLeftWidth=_44;this.borderRightWidth=_44;}else{if(_41=="border-width"){this.borderTopWidth=_44;this.borderBottomWidth=_44;this.borderLeftWidth=_44;this.borderRightWidth=_44;}else{if(_41.indexOf("border-left")>=0){this.borderLeftWidth=_44;}else{if(_41.indexOf("border-top")>=0){this.borderTopWidth=_44;}else{if(_41.indexOf("border-right")>=0){this.borderRightWidth=_44;}else{if(_41.indexOf("border-bottom")>=0){this.borderBottomWidth=_44;}}}}}}};WebSquare.sizeObj.prototype.inherit=function(_46){if(_46==null){return;}this.paddingTop=(_46.paddingTop!=null)?_46.paddingTop:this.paddingTop;this.paddingBottom=(_46.paddingBottom!=null)?_46.paddingBottom:this.paddingBottom;this.paddingLeft=(_46.paddingLeft!=null)?_46.paddingLeft:this.paddingLeft;this.paddingRight=(_46.paddingRight!=null)?_46.paddingRight:this.paddingRight;this.borderTopWidth=(_46.borderTopWidth!=null)?_46.borderTopWidth:this.borderTopWidth;this.borderBottomWidth=(_46.borderBottomWidth!=null)?_46.borderBottomWidth:this.borderBottomWidth;this.borderLeftWidth=(_46.borderLeftWidth!=null)?_46.borderLeftWidth:this.borderLeftWidth;this.borderRightWidth=(_46.borderRightWidth!=null)?_46.borderRightWidth:this.borderRightWidth;};WebSquare.sizeObj.prototype.nullToZero=function(_47){this.paddingTop=this.paddingTop||0;this.paddingBottom=this.paddingBottom||0;this.paddingLeft=this.paddingLeft||0;this.paddingRight=this.paddingRight||0;this.borderTopWidth=this.borderTopWidth||0;this.borderBottomWidth=this.borderBottomWidth||0;this.borderLeftWidth=this.borderLeftWidth||0;this.borderRightWidth=this.borderRightWidth||0;};WebSquare.cssManager=new WebSquare.cssManager();WebSquare.cssManager.initialize();WebSquare.cssManager.startCache();WebSquare.cssCustomizer=function(){};WebSquare.cssCustomizer.prototype.setClassName=function(_1){["WebSquare.css.addClass"];try{if(!_1){return;}var _2="w2"+this.getPluginName()+" "+_1;this.setClassByElement(_2);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.cssCustomizer.prototype.addClassName=function(_3){["WebSquare.cssCustomizer.addSelfClass"];try{this.addClass(this.render,_3);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.cssCustomizer.prototype.removeClassName=function(_4){["WebSquare.cssCustomizer.addSelfClass"];try{this.removeClass(this.render,_4);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.cssCustomizer.prototype.getChildEl=function(_5,_6,_7){["WebSquare.controlFactory.getChildEl"];try{if(this.getClassByElement(_6)==_5){this.addClass(_6,_7);return _6;}else{for(var i=0;i<_6.children.length;i++){if(_6.children[i].children.length>0){if(_6.children[i]!=null){this.getChildEl(_5,_6.children[i],_7);}else{$l("child\uac00 null \uc785\ub2c8\ub2e4.");}}else{if(_6!=null){if(this.getClassByElement(_6)==_5){return _6;}}}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.cssCustomizer.prototype.removeChildEl=function(_9,_a,_b){["WebSquare.controlFactory.getChildEl"];try{if(this.getClassByElement(_a)==_9){this.removeClass(_a,_b);return _a;}else{for(var i=0;i<_a.children.length;i++){if(_a.children[i].children.length>0){if(_a.children[i]!=null){this.removeChildEl(_9,_a.children[i],_b);}else{$l("child\uac00 null \uc785\ub2c8\ub2e4.");}}else{if(_a!=null){if(this.getClassByElement(_a)==_9){return _a;}}}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.cssCustomizer.prototype.getClassByElement=function(_d){["WebSquare.cssCustomizer.getClass"];try{return this.ssplit(_d["className"])||this.ssplit(_d.getAttribute("class"))||"";}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.cssCustomizer.prototype.setClassByElement=function(_e){["WebSquare.cssCustomizer.getClass"];try{if(!_e){return;}this.render.className=_e;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.cssCustomizer.prototype.ssplit=function(_f){["WebSquare.cssCustomizer.getClass"];try{if(typeof _f=="undefined"||_f==null){return _f;}var _10=_f.split(" ");if(_10.length>0){return _10[0];}else{return _f;}}catch(e){WebSquare.exception.printStackTrace(e);}};requires("uiplugin/control/control.js");WebSquare.htmlControl=function(id,_2,_3){["WebSquare.htmlControl"];try{WebSquare.control.call(this);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.extend(WebSquare.htmlControl.prototype,WebSquare.control.prototype);WebSquare.control.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};WebSquare.control.prototype.activate=function(){alert("you should override 'activate' for "+this.id);};WebSquare.control.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};WebSquare.uiplugin={};requires("uiplugin/control/control.js");requires("uiplugin/control/css.js");requires("uiplugin/control/modelControl.js");requires("uiplugin/control/eventControl.js");WebSquare.xfControl=function(id,_2,_3){["WebSquare.xfControl"];try{this.parentControl=null;this.childControlList=[];this.id=id;this.element=_3;this.render=null;this.options=this.getConfiguredOptions();if(_3){this.options=WebSquare.extendKeepingType(this.options,WebSquare.WebSquareparser.parseAttribute(_3));this.options.xmlEvents=WebSquare.WebSquareparser.parseEvent(_3);}if(_2){this.options=WebSquare.extendKeepingType(this.options,_2);}if(!this.id){this.id=this.options.id;}this.options.id=this.id;if(_3){var _4=WebSquare.xml.getLocalName(_3);var _5=WebSquare.WebSquareDocument.componentsCache;var _6=_5[_4];if(!_6){_6=_5[_4]=[];}_6[_6.length]=this;}WebSquare.WebSquareDocument.componentIdCache[this.id]=this;if(WebSquare.core.docType=="quirk"){this.options=WebSquare.cssManager.resizeStyle(this.id,this.options);}this.dom={};this.attributes=[];if(_3&&this.options.parseAttributes){this.attributes=WebSquare.WebSquareparser.parseAttributesNode(_3);this.getAttributeNode=this.getAttributeNode||WebSquare.xfControl.attributes.getAttributeNode;this.setAttributeNode=this.setAttributeNode||WebSquare.xfControl.attributes.setAttributeNode;this.removeAttributeNode=this.removeAttributeNode||WebSquare.xfControl.attributes.removeAttributeNode;}this.activeStatus="stop";this.domStatus="";this.modelControl=new WebSquare.modelControl(this.id,this.options.model,this.options.ref,this.options.bind);this.event=new WebSquare.eventControl();this.initialize(_3);this.bindAsEventList=[];this.bindAsUserEventList=[];this.userEventList=[];this.systemEventList={};}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.extend(WebSquare.xfControl.prototype,WebSquare.control.prototype);WebSquare.extend(WebSquare.xfControl.prototype,WebSquare.css.prototype);WebSquare.xfControl.prototype.defaultOptions={};WebSquare.xfControl.prototype.configuredOptions={};WebSquare.xfControl.prototype.getConfiguredOptions=function(){var _7=this.defaultOptions.pluginName;var _8,values;var _9={};if(!this.configuredOptions[_7]){var _a=WebSquare.extendKeepingType({id:"",pluginType:"xfControl",pluginName:"",userEvents:[],xmlEvents:null,value:"",ref:"",model:"",bind:"",style:"",className:"",tabIndex:"",readOnly:false,disabled:false,useLocale:false,localeRef:"",useConfig:false,toolTip:"",parentEvent:""},this.defaultOptions);if(_a.useConfig||WebSquare.util.getBoolean(WebSquare.core.getConfiguration("/WebSquare/"+_7+"/useConfig/@value"))){var _b=WebSquare.configManager.getConfig(_7);_a=WebSquare.extendKeepingType(_a,_b);}_8=[];values=[];for(var _c in _a){_8.push(_c);values.push(_a[_c]);}this.configuredOptions[_7]={keys:_8,values:values};}else{_8=this.configuredOptions[_7].keys;values=this.configuredOptions[_7].values;}for(var i=0;i<_8.length;i++){_9[_8[i]]=values[i];}return _9;};WebSquare.xfControl.prototype.initialize=function(_e){["WebSquare.xfControl.initialize"];try{}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.finalize=function(){["WebSquare.xfControl.finalize"];try{}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.applyConfigOption=function(_f){["WebSquare.xfControl.applyConfigOption"];try{var _10=WebSquare.configManager.getConfig(this.options.pluginName);_f=WebSquare.extendKeepingType(_f,_10);return _f;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.setProperty=function(_11,_12){["WebSquare.xfControl.setProperty"];try{if(this.render[_11]!=_12){this.render[_11]=_12;this.onPropertyChange(_11,_12);}}catch(e){WebSquare.exception.printStackTrace(e);}return this;};WebSquare.xfControl.prototype.getProperty=function(_13){["WebSquare.xfControl.getProperty"];try{return this.render[_13];}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.xfControl.prototype.setAttribute=function(_14,_15){["WebSquare.xfControl.setAttribute"];try{if(this.options[_14]!=_15){this.options[_14]=_15;WebSquare.event.fireEvent(this,"onattributechanged",_14,_15);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.getAttribute=function(_16){["WebSquare.xfControl.getAttribute"];try{return this.options[_16];}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.setUserData=function(key,_18){["WebSquare.xfControl.setUserData"];try{if(this.defaultOptions[key]!==undefined){$l("!!!WARNING - ["+key+"] can't define as UserData key!!!");return false;}else{this.options[key]=_18;return true;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.getUserData=function(key){["WebSquare.xfControl.getUserData"];try{if(this.defaultOptions[key]!==undefined){$l("!!!WARNING - ["+key+"] is not UserData key!!!");return;}else{return this.options[key];}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.redraw=function(){["WebSquare.xfControl.redraw"];try{if(!this.render){return;}var _1a=this.toHTML();var _1b=/(\<[^<>]*\>)(.*)(\<\/.*\>)/;var _1c=_1a.match(_1b);if(_1c&&_1c.length==4){var _1d=_1c[1];var _1e=_1c[2];var _1f=_1c[3];this.render.innerHTML=_1e;}else{alert("cannot redraw : "+this.id);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.writeTo=function(_20,_21){["WebSquare.xfControl.writeTo"];try{if(this.render){return;}var _22=this.toHTML().wq_trim();var _23={"iframe":true,"img":true,"a":true,"source":true,"embed":true,"form":true,"frame":true,"frameset":true,"line":true,"script":true,"object":true};var bp1=_22.indexOf(">")+1;var bp2=_22.lastIndexOf("<");var _26=bp2<bp1;var _27=_22.substring(0,bp1).wq_trim();var _28=_26?"":_22.substring(bp1,bp2);var _29=_26?"":_22.substring(bp2).wq_trim();if((_27!=""&&_29!="")||(_27!=""&&_26)){var _2a=_27.match(/\<([^ \>]*)/)[1].toLowerCase();if(_23[_2a]){var re1=/&/g;_27=_27.replace(re1,"&amp;");}var _2c=WebSquare.xml.parse(_27+_29);var _2d=WebSquare.WebSquareparser.parseAttribute(_2c.documentElement);if(_2a==="table"){var _2e=document.createElement("div");_2e.innerHTML=_22;this.render=_2e.firstChild;try{for(var idx in _2d){if(idx=="style"){this.render.style.cssText=_2d[idx];}else{if(idx=="className"){this.render.className=_2d[idx];}else{this.render[idx]=_2d[idx];}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}}else{this.render=document.createElement(_2a);try{for(var idx in _2d){if(idx=="style"){this.render.style.cssText=_2d[idx];}else{if(idx=="className"){this.render.className=_2d[idx];}else{this.render[idx]=_2d[idx];}}}if(_28&&_2a!="iframe"&&_2a!="input"&&_2a!="img"){this.render.innerHTML=_28;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}}if(typeof _21=="number"&&_20.targetNode){if(_20.render){_20.render.insertBefore(this.render,_20.targetNode);_20.addControl(this);}else{if(_20.insertBefore){_20.insertBefore(this.render,_20.targetNode);}else{alert("cannot writeTo : "+this.id);}}}else{if(_20.render){_20.render.appendChild(this.render);_20.addControl(this);}else{if(_20.appendChild){_20.appendChild(this.render);}else{alert("cannot writeTo : "+this.id);}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.appendToRe1=new RegExp("[\\n\\t\\r]*","g");WebSquare.xfControl.appendToRe2=new RegExp("(^\\<[^<>]*\\>)(.*)(\\<\\/.*\\>$)");WebSquare.xfControl.appendToRe3=new RegExp("\\<([^ \\>]*)");WebSquare.xfControl.prototype.appendTo=function(_30){["WebSquare.xfControl.appendTo"];try{if(this.render){return;}var _31="";var _32="";var _33="";var _34=this.toHTML().wq_trim();_34=_34.replace(WebSquare.xfControl.appendToRe1,"");var _35=_34.match(WebSquare.xfControl.appendToRe2);if(_35&&_35.length==4){_31=_35[1];_32=_35[2];_33=_35[3];}else{if(!_35&&_34.charAt(0)=="<"&&_34.charAt(_34.length-1)==">"){_31=_34;}}if(_31!=""){var _36=WebSquare.xml.parse(_31+_33);var _37=WebSquare.WebSquareparser.parseAttribute(_36.documentElement);var _38=_31.match(WebSquare.xfControl.appendToRe3)[1];this.render=document.createElement(_38);try{for(var idx in _37){if(idx=="style"){this.render.style.cssText=_37[idx];continue;}else{if(idx=="className"){this.render.className=_37[idx];continue;}}this.render.setAttribute(idx,_37[idx]);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}if(_38.toLowerCase()=="div"){this.render.innerHTML=_32;}else{var _3a=WebSquare.xml.parse(_34);var _3b=_3a.documentElement.childNodes;if(_3b.length>0){for(var i=0;i<_3b.length;i++){var _3d=_3b[i];this.render.appendChild(WebSquare.util.XMLToHTML(_3d));}}}if(_30.contentRender){_30.contentRender.appendChild(this.render);_30.addControl(this);}else{if(_30.render){_30.render.appendChild(this.render);_30.addControl(this);}else{if(_30.appendChild){_30.appendChild(this.render);}else{alert("cannot writeTo : "+this.id);}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.appendChild=function(_3e){["WebSquare.xfControl.appendChild"];try{if(!this.render||!_3e){return;}if(_3e.render){this.render.appendChild(_3e.render);}else{this.render.appendChild(_3e);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.refreshDom=function(){["WebSquare.xfControl.refreshDom"];try{if(!this.render){return;}for(var i=0;i<this.childControlList.length;i++){var _40=this.childControlList[i];_40.refreshDom();if(_40.domStatus=="new"){if(_40.render){this.render.appendChild(_40.render);}else{_40.writeTo(this);}_40.domStatus="";}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.refresh=function(){};WebSquare.xfControl.prototype.refreshItemset=function(){};WebSquare.xfControl.prototype.activate=function(){["WebSquare.xfControl.activate"];try{if(this.activeStatus=="active"){$l("!!!WARNING!!! duplicate call 'activate' for : "+this.id);return;}this.setRender();if(this.options.pluginName==="wframe"){if(this.childControlList[0]!=null){for(var i=0;i<this.childControlList[0].childControlList.length;i++){if(this.childControlList[0].childControlList[i].activateStatus!="active"){this.childControlList[0].childControlList[i].activate();}}}}else{for(var i=0;i<this.childControlList.length;i++){if(this.childControlList[i].activeStatus!="active"){this.childControlList[i].activate();}}}if(this.render){this.activeStatus="active";this.modelControl.binding();this.setUserAction();this.setAction();if(this.options.tabIndex){if(this.options.pluginType=="uiplugin.inputCalendar"){var _42=this.getElementById(this.id+"_input");_42.tabIndex=this.options.tabIndex;}else{if(this.options.pluginType=="uiplugin.selectbox"&&this.options.renderType=="native"){var _43=this.getElementById(this.id+"_input_0");_43.tabIndex=this.options.tabIndex;}else{this.render.tabIndex=this.options.tabIndex;}}}if(this.options.readOnly==true){this.setReadOnly(this.options.readOnly);}if(this.options.disabled==true){this.setDisabled(this.options.disabled);}if(this.options.toolTip!=""){this.setToolTip(this.render,this.options.toolTip);}WebSquare.event.fireEvent(this,"oncreated",this.options);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.deactivate=function(){["WebSquare.xfControl.deactivate"];try{if(this.activeStatus=="active"){this.activeStatus="stop";}for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].deactivate();}this.modelControl.unbinding();this.event.clearElement(this.render);this.event.clearCache();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.remove=function(){["WebSquare.xfControl.remove"];try{WebSquare.dragdrop2.removeComp(this);var _45=this.render;var _46=this.getParent();this.destroy();if(_45!=null){WebSquare.removeNode(_45);}if(_46){_46.removeControl(this);}for(var i in WebSquare.getBody().childControlList){if(WebSquare.getBody().childControlList[i]==this){WebSquare.getBody().childControlList.splice(i,1);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.empty=function(){["WebSquare.xfControl.empty"];try{this.destroy();this.render.innerHTML="";return;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.adaptDocType=function(){["WebSquare.xfControl.adaptDocType"];try{if("trigger".indexOf(this.options.pluginName)>-1){return;}if(this.render!=document.body){var _48=this.render.offsetWidth;if(_48==0||true){var _49=this.getStyle("height");var _4a=this.getStyle("width");var _4b={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};if(_49.indexOf("px")>-1){_49=parseInt(_49);var _4c=_49-(_4b.paddingTop+_4b.paddingBottom+_4b.borderTopWidth+_4b.borderBottomWidth);this.setStyle("height",_4c+"px");}else{if(_49.indexOf("%")>-1){}else{}}if(_4a.indexOf("px")>-1){_4a=parseInt(_4a);var _4d=_4a-(_4b.paddingLeft+_4b.paddingRight+_4b.borderLeftWidth+_4b.borderRightWidth);this.setStyle("width",_4d+"px");}else{if(_4a.indexOf("%")>-1){}else{}}}else{var _49=parseInt(this.getStyle("height"));var _4a=parseInt(this.getStyle("width"));this.setStyle("width",(_4a-(this.render.offsetWidth-_4a))+"px");this.setStyle("height",(_49-(this.render.offsetHeight-_49))+"px");}}}catch(e){$l("error in adaptDocType : "+this.id);WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.setRender=function(dom){["WebSquare.xfControl.setRender"];try{if(dom){if(this.render){this.render.parentNode.insertBefore(dom,this.render);this.render.parentNode.removeChild(this.render);}this.render=dom;}else{if(!this.render){if(WebSquare.renderCache){if(WebSquare.renderCache[this.id]){this.render=WebSquare.renderCache[this.id];}else{this.render=document.getElementById(this.id);}}}else{}}if(!this.render){}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.getID=function(){["WebSquare.xfControl.getID"];try{return this.id;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.build=function(){["WebSquare.xfControl.build"];try{this.setLayout();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.setUserAction=function(){["WebSquare.xfControl.setUserAction"];try{WebSquare.dragdrop2.setDragDrop(this);if(this.options.xmlEvents){this.options.xmlEvents=this.event.addUserEvents(this,this.options.xmlEvents,this.options.userEvents);if(this.options.xmlEvents.length>0){this.event.addEvents(this,this.options.xmlEvents);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.setLayout=function(){};WebSquare.xfControl.prototype.setToolTip=function(){WebSquare.getBody().setToolTip(this.render,this.options.toolTip);if(this.options.toolTip!=""){this.render.setAttribute("aria-describedby","_balloonTip");}};WebSquare.xfControl.prototype.setInstanceValue=function(_4f,_50){["WebSquare.xfControl.setInstanceValue"];try{if(WebSquare.core.forcedValueSetting==null){WebSquare.core.forcedValueSetting=WebSquare.core.getConfiguration("/WebSquare/forcedValueSetting/@value");}if(WebSquare.core.forcedValueSetting=="true"){WebSquare.ModelUtil.setInstanceValue(_4f,_50);}else{var _51=new WebSquare.Actions.WebSquareSetValueAction(null,null,_4f,_50,this.id);_51.activate();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.blur=function(){["WebSquare.xfControl.blur"];try{this.render.blur();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.xfControl.prototype.click=function(){["WebSquare.xfControl.click"];try{this.render.click();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.xfControl.prototype.focus=function(){["WebSquare.xfControl.focus"];try{this.render.focus();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.xfControl.prototype.select=function(){["WebSquare.xfControl.focus"];try{this.render.select();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.xfControl.prototype.getTabIndex=function(){["WebSquare.xfControl.getTabIndex"];try{return this.options.tabIndex;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.xfControl.prototype.onPropertyChange=function(_52,_53){["WebSquare.xfControl.onPropertyChange"];};WebSquare.xfControl.prototype.setDisabled=function(_54){["WebSquare.xfControl.setDisabled"];try{_54=WebSquare.util.getBoolean(_54);this.options.disabled=_54;this.setProperty("disabled",_54);this.render.disabled=_54;}catch(e){WebSquare.exception.printStackTrace(e);}return _54;};WebSquare.xfControl.prototype.getDisabled=function(){["WebSquare.xfControl.getDisabled"];try{return this.options&&this.options.disabled;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.setReadOnly=function(_55){["WebSquare.xfControl.setReadOnly"];try{_55=WebSquare.util.getBoolean(_55);this.options.readOnly=_55;this.setProperty("readOnly",_55);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}return _55;};WebSquare.xfControl.prototype.getReadOnly=function(){["WebSquare.xfControl.getReadOnly"];try{return this.options.readOnly;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.getRef=function(){["WebSquare.xfControl.getRef"];try{return this.options.ref;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.displayLocaleValue=function(){if(this.options.localeRef!=null&&this.options.localeRef!=""){var _56=this.getLocaleValue(this.options.localeRef);this.setValue(_56);}};WebSquare.xfControl.prototype.getLocaleValue=function(ref){if(typeof ref=="undefined"||ref==null){ref=this.options.localeRef;}ref=ref.wq_trim();var ret=WebSquare.WebSquareLang[ref];if(ret==null){ret="global_undefined";}return ret;};WebSquare.xfControl.prototype.getDomList=function(key,_5a,_5b){["WebSquare.xfControl.getLabelList"];_5b=_5b||this.render;if(this.dom[key]==null){this.dom[key]=_5b.getElementsByTagName(_5a);}return this.dom[key];};WebSquare.xfControl.prototype.getElementById=function(id){["WebSquare.xfControl.getElementById"];if(this.dom[id]==null){this.dom[id]=document.getElementById(id);}return this.dom[id];};WebSquare.xfControl.prototype.getPluginName=function(){return this.options.pluginName;};WebSquare.xfControl.prototype.toHTML=function(){alert("you should override 'toHTML' for "+this.id);};WebSquare.xfControl.prototype.setAction=function(){alert("you should override 'setAction' for "+this.id);};WebSquare.xfControl.prototype.childFiredEvent=function(o,ev){arguments[0]=this;WebSquare.event.fireEvent.apply(null,arguments);};WebSquare.xfControl.prototype.addEvent=function(_5f,_60,_61){["WebSquare.xfControl.addEvent"];try{_61=_61||"script";var _62={name:_5f,action:_61,param:{handler:_60}};if(!this.options.xmlEvents){this.options.xmlEvents=[];}this.options.xmlEvents.push(_62);if(this.activeStatus=="active"){var _63=this.event.addUserEvents(this,[_62],this.options.userEvents);if(_63.length>0){this.event.addEvents(this,_63);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.bind=function(_64,_65){["WebSquare.xfControl.bind"];try{if(typeof _64==="string"&&(_64.slice(0,2)!="on")){_64="on"+_64;}this.addEvent(_64,_65);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.trigger=function(_66,_67){["WebSquare.xfControl.trigger"];try{if(typeof _66==="string"&&(_66.slice(0,2)!="on")){_66="on"+_66;}var _68=false;if(this.options.userEvents!=undefined){for(var i=0;i<this.options.userEvents.length;i++){if(this.options.userEvents[i]===_66){_68=true;break;}}}if(!_68&&WebSquare.event.isEventSupported(this.render,_66)){WebSquare.event.fireSystemEvent(this,_66,_67[0]);}else{var _6a=[this,_66];_6a=_6a.concat(_67);WebSquare.event.fireEvent.apply(WebSquare.event.fireEvent,_6a);_6a[0]=null;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.unbind=function(_6b,_6c){["WebSquare.xfControl.unbind"];try{if(typeof _6b==="string"&&(_6b.slice(0,2)!="on")){_6b="on"+_6b;}if(typeof _6b==="string"&&typeof _6c==="function"){for(var i=0;i<this.userEventList.length;i++){if(_6b===this.userEventList[i].name&&_6c===this.userEventList[i].param.handler){this.userEventList.splice(i,1);if(typeof this.systemEventList[_6b]==="object"){this.systemEventList[_6b].count--;if(this.systemEventList[_6b].count<=0){this.event.removeListener(this.render,_6b,this.systemEventList[_6b].handler);delete this.systemEventList[_6b];}}}}}else{if(typeof _6b==="string"&&_6c==undefined){for(var i=this.userEventList.length-1;i>=0;i--){if(_6b===this.userEventList[i].name){this.userEventList.splice(i,1);}}if(typeof this.systemEventList[_6b]==="object"){this.event.removeListener(this.render,_6b,this.systemEventList[_6b].handler);delete this.systemEventList[_6b];}}else{for(var ev in this.systemEventList){this.event.removeListener(this.render,ev,this.systemEventList[ev].handler);}this.userEventList=[];this.systemEventList={};}}this.options.xmlEvents=this.userEventList.slice();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.getGenerator=function(){var _6f=this;while(_6f.parentControl){_6f=_6f.parentControl;if(_6f.options&&_6f.options.pluginName=="generator"){break;}}return _6f;};WebSquare.xfControl.prototype.getGeneratedIndex=function(){if(this.options){var _70=this.getGenerator();for(var i=0;i<_70.generatedIndexSet.length;i++){if(this.options.g_index==_70.generatedIndexSet[i]){return i;}}}else{return null;}};WebSquare.xfControl.prototype.getGeneratedComponent=function(id){var _73=this.getGeneratedIndex();var _74=this.getGenerator();return _74.getChild(_73,id);};WebSquare.xfControl.prototype.getAttributesString=function(obj){var str=" ";var _77;if(obj){for(var i in obj){if(i.charAt(0)!="@"){_77=obj[i]+"";str+=i+"='"+_77.wq_replaceAll("'","&#39;")+"' ";}}}else{if(this.options.parseAttributes){for(var i=0;i<this.attributes.length;i++){_77=this.attributes[i].value?this.attributes[i].value.wq_replaceAll("'","&#39;"):"";str+=this.attributes[i].name+"='"+_77+"' ";}}}return str;};WebSquare.xfControl.prototype.invoke=function(_79,_7a,_7b,_7c){["WebSquare.uiplugin.xfControl.invoke"];try{var _7b=WebSquare.extend({excludePlugin:"",excludeId:""},_7b||{});var _7c=_7c||[];if(!this.getPluginName){if(this.childControlList){for(var i=0;i<this.childControlList.length;i++){WebSquare.xfControl.prototype.invoke.call(this.childControlList,_79,_7a,_7b,_7c);}}return;}var _7e={"group":true,"tabContainer":true,"Switch":true,"repeat":true};if(!_7e[this.getPluginName()]){$l("The components 'invoke' is not capable of running the component["+this.id+"].");return;}var _7f=this.getChildren();for(var i=0;i<_7f.length;i++){var _80=_7f[i];if(!_80.getPluginName){WebSquare.xfControl.prototype.invoke.call(_80,_79,_7a,_7b,_7c);}else{if(_7e[_80.getPluginName()]){_80.invoke(_79,_7a,_7b,_7c);}else{if((" "+_7b.excludePlugin+" ").indexOf(" "+_80.options.pluginName+" ")>-1||(" "+_7b.excludeId+" ").indexOf(" "+_80.id+" ")>-1){continue;}switch(_79){case "assert":if(_80.getValue){var _81="";if(typeof _7a==="function"){_81=_7a(_80);}else{_81=_7a;}if(_80.getValue()==_81){var obj={};obj.id=_80.id;obj.result=true;_7c.push(obj);}else{var obj={};obj.id=_80.id;obj.result=false;_7c.push(obj);}}break;default:if(_80[_79]&&typeof _80[_79]==="function"){if(typeof _7a==="function"){var obj={};obj.id=_80.id;obj.result=_80[_79](_7a(_80));_7c.push(obj);}else{var obj={};obj.id=_80.id;obj.result=_80[_79](_7a);_7c.push(obj);}}break;}}}}return _7c;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.xfControl.prototype.getTitle=function(){return this.render.getAttribute("title");};WebSquare.xfControl.prototype.setTitle=function(_83){this.render.setAttribute("title",_83);};WebSquare.xfControl.prototype.makeScope=function(_84){if(!this.scope){this.scope={};}for(var i=0;i<_84.childControlList.length;i++){var _86=_84.childControlList[i];if(_86.org_id){this.scope[_86.org_id]=_86;}this.makeScope(_86);}};WebSquare.xfControl.attributes=(function(){var _87={a:["href","target","name","title"]};var _88={};var _89=function(_8a){var _8b=_88[_8a];if(!_8b){var _8c=_87[_8a];_8b={};if(_8c){for(var i=0;i<_8c.length;i++){_8b[_8c[i]]=true;}}var _8e=WebSquare.configManager.getConfig("attributes/whiteList");if(_8e&&_8e[_8a]){var _8f=_8e[_8a].split(",");for(var i=0;i<_8f.length;i++){_8b[_8f[i]]=true;}}_88[_8a]=_8b;}return _8b;};var _90=function(_91){["WebSquare.xfControl.getAttributeNode"];try{return this.render.getAttribute(_91);}catch(e){WebSquare.exception.printStackTrace(e);}};var _92=function(_93,_94){["WebSquare.xfControl.setAttributeNode"];try{if(_89(this.options.tagname)[_93]){this.render.setAttribute(_93,_94);}else{WebSquare.logger.printLog("Cannot set '"+_93+"' attribute node on ["+this.id+"]. See attributes configurations.");}}catch(e){WebSquare.exception.printStackTrace(e);}};var _95=function(_96){["WebSquare.xfControl.removeAttributeNode"];try{if(_89(this.options.tagname)[_96]){this.render.removeAttribute(_96);}else{WebSquare.logger.printLog("Cannot remove '"+_96+"' attribute node on ["+this.id+"]. See attributes configurations.");}}catch(e){WebSquare.exception.printStackTrace(e);}};return {getAttributeNode:_90,setAttributeNode:_92,removeAttributeNode:_95};})();WebSquare.modelControl=function(id,_2,_3,_4){["WebSquare.modelControl"];try{this.id=id;this.model=_2;this.ref=_3;this.bind=_4;this.itemsetObj=null;this.useRef=false;this.useBind=false;this.useItemset=false;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.modelControl.prototype.setItemset=function(_5,_6,_7){["WebSquare.modelControl.setItemset"];try{this.itemsetObj={nodeset:_5||"",label:_6||"",value:_7||""};}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.modelControl.prototype.binding=function(){["WebSquare.modelControl.binding"];try{this.bindRef();this.bindItemset();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.modelControl.prototype.bindRef=function(){["WebSquare.modelControl.bindRef"];try{if(this.ref!=""){WebSquare.WebSquaredoc.refElement.push(new WebSquare.RefElement(this.ref,this.id));WebSquare.ModelUtil.setBindElement(this.ref,this.id);this.useRef=true;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.modelControl.prototype.bindItemset=function(){["WebSquare.modelControl.bindItemset"];try{if(this.itemsetObj&&this.itemsetObj.nodeset!=""){WebSquare.WebSquaredoc.itemsetElement.push(new WebSquare.ItemsetElement(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value,this.id));this.useItemset=true;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.modelControl.prototype.unbindRef=function(){["WebSquare.modelControl.unbindRef"];try{for(var j in WebSquare.WebSquaredoc.refElement){var _9=WebSquare.WebSquaredoc.refElement[j];var _a=_9.id;if(_a==this.id){WebSquare.WebSquaredoc.refElement.splice(j,1);this.useRef=false;}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.modelControl.prototype.unbindItemset=function(){["WebSquare.modelControl.unbindItemset"];try{for(var k in WebSquare.WebSquaredoc.itemsetElement){var _c=WebSquare.WebSquaredoc.itemsetElement[k];var _d=_c.id;try{if(_d==this.id){WebSquare.WebSquaredoc.itemsetElement.splice(k,1);this.useItemset=false;}}catch(e){}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.modelControl.prototype.unbinding=function(){["WebSquare.modelControl.unbinding"];try{if(this.ref!=""){}if(this.itemsetObj.nodeset!=""){}if(this.ref!=""){}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.modelControl.prototype.isBinded=function(){["WebSquare.modelControl.isBinded"];return this.useRef;};WebSquare.modelControl.prototype.isItemsetBinded=function(){["WebSquare.modelControl.isItemsetBinded"];return this.useItemset;};WebSquare.modelControl.prototype.setRef=function(_e){["WebSquare.modelControl.setRef"];try{var _f=_e||"";if(this.useRef&&typeof _f=="string"&&_f.length>0){this.ref=_f;this.binding();}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.modelControl.prototype.setData=function(_10){["WebSquare.modelControl.setData"];try{if(this.useRef==true){if(this.getData()!=_10){WebSquare.ModelUtil.setInstanceValue(this.ref,_10);}return true;}return false;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.modelControl.prototype.getData=function(){["WebSquare.modelControl.getData"];try{if(this.ref!=""){return WebSquare.ModelUtil.getInstanceValue(this.ref,this.model);}else{return "";}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.modelControl.prototype.setItemsetData=function(_11){["WebSquare.modelControl.setItemsetData"];try{}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.modelControl.prototype.getItemsetData=function(){["WebSquare.modelControl.getItemsetData"];try{var _12=[];if(this.itemsetObj.nodeset!=""){var _13=this.itemsetObj.label;var _14=this.itemsetObj.value;while(1){var _15=_13.lastIndexOf("/");if(_15<0){break;}_13=_13.substring(0,_15);}while(1){var _16=_14.lastIndexOf("/");if(_16<0){break;}_14=_14.substring(0,_16);}var _17=this.itemsetObj.nodeset;var _18=this.itemsetObj.label;var _19=this.itemsetObj.value;if(_14==_13&&_14!=""){_17+="/"+_13;_18=_18.replace(_13+"/","");_19=_19.replace(_14+"/","");}if(_17.lastIndexOf("/")==_17.length-1){_17=_17.substring(0,_17.lastIndexOf("/"));}if(_18.indexOf("/")==0){_18=_18.substring(1);}if(_19.indexOf("/")==0){_19=_19.substring(1);}var _1a=WebSquare.ModelUtil.findInstanceNodes(_17);if(_1a){for(var i=0;i<_1a.length;++i){var _1c=_1a[i];var _13=WebSquare.xml.getValue(_1c,_18);var _14=WebSquare.xml.getValue(_1c,_19);_12.push({label:_13,value:_14,xml:_1c});}}}return _12;}catch(e){WebSquare.exception.printStackTrace(e);}};requires("uiplugin/control/control.js");requires("uiplugin/control/xfControl.js");requires("uiplugin/control/htmlControl.js");requires("uiplugin/control/cssManager.js");requires("uiplugin/control/controlFactory.js");requires("uiplugin/control/executeHelper.js");requires("uiplugin/balloonTip/balloonTip.js");WebSquare.controlManager=function(){["WebSquare.controlManager"];try{this.bodyControl=null;this.helperList=new Array();this.addHelper(new WebSquare.visibleHelper());this.addHelper(new WebSquare.actionHelper());}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.controlManager.prototype.addHelper=function(_1){["WebSquare.controlManager.addHelper"];try{this.helperList.push(_1);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.controlManager.prototype.run=function(_2){["WebSquare.controlManager.run"];try{WebSquare.core.docType=WebSquare.core.getConfiguration("docType")||"quirk";WebSquare.cssManager.startCache();this.bodyControl=WebSquare.controlFactory.create(null,null,_2);WebSquare.cssManager.endCache();WebSquare.BootLoader.performanceCheck.mid3=new Date();WebSquare.BootLoader.printLog("[STEP4] WebSquare Object Creation Complete. Time:"+(WebSquare.BootLoader.performanceCheck.mid3.getTime()-WebSquare.BootLoader.performanceCheck.mid2.getTime())+"ms");WebSquare.setBody(this.bodyControl);var _3=this;if(WebSquare.externalScriptArr.length>0){WebSquare.externalScriptArr.push(function(){if(!WebSquare.callExuteHeler){WebSquare.callExuteHeler=true;_3.executeHelper();}});WebSquare.util.js.apply(null,WebSquare.externalScriptArr);WebSquare.externalScriptArr=[];}else{if(!WebSquare.callExuteHeler){WebSquare.callExuteHeler=true;this.executeHelper();}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.controlManager.prototype.executeHelper=function(){["WebSquare.controlManager.executeHelper"];try{for(var i=0;i<this.helperList.length;i++){this.helperList[i].execute(this.bodyControl);}}catch(e){WebSquare.exception.printStackTrace(e);}};(function(_1){imports("engine/collection.js");imports("engine/WebSquareDocument.js");imports("engine/Parser.js");imports("engine/Model.js");imports("engine/Actions.js");imports("engine/ModelUtil.js");imports("engine/Events.js");imports("engine/form.js");imports("engine/net.js");imports("engine/session.js");imports("engine/localStorage.js");imports("engine/util.js");imports("engine/date.js");imports("engine/text.js");imports("engine/layer.js");imports("engine/cookie.js");imports("engine/event.js");imports("engine/skin.js");imports("engine/language.js");imports("engine/style.js");imports("engine/json.js");requires("engine/geometry.js");requires("engine/shape.js");requires("engine/effect.js");requires("engine/dragdrop.js");requires("engine/wUnit.js");requires("engine/thread.js");requires("engine/cssStyleSheet.js");requires("engine/configManager.js");requires("uiplugin/control/controlManager.js");var _2=_1.document;WebSquare.BootLoader.loadLanguagePack();WebSquare.BootLoader.loadEngineModule();try{if(document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){WebSquare.graphicPlatformType="svg";}else{WebSquare.graphicPlatformType="vml";}if(WebSquare.graphicPlatformType==="vml"){_2.namespaces.add("v","urn:schemas-microsoft-com:vml");WebSquare.defaultStyle=_2.createStyleSheet();WebSquare.defaultStyle.addRule("v\\:group","behavior: url(#default#VML);");WebSquare.defaultStyle.addRule("v\\:line","behavior: url(#default#VML);");WebSquare.defaultStyle.addRule("v\\:stroke","behavior: url(#default#VML);");WebSquare.defaultStyle.addRule("v\\:oval","behavior: url(#default#VML);");WebSquare.defaultStyle.addRule("v\\:rect","behavior: url(#default#VML);");WebSquare.defaultStyle.addRule("v\\:roundrect","behavior: url(#default#VML);");WebSquare.defaultStyle.addRule("v\\:image","behavior: url(#default#VML);");WebSquare.defaultStyle.addRule("v\\:roundrect","behavior: url(#default#VML);");WebSquare.defaultStyle.addRule("v\\:shape","behavior: url(#default#VML);");WebSquare.defaultStyle.addRule("v\\:path","behavior: url(#default#VML);");WebSquare.defaultStyle.addRule("v\\:fill","behavior: url(#default#VML);");WebSquare.defaultStyle.addRule("v\\:extrusion","behavior: url(#default#VML);");}}catch(e){WebSquare.BootLoader.printStackTrace(e,"VML Namespace");}if(WebSquare.core.getConfiguration("debug")=="true"){WebSquare.logger.debug=true;}WebSquare.logger.debugKey=WebSquare.core.getConfiguration("debugKey");if(WebSquare.core.getConfiguration("exceptionHandler")!="system"){if(WebSquare.core.browserCheck.ie){_1.onerror=WebSquare.exception.ieErrorHandler;}else{_1.onerror=WebSquare.exception.ffErrorHandler;}}if(WebSquare.core.getConfiguration("/WebSquare/checkUpdate/@enable")=="true"){WebSquare.util.checkInterval=WebSquare.util.parseInt(WebSquare.core.getConfiguration("/WebSquare/checkUpdate/@interval"),30000);WebSquare.util.checkMode=WebSquare.core.getConfiguration("/WebSquare/checkUpdate/@mode");WebSquare.util.checkURL=WebSquare.core.getConfiguration("/WebSquare/checkUpdate/@serverUrl");if(WebSquare.util.checkMode==""||WebSquare.util.checkURL==""){WebSquare.util.checkMode="client";}_1.setTimeout("WebSquare.util.checkUpdate()",WebSquare.util.checkInterval);}WebSquare.requestID="";var _3=WebSquare.core.getConfiguration("/WebSquare/submission/requestID/@value");if(_3!=""){WebSquare.requestID=_3+"=";}WebSquare.initialize=function(_4){["WebSquare.initialize"];var _5="",urlFunc="",xmlDoc;if(WebSquare.WebSquaredoc==null){try{WebSquare.pageURLPrefix=WebSquare.core.getConfiguration("/WebSquare/pageURLPrefix/@value");WebSquare.pageURLPrefixType=WebSquare.core.getConfiguration("/WebSquare/pageURLPrefix/@type");if(WebSquare.pageURLPrefix!==""&&WebSquare.pageURLPrefixType=="function"){if(WebSquare.pageURLPrefix.indexOf("()")==-1){urlFunc=WebSquare.pageURLPrefix+"()";}xmlDoc=WebSquare.xml.load(eval(urlFunc)+encodeURIComponent(_4),null);}else{if(WebSquare.pageURLPrefix!==""&&WebSquare.pageURLPrefixType!="function"){xmlDoc=WebSquare.xml.load(WebSquare.pageURLPrefix+encodeURIComponent(_4),null);}else{xmlDoc=WebSquare.xml.load(_4,null);}}if(xmlDoc!=null){WebSquare.WebSquaredoc=new WebSquare.WebSquareDocument(xmlDoc);WebSquare.WebSquaredoc.parsing();return true;}else{_5=WebSquare.core.getConfiguration("/WebSquare/pageFaultMsg/@value");if(_5!="false"){WebSquare.loadErrorHandler({code:"E_initializer_XMLLoadFailError",msg:WebSquare.language.getMessage("E_initializer_XMLLoadFailError",_4)});}}}catch(e){if(_5!="false"){WebSquare.loadErrorHandler({code:"E_initializer_XMLLoadFailError1",msg:WebSquare.language.getMessage("E_initializer_XMLLoadFailError1",_4)});}WebSquare.exception.printStackTrace(e);}}return false;};WebSquare.setParentObj=function(){if(typeof opener!="undefined"&&opener!=null){WebSquare.parentObj=opener;}else{if(typeof parent!="undefined"&&parent!=null){WebSquare.parentObj=parent;}else{}}};WebSquare.startPopupApplication=function(_6){["WebSquare.startPopupApplication"];WebSquare.nowRendering=true;var _7=WebSquare.core.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_7!=null&&_7!=""){if(eval(_7)==false){return;}}WebSquare.setParentObj();if(WebSquare.logger.debug){WebSquare.startPopupApplication1(_6);}else{WebSquare.startPopupApplication2(_6);}};WebSquare.startPopupApplication1=function(_8){["WebSquare.startPopupApplication1"];WebSquare.setLanguagePack();WebSquare.core.extNamespace();if(_8){WebSquare.w2xPath=_8;}else{if(WebSquare.net.getParameter("w2xPath")!=""){WebSquare.w2xPath=WebSquare.net.getParameter("w2xPath");}else{WebSquare.w2xPath=WebSquare.core.getConfiguration("/WebSquare/welcome-file");}}var re=/[\\]/g;WebSquare.w2xPath=WebSquare.w2xPath.replace(re,"/");var _a=WebSquare.w2xPath.lastIndexOf("/");if(WebSquare.net.getParameter("w2xHome")==""){if(_a>-1){WebSquare.w2xHome=WebSquare.w2xPath.substring(0,_a+1);}else{WebSquare.w2xHome="/";}}else{WebSquare.w2xHome=WebSquare.net.getParameter("w2xHome");}if(_a>-1){WebSquare.logFileName=" "+WebSquare.w2xPath.substring(_a+1);}else{WebSquare.logFileName=" "+WebSquare.w2xPath;}var _b=WebSquare.core.getConfiguration("/WebSquare/DocumentRoot");var _c=WebSquare.net.getParameter("w2xDocumentRoot");if(_c=="/"||_c=="\\"){WebSquare.w2xDocumentRoot="";}else{if(_c!=""){WebSquare.w2xDocumentRoot=_c;}else{if(_b!=null&&_b!=""){WebSquare.w2xDocumentRoot=_b;}else{WebSquare.w2xDocumentRoot="";}}}var _d=WebSquare.initialize(WebSquare.w2xPath);var _e=WebSquare.core.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_e!=null&&_e!=""){eval(_e);}if(_d){var _f=WebSquare.parentObj.WebSquare.srcData;var _10=WebSquare.parentObj.WebSquare.destData;var _11=WebSquare.parentObj.WebSquare.docTitle;if(typeof _11!="undefined"&&_11!=null){_2.title=_11;}if(!(typeof _f=="undefined"||_f==null||_f==""||typeof _10=="undefined"||_10==null||_10=="")){try{var _12=WebSquare.parentObj.WebSquare.ModelUtil.findSerializedNode(_f);_f=WebSquare.xml.parse(_12).documentElement;}catch(e){}try{var _13=WebSquare.ModelUtil.findInstanceNode(_10);}catch(e){}if(typeof _13!="undefined"&&_13!=null&&typeof _f!="undefined"&&_f!=null){var _14=_13.childNodes;var _15=_f.childNodes;for(var j=_14.length-1;j>=0;j--){_13.removeChild(_14.item(j));}if(WebSquare.core.browserCheck.ieAllVersion){var _17=_15.length-1;for(var j=0;j<=_17;j++){WebSquare.xml.appendChild(_13,_15[0]);}}else{for(var j=0;j<=_15.length-1;j++){WebSquare.xml.appendChild(_13,_15[j]);}}var _18=WebSquare.ModelUtil.getModelByID(WebSquare.parentObj.WebSquare.destModelID);WebSquare.WebSquaredoc.unrender(WebSquare.parentObj.WebSquare.destData);_18.refresh();}}}if(_d){}};WebSquare.startPopupApplication2=function(src){["WebSquare.startPopupApplication2"];try{WebSquare.startPopupApplication1(src);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.nowRendering=false;WebSquare.startApplication=function(src){["WebSquare.startApplication"];WebSquare.nowRendering=true;var _1b=WebSquare.core.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_1b!=null&&_1b!=""){if(eval(_1b)==false){return;}}WebSquare.setLanguagePack();if(WebSquare.logger.debug){WebSquare.startApplication1(src);}else{WebSquare.startApplication2(src);}};WebSquare.setGridEvent=function(e){};WebSquare.loadingApplication=function(){["WebSquare.loadingApplication"];WebSquare.nowRendering=true;_1.onbeforeunload=WebSquare.event.clear;var _1d=WebSquare.core.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_1d!=null&&_1d!=""){if(eval(_1d)==false){return;}}WebSquare.initApplicationEngine();var _1e=_2.body;WebSquare.parseHtmlBody(_1e);};WebSquare.initApplicationEngine=function(){["WebSquare.initApplicationEngine"];WebSquare.core.extNamespace();WebSquare.w2xPath="";WebSquare.w2xHome="/";WebSquare.w2xDocumentRoot="/";if(WebSquare.WebSquaredoc==null){try{WebSquare.WebSquaredoc=new WebSquare.WebSquareDocument(null);if(WebSquare.WebSquareParser==null){WebSquare.WebSquareparser=new WebSquare.Parser.WebSquareParser();}return true;}catch(e){alert(e.message);WebSquare.exception.printStackTrace(e);}}var _1f=WebSquare.core.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_1f!=null&&_1f!=""){eval(_1f);}if(typeof WebSquare.onload=="function"){WebSquare.onload();}WebSquare.scriptSection="";};WebSquare.parseHtmlBody=function(_20){var _21=_20.childNodes;for(var i=0;i<_21.length;i++){var _23=_21[i];WebSquare.parseHtmlBody(_23);if(_23.nodeName.toLowerCase()=="div"&&_23.getAttribute("type")=="w2"){var _24=_23.getAttribute("src");if(_24!=null){var _25=WebSquare.xml.load(_24,true);WebSquare.WebSquaredoc.renderW2(_25,_23);}}}};WebSquare.startApplication1=function(src){["WebSquare.startApplication1"];WebSquare.core.extNamespace();if(src){WebSquare.w2xPath=src;}else{if(WebSquare.net.getParameter("w2xPath")!=""){WebSquare.w2xPath=WebSquare.net.getParameter("w2xPath");}else{WebSquare.w2xPath=WebSquare.core.getConfiguration("/WebSquare/welcome-file");}}if(1==2){var _27="ErtOqpezr Ukptvqtzp IIWENNA Stwbreo Agp Zvydtn Vmfwnvzh";}var re=/[\\]/g;WebSquare.w2xPath=WebSquare.w2xPath.replace(re,"/");var _29=WebSquare.w2xPath.lastIndexOf("/");if(WebSquare.net.getParameter("w2xHome")==""){if(_29>-1){WebSquare.w2xHome=WebSquare.w2xPath.substring(0,_29+1);}else{WebSquare.w2xHome="/";}}else{WebSquare.w2xHome=WebSquare.net.getParameter("w2xHome");}if(_29>-1){WebSquare.logFileName=" "+WebSquare.w2xPath.substring(_29+1);}else{WebSquare.logFileName=" "+WebSquare.w2xPath;}var _2a=WebSquare.core.getConfiguration("/WebSquare/DocumentRoot");var _2b=WebSquare.net.getParameter("w2xDocumentRoot");if(_2b=="/"||_2b=="\\"){WebSquare.w2xDocumentRoot="";}else{if(_2b!=""){WebSquare.w2xDocumentRoot=_2b;}else{if(_2a!=null&&_2a!=""){WebSquare.w2xDocumentRoot=_2a;}else{WebSquare.w2xDocumentRoot="";}}}WebSquare.logger.printLog("w2xDocumentRoot["+WebSquare.w2xDocumentRoot+"]");WebSquare.logger.printLog("w2xHome        ["+WebSquare.w2xHome+"]");WebSquare.logger.printLog("w2xPath        ["+WebSquare.w2xPath+"]");WebSquare.logger.printLog("w2xTheme       ["+WebSquare.w2xTheme+"]");var _2c=WebSquare.initialize(WebSquare.w2xPath);var _2d=WebSquare.core.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_2d!=null&&_2d!=""){eval(_2d);}if(_2c){}};WebSquare.startOnLoad=function(){["WebSquare.startOnLoad"];var _2e=WebSquare.core.getConfiguration("/WebSquare/clearMemory/@value");if(_2e=="true"){_1.onbeforeunload=function(){if(WebSquare_clearMemory){WebSquare_clearMemory();}};}WebSquare.nowRendering=false;if(typeof WebSquare.onload=="function"){WebSquare.onload();}if(WebSquare.wframeScript&&WebSquare.wframeScript.length>0){WebSquare.scriptSection+=WebSquare.wframeScript.reverse().join("");WebSquare.wframeScript=[];}WebSquare.BootLoader.globalEval(WebSquare.scriptSection);WebSquare.scriptSection="";WebSquare.scriptSectionExcuteFlag="executed";WebSquare.BootLoader.performanceCheck.end=new Date();WebSquare.BootLoader.printLog("[STEP7] JS load and Global Script Execution Completed. Time:"+(WebSquare.BootLoader.performanceCheck.end.getTime()-WebSquare.BootLoader.performanceCheck.mid5.getTime())+"ms");WebSquare.BootLoader.printLog("[STEP SUMMARY] Initial procedures completed. Duration : "+(WebSquare.BootLoader.performanceCheck.end.getTime()-WebSquare.BootLoader.performanceCheck.start.getTime())+", \uc2dc\uac04 \uc694\uc57d : "+(WebSquare.BootLoader.performanceCheck.mid1.getTime()-WebSquare.BootLoader.performanceCheck.start.getTime())+"\t"+(WebSquare.BootLoader.performanceCheck.mid2.getTime()-WebSquare.BootLoader.performanceCheck.mid1.getTime())+"\t"+(WebSquare.BootLoader.performanceCheck.mid3.getTime()-WebSquare.BootLoader.performanceCheck.mid2.getTime())+"\t"+(WebSquare.BootLoader.performanceCheck.mid4.getTime()-WebSquare.BootLoader.performanceCheck.mid3.getTime())+"\t"+(WebSquare.BootLoader.performanceCheck.mid5.getTime()-WebSquare.BootLoader.performanceCheck.mid4.getTime())+"\t"+(WebSquare.BootLoader.performanceCheck.end.getTime()-WebSquare.BootLoader.performanceCheck.mid5.getTime())+"\t"+(WebSquare.BootLoader.performanceCheck.end.getTime()-WebSquare.BootLoader.performanceCheck.start.getTime()));try{if(WebSquare.lazyImportsArr.length>0){WebSquare.lazyImportsArr.push(function(){WebSquare.BootLoader.printLog("defer JavaScript loaded.");});WebSquare.BootLoader.printLog("defer JavaScript loading.");WebSquare.util.js.apply(null,WebSquare.lazyImportsArr);WebSquare.lazyImportsArr=[];}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.startApplication2=function(src){try{WebSquare.startApplication1(src);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.loadApplication=function(_30,_31,_32){["WebSquare.loadApplication"];WebSquare.nowRendering=true;var _33=WebSquare.core.getConfiguration("/WebSquare/preProcessor/systemPreProcessor/@value");if(_33!=null&&_33!=""){if(eval(_33)==false){return;}}if(WebSquare.logger.debug){WebSquare.loadApplication1(_30,_31,_32);}else{WebSquare.loadApplication2(_30,_31,_32);}};WebSquare.loadApplication1=function(_34,_35,_36){["WebSquare.loadApplication1"];WebSquare.WebSquaredoc=null;_2.body.innerHTML="";if(typeof _34=="string"&&_34!=""){WebSquare.w2xPath=_34.wq_trim();}else{WebSquare.w2xPath=WebSquare.core.getConfiguration("/WebSquare/welcome-file");}var re=/[\\]/g;WebSquare.w2xPath=WebSquare.w2xPath.replace(re,"/");var _38=WebSquare.w2xPath.lastIndexOf("/");if(typeof _35=="string"&&_35!=""){WebSquare.w2xHome=_35.wq_trim();}else{if(_38>-1){WebSquare.w2xHome=WebSquare.w2xPath.substring(0,_38+1);}else{WebSquare.w2xHome="/";}}if(_38>-1){WebSquare.logFileName=" "+WebSquare.w2xPath.substring(_38+1);}else{WebSquare.logFileName=" "+WebSquare.w2xPath;}if(typeof _36=="string"&&_36!=""&&_36!="/"&&_36!="\\"){WebSquare.w2xDocumentRoot=_36.wq_trim();}else{WebSquare.w2xDocumentRoot="";}var _39=WebSquare.initialize(WebSquare.w2xPath);var _3a=WebSquare.core.getConfiguration("/WebSquare/preProcessor/businessPreProcessor/@value");if(_3a!=null&&_3a!=""){eval(_3a);}if(_39){}};WebSquare.loadApplication2=function(_3b,_3c,_3d){["WebSquare.loadApplication2"];try{WebSquare.loadApplication1(_3b,_3c,_3d);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.useLanguagePack=false;WebSquare.setLanguagePack=function(){if(!WebSquare.useUserSystemLang){WebSquare.useLanguagePack=WebSquare.core.getConfiguration("/WebSquare/languagePack/@useLanguagePack");if(WebSquare.useLanguagePack=="true"){var _3e=WebSquare.BootLoader.getBrowserLanguage();WebSquare.loagLanguagePack(_3e);WebSquare.systemLanguage=_3e;}else{WebSquare.WebSquareLang={};}}};WebSquare.loagLanguagePack=function(_3f){var _3f=WebSquare.cookie.getCookie("system_language")||_3f||"ko";var _40=WebSquare.core.getConfiguration("/WebSquare/languagePack/url[@lang='"+_3f+"']/@value");imports(_40);};WebSquare.isAxLogger=true;WebSquare.ax_logger=function(_41){};})(window);WebSquare.controlFactory=function(){this.createControlHash={"script":"pass","label":"pass","value":"pass","choices":"pass","item":"pass","itemset":"pass","tab":"pass","tabs":"pass","mainMenu":"pass","childMenu":"pass","node":"pass","attributes":"pass","switch":"Switch","case":"group","contents":"group","content":"group","autoFinder":"autoComplete"};var _1=WebSquare.core.getConfiguration("/WebSquare/parseHtml/@script")||"false";if(_1=="true"){this.createControlHash.script="script";}};WebSquare.controlFactory.prototype.create=function(id,_3,_4,_5){["WebSquare.controlFactory.create"];try{if(_5=="self"){var _6=this.createControl(id,_3,_4);_5=_6;}else{var _6=this.createControl(id,_3,_4,_5);}if(_6){var _7=_3&&_3.pluginName?_3.pluginName:WebSquare.xml.getLocalName(_4);if(_6.options&&_6.options.parseChild){for(var _8=_4.firstChild;_8!=null;_8=_8.nextSibling){var _9=this.create(null,null,_8,_5);if(_9){_6.addControl(_9);}}}if(_6.options&&_6.options.pluginName=="wframe"){_6.makeFrame();}}return _6;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.controlFactory.prototype.createControl=function(id,_b,_c,_d){["WebSquare.controlFactory.createControl"];try{if(!_c){return null;}var _e=null;if(_c.nodeType==1){var _f=id||_c.getAttribute("id");if(_f){var _10=_d?_d.id:"";id=(_10?_10+"_":"")+_f;}else{id=_f;}var _11=_b&&_b.pluginName?_b.pluginName:WebSquare.xml.getLocalName(_c);var _12=_c.namespaceURI;var _13=WebSquare.core._XML_NAMESPACE;if((_12==_13["XFORMS"]||_12==_13["W2"])&&_11!="tag"){var _14=this.createControlHash[_11]||_11;switch(_14){case "pass":return null;case "secret":_14="uiplugin.input";_c.setAttribute("type","password");_c.setAttribute("pluginName","secret");break;case "select1":var _15=_c.getAttribute("appearance");if(_15=="full"){_14="uiplugin.radio";}else{_14="uiplugin.selectbox";}break;case "select":var _15=_c.getAttribute("appearance");if(_15=="full"){_14="uiplugin.checkbox";}else{if(_15=="checkcombobox"){_14="uiplugin.checkcombobox";}else{_14="uiplugin.multiselect";}}break;default:_14="uiplugin."+_14;break;}try{var _16=WebSquare.util.loadedUserComponentPluginName[_14.slice(9)];if(_16){var xml=WebSquare.util.loadedUserComponent[_16];var _18=xml.getAttribute("class");var _b=WebSquare.WebSquareparser.parseAttribute(_c);_b.className+=" "+_18;_e=this.create(id,_b,xml,"self");_d=_e;_e.makeScope(_e);WebSquare.idCache[id]=null;}else{requires(_14);var _19=_14.split(".");var _1a=WebSquare.util.isMobile();if(_19[1]=="selectbox"){var _1b=_c.getAttribute("renderType");if(!_1b){_1b=WebSquare.core.getConfiguration("/WebSquare/selectbox/renderType/@"+(_1a?"mobile":"value"))||"auto";}if(_1b=="native"||_1b=="select"||(_1b=="auto"&&_1a)){_19[1]+="_native";}}_e=new WebSquare[_19[0]][_19[1]](id,_b,_c);}window[id]=_e;if(_d){_e.org_id=_f;_e.scope_obj=_d;}}catch(e){WebSquare.exception.printStackTrace(e);return null;}}else{if(_11=="body"){requires("uiplugin.body");id="";_e=new WebSquare.uiplugin.body(id,null,_c);}else{if(this.createControlHash[_11]!="pass"){requires("uiplugin/html/tag.js");_e=new WebSquare.tag(id,null,_c);}}}}else{if(_c.nodeType==3){if(_c.nodeValue.wq_trim()!=""){requires("uiplugin/html/tag.js");_e=new WebSquare.tag(id,null,_c);}}else{_e=null;}}if(id&&id!=""){if(WebSquare.idCache[id]!=null){$l("id["+id+"] \uac00 \uc911\ubcf5\uc0ac\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc18c\uc2a4\ucf54\ub4dc\ub97c \ud655\uc778\ud558\uc138\uc694","controlFactory");alert("id["+id+"] \uac00 \uc911\ubcf5\uc0ac\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc18c\uc2a4\ucf54\ub4dc\ub97c \ud655\uc778\ud558\uc138\uc694");}else{WebSquare.idCache[id]=_e;}}return _e;}catch(e){WebSquare.exception.printStackTrace(e,"id ["+id+"] compName["+_14+"]");}};WebSquare.controlFactory=new WebSquare.controlFactory();requires("uiplugin/control/controlIterator.js");WebSquare.executeHelper=function(){["WebSquare.executeHelper"];};WebSquare.executeHelper.prototype.execute=function(_1){};WebSquare.visibleHelper=function(){};WebSquare.extend(WebSquare.visibleHelper.prototype,WebSquare.executeHelper.prototype);WebSquare.visibleHelper.prototype.execute=function(_2){["WebSquare.visibleHelper.execute"];try{WebSquare.cssManager.executeImport();var _3=WebSquare.core.getConfiguration("/WebSquare/visibleHelper/targetHandler/@value");var obfuscator_msg=null;WebSquare.BootLoader.printLog("controlCollection.toHTML - before");obfuscator_msg=_2.toHTML();WebSquare.BootLoader.printLog("controlCollection.toHTML - after");if(_3!=null&&_3!=""){eval(_3+"(obfuscator_msg);");}else{document.body.innerHTML=obfuscator_msg;}if(WebSquare.core.getConfiguration("/WebSquare/mobile/hideAddressBar/@value")=="true"&&WebSquare.util.isMobile()){document.body.scrollTop=1;}WebSquare.renderCache={};this.makeRenderCache(document);try{if(typeof WebSquareExternal!="undefined"){if(WebSquareExternal.xmlInstance){WebSquareExternal.xmlInstance=WebSquare.xml.parse(WebSquareExternal.xmlInstance);}if(WebSquareExternal.targetInstance){var _4;if(WebSquareExternal.xmlInstance){_4=WebSquareExternal.xmlInstance;}else{if(WebSquareExternal.jsonInstance){_4=WebSquare.json.JSON2XML(WebSquareExternal.jsonInstance);}}if(_4){WebSquare.WebSquaredoc.models[0].rebuild(_4,WebSquareExternal.targetInstance);WebSquare.WebSquaredoc.models[0].refresh();}}}}catch(ee){WebSquare.exception.printStackTrace(ee);}WebSquare.BootLoader.performanceCheck.mid4=new Date();WebSquare.BootLoader.printLog("[STEP5] HTML Rendering Complete. Time:"+(WebSquare.BootLoader.performanceCheck.mid4.getTime()-WebSquare.BootLoader.performanceCheck.mid3.getTime())+"ms");}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.visibleHelper.prototype.makeRenderCache=function(_5){["WebSquare.visibleHelper.makeRenderCache"];try{for(var _6=_5.firstChild;_6!=null;_6=_6.nextSibling){if(_6.id){WebSquare.renderCache[_6.id]=_6;}if(_6.firstChild){this.makeRenderCache(_6);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.actionHelper=function(){};WebSquare.extend(WebSquare.actionHelper.prototype,WebSquare.executeHelper.prototype);WebSquare.actionHelper.prototype.execute=function(_7){["WebSquare.actionHelper.execute"];try{WebSquare.core.setTimer(function(){_7.activate();WebSquare.BootLoader.performanceCheck.mid5=new Date();WebSquare.BootLoader.printLog("[STEP6] Event Activation. Time:"+(WebSquare.BootLoader.performanceCheck.mid5.getTime()-WebSquare.BootLoader.performanceCheck.mid4.getTime())+"ms");WebSquare.startOnLoad();},{key:"WebSquare_startOnload",caller:this,delay:1});}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.balloonTip=function(id,_2,_3){["WebSquare.uiplugin.balloonTip"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.balloonTip.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.balloonTip.prototype.defaultOptions={pluginType:"uiplugin.balloonTip",pluginName:"balloonTip",editable:true};WebSquare.uiplugin.balloonTip.prototype.initialize=function(_4){["WebSquare.uiplugin.balloonTip.initialize"];try{}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.balloonTip.prototype.toHTML=function(){["WebSquare.uiplugin.balloonTip.toHTML"];try{var _5=[];_5.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2balloonTip'>");_5.push("<table id='"+this.id+"_mytable' class='w2balloonTip_table' cellpadding='0' cellspacing='0'>");_5.push("<tr>");_5.push("<td class='w2balloonTip_col_topleft'></td>");_5.push("<td class='w2balloonTip_col_topcenter'></td>");_5.push("<td class='w2balloonTip_col_topright'></td>");_5.push("</tr>");_5.push("<tr>");_5.push("<td class='w2balloonTip_col_centerleft'><div class='w2balloonTip_left'></div></td>");_5.push("<td class='w2balloonTip_col_centercenter'>");_5.push("<div id='"+this.id+"_label' role='tooltip' class='w2balloonTip_label'>12121212</div>");_5.push("</td>");_5.push("<td class='w2balloonTip_col_centerright'><div class='w2balloonTip_right'></div></td>");_5.push("</tr>");_5.push("<tr>");_5.push("<td id='bleft' class='w2balloonTip_col_bottomleft'></td>");_5.push("<td class='w2balloonTip_col_bottomcenter'></td>");_5.push("<td id='bright' class='w2balloonTip_col_bottomright'></td>");_5.push("</tr>");_5.push("</table>");_5.push("</div>");return _5.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.balloonTip.prototype.setAction=function(){["WebSquare.uiplugin.balloonTip.setAction"];try{this.dom.label=document.getElementById(this.id+"_label");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.balloonTip.prototype.setValue=function(_6){try{this.dom.label.innerHTML=_6;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.balloonTip.prototype.getValue=function(){try{return this.dom.label.innerHTML;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.historyManager=function(){this.maxSize=50;this.historyArr=[];};WebSquare.historyManager.prototype.set=function(_1,id,_3,_4){if(this.historyArr.length>=this.maxSize){this.historyArr.shift();}this.historyArr.push([_1,id,_3||{},_4||{}]);};WebSquare.historyManager.prototype.get=function(_5,id){var _7={};for(var i=this.historyArr.length-1;i>=0;i--){var _9=this.historyArr[i];if(_9[0]==_5&&_9[1]==id){_7=_9[2];break;}}return _7;};WebSquare.historyManager.prototype.clear=function(){for(var i=0;i<this.historyArr.length;i++){this.historyArr[i]=null;}this.historyArr=[];};WebSquare.historyManager.prototype.setKeyEvent=function(_b){WebSquare.event.addEvent(document.documentElement,"keydown",WebSquare.event.bindAsEventListener(this,this.handlerKeydownEvent));};WebSquare.historyManager.prototype.handlerKeydownEvent=function(e){var _d=(e.charCode)?e.charCode:e.keyCode;switch(_d){case 37:break;case 38:break;case 39:break;case 40:break;case 33:break;case 34:break;case 27:break;case 90:if(e.ctrlKey){if(this.historyArr.length>0){var _e=this.historyArr.pop();if(_e[3].onRestore){_e[3].onRestore.call(this,_e[2]);}}}break;case 68:if(e.ctrlKey){WebSquare.event.stopEvent(e);}break;case 75:if(e.ctrlKey){WebSquare.event.stopEvent(e);}break;default:break;}};WebSquare.historyManager=new WebSquare.historyManager();WebSquare.historyManager.setKeyEvent();WebSquare.itemsetControl=function(){};WebSquare.itemsetControl.prototype.initializeItemArr=function(_1,_2){["WebSquare.itemsetControl.prototype.initializeItemArr"];var _3=WebSquare.WebSquareparser.parseItemset(_1);this.modelControl.setItemset(_3.nodeset,_3.label,_3.value);this.itemsetObj=_3;this.itemArr=[];var _4=WebSquare.WebSquareparser.parseChoices(_1,_2);if(_4.length>0){this.itemArr=_4;}else{this.itemArr=this.modelControl.getItemsetData();}if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);}this.initializeFilter(_1);};WebSquare.itemsetControl.prototype.refreshItemArr=function(){["WebSquare.itemsetControl.prototype.refreshItemArr"];this.itemArr=this.modelControl.getItemsetData();if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);}this.originalItemArr=this.itemArr;if(this.filterFunc!=null){this.filterItemArr();}};WebSquare.itemsetControl.prototype.setNodeSet=function(_5,_6,_7){["WebSquare.itemsetControl.setNodeSet"];try{this.modelControl.unbindItemset();_5=(WebSquare.util.isNull(_5))?this.itemsetObj.nodeset:_5;_6=(WebSquare.util.isNull(_6))?this.itemsetObj.label:_6;_7=(WebSquare.util.isNull(_7))?this.itemsetObj.value:_7;this.modelControl.setItemset(_5,_6,_7);this.itemArr=this.modelControl.getItemsetData();if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);}this.originalItemArr=this.itemArr;if(this.filterFunc!=null){this.filterItemArr();}this.modelControl.bindItemset();this.refreshItemset();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.itemsetControl.prototype.getItemArray=function(){["WebSquare.itemsetControl.prototype.refreshItemArr"];return this.itemArr;};WebSquare.itemsetControl.prototype.getLocaleItemArr=function(_8,_9){["WebSquare.itemsetControl.prototype.getLocaleItemArr"];if(typeof _9=="undefined"||_9==null){_9="label";}for(var i=0;i<_8.length;i++){var _b=_8[i];_b[_9]=this.getLocaleValue(_b[_9]);}return _8;};WebSquare.itemsetControl.prototype.initializeFilter=function(_c){["WebSquare.itemsetControl.prototype.initializeFilter"];var _d=this.options.filter;this.originalItemArr=this.itemArr;this.setFilterFunc(_d);this.filterItemArr();};WebSquare.itemsetControl.prototype.setFilter=function(_e){["WebSquare.itemsetControl.prototype.setFilter"];var _f=this.getValue();this.setFilterFunc(_e);this.filterItemArr();this.componentRedraw(_f);};WebSquare.itemsetControl.prototype.setFilterFunc=function(_10){["WebSquare.itemsetControl.prototype.setFilterFunc"];try{if(typeof _10=="undefined"||_10==null||_10==""){this.filterFunc=null;}else{this.filterFunc=eval(_10);}}catch(e){this.filterFunc=null;WebSquare.exception.printStackTrace(e);}};WebSquare.itemsetControl.prototype.filterItemArr=function(){["WebSquare.itemsetControl.prototype.filterItemArr"];if(this.filterFunc==null){this.itemArr=this.originalItemArr;}else{this.itemArr=[];for(var i=0;i<this.originalItemArr.length;i++){var _12=this.originalItemArr[i];if(this.match(_12)){this.itemArr.push(_12);}}}};WebSquare.itemsetControl.prototype.match=function(_13){["WebSquare.itemsetControl.prototype.match"];try{return this.filterFunc.call(this.filterFunc,_13.label,_13.value,_13.xml);}catch(e){WebSquare.exception.printStackTrace(e);return false;}};WebSquare.itemsetControl.prototype.initializeGridItemArr=function(_14,_15){["WebSquare.itemsetControl.prototype.initializeGridItemArr"];if(!this.itemsetObj){this.itemsetObj={nodeset:"",value:"",label:"",items:[]};}var _16=this.itemsetObj;_15=_15||"xf";try{var _17=_14.nodeName;if(_17.indexOf(":")>=0){_15=_17.split(":")[0];}}catch(e){}if(_14){var _18=WebSquare.xml.findNode(_14,""+_15+":choices");if(_18){var _19=WebSquare.xml.findNode(_18,""+_15+":gridItemset");if(_19){_16.nodeset=WebSquare.xml.getValue(_19,"@nodeset");if(_16.nodeset.wq_trim().substr(-1)=="/"){_16.nodeset=_16.nodeset.wq_trim().slice(0,-1);}_16.labelId=WebSquare.xml.getValue(_19,"@labelId");_16.valueId=WebSquare.xml.getValue(_19,"@valueId");_16.label=WebSquare.xml.getValue(_19,"@label");_16.value=WebSquare.xml.getValue(_19,"@value");_16.width=WebSquare.xml.getValue(_19,"@width");_16.height=WebSquare.xml.getValue(_19,"@height");_16.rowMouseOver=WebSquare.xml.getValue(_19,"@rowMouseOver");_16.visibleRowNum=WebSquare.xml.getValue(_19,"@visibleRowNum");_16.sortIndex=WebSquare.xml.getValue(_19,"@sortIndex");_16.sortOrder=WebSquare.xml.getValue(_19,"@sortOrder");_16.autoFit=WebSquare.xml.getValue(_19,"@autoFit");_16.hideHeader=WebSquare.xml.getValue(_19,"@hideHeader");_16.rowMouseOverColor=WebSquare.xml.getValue(_19,"@rowMouseOverColor");_16.selectedRowColor=WebSquare.xml.getValue(_19,"@selectedRowColor");var _1a=WebSquare.xml.getChildren(_18,""+_15+":gridItemset");for(var i=0;i<_1a.length;i++){delete _1a[i]["@tagName"];if(_16.labelId&&_1a[i].id===_16.labelId){_16.label=_1a[i].ref;}if(_16.valueId&&_1a[i].id===_16.valueId){_16.value=_1a[i].ref;}}_16.items=_1a;}}}this.modelControl.setItemset(_16.nodeset,_16.label,_16.value);this.refreshGridItemArr();};WebSquare.itemsetControl.prototype.refreshGridItemArr=function(){this.itemArr=[];this.gridItemArr=[];this.gridRowItemArr=[];var _1c=this.itemsetObj;if(_1c.nodeset){var _1d=WebSquare.ModelUtil.findInstanceNodes(_1c.nodeset);if(_1d){for(var i=0;i<_1d.length;++i){this.itemArr.push({label:WebSquare.xml.getValue(_1d[i],_1c.label),value:WebSquare.xml.getValue(_1d[i],_1c.value),xml:_1d[i]});var _1f={};for(var j=0;j<_1c.items.length;j++){if(!_1c.items[j].id){_1c.items[j].id=this.id+"_items"+j;}var _21="";var ref=_1c.items[j].ref;if(ref){if(_1c.label&&ref===_1c.label){_1c.labelId=_1c.items[j].id;}else{if(_1c.value&&ref===_1c.value){_1c.valueId=_1c.items[j].id;}}_21=WebSquare.xml.getValue(_1d[i],ref);}this.gridItemArr.push(_21);_1f[_1c.items[j].id]=_21;}this.gridRowItemArr.push(_1f);}}}};WebSquare.uiplugin.body=function(id,_2,_3){["WebSquare.uiplugin.body"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.body.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.body.prototype.defaultOptions={pluginType:"uiplugin.body",pluginName:"body",parseChild:true,useConfig:true,toolTipSec:10};WebSquare.uiplugin.body.prototype.initialize=function(_4){this.wmodeFrameHash={};this.modal=null;this.toolTip=null;this.toolTipTime=null;this.toolTipSec=this.options.tooltip;this.forceClose=WebSquare.core.getConfiguration("/WebSquare/body/layerForceClose/@value");this.layerListener=new WebSquare.bodyLayerListener();};WebSquare.uiplugin.body.prototype.setRender=function(){if(this.parentControl&&this.parentControl.options.pluginName=="wframe"){this.render=this.parentControl.render;}else{this.render=document.body;this.render.className=this.options.className;}var _5=WebSquare.core.getChildConfigurationDocument("/WebSquare/browserSelector");for(var i=0;i<_5.length;i++){if(_5[i]["@tagName"]=="className"){if((new RegExp(_5[i].pattern)).test(navigator.userAgent)){this.addClass(_5[i].value);}}}};WebSquare.uiplugin.body.prototype.setAction=function(){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(){if(typeof __WebSquare_gridArr__==="object"&&__WebSquare_gridArr__!=null){for(var i=__WebSquare_gridArr__.length-1;i>=0;i--){try{if(__WebSquare_gridArr__[i]){__WebSquare_gridArr__[i].otherClickHandler(arguments[0]);}}catch(e){__WebSquare_gridArr__[i]=null;delete __WebSquare_gridArr__[i];var _8=__WebSquare_gridArr__.length-1;__WebSquare_gridArr__[i]=__WebSquare_gridArr__[_8];__WebSquare_gridArr__[_8]=null;delete __WebSquare_gridArr__[_8];__WebSquare_gridArr__.length=_8;}}}}));};WebSquare.uiplugin.body.prototype.toHTML=function(){var _9=[];var _a=this.getChildren();for(var i=0;i<_a.length;i++){_9.push(_a[i].toHTML());}return _9.join("");};WebSquare.uiplugin.body.prototype.parseDomToRender=function(_c){if(_c){var id=_c.getAttribute("id");if(id){WebSquare.idCache[id].render=_c;}for(var _e=_c.firstChild;_e!=null;_e=_e.nextSibling){if(_e.nodeType==1){this.parseDomToRender(_e);}}}};WebSquare.uiplugin.body.prototype.showWModeFrame=function(_f,_10){["WebSquare.uiplugin.body.prototype.showWModeFrame"];try{if(!this.render||!_10){return;}if(_f=="menu"){if(_10.childNodes.length==0){return;}var _11=_10.childNodes;var _12=_11[0].className.split(" ")[0];this.wmodeFrameHash[_12]=document.getElementById(_12+"_wmode_frame");if(!this.wmodeFrameHash[_12]){this.wmodeFrameHash[_12]=document.createElement("iframe");this.wmodeFrameHash[_12].id=_12+"_wmode_frame";this.wmodeFrameHash[_12].className="w2wmode_frame w2wmode_menuFrame";this.wmodeFrameHash[_12].style.position="absolute";this.wmodeFrameHash[_12].frameBorder="no";if(location.protocol=="https:"){this.wmodeFrameHash[_12].src=WebSquare.net.getSSLBlankPage(true);}}if(this.wmodeFrameHash[_12]){var _13=this;setTimeout(function(){_13.wmodeFrameHash[_12].controlID=_12;_13.wmodeFrameHash[_12].style.top=WebSquare.style.getAbsoluteTop(_11[0])+"px";_13.wmodeFrameHash[_12].style.width=_11[0].offsetWidth+"px";_13.wmodeFrameHash[_12].style.height=_11[0].offsetHeight+"px";_13.wmodeFrameHash[_12].style.display="block";_13.wmodeFrameHash[_12].style.left=WebSquare.style.getAbsoluteLeft(_11[0])+"px";_13.render.insertBefore(_13.wmodeFrameHash[_12],_10.parentElement);},1);}}else{this.wmodeFrameHash[_f]=document.getElementById(this.id+"_"+_f+"_wmode_frame");if(!this.wmodeFrameHash[_f]){this.wmodeFrameHash[_f]=document.createElement("iframe");this.wmodeFrameHash[_f].id=this.id+"_"+_f+"_wmode_frame";this.wmodeFrameHash[_f].className="w2wmode_frame";this.wmodeFrameHash[_f].style.position="absolute";this.wmodeFrameHash[_f].frameBorder="no";if(location.protocol=="https:"){this.wmodeFrameHash[_f].src=WebSquare.net.getSSLBlankPage(true);}}if(this.wmodeFrameHash[_f]){var _13=this;setTimeout(function(){_13.wmodeFrameHash[_f].controlID=_10.id;_13.wmodeFrameHash[_f].style.left=_10.offsetLeft+"px";_13.wmodeFrameHash[_f].style.top=_10.offsetTop+"px";_13.wmodeFrameHash[_f].style.width=_10.offsetWidth+"px";_13.wmodeFrameHash[_f].style.height=_10.offsetHeight+"px";_13.wmodeFrameHash[_f].style.display="block";_13.render.insertBefore(_13.wmodeFrameHash[_f],_10);},1);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.body.prototype.hideWModeFrame=function(_14,id){["WebSquare.uiplugin.body.prototype.hideWModeFrame"];try{if(_14=="menu"){if(this.wmodeFrameHash[id]&&this.wmodeFrameHash[id].controlID==id){this.wmodeFrameHash[id].style.display="none";}}else{if(this.wmodeFrameHash[_14]&&this.wmodeFrameHash[_14].controlID==id){this.wmodeFrameHash[_14].style.display="none";}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.body.prototype.removeWModeFrame=function(_16,id){["WebSquare.uiplugin.body.prototype.removeWModeFrame"];try{if(_16=="menu"){if(this.wmodeFrameHash[id]&&this.wmodeFrameHash[id].controlID==id){document.body.removeChild(this.wmodeFrameHash[id]);delete this.wmodeFrameHash[id];}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.body.prototype.showModal=function(_18,_19){["WebSquare.uiplugin.body.prototype.showModal"];try{if(!this.modal){this.modal=document.createElement("div");this.modal.id=this.id+"_modal";this.modalStack=[];this.modalStackPopupLayer=[];}if(_18){this.modalStack[this.modalStack.length]=_18;this.modal.className=_18;}else{this.modalStack[this.modalStack.length]="w2modal";this.modal.className="w2modal";}if(this.modal){this.render.appendChild(this.modal);this.modal.style.display="block";if(this.modal.setActive){this.modal.setActive();}else{if(document.activeElement){document.activeElement.blur();}else{this.modal.focus();}}}if(WebSquare.util.isIE(6)){this.modal.style.top=document.documentElement.scrollTop+"px";this.modal.style.left=document.documentElement.scrollLeft+"px";this.modal.style.width=document.documentElement.scrollWidth+"px";this.modal.style.height=document.documentElement.scrollHeight+"px";}if(!WebSquare.util.isFF()){this.addClass(document.documentElement,"w2modalopenedbody");}if(_19&&_19.length>0){for(var i=0;i<_19.length;i++){var _1b=_19[i];if(_1b&&window[_1b].options.pluginName){window[_1b].addClass("w2modal_popupLayer");}else{$l("[body.showModal]\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 WebSquare Component\uc785\ub2c8\ub2e4.("+i+")");}}this.modalStackPopupLayer[this.modalStackPopupLayer.length]=_19;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.body.prototype.modalEvent=function(_1c){["WebSquare.uiplugin.body.prototype.modalEvent"];try{if(this.modal){if(_1c){WebSquare.event.addListener(this.modal,"onclick",function(){_1c.focus();});WebSquare.event.addListener(this.modal,"ondblclick",function(){_1c.focus();});}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.body.prototype.hideModal=function(){["WebSquare.uiplugin.body.prototype.showModal"];try{if(this.modal){this.modalStack.pop();if(this.modalStack.length==0){this.modal.style.display="none";this.removeClass(document.documentElement,"w2modalopenedbody");}else{var _1d=this.modalStack[this.modalStack.length-1];this.modal.className=_1d;}if(this.modalStackPopupLayer.length>0){var _1e=this.modalStackPopupLayer[this.modalStackPopupLayer.length-1];for(var i=0;i<_1e.length;i++){var _20=_1e[i];if(window[_20]){window[_20].removeClass("w2modal_popupLayer");}}this.modalStackPopupLayer.splice(this.modalStackPopupLayer.length-1,1);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.body.prototype.setToolTip=function(_21,_22){["WebSquare.uiplugin.body.prototype.showToolTip"];try{var _23=this;WebSquare.event.addListener(_21,"onmouseover",this.event.bindAsEventListener(this,function(e){WebSquare.getBody().showToolTip(e,_21,_22);}));WebSquare.event.addListener(_21,"onmouseout",this.event.bindAsEventListener(this,function(e){WebSquare.getBody().hideToolTip(e);}));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.body.prototype.showToolTip=function(e,_27,_28){["WebSquare.uiplugin.body.prototype.showToolTip"];try{var idx=_28.indexOf("javascript:");if(idx>-1){var _2a=_28.substring(11,_28.length);var _2b=eval(_2a);_28=_2b;}if(_28==""){return;}if(this.toolTipTime){clearTimeout(this.toolTipTime);this.toolTipTime=null;}if(!this.toolTip){this.toolTip=new WebSquare.uiplugin.balloonTip(this.id+"_balloonTip");this.toolTip.writeTo(this);this.toolTip.activate();}if(this.toolTip){var _2c=WebSquare.style.getAbsoluteLeft(_27);var top=WebSquare.style.getAbsoluteTop(_27);this.toolTip.setValue(_28);var _2e=this;this.toolTipTime=setTimeout(function(){_2e.toolTip.show();var _2f=_2e.toolTip.render.offsetWidth;var _30=_2e.toolTip.render.offsetHeight;if(_2c+_2f>document.documentElement.scrollLeft+document.documentElement.clientWidth-10){_2c=document.documentElement.scrollLeft+document.documentElement.clientWidth-_2f-10;}top=top-_30;if(top<document.documentElement.scrollTop+10){if(top<0){top=_30+10;}else{top=document.documentElement.scrollTop+10;}}_2e.toolTip.setPosition(_2c,top);_2e.toolTip.setOpacity(0);new WebSquare.effect.opacity(_2e.toolTip.render,{opacity:0,from:1,to:0});},this.toolTipSec);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.body.prototype.hideToolTip=function(){["WebSquare.uiplugin.body.prototype.hideToolTip"];try{if(this.toolTipTime){clearTimeout(this.toolTipTime);this.toolTipTime=null;}if(this.toolTip){this.toolTip.hide();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.body.prototype.getLayerListener=function(){["WebSquare.uiplugin.body.prototype.getLayerListener"];try{return this.layerListener;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.bodyLayerListener=function(){["WebSquare.bodyLayerListener"];this.layers={};this.existShow=false;this.useOtherComponentId={};};WebSquare.bodyLayerListener.prototype.addListener=function(obj){["WebSquare.bodyLayerListener"];try{var _32=true;for(var id in this.layers){_32=false;break;}var _34=obj.component;var _35=obj.component.id;this.layers[_35]={component:obj.component,show:obj.fnShow,hide:obj.fnHide,paramHide:obj.paramHide,event:obj.event,isShow:false,otherClick:obj.otherClick};if(_32){if(WebSquare.util.isMobile()){WebSquare.getBody().event.addListener(document.documentElement,"ontouchstart",WebSquare.getBody().event.bindAsEventListener(WebSquare.getBody(),this.handleMouseDownEventDocument));}else{WebSquare.getBody().event.addListener(document.documentElement,"onmousedown",WebSquare.getBody().event.bindAsEventListener(WebSquare.getBody(),this.handleMouseDownEventDocument));WebSquare.getBody().event.addListener(document.documentElement,"onmousewheel",WebSquare.getBody().event.bindAsEventListener(WebSquare.getBody(),this.handleMouseWheelEventDocument));WebSquare.getBody().event.addListener(window,"onscroll",WebSquare.getBody().event.bindAsEventListener(WebSquare.getBody(),this.handleScrollEventDocument));WebSquare.getBody().event.addListener(window,"onresize",WebSquare.getBody().event.bindAsEventListener(WebSquare.getBody(),this.handleMouseWheelEventDocument));}}if(obj.event){for(var _36 in obj.event){_34.event.addListener(document.documentElement,_36,_34.event.bindAsEventListener(_34,obj.event[_36]));}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.bodyLayerListener.prototype.show=function(id,_38){["WebSquare.bodyLayerListener.show"];try{if(this.layers[id]&&typeof this.layers[id].show==="function"){var _39=this.layers[id].component;var _3a={};while(_39.parentControl){_39=_39.parentControl;if(_39.id){_3a[_39.id]=true;}}this.hideAll(_3a);this.layers[id].show.call(this.layers[id].component,_38);this.layers[id].isShow=true;this.existShow=true;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.bodyLayerListener.prototype.hide=function(id,_3c){["WebSquare.bodyLayerListener.hide"];try{if(this.layers[id]&&typeof this.layers[id].hide==="function"){this.layers[id].hide.call(this.layers[id].component,_3c);this.layers[id].isShow=false;this.existShow=false;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.bodyLayerListener.prototype.hideAll=function(_3d){["WebSquare.bodyLayerListener.hideAll"];try{this.targetHideArr=[];for(var id in this.layers){if(_3d&&_3d[id]){continue;}if(this.layers[id].isShow){var _3f={};_3f["id"]=id;_3f["param"]=this.layers[id].paramHide;this.targetHideArr.push(_3f);this.hide(id,this.layers[id].paramHide);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.bodyLayerListener.prototype.isExist=function(id){["WebSquare.bodyLayerListener.isExist"];try{if(this.layers[id]){return true;}else{return false;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.bodyLayerListener.prototype.isShow=function(id){["WebSquare.bodyLayerListener.show"];try{if(this.layers[id]){return !!this.layers[id].isShow;}else{return false;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.bodyLayerListener.prototype.remove=function(id){["WebSquare.bodyLayerListener.remove"];try{if(this.layers[id]){for(var _43 in this.layers[id].event){WebSquare.event.removeListener(document.documentElement,_43,this.layers[id].event[_43]);}this.layers[id].component=null;this.layers[id].draw=null;this.layers[id].show=null;this.layers[id].hide=null;this.layers[id].event=null;delete this.layers[id];}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.bodyLayerListener.prototype.removeAll=function(){["WebSquare.bodyLayerListener.removeAll"];try{for(var id in this.layers){for(var _45 in this.layers[id].event){WebSquare.event.removeListener(document.documentElement,_45,this.layers[id].event[_45]);}this.layers[id].component=null;this.layers[id].draw=null;this.layers[id].show=null;this.layers[id].hide=null;this.layers[id].event=null;delete this.layers[id];}this.layers={};}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.bodyLayerListener.prototype.handleMouseDownEventDocument=function(e){["WebSquare.bodyLayerListener.handleClickEventDocument"];try{if(!this.layerListener.existShow){return;}else{var top,left;if(WebSquare.util.isIE("6 7 8")){top=document.documentElement.scrollTop;left=document.documentElement.scrollLeft;}else{top=window.pageYOffset;left=window.pageXOffset;}if(WebSquare.event.getMouseX(e)<document.documentElement.clientWidth+left&&WebSquare.event.getMouseY(e)<document.documentElement.clientHeight+top){this.layerListener.hideAll();}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.bodyLayerListener.prototype.handleMouseWheelEventDocument=function(e){["WebSquare.bodyLayerListener.handleClickEventDocument"];try{if(!this.layerListener.existShow){return;}else{var _49;for(var id in this.layerListener.layers){if(this.layerListener.layers[id].isShow){_49=this.layerListener.layers[id].component.parentControl.render;}}var _4b=WebSquare.event.getTarget(e);if(this.forceClose=="true"||(_4b!=WebSquare.getBody().render&&_49!=WebSquare.getBody().render)){this.layerListener.hideAll();return;}var doc=document.documentElement;var top,left;if(WebSquare.util.isIE("6 7 8")){top=document.documentElement.scrollTop;left=document.documentElement.scrollLeft;}else{top=window.pageYOffset;left=window.pageXOffset;}if(top===0||doc.scrollHeight-top===doc.clientHeight||left===0||doc.scrollWidth-left===doc.clientWidth){return;}this.useWheel=true;this.layerListener.hideAll();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.bodyLayerListener.prototype.handleScrollEventDocument=function(e){["WebSquare.bodyLayerListener.handleScrollEventDocument"];try{var _4f=this.layerListener.targetHideArr;if(!_4f||_4f.length<=0||this.useWheel==undefined||!this.useWheel){return;}else{for(var i=0;i<_4f.length;i++){this.layerListener.show(_4f[i]["id"],_4f[i]["param"]);}this.layerListener.targetHideArr=[];this.useWheel=false;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.bodyLayerListener.prototype.otherClick=function(e){for(var _52 in this.layers){if(typeof this.layers[_52].otherClick==="function"){this.layers[_52].otherClick.call(this.layers[_52].component,e);}}};requires("uiplugin/control/cssCustomizer.js");WebSquare.uiplugin.group=function(id,_2,_3){["WebSquare.uiplugin.group"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.group.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.group.prototype,WebSquare.cssCustomizer.prototype);WebSquare.uiplugin.group.prototype.defaultOptions={pluginType:"uiplugin.group",pluginName:"group",parseChild:true,parseAttributes:true,tagname:"div",lazyDraw:false,role:""};WebSquare.uiplugin.group.prototype.initialize=function(_4){};WebSquare.uiplugin.group.html5={"footer":"div","header":"div","nav":"div","section":"div"};WebSquare.uiplugin.group.prototype.toHTML=function(){["WebSquare.uiplugin.group.toHTML"];try{var _5=[];var _6=this.options.role!=""?" role='"+this.options.role+"'":"";var _7=this.options.tagname;if(WebSquare.core.browserCheck.ie){var _8=WebSquare.core.browserVersion();if(_8=="6"||_8=="7"||_8=="8"){if(WebSquare.uiplugin.group.html5[_7]){_7=WebSquare.uiplugin.group.html5[_7];}}}_5.push("<"+_7+" id='"+this.id+"' style='"+this.options.style+"' class='w2group "+this.options.className+"' "+_6+" "+this.getAttributesString()+">");if(!this.options.lazyDraw){var _9=this.getChildren();for(var i=0;i<_9.length;i++){_5.push(_9[i].toHTML());}}_5.push("</"+_7+">");return _5.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.group.prototype.setAction=function(){};WebSquare.uiplugin.group.prototype.draw=function(){["WebSquare.uiplugin.group.draw"];try{var _b=[];var _c=this.getChildren();if(_c.length>0&&_c[0].render){return;}else{for(var i=0;i<_c.length;i++){_b.push(_c[i].toHTML());}this.render.innerHTML=_b.join("");for(var i=0;i<_c.length;i++){_c[i].activate();}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.group.prototype.setInitValue=function(_e){["WebSquare.uiplugin.group.init"];try{this.init(_e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.group.prototype.init=function(_f){["WebSquare.uiplugin.group.init"];try{_f=WebSquare.extend({excludePlugin:"",excludeId:"",fireEvent:false,recursive:false},_f||{});var _10=this.getChildren().slice(0).reverse();while(_10.length>0){var _11=_10.pop();if(_11.setInitValue&&(" "+_f.excludePlugin+" ").indexOf(" "+_11.options.pluginName+" ")==-1&&(" "+_f.excludeId+" ").indexOf(" "+_11.id+" ")==-1){_11.setInitValue(_f);}if(_f.recursive){for(var i=0;i<_11.childControlList.length;i++){_10.push(_11.childControlList[i]);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.group.prototype.invoke=function(_13,_14,_15,_16){["WebSquare.uiplugin.group.invoke"];try{return WebSquare.xfControl.prototype.invoke.call(this,_13,_14,_15,_16);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.group.prototype.setDisabled=function(_17){["WebSquare.uiplugin.group.setDisabled"];try{WebSquare.xfControl.prototype.setDisabled.call(this,_17);_17=WebSquare.util.getBoolean(_17);for(var i=0;i<this.childControlList.length;i++){var _19=this.childControlList[i];if(_19.setDisabled&&_19.activeStatus!="stop"){_19.setDisabled(_17);}}}catch(e){WebSquare.exception.printStackTrace(e);}return _17;};WebSquare.uiplugin.group.prototype.getAttributeNode=function(_1a){["WebSquare.uiplugin.group.getAttributeNode"];try{WebSquare.xfControl.attributes.getAttributeNode.call(this,_1a);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.group.prototype.setAttributeNode=function(_1b,_1c){["WebSquare.uiplugin.group.setAttributeNode"];try{WebSquare.xfControl.attributes.setAttributeNode.call(this,_1b,_1c);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.group.prototype.removeAttributeNode=function(_1d){["WebSquare.uiplugin.group.removeAttributeNode"];try{WebSquare.xfControl.attributes.removeAttributeNode.call(this,_1d);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.floatingLayer=function(id,_2,_3){["WebSquare.uiplugin.floatingLayer"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.floatingLayer.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.floatingLayer.prototype.defaultOptions={pluginType:"uiplugin.floatingLayer",pluginName:"floatingLayer",parseChild:true,userEvents:["onclose","onlayermove"],bodyComplex:true,dragAlwaysView:false,title:"",titleClass:"",useResizeDrag:false,modal:false,closeButtonSrc:"",closeButtonClass:"",headerLeftClass:"",headerCenterClass:"",headerRightClass:"",bodyLeftClass:"",bodyCenterClass:"",bodyRightClass:"",bodyLeftBottomClass:"",bodyBottomClass:"",bodyRightBottomClass:"",useModal:false,useAnchor:false};WebSquare.uiplugin.floatingLayer.prototype.initialize=function(_4){["WebSquare.uiplugin.floatingLayer.initialize"];try{}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.floatingLayer.prototype.toHTML=function(){["WebSquare.uiplugin.floatingLayer.toHTML"];try{var _5=[];var _6=this.options.title?" title='"+this.options.title.wq_replaceAll("'","&#39;")+"'":"";_5.push("<div  role='application' id='"+this.id+"' style='"+this.options.style+"' class='w2floatingLayer "+this.options.className+"' tabindex='0' >");_5.push("<table class='w2floatingLayer_table' cellpadding='0' cellspacing='0'>");_5.push("<tr class='w2floatingLayer_dragArea'>");_5.push("<td class='w2floatingLayer_topleft "+this.options.headerLeftClass+"'></td>");_5.push("<td class='w2floatingLayer_topcenter "+this.options.headerCenterClass+"' "+_6+" >");_5.push("<div id='"+this.id+"_titleDiv' class='w2floatingLayer_title "+this.options.titleClass+"' >"+this.options.title+"</div>");_5.push("<div id='"+this.id+"_closeButton' class='w2floatingLayer_close_button "+this.options.closeButtonClass+"' tabindex='0' title='close'  ></div>");_5.push("</td>");_5.push("<td class='w2floatingLayer_topright "+this.options.headerRightClass+"'></td>");_5.push("</tr>");_5.push("<tr>");_5.push("<td class='w2floatingLayer_dragArea w2floatingLayer_centerleft "+this.options.bodyLeftClass+"'></td>");_5.push("<td class='w2floatingLayer_centercenter'>");_5.push("<div id='"+this.id+"_contents' class='w2floatingLayer_contents "+this.options.bodyCenterClass+"'>");_5.push("<div id='"+this.id+"_innerLink' class='w2floatingLayer_innerLink' tabIndex='0'>"+this.options.title+"</div>");var _7=this.getChildren();for(var i=0;i<_7.length;i++){_5.push(_7[i].toHTML());}_5.push("</div>");_5.push("</td>");_5.push("<td class='w2floatingLayer_dragArea w2floatingLayer_centerright "+this.options.bodyRightClass+"'></td>");_5.push("</tr>");_5.push("<tr class='w2floatingLayer_dragArea'>");_5.push("<td class='w2floatingLayer_bottomleft "+this.options.bodyLeftBottomClass+"'></td>");_5.push("<td class='w2floatingLayer_bottomcenter "+this.options.bodyBottomClass+"'></td>");_5.push("<td class='w2floatingLayer_bottomright "+this.options.bodyRightBottomClass+"'></td>");_5.push("</tr>");_5.push("</table>");_5.push("</div>");return _5.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.floatingLayer.prototype.setAction=function(){["WebSquare.uiplugin.floatingLayer.setAction"];try{this.dom.contents=this.getElementById(this.id+"_contents");this.dom.closeButton=this.getElementById(this.id+"_closeButton");if(this.options.useModal==true){var _9=WebSquare.util.getStyleProperty(this.render,"z-index");if(!WebSquare.util.getStyleProperty(this.render,"z-index")||_9=="auto"){this.render.style["zIndex"]=4500;}}this.resetContentSize();if(WebSquare.util.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleMousedownEvent));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,this.handleSelectStart));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.floatingLayer.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleKeydownEvent"];try{var _b=(e.charCode)?e.charCode:e.keyCode;if(_b!=13){return;}this.handleClickEvent(e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.floatingLayer.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleFocusEvent"];try{if(!this.dom.titleDiv){this.dom.titleDiv=this.getElementById(this.id+"_titleDiv");}WebSquare.document.title=this.dom.titleDiv.innerHTML;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.floatingLayer.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleBlurEvent"];try{WebSquare.document.title=WebSquare.docTitle;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.floatingLayer.prototype.focus=function(){["WebSquare.uiplugin.floatingLayer.focus"];try{this.render.focus();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.floatingLayer.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleClickEvent"];try{WebSquare.event.stopPropagation(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_close_button")){this.hide();if(this.options.useModal==true){this.hideModal();}WebSquare.event.fireEvent(this,"onclose");}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.floatingLayer.prototype.handleMousedownEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleMousedownEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_dragArea")){var _12=this;WebSquare.dragdrop.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",delay:10,mode:"move",makeGhostLayer:function(_13){_13.setSize(_12.render.offsetWidth,_12.render.offsetHeight);var _14=WebSquare.style.getAbsoluteLeft(_12.render);var top=WebSquare.style.getAbsoluteTop(_12.render);_13.setPosition(_14,top);return _13;},handleStart:function(){if(_12.options.useModal==true){WebSquare.getBody().showModal("w2modal_onmove");}},handleFinish:function(x,y,dx,dy){var _1a=parseInt(_12.getStyle("left"));var top=parseInt(_12.getStyle("top"));_12.setPosition(_1a+dx,top+dy);if(_12.options.useModal==true){WebSquare.getBody().hideModal();}WebSquare.event.fireEvent(_12,"onlayermove",_1a+dx,top+dy);}});}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.floatingLayer.prototype.handleMouseOverEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleMouseOverEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_close_button")){this.addClass(this.dom.closeButton,"w2floatingLayer_close_button_over");}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.floatingLayer.prototype.handleMouseOutEvent=function(e){["WebSquare.uiplugin.floatingLayer.handleMouseOutEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_close_button")){this.removeClass(this.dom.closeButton,"w2floatingLayer_close_button_over");}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.floatingLayer.prototype.handleSelectStart=function(e){["WebSquare.uiplugin.floatingLayer.handleSelectStart"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2floatingLayer_dragArea")){WebSquare.event.stopEvent(e);}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.floatingLayer.prototype.setSize=function(_22,_23){["WebSquare.uiplugin.floatingLayer.setSize"];try{if(!this.render){return;}_22=parseInt(_22);_23=parseInt(_23);if(_22!=null&&!isNaN(_22)&&_22>=0){this.render.style.width=_22+"px";}if(_23!=null&&!isNaN(_23)&&_23>=0){this.render.style.height=_23+"px";this.resetContentSize();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.floatingLayer.prototype.resetContentSize=function(){["WebSquare.uiplugin.floatingLayer.resetContentSize"];try{var _24=WebSquare.util.getStyleProperty(this.render,"height");_24=parseInt(_24,10);if(isNaN(_24)){var _25=this.getSize("height")-42;if(typeof _25=="number"&&_25>0){this.dom.contents.style.height=(this.getSize("height")-42)+"px";}else{this.dom.contents.style.height="";}}else{this.dom.contents.style.height=(_24-42)+"px";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.floatingLayer.prototype.setTitle=function(_26){["WebSquare.uiplugin.floatingLayer.setTitle"];try{if(!this.dom.titleDiv){this.dom.titleDiv=this.getElementById(this.id+"_titleDiv");}this.dom.titleDiv.innerHTML=_26;this.dom.titleDiv.parentNode.setAttribute("title",_26.wq_replaceAll("'","&#39;"));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.floatingLayer.prototype.showModal=function(){WebSquare.getBody().showModal("w2modal_floatingLayer");};WebSquare.uiplugin.floatingLayer.prototype.hideModal=function(){WebSquare.getBody().hideModal();};WebSquare.uiplugin.floatingLayer.prototype.show=function(_27){WebSquare.css.prototype.show.call(this,_27);if(this.options.useModal==true){this.showModal();}if(this.options.useAnchor){var _28=this.id+"_innerLink";var _29=this.getElementById(_28);_29.setAttribute("name",_28+"_name");var _2a=document.createElement("a");document.body.appendChild(_2a);_2a.setAttribute("href","#"+_28+"_name");_2a.click();document.body.removeChild(_2a);_2a=null;}};WebSquare.uiplugin.floatingLayer.prototype.hide=function(){WebSquare.css.prototype.hide.apply(this);if(this.options.useModal==true){this.hideModal();}if(this.options.useAnchor&&this.backlink){var _2b=WebSquare.util.getComponentById(this.backlink);_2b.render.setAttribute("name",_2b.id+"_backlink");var _2c=document.createElement("a");document.body.appendChild(_2c);_2c.setAttribute("href","#"+_2b.id+"_backlink");_2c.click();document.body.removeChild(_2c);}};WebSquare.uiplugin.floatingLayer.prototype.setBackLink=function(obj){if(typeof obj=="string"){this.backlink=obj;}else{if(obj&&typeof obj.id=="string"){this.backlink=obj.id;}}};WebSquare.uiplugin.dateHelper=function(_1){["WebSquare.uiplugin.dateHelper"];this.displayFormat="yyyyMMdd";this.dayStrArr=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];this.monthDays=[31,28,31,30,31,30,31,31,30,31,30,31];this.year=null;this.month=null;this.date=null;this.day=null;this.setToday(_1);};WebSquare.uiplugin.dateHelper.prototype.setToday=function(_2){["WebSquare.uiplugin.dateHelper.setToday"];if(_2&&_2==true){var _3=this.getServerDate();if(!_3||_3===""){var _4=new Date();}else{var _5="";var _6="";var _7="";if(_3&&_3.length==8){_5=_3.substr(0,4);_6=_3.substr(4,2);_7=_3.substr(6,2);}var _4=new Date(parseInt(_5),parseInt(_6,10)-1,parseInt(_7,10));}}else{var _4=new Date();}this.year=_4.getFullYear();this.month=_4.getMonth()+1;this.date=_4.getDate();};WebSquare.uiplugin.dateHelper.prototype.setYear=function(_8){["WebSquare.uiplugin.dateHelper.setYear"];this.year=parseInt(_8);};WebSquare.uiplugin.dateHelper.prototype.setMonth=function(_9){["WebSquare.uiplugin.dateHelper.setMonth"];this.month=parseInt(_9);};WebSquare.uiplugin.dateHelper.prototype.setDate=function(_a){["WebSquare.uiplugin.dateHelper.setDate"];this.date=parseInt(_a);};WebSquare.uiplugin.dateHelper.prototype.setDateAll=function(_b,_c,_d){["WebSquare.uiplugin.dateHelper.setDateAll"];if(!_b||!_c||!_d){return;}var _e=new Date(parseInt(_b),parseInt(_c)-1,parseInt(_d));this.year=_e.getFullYear();this.month=_e.getMonth()+1;this.date=_e.getDate();};WebSquare.uiplugin.dateHelper.prototype.setDateAllByString=function(_f){["WebSquare.uiplugin.dateHelper.setDateAllByString"];if(_f&&_f.length==8){var _10=_f.substr(0,4);var _11=_f.substr(4,2);if(_11.charAt(0)=="0"){_11=_11.charAt(1);}var _12=_f.substr(6,2);if(_12.charAt(0)=="0"){_12=_12.charAt(1);}this.setDateAll(_10,_11,_12);}};WebSquare.uiplugin.dateHelper.prototype.getYear=function(){["WebSquare.uiplugin.dateHelper.getYear"];return this.year;};WebSquare.uiplugin.dateHelper.prototype.getMonth=function(){["WebSquare.uiplugin.dateHelper.getMonth"];return this.month;};WebSquare.uiplugin.dateHelper.prototype.getDate=function(){["WebSquare.uiplugin.dateHelper.getDate"];return this.date;};WebSquare.uiplugin.dateHelper.prototype.getDateAll=function(){["WebSquare.uiplugin.dateHelper.getDateAll"];var _13=this.year+"";var _14=this.month+"";var _15=this.date+"";if(_14.length==1){_14="0"+_14;}if(_15.length==1){_15="0"+_15;}var _16=_13+_14+_15;return _16;};WebSquare.uiplugin.dateHelper.prototype.getFormatDateAll=function(_17){["WebSquare.uiplugin.dateHelper.getDateAll"];var _18="";if(_17&&_17!=""){_18=_17;}else{_18=this.displayFormat;}var _19=this.getDateAll();_19=WebSquare.text.formatDate(_19,_18);return _19;};WebSquare.uiplugin.dateHelper.prototype.getDay=function(){["WebSquare.uiplugin.dateHelper.getDay"];var _1a=new Date(parseInt(this.year),parseInt(this.month)-1,parseInt(this.date));this.day=_1a.getDay();return this.day;};WebSquare.uiplugin.dateHelper.prototype.getDayStr=function(day,_1c){["WebSquare.uiplugin.dateHelper.getDayStr"];_1c=_1c||this.dayStrArr;if(_1c[day]){return _1c[day];}else{return "";}};WebSquare.uiplugin.dateHelper.prototype.getMonthCount=function(_1d,_1e){["WebSquare.uiplugin.dateHelper.getMonthCount"];var _1d=_1d||this.getYear();var _1e=_1e||this.getMonth();this.setLeapYear(_1d);return this.monthDays[_1e-1];};WebSquare.uiplugin.dateHelper.prototype.getFirstDay=function(){["WebSquare.uiplugin.dateHelper.getFirstDay"];var _1f=new WebSquare.uiplugin.dateHelper();_1f.setDateAll(this.getYear(),this.getMonth(),1);var _20=_1f.getDay();return _20;};WebSquare.uiplugin.dateHelper.prototype.getFirstDayStr=function(_21){["WebSquare.uiplugin.dateHelper.getFirstDay"];var _22=new WebSquare.uiplugin.dateHelper();_22.setDateAll(this.getYear(),this.getMonth(),1);var _23=_22.getDayStr(_21);return _23;};WebSquare.uiplugin.dateHelper.prototype.setLeapYear=function(_24){["WebSquare.uiplugin.dateHelper.setLeapYear"];this.monthDays[1]=(((!(_24%4))&&(_24%100))||!(_24%400))?29:28;};WebSquare.uiplugin.dateHelper.prototype.getLeapYear=function(_25){["WebSquare.uiplugin.dateHelper.setLeapYear"];return (((!(_25%4))&&(_25%100))||!(_25%400));};WebSquare.uiplugin.dateHelper.prototype.equals=function(_26){["WebSquare.uiplugin.dateHelper.equals"];if(this.getYear()==_26.getYear()&&this.getMonth()==_26.getMonth()&&this.getDate()==_26.getDate()){return true;}return false;};WebSquare.uiplugin.dateHelper.prototype.setNextYear=function(){["WebSquare.uiplugin.dateHelper.setNextYear"];var _27=this.getYear();this.setYear(_27+1);this._checkValidDate();};WebSquare.uiplugin.dateHelper.prototype.setLastYear=function(){["WebSquare.uiplugin.dateHelper.setLastYear"];var _28=this.getYear();this.setYear(_28-1);this._checkValidDate();};WebSquare.uiplugin.dateHelper.prototype.setNextMonth=function(){["WebSquare.uiplugin.dateHelper.setNextMonth"];var _29=this.getYear();var _2a=this.getMonth();if(_2a<12){this.setMonth(_2a+1);}else{this.setYear(_29+1);this.setMonth(1);}this._checkValidDate();};WebSquare.uiplugin.dateHelper.prototype.setLastMonth=function(){["WebSquare.uiplugin.dateHelper.setLastMonth"];var _2b=this.getYear();var _2c=this.getMonth();if(_2c>1){this.setMonth(_2c-1);}else{this.setYear(_2b-1);this.setMonth(12);}this._checkValidDate();};WebSquare.uiplugin.dateHelper.prototype._checkValidDate=function(){["WebSquare.uiplugin.dateHelper._checkValidDate"];var _2d=this.getDate();var _2e=this.getMonthCount();if(_2d>_2e){this.setDate(_2e);}};WebSquare.uiplugin.dateHelper.prototype.getServerDate=function(_2f){["WebSquare.uiplugin.dateHelper.getServerDate"];if(!_2f){_2f="";}var _30=WebSquare.core.getXMLHTTPObject();_30.open("POST",WebSquare.baseURI+"engine/system/getServerTime.jsp?pattern="+_2f+"&idx="+(new Date()).getTime()+Math.random()*10000,false);_30.send(null);var _31=_30.responseText;_30=null;return _31;};requires("uiplugin/control/historyManager.js");WebSquare.uiplugin.basicInput=function(id,_2,_3){["WebSquare.uiplugin.basicInput"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.basicInput.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.basicInput.prototype.defaultOptions={pluginType:"uiplugin.input",pluginName:"input",userEvents:["onfocus","onblur","onbeforeedit","oneditend","onafteredit"],useConfig:true,valueType:"",type:"text",editType:"",dataType:"text",ioFormat:"",ioFormatter:"",displayFormat:"",displayFormatter:"",formatArray:"",applyFormat:"display",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,onFocusStyle:"",onFocusClass:"w2input_focus",readOnlyClass:"w2input_readonly",initValue:"",title:"",useKeyupBlur:true,preventCopyPaste:false,delimeter:"",decimalDelimeter:""};WebSquare.uiplugin.basicInput.prototype.initialize=function(_4){["WebSquare.uiplugin.basicInput.initialize"];try{this.basicInputEvented=false;this.originalStyleObj=null;this.focusStyleObj=null;this.focusedSizeFlag=false;var _5=this.options["onFocusStyle"];if(_5!=""){var _6="w2input_userfocus";var _7="#"+this.id+"."+_6;WebSquare.cssManager.addConvertedCSS(_7,_5);this.options["onFocusStyle"]="";this.options["onFocusClass"]=_6;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.basicInput.htmlStr=["<input id='",,"' style='",,"' class='w2input ",,"' type='",,"' ",," />"];WebSquare.uiplugin.basicInput.prototype.toHTML=function(){["WebSquare.uiplugin.basicInput.toHTML"];try{var _8=WebSquare.uiplugin.basicInput.htmlStr;_8[1]=this.id;_8[3]=this.options.style;_8[5]=this.options.className+(this.options.readOnly?(" "+this.options.readOnlyClass):"");_8[7]=this.options.type;_8[9]=this.options.title?" title='"+this.options.title+"'":"";_8[9]+=this.options.name?" name='"+this.options.name+"'":"";return _8.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.basicInput.prototype.setAction=function(){["WebSquare.uiplugin.basicInput.setAction"];try{this.setVerticalAlign();if(this.modelControl.isBinded()){var _9=this.modelControl.getData();this.setValueNM(_9);}this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEventBasic));if(this.getReadOnly()==true){this.basicInputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.basicInput.prototype.refresh=function(){["WebSquare.uiplugin.input.refresh"];try{if(this.modelControl.isBinded()){var _a=this.getValue();var _b=this.modelControl.getData();this.setValueNM(_b);if(_a!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.basicInput.prototype.setValue=function(_c){["WebSquare.uiplugin.input.setValue"];try{if(WebSquare.util.isNull(_c)){return;}var _d=this.getValue();this.setValueNM(_c);this.modelControl.setData(_c);if(_d!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.basicInput.prototype.setValueNM=function(_e){["WebSquare.uiplugin.input.setValueNM"];try{if(WebSquare.util.isNull(_e)){return;}_e=_e.toString();this.render.value=_e;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.basicInput.prototype.getValue=function(){["WebSquare.uiplugin.input.getValue"];try{return this.render.value;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.basicInput.prototype.setFocusSize=function(_f){["WebSquare.uiplugin.input.setFocusSize"];try{if(this.getStyle("height").indexOf("%")==-1&&this.getStyle("width").indexOf("%")==-1){var _10=parseInt(this.getStyle("height"));var _11=parseInt(this.getStyle("width"));var _12=(this.focusStyleObj.paddingLeft+this.focusStyleObj.paddingRight+this.focusStyleObj.borderLeftWidth+this.focusStyleObj.borderRightWidth)-(this.originalStyleObj.paddingLeft+this.originalStyleObj.paddingRight+this.originalStyleObj.borderLeftWidth+this.originalStyleObj.borderRightWidth);var _13=(this.focusStyleObj.paddingTop+this.focusStyleObj.paddingBottom+this.focusStyleObj.borderTopWidth+this.focusStyleObj.borderBottomWidth)-(this.originalStyleObj.paddingTop+this.originalStyleObj.paddingBottom+this.originalStyleObj.borderTopWidth+this.originalStyleObj.borderBottomWidth);if(_f==true&&this.focusedSizeFlag==false){this.setStyle("height",(_10-_13)+"px");this.setStyle("width",(_11-_12)+"px");this.focusedSizeFlag=true;}else{if(_f==false&&this.focusedSizeFlag==true){this.setStyle("height",(_10+_13)+"px");this.setStyle("width",(_11+_12)+"px");this.focusedSizeFlag=false;}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.basicInput.prototype.setVerticalAlign=function(){["WebSquare.uiplugin.input.setVerticalAlign"];try{if(WebSquare.util.isIE()){var _14=this.getSize("height")||parseInt(this.getStyle("height"));if(!isNaN(_14)){this.setStyle("lineHeight",_14+"px");}}else{if(WebSquare.util.isFF()){var _14=parseInt(this.getStyle("height"))||0;var _15=parseInt(this.getStyle("padding-top"))||0;var _16=parseInt(this.getStyle("font-size"))||0;var _17=Math.floor((_14-2-_16)/2);if(_17>0&&(_14-_17)>0){this.setStyle("paddingTop",_17+_15+"px");this.setStyle("height",(_14-_17)+"px");}}else{}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.basicInput.prototype.onPropertyChange=function(_18,_19){["WebSquare.uiplugin.input.onPropertyChange"];try{switch(_18){case "disabled":break;case "readOnly":if(_19==true){this.addClass(this.render,this.options.readOnlyClass);}else{this.removeClass(this.render,this.options.readOnlyClass);}break;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.basicInput.prototype.handleFocusEventBasic=function(e){["WebSquare.uiplugin.input.handleFocusEventBasic"];try{WebSquare.event.fireEvent(this,"onbeforeedit");if(this.basicInputEvented==false){this.basicInputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));}var _1b=this;WebSquare.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{onRestore:function(_1c){_1b.setValue(_1c.value);}});if(!this.originalStyleObj){this.originalStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}this.addClass(this.render,this.options.onFocusClass);if(!this.focusStyleObj){this.focusStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}if(this.options.editType=="select"){this.render.select();}this.setFocusSize(true);WebSquare.event.fireEvent(this,"onfocus",e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.basicInput.prototype.handleBlurEventBasic=function(e){["WebSquare.uiplugin.input.handleBlurEventBasic"];try{WebSquare.event.fireEvent(this,"oneditend");this.setFocusSize(false);this.removeClass(this.render,this.options.onFocusClass);this.setValue(this.getValue());var _1e=WebSquare.historyManager.get(this.options.pluginName,this.id);if(_1e.value!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}WebSquare.event.fireEvent(this,"onblur",e);WebSquare.event.fireEvent(this,"onafteredit");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};requires("engine/validator.js");requires("engine/formatter.js");requires("uiplugin/control/cssCustomizer.js");requires("uiplugin/control/historyManager.js");WebSquare.uiplugin.input=function(id,_2,_3){["WebSquare.uiplugin.input"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.input.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.input.prototype,WebSquare.IValidate.prototype);WebSquare.extend(WebSquare.uiplugin.input.prototype,WebSquare.cssCustomizer.prototype);WebSquare.uiplugin.input.prototype.defaultOptions={pluginType:"uiplugin.input",pluginName:"input",parseAttributes:true,userEvents:["onfocus","onblur","onbeforeedit","oneditend","onafteredit","onchange"],useConfig:true,valueType:"",type:"text",editType:"",dataType:"text",ioFormat:"",ioFormatter:"",displayFormat:"",displayFormatter:"",formatArray:"",applyFormat:"display",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,onFocusStyle:"",onFocusClass:"w2input_focus",readOnlyClass:"w2input_readonly",initValue:"",title:"",useKeyupBlur:true,preventCopyPaste:false,delimeter:"",decimalDelimeter:"",focusCalcSize:true,enterBlur:true,placeholder:""};WebSquare.uiplugin.input.prototype.initialize=function(_4){["WebSquare.uiplugin.input"];try{this.originalStyleObj=null;this.focusStyleObj=null;this.focusedSizeFlag=false;this.realValue="";this.supportPlaceholder=false;this._focusStatus="init";this._getFocused=false;var _5=this.options["onFocusStyle"];if(_5!=""){var _6="w2input_userfocus";var _7="#"+this.id+"."+_6;WebSquare.cssManager.addConvertedCSS(_7,_5);this.options["onFocusStyle"]="";this.options["onFocusClass"]=_6;}if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}this.formatter=WebSquare.format.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);this.validator=new WebSquare.validator.validateInvoker(this.id,this.options);switch(this.options.dataType){case "date":break;case "time":break;case "number":if(this.options.displayFormat==""){this.validator.addCommand(new WebSquare.validator.allowCharCommand("+\\-.0-9"));}else{this.validator.addCommand(new WebSquare.validator.numberCommand());}break;case "euro":this.validator.addCommand(new WebSquare.validator.euroCommand(this.options.delimeter,this.options.decimalDelimeter));break;case "rupee":this.validator.addCommand(new WebSquare.validator.rupeeCommand(this.options.delimeter,this.options.decimalDelimeter));break;case "tenge":this.validator.addCommand(new WebSquare.validator.tengeCommand(this.options.delimeter,this.options.decimalDelimeter));break;}this.inputEvented=false;if(this.options.placeholder){if(WebSquare.uiplugin.input.placeholder){this.supportPlaceholder=true;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.htmlStr=["<input id='",,"' style='",,"' class='w2input ",,"' type='",,"' ",," />"];WebSquare.uiplugin.input.placeholder=(function(){var _8=document.createElement("input");return typeof _8.placeholder=="string";})();WebSquare.uiplugin.input.prototype.toHTML=function(){["WebSquare.uiplugin.input.toHTML"];try{var _9=WebSquare.uiplugin.input.htmlStr;_9[1]=this.id;_9[3]=this.options.style;_9[5]=this.options.className+(this.options.readOnly?(" "+this.options.readOnlyClass):"");_9[7]=this.options.type;_9[9]=this.options.title?" title='"+this.options.title+"'":"";_9[9]+=this.options.name?" name='"+this.options.name+"'":"";_9[9]+=(this.options.maxlength>=0)?" maxLength='"+this.options.maxlength+"'":"";_9[9]+=this.supportPlaceholder?" placeholder='"+this.options.placeholder+"'":"";_9[9]+=this.getAttributesString();return _9.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.setAction=function(){["WebSquare.uiplugin.input.setAction"];try{this.setVerticalAlign();if(this.modelControl.isBinded()){var _a=this.modelControl.getData();this.setValueNM(_a);}if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value=this.options.placeholder;this.addClass("w2input_placeholder");}}var _b=this;this.addEvent("oneditend",function(){var _c="";if(_b.options.dataType=="number"){var _d=_b.render.value.wq_trim();if(_d==="."||_d==="-"||_d==="+"){_b.render.value="";}}if(_b.options.applyFormat=="all"){_c=_b.getValue();}else{_c=_b.render.value;}_c=_b.validator.validateString(_c);if(_b.options.placeholder&&!this.supportPlaceholder){if(_b.realValue.length==0&&this.render.className.match("w2input_placeholder")){return;}}_b.setValueNM(_c,true);});if(WebSquare.util.isIE()){this.event.addListener(this.render,"onfocusin",this.event.bindAsEventListener(this,this.handleFocusinEvent));this.event.addListener(this.render,"onbeforeeditfocus",this.event.bindAsEventListener(this,this.handleBeforeFocusEvent));}this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusValueEventAdv));if(WebSquare.util.isChrome()||WebSquare.util.isSafari()){this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleSelectAfter));}if(this.getReadOnly()==true){this.inputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));this.event.addListener(this.render,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));if(WebSquare.util.isFF()){this.event.addListener(this.render,"oninput",this.event.bindAsEventListener(this,this.checkMaxByteLength));}if(this.options.dataType=="number"){this.setStyle("imeMode","disabled");}}if(this.options.preventCopyPaste){this.inputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));if(WebSquare.util.isOpera()){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopEvent(e);this.focus();}));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,function(e){if(e.ctrlKey){if(e.keyCode===88||e.keyCode===67||e.keyCode===86){WebSquare.event.stopEvent(e);}}}));}this.setStyle("MozUserSelect","none");this.event.addListener(this.render,"ondragstart",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopEvent(e);}));this.event.addListener(this.render,"ondragover",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopEvent(e);}));this.event.addListener(this.render,"ondrop",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopEvent(e);}));this.event.addListener(this.render,"oncopy",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopEvent(e);}));this.event.addListener(this.render,"oncut",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopEvent(e);}));this.event.addListener(this.render,"onpaste",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopEvent(e);}));this.event.addListener(this.render,"oncontextmenu",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopEvent(e);}));}if(this.options.maxlength>=0){this.render.maxLength=this.options.maxlength;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.refresh=function(){["WebSquare.uiplugin.input.refresh"];try{if(this.modelControl.isBinded()&&!this.noRefresh){var _17=this.getValue();var _18=this.modelControl.getData();this.setValueNM(_18);if(_17!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.setValue=function(_19){["WebSquare.uiplugin.input.setValue"];try{if(WebSquare.util.isNull(_19)){return;}var _1a=this.getValue();this.setValueNM(_19);this.modelControl.setData(_19);if(_1a!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.setValueNM=function(_1b,_1c){["WebSquare.uiplugin.input.setValueNM"];try{if(WebSquare.util.isNull(_1b)){return;}_1b=_1b.toString();_1b=this.formatter.format(_1b);if(_1c&&this.options.applyFormat=="all"){_1b=this.validator.validateString(_1b);_1b=this.formatter.format(_1b);}this.render.value=_1b;this.realValue=_1b;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.getValue=function(){["WebSquare.uiplugin.input.getValue"];try{var _1d;if(this.options.placeholder&&!this.supportPlaceholder&&this.realValue.length==0){_1d="";}else{_1d=this.render.value;}return this.formatter.unformat(_1d);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.setFocusSize=function(_1e){["WebSquare.uiplugin.input.setFocusSize"];try{if(WebSquare.util.isFF()&&this.getStyle("-moz-box-sizing")=="border-box"){height-=this.getStyle("border-top-width")+this.getStyle("border-bottom-width");width-=this.getStyle("border-left-width")+this.getStyle("border-right-width");}if(this.options.focusCalcSize==true){if(this.getStyle("height").indexOf("%")==-1&&this.getStyle("width").indexOf("%")==-1){var _1f=parseInt(this.getStyle("height"));var _20=parseInt(this.getStyle("width"));var _21=(this.focusStyleObj.paddingLeft+this.focusStyleObj.paddingRight+this.focusStyleObj.borderLeftWidth+this.focusStyleObj.borderRightWidth)-(this.originalStyleObj.paddingLeft+this.originalStyleObj.paddingRight+this.originalStyleObj.borderLeftWidth+this.originalStyleObj.borderRightWidth);var _22=(this.focusStyleObj.paddingTop+this.focusStyleObj.paddingBottom+this.focusStyleObj.borderTopWidth+this.focusStyleObj.borderBottomWidth)-(this.originalStyleObj.paddingTop+this.originalStyleObj.paddingBottom+this.originalStyleObj.borderTopWidth+this.originalStyleObj.borderBottomWidth);if(_1e==true&&this.focusedSizeFlag==false){this.setStyle("height",(_1f-_22)+"px");this.setStyle("width",(_20-_21)+"px");this.focusedSizeFlag=true;}else{if(_1e==false&&this.focusedSizeFlag==true){this.setStyle("height",(_1f+_22)+"px");this.setStyle("width",(_20+_21)+"px");this.focusedSizeFlag=false;}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.setVerticalAlign=function(){["WebSquare.uiplugin.input.setVerticalAlign"];try{if(WebSquare.util.isIE()){var _23=this.getSize("height")||parseInt(this.getStyle("height"));if(!isNaN(_23)){this.setStyle("lineHeight",_23+"px");}}else{}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.onPropertyChange=function(_24,_25){["WebSquare.uiplugin.input.onPropertyChange"];try{switch(_24){case "disabled":break;case "readOnly":if(_25==true){this.addClass(this.render,this.options.readOnlyClass);}else{this.removeClass(this.render,this.options.readOnlyClass);}break;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.getFormattedValue=function(){["WebSquare.uiplugin.input.getFormattedValue"];try{var _26=this.render.value;return _26;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.validate=function(){["WebSquare.uiplugin.input.validate"];try{var _27=this.validator.validate(this.getValue());if(!_27){this.focus();}return _27;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.getDataType=function(){["WebSquare.uiplugin.input.getDataType"];try{return this.options.dataType;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.setDisplayFormat=function(_28){["WebSquare.uiplugin.input.setDisplayFormat"];try{this.options.displayFormat=_28;var _29=this.getValue();if(this.options.dataType==="number"){this.formatter=WebSquare.format.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);if(this.options.displayFormat==""){this.validator.removeCommand(new WebSquare.validator.numberCommand(this.options.delimeter,this.options.decimalDelimeter));this.validator.addCommand(new WebSquare.validator.allowCharCommand("+\\-.0-9"));}else{this.validator.removeCommand(new WebSquare.validator.allowCharCommand("+\\-.0-9"));this.validator.addCommand(new WebSquare.validator.numberCommand(this.options.delimeter,this.options.decimalDelimeter));}}this.formatter.setMasking(_28);this.setValueNM(_29);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.changeCurrency=function(_2a,_2b,_2c,_2d){["WebSquare.uiplugin.input.changeCurrency"];try{if(!_2a||(_2a!=="number"&&_2a!=="euro"&&_2a!=="rupee"&&_2a!=="tenge")){return;}var _2e=this.options.decimalDelimeter;switch(_2a){case "number":if(!_2b){_2b=this.options.numberMask;}this.options.delimeter=_2c||",";this.options.decimalDelimeter=_2d||".";break;case "euro":if(!_2b){_2b=this.options.euroMask;}this.options.delimeter=_2c||".";this.options.decimalDelimeter=_2d||",";break;case "rupee":if(!_2b){_2b=this.options.rupeeMask;}this.options.delimeter=_2c||",";this.options.decimalDelimeter=_2d||".";break;case "tenge":if(!_2b){_2b=this.options.tengeMask;}this.options.delimeter=_2c||" ";this.options.decimalDelimeter=_2d||"-";break;}if(!_2b){return;}this.options.dataType=_2a;this.options.displayFormat=_2b;var _2f=this.getValue();if(_2f.lastIndexOf(_2e)>-1){_2f=_2f.split(_2e).join(this.options.decimalDelimeter);}this.formatter=WebSquare.format.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);this.validator.clearCommand();if(this.options.dataType==="number"){this.validator.addCommand(new WebSquare.validator.numberCommand(this.options.delimeter,this.options.decimalDelimeter));}else{if(this.options.dataType==="euro"){this.validator.addCommand(new WebSquare.validator.euroCommand(this.options.delimeter,this.options.decimalDelimeter));}else{if(this.options.dataType==="rupee"){this.validator.addCommand(new WebSquare.validator.rupeeCommand(this.options.delimeter,this.options.decimalDelimeter));}else{if(this.options.dataType==="tenge"){this.validator.addCommand(new WebSquare.validator.tengeCommand(this.options.delimeter,this.options.decimalDelimeter));}}}}this.formatter.setMasking(_2b);this.setValueNM(_2f);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.getDisplayFormat=function(){["WebSquare.uiplugin.input.getDisplayFormat"];try{return this.options.displayFormat;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.setDisplayFormatter=function(_30){["WebSquare.uiplugin.input.setDisplayFormatter"];try{this.options.displayFormatter=_30;this.formatter=WebSquare.format.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);this.setValueNM(this.getValue());}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.getDisplayFormatter=function(){["WebSquare.uiplugin.input.getDisplayFormatter"];try{return this.options.displayFormatter;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.getDisplayValue=function(){["WebSquare.uiplugin.input.getDisplayValue"];try{return this.formatter.format(this.getValue());}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.getIOValue=function(){["WebSquare.uiplugin.input.getIOValue"];try{return this.getValue();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.getIOFormat=function(){["WebSquare.uiplugin.input.getIOFormat"];try{return this.options.ioFormat;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.getIOFormatter=function(){["WebSquare.uiplugin.input.getIOFormatter"];try{return this.options.ioFormatter;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.setInitValue=function(_31){["WebSquare.uiplugin.input.setInitValue"];try{var _32=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_31.fireEvent){if(_32!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.checkMaxByteLength=function(){["WebSquare.uiplugin.input.checkMaxByteLength"];if(this.options.maxByteLength!=-1){var _33=this.render.value;var _34=WebSquare.util.getStringByByteSize(_33,this.options.maxByteLength);if(_33!=_34){this.reFocus=true;this.setValueNM("");this.blur();this.focus();this.setValueNM(_34);}}};WebSquare.uiplugin.input.prototype.setRef=function(ref){["WebSquare.uiplugin.input.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.input.prototype.handleBlurEventBasic=function(e){["WebSquare.uiplugin.input.handleBlurEventBasic"];try{WebSquare.event.fireEvent(this,"oneditend");this.setFocusSize(false);this.removeClass(this.render,this.options.onFocusClass);this.setValue(this.getValue());var _37=WebSquare.historyManager.get(this.options.pluginName,this.id);if(_37.value!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}WebSquare.event.fireEvent(this,"onblur",e);WebSquare.event.fireEvent(this,"onafteredit");if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value=this.options.placeholder;this.addClass("w2input_placeholder");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.handleSelectAfter=function(e){["WebSquare.uiplugin.input.handleSelectAfter"];if(this.options.editType=="select"&&this._getFocused){this.render.select();this._getFocused=false;}};WebSquare.uiplugin.input.prototype.handleFocusinEvent=function(e){["WebSquare.uiplugin.input.handleFocusinEvent"];this.addClass(this.render,this.options.onFocusClass);var _3a=this.render.value;if(this.options.applyFormat!="all"){_3a=this.formatter.unformat(_3a);}if(_3a!=this.render.value){this.render.value=_3a;}this._focusStatus="focusin";};WebSquare.uiplugin.input.prototype.handleBeforeFocusEvent=function(e){["WebSquare.uiplugin.input.handleBeforeFocusEvent"];switch(this._focusStatus){case "init":this._focusStatus="ready";break;case "ready":this._focusStatus="cancel";this.focus();break;case "done":this._focusStatus="init";break;}};WebSquare.uiplugin.input.prototype.handleFocusValueEventAdv=function(e){["WebSquare.uiplugin.input.prototype.handleFocusValueEventAdv"];try{if(this.options.placeholder&&!this.supportPlaceholder){if(this.realValue.length==0){this.render.value="";this.removeClass("w2input_placeholder");}}WebSquare.event.fireEvent(this,"onbeforeedit");var _3d=this;WebSquare.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{onRestore:function(_3e){_3d.setValue(_3e.value);}});if(!this.originalStyleObj){this.originalStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}this.addClass(this.render,this.options.onFocusClass);if(!this.focusStyleObj){this.focusStyleObj={paddingTop:parseInt(this.getStyle("padding-top"))||0,paddingBottom:parseInt(this.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.getStyle("padding-left"))||0,paddingRight:parseInt(this.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.getStyle("border-right-width"))||0};}if(this.reFocus){this.reFocus=null;}else{if(this.options.editType=="select"){if(WebSquare.util.isChrome()||WebSquare.util.isSafari()){this._getFocused=true;}else{this.render.select();}}}this.setFocusSize(true);if(this.inputEvented==false){this.inputEvented=true;this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEventBasic));this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));this.event.addListener(this.render,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));if(WebSquare.util.isFF()){this.event.addListener(this.render,"oninput",this.event.bindAsEventListener(this,this.checkMaxByteLength));}if(this.options.dataType=="number"){this.setStyle("imeMode","disabled");}}var _3f=this.render.value;if(this.options.applyFormat!="all"){_3f=this.formatter.unformat(_3f);}if(_3f!=this.render.value){this.render.value=_3f;}WebSquare.event.fireEvent(this,"onfocus",e);this._focusStatus="done";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.input.handleKeydownEvent"];try{var _41=(e.charCode)?e.charCode:e.keyCode;if(_41==37){}else{if(_41==38){}else{if(_41==39){}else{if(_41==40){}else{if(_41==13){this.blurHandler=true;}else{if(_41==27){this.blurHandler=true;}else{if(_41==33){}else{if(_41==34){}else{if(_41==35){}else{if(_41==36){}else{if(_41==113){}else{}}}}}}}}}}}if(WebSquare.util.isOpera()){this.checkMaxByteLength();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.handleKeypressEvent=function(e){["WebSquare.uiplugin.input.handleKeypressEvent"];try{var _43=(e.charCode)?e.charCode:e.keyCode;var _44=this.render.value;if(this.options.applyFormat=="all"){_44=this.formatter.unformat(_44);}if(!this.validator.validateKeyPress(this.render,_44,e)){WebSquare.event.stopEvent(e);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.handleKeyupEvent=function(e){["WebSquare.uiplugin.input.handleKeyupEvent"];try{var _46=(e.charCode)?e.charCode:e.keyCode;if(_46==37){}else{if(_46==38){}else{if(_46==39){}else{if(_46==40){}else{if(_46==13){if(this.blurHandler==true&&this.options.useKeyupBlur==true){if(this.options.enterBlur===true){this.blur();this.blurHandler=false;}else{var _47=this.getValue();var _48=this.modelControl.getData();this.noRefresh=true;this.modelControl.setData(_47);this.noRefresh=false;if(_48!=_47){WebSquare.event.fireEvent(this,"onchange");}}}}else{if(_46==27){if(this.blurHandler==true&&this.options.useKeyupBlur==true){this.blur();this.blurHandler=false;}}else{if(_46==33){}else{if(_46==34){}else{if(_46==35){}else{if(_46==36){}else{if(_46==113){}else{if(_46==16){}else{if(this.options.applyFormat=="all"){var _47=this.render.value;var pos=WebSquare.text.getCaretPos(this.render);var _4a=0;var _4b=0;_4a=_47.length;_47=this.formatter.unformat(_47);_47=this.validator.validateString(_47);_47=this.formatter.format(_47,true);_47=this.validator.validateString(_47);_47=this.formatter.format(_47,true);_4b=_47.length;this.render.value=_47;WebSquare.text.setCaretPos(this.render,pos+_4b-_4a);}this.checkMaxByteLength();}}}}}}}}}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.input.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.input.handleBlurEvent"];try{this.setFocusSize(false);this.removeClass(this.render,this.options.onFocusClass);this.setValue(this.getValue());var _4d=WebSquare.historyManager.get(this.options.pluginName,this.id);if(_4d.value!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}WebSquare.event.fireEvent(this,"onblur",e);this._focusStatus="init";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layer=function(id,_2,_3){["WebSquare.uiplugin.layer"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.layer.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.layer.prototype.defaultOptions={pluginType:"uiplugin.layer",pluginName:"layer"};WebSquare.uiplugin.layer.prototype.initialize=function(_4){};WebSquare.uiplugin.layer.prototype.setLayout=function(){["WebSquare.uiplugin.layer.setLayout"];};WebSquare.uiplugin.layer.prototype.toHTML=function(){["WebSquare.uiplugin.layer.toHTML"];try{var _5=[];_5.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2layer "+this.options.className+"'>");_5.push("</div>");return _5.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layer.prototype.setAction=function(){};WebSquare.uiplugin.layer.prototype.setValue=function(_6){["WebSquare.uiplugin.layer.setValue"];try{this.render.innerHTML=_6;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.trigger=function(id,_2,_3){["WebSquare.uiplugin.trigger"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.trigger.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.trigger.prototype.defaultOptions={pluginType:"uiplugin.trigger",pluginName:"trigger",useConfig:true,type:"button",leftOnImageClass:"w2trigger_left",centerOnImageClass:"w2trigger_center",rightOnImageClass:"w2trigger_right",leftOffImageClass:"w2trigger_left",centerOffImageClass:"w2trigger_center",rightOffImageClass:"w2trigger_right",singleClassMode:false,localeRef:"",title:""};WebSquare.uiplugin.trigger.prototype.initialize=function(_4){["WebSquare.uiplugin.trigger.initialize"];try{this.evented=false;if(this.options.localeRef!=""){this.options.value=this.getLocaleValue();}else{if(_4){var _5=WebSquare.WebSquareparser.parseLabel(_4);if(_5){this.options.value=_5.value;}}}if(this.options.leftOnImageClass!="w2trigger_left"&&this.options.centerOnImageClass=="w2trigger_center"&&this.options.rightOnImageClass=="w2trigger_right"){this.options.singleClassMode=true;}this.options=WebSquare.cssManager.styleToClass(this.id,this.options);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.trigger.prototype.toHTML=function(){["WebSquare.uiplugin.trigger.toHTML"];try{var _6=[];var _7=this.options.value.wq_replaceAll("'","&#39;");var _8=this.options.title==""?"":" title='"+this.options.title.wq_replaceAll("'","&#39;")+"'";if(this.options.type.toLowerCase()=="button"){_6.push("<input type='button' id='"+this.id+"' style='"+this.options.style+"' class='w2trigger "+this.options.className+"' value='"+_7+"' "+_8+" />");}else{if(this.options.type.toLowerCase()=="image"){_6.push("<table tabIndex='0' role='button' id='"+this.id+"' style='"+this.options.style+"' class='w2trigger w2trigger_table "+this.options.className+"' "+_8+" cellpadding='0' cellspacing='0'  onkeydown='if( event.keyCode == 32 || event.keyCode == 13 ) click();' >");_6.push("<tbody>");_6.push("<tr id='"+this.id+"_row'>");if(this.options.singleClassMode==true){_6.push("<td id='"+this.id+"_left' class='w2trigger_col_left "+this.options.leftOffImageClass+"'></td>");_6.push("<td id='"+this.id+"_center' class='w2trigger_col_center w2trigger_label '>"+this.options.value+"</td>");_6.push("<td id='"+this.id+"_right' class='w2trigger_col_right '></td>");}else{_6.push("<td id='"+this.id+"_left' class='w2trigger_col_left "+this.options.leftOffImageClass+"'></td>");_6.push("<td id='"+this.id+"_center' class='w2trigger_col_center "+this.options.centerOffImageClass+" w2trigger_label '>"+this.options.value+"</td>");_6.push("<td id='"+this.id+"_right' class='w2trigger_col_right "+this.options.rightOffImageClass+"'></td>");}_6.push("</tr>");_6.push("</tbody>");_6.push("</table>");}}return _6.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.trigger.prototype.setAction=function(){["WebSquare.uiplugin.trigger.setAction"];try{if(this.options.type.toLowerCase()=="image"){this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));}else{this.dom.input=document.getElementById(this.id);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.trigger.prototype.setLabel=function(_9){["WebSquare.uiplugin.trigger.setLabel"];try{if(!this.options.disabled){this.options.value=_9;if(this.options.localeRef!=""){_9=this.getLocaleValue();}if(this.options.type.toLowerCase()=="button"){this.dom.input.value=_9;}else{var _a=this.getElementById(this.id+"_center");_a.innerHTML=_9;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.trigger.prototype.setValue=function(_b){["WebSquare.uiplugin.trigger.setValue"];try{this.setLabel(_b);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.trigger.prototype.getLabel=function(){["WebSquare.uiplugin.trigger.getLabel"];try{return this.options.value;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.trigger.prototype.getValue=function(){["WebSquare.uiplugin.trigger.getValue"];try{return this.options.value;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.trigger.prototype.setBackgroundImage=function(_c){["WebSquare.uiplugin.trigger.setBackgroundImage"];try{if(this.options.type=="button"){_c=_c.wq_trim();if(_c.startsWith("url")){this.render.style.backgroundImage=WebSquare.core.getURL(_c);}else{this.render.style.backgroundImage="url("+WebSquare.core.getURL(_c)+")";}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.trigger.prototype.getBackgroundImage=function(){["WebSquare.uiplugin.trigger.getBackgroundImage"];try{if(this.options.type=="button"){return this.render.style.backgroundImage;}else{return "";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.trigger.prototype.getType=function(){["WebSquare.uiplugin.trigger.getType"];try{return this.options.type;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.trigger.prototype.onPropertyChange=function(_d,_e){["WebSquare.uiplugin.trigger.onPropertyChange"];try{var _f=(this.options.type=="image")?this.getElementById(this.id+"_row"):this.render;switch(_d){case "disabled":var row=this.getElementById(this.id+"_row");if(this.options.type=="image"){if(_e==true){this.removeClass(_f,"w2trigger_over");this.addClass(_f,"w2trigger_disabled");}else{this.removeClass(_f,"w2trigger_disabled");}}else{if(_e==true){this.removeClass(_f,"w2trigger");this.addClass(_f,"w2trigger_disabled");}else{this.addClass(_f,"w2trigger");this.removeClass(_f,"w2trigger_disabled");}}break;case "readOnly":if(_e==true){this.addClass(_f,"w2trigger_readOnly");}else{this.removeClass(_f,"w2trigger_readOnly");}break;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.trigger.prototype.handleMouseoverEvent=function(){["WebSquare.uiplugin.trigger.handleMouseoverEvent"];try{if(this.options.disabled==true){return;}var row=this.getElementById(this.id+"_row");this.addClass(row,"w2trigger_over");if(this.options.type=="image"){if(this.evented==false){this.evented=true;this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleMouseupEvent));}this.changeClass(this.getElementById(this.id+"_left"),this.options.leftOffImageClass,this.options.leftOnImageClass);if(this.options.singleClassMode==false){this.changeClass(this.getElementById(this.id+"_center"),this.options.centerOffImageClass,this.options.centerOnImageClass);this.changeClass(this.getElementById(this.id+"_right"),this.options.rightOffImageClass,this.options.rightOnImageClass);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.trigger.prototype.handleMouseoutEvent=function(){["WebSquare.uiplugin.trigger.handleMouseoutEvent"];try{if(this.options.disabled==true){return;}var row=this.getElementById(this.id+"_row");this.removeClass(row,"w2trigger_over");this.removeClass(row,"w2trigger_press");if(this.options.type=="image"){this.changeClass(this.getElementById(this.id+"_left"),this.options.leftOnImageClass,this.options.leftOffImageClass);if(this.options.singleClassMode==false){this.changeClass(this.getElementById(this.id+"_center"),this.options.centerOnImageClass,this.options.centerOffImageClass);this.changeClass(this.getElementById(this.id+"_right"),this.options.rightOnImageClass,this.options.rightOffImageClass);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.trigger.prototype.handleMousedownEvent=function(){["WebSquare.uiplugin.trigger.handleMouseoutEvent"];try{var row=this.getElementById(this.id+"_row");this.addClass(row,"w2trigger_press");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.trigger.prototype.handleMouseupEvent=function(){["WebSquare.uiplugin.trigger.handleMouseupEvent"];try{var row=this.getElementById(this.id+"_row");this.removeClass(row,"w2trigger_press");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};requires("uiplugin.trigger");WebSquare.uiplugin.submit=function(id,_2,_3){["WebSquare.uiplugin.submit"];WebSquare.uiplugin.trigger.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.submit.prototype,WebSquare.uiplugin.trigger.prototype);WebSquare.uiplugin.submit.prototype.defaultOptions={pluginType:"uiplugin.submit",pluginName:"submit",type:"button",submission:"",submitType:"async",syncMsg:"",leftOnImageClass:"w2trigger_left",centerOnImageClass:"w2trigger_center",rightOnImageClass:"w2trigger_right",leftOffImageClass:"w2trigger_left",centerOffImageClass:"w2trigger_center",rightOffImageClass:"w2trigger_right"};WebSquare.uiplugin.submit.prototype.initialize=function(_4){["WebSquare.uiplugin.submit.initialize"];try{WebSquare.uiplugin.trigger.prototype.initialize.call(this,_4);this.submission=WebSquare.ModelUtil.getSubmission(this.options.submission);this.options=WebSquare.cssManager.styleToClass(this.id,this.options);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.submit.prototype.setAction=function(){["WebSquare.uiplugin.submit.setAction"];try{WebSquare.uiplugin.trigger.prototype.setAction.call(this);this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.submitEvent));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.submit.prototype.submitEvent=function(){["WebSquare.uiplugin.submit.submitEvent"];try{if(this.options.submitType=="sync"){if(this.submission.processStatus==1&&this.syncMsg!=""){alert(this.syncMsg);return;}if(this.submission.processStatus==1){return;}WebSquare.ModelUtil.executeSubmission(this.submission,null,this);}else{WebSquare.ModelUtil.executeSubmission(this.submission);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.submit.prototype.getSubmission=function(){["WebSquare.uiplugin.submit.getSubmission"];try{return this.submission;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.submit.prototype.setSubmission=function(_5){["WebSquare.uiplugin.submit.setSubmission"];try{this.options.submission=_5;this.submission=WebSquare.ModelUtil.getSubmission(_5);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};requires("engine/formatter.js");requires("uiplugin/control/cssCustomizer.js");WebSquare.uiplugin.output=function(id,_2,_3){["WebSquare.uiplugin.output"];WebSquare.xfControl.call(this,id,_2,_3);var _4=["div","label","h1","h2","h3","h4","h5","h6"];this.options.tagname=this.options["for"]!=""?"label":this.options.tagname;var _5;for(_5=0;_5<_4.length;_5++){if(_4[_5]==this.options.tagname){break;}}if(_5>=_4.length){this.options.tagname=_4[0];}};WebSquare.extend(WebSquare.uiplugin.output.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.output.prototype,WebSquare.cssCustomizer.prototype);WebSquare.uiplugin.output.prototype.defaultOptions={pluginType:"uiplugin.output",pluginName:"output",useConfig:true,label:"",ioFormat:"",displayFormat:"",displayFormatter:null,dataType:"text",localeRef:"",escape:false,"for":"",tagname:"div",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",delimeter:"",decimalDelimeter:""};WebSquare.uiplugin.output.prototype.initialize=function(_6){["WebSquare.uiplugin.output.initialize"];try{if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}this.formatter=WebSquare.format.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);if(_6){var _7=WebSquare.WebSquareparser.parseLabel(_6);if(_7){this.options.label=_7.value;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.htmlStr=["<",null," id='",null,"' style='",null,"' class='w2output ",null,"' ",null,">",null,"</",null,">"];WebSquare.uiplugin.output.prototype.toHTML=function(){["WebSquare.uiplugin.output.toHTML"];try{var _8=WebSquare.uiplugin.output.htmlStr;var _9=this.options.escape?this.formatter.format(WebSquare.xml._encode(this.options.label)):this.formatter.format(this.options.label);_8[1]=this.options.tagname;_8[3]=this.id;_8[5]=this.options.style;_8[7]=this.options.className;_8[9]=this.options.tagname=="label"?"for='"+this.options["for"]+"'":"";_8[11]=_9;_8[13]=this.options.tagname;return _8.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.setAction=function(){["WebSquare.uiplugin.output.setAction"];try{this.setVerticalAlign();if(this.modelControl.isBinded()){var _a=this.modelControl.getData();this.setValueNM(_a);}this.displayLocaleValue();if(this.options.tagname!="label"||this.options["for"]==""){return;}var _b=window[this.options["for"]]||null;if(_b==null){return;}var _c=typeof _b.getAccessibiltyId=="function"?_b.getAccessibiltyId():this.options["for"];this.render.setAttribute("for",_c);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.refresh=function(){["WebSquare.uiplugin.output.refresh"];try{if(this.modelControl.isBinded()){var _d=this.modelControl.getData();this.setValueNM(_d);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.setVerticalAlign=function(){["WebSquare.uiplugin.output.setVerticalAlign"];try{var _e="top";var _f=this.options.style.toLowerCase();if(_f.match(/vertical-align[\s]*:[\s]*middle/)){_e="middle";}else{if(_f.match(/vertical-align[\s]*:[\s]*bottom/)){_e="bottom";}}if(_e=="top"){}else{var _10=this.getStyle("height");if(_10.indexOf("px")>-1){_10=parseInt(_10);var _11=parseInt(this.getStyle("padding-top"))||0;var _12=parseInt(this.getStyle("font-size"))||0;var _13=0;if(_e=="middle"){_13=Math.floor((_10-_12)/2);}else{if(_e=="bottom"){_13=Math.floor(_10-_12);}}if((_13+_11)>0&&(_10-_13)>0){this.setStyle("paddingTop",_13+_11+"px");this.setStyle("height",(_10-_13)+"px");}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.setValue=function(_14){["WebSquare.uiplugin.output.setValue"];try{this.setValueNM(_14);this.modelControl.setData(_14);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.setValue1=function(_15){["WebSquare.uiplugin.output.setValue1"];try{this.setValue(_15);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.setValueNM=function(_16){["WebSquare.uiplugin.output.setValueNM"];try{if(WebSquare.util.isNull(_16)){return;}_16=_16.toString();this.options.label=_16;this.render.innerHTML=this.options.escape?this.formatter.format(WebSquare.xml._encode(_16+"")):this.formatter.format(_16);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.setWidth=function(_17){["WebSquare.uiplugin.output.setWidth"];try{if(!isNaN(parseInt(_17))){this.render.style.width=_17+"px";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.setHeight=function(_18){["WebSquare.uiplugin.output.setHeight"];try{_18=parseInt(_18,10);if(!isNaN(_18)){this.render.style.height=_18+"px";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.setBackgroundImage=function(url){["WebSquare.uiplugin.output.setBackgroundImage"];try{if(typeof url=="undefined"||url==null||url==""){this.render.style.backgroundImage="";}else{this.render.style.backgroundImage=WebSquare.core.getImageURL(url,true);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.getFormatValue=function(){["WebSquare.uiplugin.output.getFormatValue"];try{return this.formatter.format(this.options.label);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.getLabel=function(){["WebSquare.uiplugin.output.getLabel"];try{return this.getValue();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.setLabel=function(_1a){["WebSquare.uiplugin.output.setLabel"];try{this.setValue(_1a);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.getValue=function(){["WebSquare.uiplugin.output.getValue"];try{return this.formatter.format(this.options.label);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.setLocaleRef=function(_1b){["WebSquare.uiplugin.output.setLocaleRef"];try{this.options.localeRef=_1b;this.displayLocaleValue();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.onPropertyChange=function(_1c,_1d){["WebSquare.uiplugin.output.onPropertyChange"];try{switch(_1c){case "disabled":if(_1d==true){this.addClass(this.render,"w2output_disabled");this.setStyle("color","#c0c0c0");}else{this.removeClass(this.render,"w2output_disabled");this.setStyle("color","");}break;case "readOnly":break;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.getRawValue=function(){["WebSquare.uiplugin.output.getRawValue"];try{return this.options.label;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.setDisplayFormat=function(_1e){["WebSquare.uiplugin.output.setDisplayFormat"];try{this.options.displayFormat=_1e;this.formatter=WebSquare.format.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.setValueNM(this.options.label);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.output.prototype.setRef=function(ref){["WebSquare.uiplugin.output.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.anchor=function(id,_2,_3){["WebSquare.uiplugin.anchor"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.anchor.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.anchor.prototype.defaultOptions={pluginType:"uiplugin.anchor",pluginName:"anchor",userEvents:["onclick"],outerDiv:true,clickEventElement:"anchor",label:"",href:"",name:"",target:"",title:"",useLocale:false,localeRef:"",disabled:false};WebSquare.uiplugin.anchor.prototype.initialize=function(_4){["WebSquare.uiplugin.anchor.initialize"];try{if(_4){var _5=WebSquare.WebSquareparser.parseLabel(_4);if(_5){this.options.label=_5.value;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.anchor.prototype.htmlStr1=["<div id='",,"' style='",,"' class='w2anchor ",,"'><a href='",,"' ",,">",,"</a></div>"];WebSquare.uiplugin.anchor.prototype.htmlStr2=["<a id='",,"' style='",,"' class='w2anchor2 ",,"' href='",,"' ",,">",,"</a>"];WebSquare.uiplugin.anchor.prototype.toHTML=function(){["WebSquare.uiplugin.anchor.toHTML"];try{var _6=this.options.outerDiv?this.htmlStr1:this.htmlStr2;_6[1]=this.id;_6[3]=this.options.style;_6[5]=this.options.className;_6[7]=this.options.href?this.options.href:"javascript:void(null);";_6[9]=(this.options.name?"name=\""+this.options.name+"\" ":"")+(this.options.target?"target=\""+this.options.target+"\" ":"")+(this.options.title?"title=\""+this.options.title+"\" ":"");var _7=this.options.useLocale==true?this.getLocaleValue(this.options.localeRef):this.options.label||this.options.label;_6[11]=_7;return _6.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.anchor.prototype.setAction=function(){["WebSquare.uiplugin.anchor.setAction"];try{this.dom.anchor=this.render.tagName=="A"?this.render:this.render.firstChild;this.setVerticalAlign();if(this.modelControl.isBinded()){var _8=this.modelControl.getData();this.setValueNM(_8);}if(this.options.outerDiv&&this.options.clickEventElement==="outerDiv"){this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}else{this.event.addListener(this.dom.anchor,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.anchor.prototype.refresh=function(){["WebSquare.uiplugin.anchor.refresh"];try{if(this.modelControl.isBinded()){var _9=this.modelControl.getData();this.setValueNM(_9);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.anchor.prototype.setVerticalAlign=function(){["WebSquare.uiplugin.anchor.setVerticalAlign"];try{var _a="top";var _b=this.options.style.toLowerCase();if(_b.match(/vertical-align[\s]*:[\s]*middle/)){_a="middle";}else{if(_b.match(/vertical-align[\s]*:[\s]*bottom/)){_a="bottom";}}if(_a=="top"){}else{var _c=this.getStyleValue("height");if(_c.indexOf("px")>-1){_c=parseInt(_c);var _d=parseInt(this.getStyleValue("padding-top"))||0;var _e=parseInt(this.getStyleValue("font-size"))||0;var _f=0;if(_a=="middle"){_f=Math.floor((_c-_e)/2);}else{if(_a=="bottom"){_f=Math.floor(_c-_e);}}if((_f+_d)>0&&(_c-_f)>0){this.setStyle("paddingTop",_f+_d+"px");this.setStyle("height",(_c-_f)+"px");}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.anchor.prototype.setValue=function(_10){["WebSquare.uiplugin.anchor.setValue"];try{this.setValueNM(_10);this.modelControl.setData(_10);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.anchor.prototype.setValueNM=function(_11){["WebSquare.uiplugin.anchor.setValueNM"];try{if(WebSquare.util.isNull(_11)){return;}_11=_11.toString();this.options.label=_11;this.dom.anchor.innerHTML=_11;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.anchor.prototype.getValue=function(){["WebSquare.uiplugin.anchor.getValue"];try{return this.options.label;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.anchor.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.anchor.handleClickEvent"];try{var _13=WebSquare.event.getTarget(e);if(_13&&this.options.outerDiv&&_13===this.render){this.dom.anchor.click();return;}if(this.options.href.wq_trim()==""){WebSquare.event.stopEvent(e);}WebSquare.event.fireEvent(this,"onclick");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.anchor.prototype.setHref=function(_14){["WebSquare.uiplugin.anchor.setHref"];try{this.options.href=_14;this.dom.anchor.href=_14;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.anchor.prototype.getHref=function(){["WebSquare.uiplugin.anchor.getHref"];try{return this.dom.anchor.href;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.anchor.prototype.setDisabled=function(_15){["WebSquare.uiplugin.anchor.setDisabled"];try{if(this.options.outerDiv){this.dom.anchor.disabled=_15;}WebSquare.xfControl.prototype.setDisabled.call(this,_15);if(_15){this.addClass(this.render,"w2anchor_disabeld");}else{this.removeClass(this.render,"w2anchor_disabeld");}}catch(e){WebSquare.exception.printStackTrace(e);}return _15;};WebSquare.uiplugin.anchor.prototype.setRef=function(ref){["WebSquare.uiplugin.anchor.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.image=function(id,_2,_3){["WebSquare.uiplugin.image"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.image.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.image.prototype.defaultOptions={pluginType:"uiplugin.image",pluginName:"image",src:"",alt:"",title:"",longdesc:""};WebSquare.uiplugin.image.prototype.initialize=function(_4){};WebSquare.uiplugin.image.prototype.toHTML=function(){["WebSquare.uiplugin.image.toHTML"];try{var _5=[];var _6=WebSquare.core.getImageURL(this.options.src);var _7=this.options.title?" title='"+this.options.title+"'":"";var _8=this.options.usemap?" usemap='"+this.options.usemap+"'":"";var _9=this.options.longdesc?" longdesc='"+this.options.longdesc+"'":"";_5.push("<img id='"+this.id+"' src='"+_6+"' style='"+this.options.style+"' class='w2image "+this.options.className+"' alt='"+this.options.alt+"'"+_7+_8+_9+" />");return _5.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.image.prototype.setAction=function(){["WebSquare.uiplugin.image.setAction"];try{this.refresh();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.image.prototype.refresh=function(){["WebSquare.uiplugin.image.refresh"];try{if(this.modelControl.isBinded()){var _a=this.modelControl.getData();this.setSrcNM(_a);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.image.prototype.setSrc=function(_b){["WebSquare.uiplugin.image.setSrc"];try{var _c=WebSquare.core.getImageURL(_b);this.render.src=_c;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.image.prototype.setSrcNM=function(_d){["WebSquare.uiplugin.image.setSrcNM"];try{var _e=WebSquare.core.getImageURL(_d);this.render.src=_e;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.image.prototype.getSrc=function(){["WebSquare.uiplugin.image.getSrc"];try{return this.render.src;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.image.prototype.setLongdesc=function(_f){["WebSquare.uiplugin.image.setLongdesc"];try{this.render.longDesc=_f;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.image.prototype.getLongdesc=function(){["WebSquare.uiplugin.image.getLongdesc"];try{return this.render.longDesc;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.image.prototype.setAlt=function(alt){["WebSquare.uiplugin.image.setAlt"];try{this.render.alt=alt;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.image.prototype.getAlt=function(){["WebSquare.uiplugin.image.getAlt"];try{return this.render.alt;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.image.prototype.onPropertyChange=function(_11,_12){["WebSquare.uiplugin.image.onPropertyChange"];try{switch(_11){case "disabled":if(_12==true){this.setOpacity(0.3);this.addClass(this.render,"w2image_disabled");}else{this.setOpacity(1);this.removeClass(this.render,"w2image_disabled");}break;case "readOnly":break;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.iframe=function(id,_2,_3){["WebSquare.uiplugin.iframe"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.iframe.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.iframe.prototype.defaultOptions={pluginType:"uiplugin.iframe",pluginName:"iframe",src:"",scrolling:"",title:"",name:"",allowTransparency:""};WebSquare.uiplugin.iframe.prototype.initialize=function(_4){["WebSquare.uiplugin.iframe.initialize"];try{}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.iframe.prototype.toHTML=function(){["WebSquare.uiplugin.iframe.toHTML"];try{var _5=this.options.src;if(_5!=""){var _6=_5;if(_5.indexOf("?")>-1){_6=_6.substring(0,_6.indexOf("?"));}if(_5!=null){if(_6.substring(_6.lastIndexOf("."))===".xml"){_5=WebSquare.core.getURL(_5);var _7=(location.toString().indexOf("?"));var _8=location.toString().substring(0,_7);if(_7<0){_8=location.toString();}_5=_5.replace("?","&");if(WebSquare.isHoneyComb){if(window.frameElement){window["sessionStorage"][window.frameElement.id]=_5;}else{window["sessionStorage"]["w2xpath"]=_5;}_5=_8;}else{if(WebSquare.util.getBoolean(WebSquare.core.getConfiguration("/WebSquare/stylesheet/@relativePath"))){_5=_8+"?w2xPath="+_5;}else{_5=_8+"?w2xPath="+_5+"&w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot;}}}}_5="src='"+_5+"'";}else{_5=WebSquare.net.getSSLBlankPage();if(_5==""){_5="src='about:blank'";}}var _9=this.options.allowTransparency?" allowTransparency='"+this.options.allowTransparency+"'":"";var _a=this.options.name?" name='"+this.options.name+"'":"";var _b=this.options.scrolling?" scrolling='"+this.options.scrolling+"'":"";return "<iframe id='"+this.id+"' "+_5+" style='"+this.options.style+"' class='w2iframe "+this.options.className+"' frameBorder='0' title='"+this.options.title+"'"+_9+_a+_b+"></iframe>";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.iframe.prototype.setAction=function(){["WebSquare.uiplugin.iframe.setAction"];try{}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.iframe.prototype.setSrc=function(_c,_d){["WebSquare.uiplugin.iframe.setSrc"];try{try{var _e=WebSquare.core.getConfiguration("/WebSquare/clearMemory/@value");if(_e!="true"){if(this.getWindow().WebSquare){this.getWindow().WebSquare.clearMemory();}}}catch(e){}if(_c!="about:blank"){if(location.protocol=="https:"){this.render.setAttribute("src",WebSquare.net.getSSLBlankPage(true));}else{this.render.setAttribute("src","about:blank");}}var _f=_c;if(_c.indexOf("?")>-1){_f=_f.substring(0,_f.indexOf("?"));}if(_c!=null){if(_d===undefined){var url=_f;if(url.indexOf("&")>-1){url=_f.substring(0,_f.indexOf("&"));}if(url.substring(url.lastIndexOf("."))===".xml"){_d="1";}}if(_d==="1"){_c=WebSquare.core.getURL(_c);var idx=(location.toString().indexOf("?"));var str=location.toString().substring(0,idx);if(idx<0){str=location.toString();}_c=_c.replace("?","&");if(WebSquare.isHoneyComb){if(window.frameElement){window["sessionStorage"][window.frameElement.id]=_c;}else{window["sessionStorage"]["w2xpath"]=_c;}_c=str;}else{if(WebSquare.util.getBoolean(WebSquare.core.getConfiguration("/WebSquare/stylesheet/@relativePath"))){_c=str+"?w2xPath="+_c;}else{_c=str+"?w2xPath="+_c+"&w2xHome="+WebSquare.w2xHome+"&w2xDocumentRoot="+WebSquare.w2xDocumentRoot;}}}this.render.setAttribute("src",_c);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.iframe.prototype.getSrc=function(){["WebSquare.uiplugin.iframe.getSrc"];try{return this.render.getAttribute("src");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.iframe.prototype.getWindow=function(){["WebSquare.uiplugin.iframe.getWindow"];try{return this.render.contentWindow;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.iframe.prototype.setDisabled=function(){$l("iframe\uc5d0\uc11c\ub294 setDisabled\ub97c \uc0ac\uc6a9\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");};WebSquare.uiplugin.iframe.prototype.setReadOnly=function(){$l("iframe\uc5d0\uc11c\ub294 setReadOnly\ub97c \uc0ac\uc6a9\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");};requires("uiplugin/control/itemsetControl.js");requires("engine/validator.js");WebSquare.uiplugin.radio=function(id,_2,_3){["WebSquare.uiplugin.radio"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.radio.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.radio.prototype,WebSquare.itemsetControl.prototype);WebSquare.extend(WebSquare.uiplugin.radio.prototype,WebSquare.IValidate.prototype);WebSquare.uiplugin.radio.prototype.defaultOptions={pluginType:"uiplugin.radio",pluginName:"radio",userEvents:["onchange","onlabelclick","onradioclick"],renderType:"table",tagname:"div",itemTagname:"div",value:"",cols:0,rows:0,name:"",selectedIndex:-1,initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,title:"",useRadioTitle:true,inValidValue:"reset",escape:false};WebSquare.uiplugin.radio.prototype.initialize=function(_4){["WebSquare.uiplugin.radio.initialize"];try{this.selectedIndex=-1;this.inputType="radio";if(this.options.renderType=="native"){this.itemArr=[{label:"",value:this.options.value}];}else{this.initializeItemArr(_4);}this.itemDisabledArray=[];for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(false);}this.setTableCount();this.validator=new WebSquare.validator.validateInvoker(this.id,this.options);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.toHTML=function(){["WebSquare.uiplugin.radio.toHTML"];try{var _6=[];var _7="label";var _8=this.itemArr.length;var _9=this.options.name||this.id+"_input";var _a=this.options.title==""?"":" title=\""+this.options.title+"\" ";if(this.options.renderType.toLowerCase()=="native"){_6.push("<input type='"+this.inputType+"' style='"+this.options.style+"' class='w2"+this.inputType+"_input' name='"+_9+"' id='"+this.id+"' index='0'"+_a+" />");}else{if(this.options.renderType.toLowerCase()=="radiogroup"){_6.push("<"+this.options.tagname+" id='"+this.id+"' style='"+this.options.style+"' class='w2"+this.inputType+" "+this.options.className+"' "+_a+" >");for(var i=0;i<_8;i++){var _c=this.id+"_input_"+i;var _d=(this.options.escape)?WebSquare.xml._encode(this.itemArr[i].label):this.itemArr[i].label;var _e=this.options.useRadioTitle?" title='"+_d+"' ":"";var _f="";var _10="";if(this.itemDisabledArray[i]){_f="disabled";_10="w2radio_disabled";}_6.push("<"+this.options.itemTagname+" class='w2radio_item w2radio_item_"+i+"'>");_6.push("<input type='"+this.inputType+"' class='w2"+this.inputType+"_input' name='"+_9+"' index='"+i+"'  id='"+_c+"'"+_e+" "+_f+"/>");_6.push("<"+_7+" class='w2"+this.inputType+"_label "+_10+"' index='"+i+"' "+(_7=="label"?"for='"+_c+"'":"")+" >"+_d+"</"+_7+">");_6.push("</"+this.options.itemTagname+">");}_6.push("</"+this.options.tagname+">");}else{_6.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2"+this.inputType+" "+this.options.className+"'  "+_a+" >");_6.push("<table class='w2"+this.inputType+"_main' cellpadding='0' cellspacing='0'>");for(var row=0;row<this.rowCount;row++){var _c=this.id+"_input_"+row;_6.push("<tr class='w2"+this.inputType+"_row'>");for(var col=0;col<this.colCount;col++){var _13=row*this.colCount+col;var _c=this.id+"_input_"+_13;var _f="";var _10="";if(this.itemDisabledArray[_13]){_f="disabled";_10="w2radio_disabled";}if(_13<_8){var _d=(this.options.escape)?WebSquare.xml._encode(this.itemArr[_13].label):this.itemArr[_13].label;var _e=this.options.useRadioTitle?" title='"+_d+"' ":"";_6.push("<td class='w2"+this.inputType+"_td_input'><input type='",this.inputType,"' class='w2"+this.inputType+"_input' name='"+_9+"' index='"+_13+"'  id='"+_c+"'"+_e+" "+_f+"/></td>");_6.push("<td class='w2"+this.inputType+"_td_label' ><"+_7+" class='w2"+this.inputType+"_label "+_10+"' index='"+_13+"' "+(_7=="label"?"for='"+_c+"'":"")+" >"+_d+"</"+_7+"></td>");}else{_6.push("<td class='w2"+this.inputType+"_td_input'></td>");_6.push("<td class='w2"+this.inputType+"_td_label'></td>");}}_6.push("</tr>");}_6.push("</table>");_6.push("</div>");}}return _6.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.setAction=function(){["WebSquare.uiplugin.radio.setAction"];try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _14=this.modelControl.getData();this.setValueNM(_14);}if(this.options.selectedIndex>-1){this.setSelectedIndexNM(this.options.selectedIndex);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.getAccessibiltyId=function(){["WebSquare.uiplugin.radio.getAccessibiltyId"];try{return this.options.renderType=="native"?this.id:this.id+"_input_0";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.refreshItemset=function(){["WebSquare.uiplugin.radio.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){var _15=this.getValue();this.refreshItemArr();this.itemDisabledArray=new Array();for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(this.options.disabled);}this.componentRedraw(_15);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.refresh=function(){["WebSquare.uiplugin.radio.refresh"];try{if(this.modelControl.isBinded()){var _17=this.getValue();var _18=this.modelControl.getData();this.setValueNM(_18);if(_17!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.componentRedraw=function(_19){["WebSquare.uiplugin.radio.componentRedraw"];try{this.setTableCount();this.redraw();this.setValueNM(_19);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.getItemCount=function(){["WebSquare.uiplugin.radio.getItemCount"];try{return this.itemArr.length;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.radio.setSelectedIndex"];try{if(WebSquare.util.isNull(idx)){return;}idx=parseInt(idx);var _1b=this.getSelectedIndex();this.setSelectedIndexNM(idx);this.modelControl.setData(this.itemArr[idx].value);if(_1b!=this.getSelectedIndex()){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.selectbox.getSelectedIndex"];try{return this.selectedIndex;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.setSelectedIndexNM=function(idx,_1d){["WebSquare.uiplugin.radio.setSelectedIndexNM"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return false;}this.selectedIndex=idx;var _1e=this.getRadioList();var _1f=_1e[idx];_1d=(_1d==null)?true:_1d;_1f.checked=_1d;return true;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.setValue=function(_20){["WebSquare.uiplugin.radio.setValue"];try{if(WebSquare.util.isNull(_20)){return;}var _21=this.getValue();this.setValueNM(_20);this.modelControl.setData(_20);if(_21!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.setValueNM=function(_22){["WebSquare.uiplugin.radio.setValueNM"];try{if(WebSquare.util.isNull(_22)){return;}_22=_22.toString();var _23=this.getItemCount();var _24=false;for(var i=0;i<_23;i++){if(this.itemArr[i].value==_22){this.setSelectedIndexNM(i,true);_24=true;}else{if(this.options.inValidValue=="reset"){this.checkedRadio(i,false);}}}if(this.options.inValidValue=="reset"&&_24==false){this.selectedIndex=-1;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.checkedRadio=function(idx,_27){["WebSquare.uiplugin.radio.checkedRadio"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return false;}var _28=this.getRadioList();var _29=_28[idx];_27=(_27==null)?true:_27;_29.checked=_27;return true;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.setInstanceValue=function(){["WebSquare.uiplugin.radio.setInstanceValue"];try{var _2a=this.getValue();this.modelControl.setData(_2a);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.setTableCount=function(){["WebSquare.uiplugin.radio.setTableCount"];try{this.rowCount=this.itemArr.length;this.colCount=1;if(this.options.rows!=0){var _2b=this.options.rows;this.rowCount=_2b;this.colCount=Math.ceil(this.itemArr.length/_2b);}if(this.options.cols!=0){var _2c=this.options.cols;this.colCount=_2c;this.rowCount=Math.ceil(this.itemArr.length/_2c);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.getValue=function(){["WebSquare.uiplugin.radio.getValue"];try{var ret="";var _2e=this.getRadioList();for(var i=0;i<_2e.length;i++){if(_2e[i].checked){ret=this.itemArr[i].value;}}return ret;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.getText=function(){["WebSquare.uiplugin.radio.getText"];try{var ret="";var _31=this.getRadioList();for(var i=0;i<_31.length;i++){if(_31[i].checked){ret=this.itemArr[i].label;}}return ret;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.addItem=function(_33,_34,idx){["WebSquare.uiplugin.radio.addItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}var _36=this.getValue();var _37={};_37.value=_33;_37.label=_34;this.itemArr.splice(idx,0,_37);this.itemDisabledArray.splice(idx,0,this.options.disabled?true:false);var _38=this.getRadioList();var _39=[];for(var i=0;i<_38.length;i++){_39.push(_38[i].itemDisabled);}_39.splice(idx,0,false);this.componentRedraw(_36);var _3b=this.getRadioList();for(var i=0;i<_3b.length;i++){_3b[i].itemDisabled=_39[i];}return idx;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.deleteItem=function(idx){["WebSquare.uiplugin.radio.deleteItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){return;}var _3d=this.getValue();var _3e=null;var _3f=this.getRadioList();var _40=[];for(var i=0;i<_3f.length;i++){_40.push(_3f[i].itemDisabled);}if(idx>=0&&idx<this.getItemCount()){_3e=(this.itemArr.splice(idx,1))[0];this.itemDisabledArray.splice(idx,1);_40.splice(idx,1);}this.componentRedraw(_3d);var _42=this.getRadioList();for(var i=0;i<_42.length;i++){_42[i].itemDisabled=_40[i];}return _3e;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.removeAll=function(){["WebSquare.uiplugin.radio.removeAll"];try{this.itemArr=new Array();this.itemDisabledArray=new Array();this.componentRedraw("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.onPropertyChange=function(_43,_44){["WebSquare.uiplugin.radio.onPropertyChange"];try{switch(_43){case "readOnly":var _45=this.getRadioList();for(var i=0;i<_45.length;i++){_45[i].disabled=_44;}break;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.getRadioList=function(){["WebSquare.uiplugin.radio.getRadioList"];try{if(this.options.renderType=="native"){return [this.render];}return this.getDomList("radioArr","input");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.getLabelList=function(){["WebSquare.uiplugin.radio.getLabelList"];try{return this.getDomList("labelArr","label");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.focus=function(){["WebSquare.uiplugin.radio.focus"];try{var _47=this.getRadioList();_47[0].focus();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.click=function(i){["WebSquare.uiplugin.radio.click"];try{var _49=this.getRadioList();_49[i].click();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.reset=function(){["WebSquare.uiplugin.radio.reset"];try{var _4a=this.getRadioList();var _4b=this.getValue();for(var i=0;i<_4a.length;i++){if(_4a[i].checked){_4a[i].checked=false;}}this.selectedIndex=-1;var _4d=this.getValue();this.setInstanceValue();if(_4b!=_4d){this.fireOnchange();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.validate=function(){["WebSquare.uiplugin.radio.validate"];try{var _4e=this.validator.validate(this.getValue());if(!_4e){this.focus();}return _4e;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.setDisabled=function(_4f){["WebSquare.uiplugin.radio.setDisabled"];try{_4f=WebSquare.util.getBoolean(_4f);var _50=this.getRadioList();var _51=this.getLabelList();for(var i=0;i<_50.length;i++){if(!_50[i].itemDisabled){_50[i].disabled=_4f;this.itemDisabledArray[i]=_4f;if(_51[i]){if(_4f){this.addClass(_51[i],"w2radio_disabled");}else{this.removeClass(_51[i],"w2radio_disabled");}}}}this.options.disabled=_4f;this.render.disabled=_4f;return _4f;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.setItemDisabled=function(idx,_54){["WebSquare.uiplugin.radio.setItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}_54=WebSquare.util.getBoolean(_54);var _55=this.getRadioList();var _56=this.getLabelList();_55[idx].disabled=_54;_55[idx].itemDisabled=_54;this.itemDisabledArray[idx]=_54;if(_54==true){this.addClass(_56[idx],"w2radio_disabled");}else{this.removeClass(_56[idx],"w2radio_disabled");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.getItemDisabled=function(idx){["WebSquare.uiplugin.radio.getItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}var _58=this.getRadioList();return _58[idx].disabled;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.setInitValue=function(_59){["WebSquare.uiplugin.radio.setInitValue"];try{var _5a=this.getValue();var _5b=this.getRadioList();for(var i=0;i<_5b.length;i++){if(_5b[i].checked){_5b[i].checked=false;}}this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_59.fireEvent){if(_5a!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.setRef=function(ref){["WebSquare.uiplugin.radio.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.radio.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.radio.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2"+this.inputType+"_input")){var _60=it.getElement().getAttribute("index");var _61=this.getRadioList();if(_61[_60].disabled){continue;}this.setSelectedIndex(_60);this.fireOnclick({"type":"1","index":_60});}if(it.match("w2"+this.inputType+"_label")&&!it.match("w2"+this.inputType+"_disabled")){var _60=it.getElement().getAttribute("index");var _61=this.getRadioList();WebSquare.event.stopEvent(e);this.setSelectedIndex(_60);this.fireOnclick({"type":"2","index":_60});}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.fireOnchange=function(){["WebSquare.uiplugin.radio.fireOnchange"];try{WebSquare.event.fireEvent(this,"onchange");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.radio.prototype.fireOnclick=function(obj){["WebSquare.uiplugin.radio.fireOnclick"];try{if(!obj){return;}var _63=obj.type||"1";var _64=obj.index;var _65=this.getValue();if(_63==="1"){WebSquare.event.fireEvent(this,"onradioclick",_64,_65);}else{if(_63==="2"){WebSquare.event.fireEvent(this,"onlabelclick",_64,_65);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};requires("uiplugin/control/itemsetControl.js");requires("engine/validator.js");WebSquare.uiplugin.checkbox=function(id,_2,_3){["WebSquare.uiplugin.checkbox"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.checkbox.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.checkbox.prototype,WebSquare.itemsetControl.prototype);WebSquare.extend(WebSquare.uiplugin.checkbox.prototype,WebSquare.IValidate.prototype);WebSquare.uiplugin.checkbox.prototype.defaultOptions={pluginType:"uiplugin.checkbox",pluginName:"checkbox",userEvents:["onchange","onlabelclick","oncheckboxclick"],renderType:"table",tagname:"div",itemTagname:"div",value:"",cols:0,rows:0,name:"",selectedindex:-1,initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,title:"",useCheckboxTitle:true,escape:false};WebSquare.uiplugin.checkbox.prototype.initialize=function(_4){["WebSquare.uiplugin.checkbox.initialize"];try{this.inputType="checkbox";if(this.options.renderType=="native"){this.itemArr=[{label:"",value:this.options.value}];}else{this.initializeItemArr(_4);}this.itemDisabledArray=[];for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(false);}this.setTableCount();this.validator=new WebSquare.validator.validateInvoker(this.id,this.options);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.toHTML=function(){["WebSquare.uiplugin.checkbox.toHTML"];try{var _6=[];var _7="label";var _8=this.itemArr.length;var _9=this.options.name||this.id+"_input";var _a=this.options.title==""?"":" title=\""+this.options.title+"\" ";if(this.options.renderType.toLowerCase()=="native"){_6.push("<input type='"+this.inputType+"' style='"+this.options.style+"' class='w2"+this.inputType+"_input' name='"+_9+"' id='"+this.id+"' index='0' "+_a+" />");}else{if(this.options.renderType.toLowerCase()=="checkboxgroup"){_6.push("<"+this.options.tagname+" id='"+this.id+"' style='"+this.options.style+"' class='w2"+this.inputType+" "+this.options.className+"' "+_a+" >");for(var i=0;i<_8;i++){var _c=this.id+"_input_"+i;var _d=(this.options.escape)?WebSquare.xml._encode(this.itemArr[i].label):this.itemArr[i].label;var _e=this.options.useCheckboxTitle?" title='"+_d+"' ":"";var _f="";var _10="";if(this.itemDisabledArray[i]){_f="disabled";_10="w2checkbox_disabled";}_6.push("<"+this.options.itemTagname+" class='w2checkbox_item w2checkbox_item_"+i+"'>");_6.push("<input type='"+this.inputType+"' class='w2"+this.inputType+"_input' name='"+_9+"' index='"+i+"'  id='"+_c+"'"+_e+" "+_f+"/>");_6.push("<"+_7+" class='w2"+this.inputType+"_label "+_10+"' index='"+i+"' "+(_7=="label"?"for='"+_c+"'":"")+" >"+_d+"</"+_7+">");_6.push("</"+this.options.itemTagname+">");}_6.push("</"+this.options.tagname+">");}else{_6.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2"+this.inputType+" "+this.options.className+"'  "+_a+" >");_6.push("<table class='w2"+this.inputType+"_main' cellpadding='0' cellspacing='0'>");for(var row=0;row<this.rowCount;row++){_c=this.id+"_input_"+row;_6.push("<tr class='w2"+this.inputType+"_row'>");for(var col=0;col<this.colCount;col++){var _13=row*this.colCount+col;var _c=this.id+"_input_"+_13;var _f="";var _10="";if(this.itemDisabledArray[_13]){_f="disabled";_10="w2checkbox_disabled";}if(_13<_8){var _d=(this.options.escape)?WebSquare.xml._encode(this.itemArr[_13].label):this.itemArr[_13].label;var _e=this.options.useCheckboxTitle?" title='"+_d+"' ":"";_6.push("<td class='w2"+this.inputType+"_td_input'><input type='",this.inputType,"' class='w2"+this.inputType+"_input' name='"+_9+"' index='"+_13+"'  id='"+_c+"'"+_e+" "+_f+"/></td>");_6.push("<td class='w2"+this.inputType+"_td_label' ><"+_7+" class='w2"+this.inputType+"_label "+_10+"' index='"+_13+"' "+(_7=="label"?"for='"+_c+"'":"")+" >"+_d+"</"+_7+"></td>");}else{_6.push("<td class='w2"+this.inputType+"_td_input'></td>");_6.push("<td class='w2"+this.inputType+"_td_label'></td>");}}_6.push("</tr>");}_6.push("</table>");_6.push("</div>");}}return _6.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.setAction=function(){["WebSquare.uiplugin.checkbox.setAction"];try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _14=this.modelControl.getData();this.setValueNM(_14);}if(this.options.selectedindex>-1){var _15=this.getCheckboxList();for(var i=0;i<_15.length;i++){var _17=_15[i];_17.checked=false;}this.setSelectedIndexNM(this.options.selectedindex);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.getAccessibiltyId=function(){["WebSquare.uiplugin.checkbox.getAccessibiltyId"];try{return this.options.renderType=="native"?this.id:this.id+"_input_0";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.refreshItemset=function(){["WebSquare.uiplugin.checkbox.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){var _18=this.getValue();this.refreshItemArr();this.itemDisabledArray=new Array();for(var i=0;i<this.itemArr.length;i++){this.itemDisabledArray.push(this.options.disabled);}this.componentRedraw(_18);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.refresh=function(){["WebSquare.uiplugin.checkbox.refresh"];try{if(this.modelControl.isBinded()){var _1a=this.getValue();var _1b=this.modelControl.getData();this.setValueNM(_1b);if(_1a!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.componentRedraw=function(_1c){["WebSquare.uiplugin.checkbox.componentRedraw"];try{this.setTableCount();this.redraw();this.setValueNM(_1c);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.getItemCount=function(){["WebSquare.uiplugin.checkbox.getItemCount"];try{return this.itemArr.length;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.checkbox.setSelectedIndex"];try{if(WebSquare.util.isNull(idx)){return;}idx=parseInt(idx);var _1e=this.getSelectedIndex();var _1f=this.getValue();this.setSelectedIndexNM(idx);this.modelControl.setData(this.getValue());if(_1f!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.getSelectedIndex=function(_20){["WebSquare.uiplugin.checkbox.getSelectedIndex"];try{if(!_20){_20=" ";}var ret=[];var _22=this.getCheckboxList();for(var i=0;i<_22.length;i++){if(_22[i].checked){ret.push(i);}}return ret.join(_20).wq_trim();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.setSelectedIndexNM=function(idx,_25){["WebSquare.uiplugin.checkbox.setSelectedIndexNM"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return false;}var _26=this.getCheckboxList();var _27=_26[idx];_25=(_25==null)?!_27.checked:_25;_27.checked=_25;return true;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.setValue=function(_28){["WebSquare.uiplugin.checkbox.setValue"];try{if(WebSquare.util.isNull(_28)){return;}var _29=this.getValue();this.setValueNM(_28);this.modelControl.setData(_28);if(_29!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.setValueNM=function(_2a){["WebSquare.uiplugin.checkbox.setValueNM"];try{if(WebSquare.util.isNull(_2a)){return;}_2a=_2a.toString();var _2b=this.getValue();var _2c=_2a.split(" ");var _2d=[];for(var i=0;i<_2c.length;i++){_2d[_2c[i]+""]="";}var _2f=this.getItemCount();for(var i=0;i<_2f;i++){var _2a=this.itemArr[i].value;if(_2d[_2a]!=null){this.setSelectedIndexNM(i,true);}else{this.setSelectedIndexNM(i,false);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.setInstanceValue=function(){["WebSquare.uiplugin.checkbox.setInstanceValue"];try{var _30=this.getValue();this.modelControl.setData(_30);this.fireOnchange();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.setTableCount=function(){["WebSquare.uiplugin.checkbox.setTableCount"];try{this.rowCount=this.itemArr.length;this.colCount=1;if(this.options.rows!=0){var _31=this.options.rows;this.rowCount=_31;this.colCount=Math.ceil(this.itemArr.length/_31);}if(this.options.cols!=0){var _32=this.options.cols;this.colCount=_32;this.rowCount=Math.ceil(this.itemArr.length/_32);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.getText=function(_33){["WebSquare.uiplugin.checkbox.getText"];try{if(!_33){_33=" ";}var ret=[];var _35=this.getCheckboxList();for(var i=0;i<_35.length;i++){if(_35[i].checked){ret.push(this.itemArr[i].label);}}return ret.join(_33).wq_trim();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.getValue=function(_37){["WebSquare.uiplugin.checkbox.getValue"];try{if(!_37){_37=" ";}var ret=[];var _39=this.getCheckboxList();for(var i=0;i<_39.length;i++){if(_39[i].checked){ret.push(this.itemArr[i].value);}}return ret.join(_37).wq_trim();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.addItem=function(_3b,_3c,idx){["WebSquare.uiplugin.checkbox.addItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}var _3e=this.getValue();var _3f={};_3f.value=_3b;_3f.label=_3c;this.itemArr.splice(idx,0,_3f);this.itemDisabledArray.splice(idx,0,this.options.disabled?true:false);var _40=this.getCheckboxList();var _41=[];for(var i=0;i<_40.length;i++){_41.push(_40[i].itemDisabled);}_41.splice(idx,0,false);this.componentRedraw(_3e);var _43=this.getCheckboxList();for(var i=0;i<_43.length;i++){_43[i].itemDisabled=_41[i];}return idx;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.deleteItem=function(idx){["WebSquare.uiplugin.checkbox.deleteItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){return;}var _45=this.getValue();var _46=null;var _47=this.getCheckboxList();var _48=[];for(var i=0;i<_47.length;i++){_48.push(_47[i].itemDisabled);}if(idx>=0&&idx<this.getItemCount()){_46=(this.itemArr.splice(idx,1))[0];this.itemDisabledArray.splice(idx,1);_48.splice(idx,1);}this.componentRedraw(_45);var _4a=this.getCheckboxList();for(var i=0;i<_4a.length;i++){_4a[i].itemDisabled=_48[i];}return _46;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.removeAll=function(){["WebSquare.uiplugin.checkbox.removeAll"];try{this.itemArr=new Array();this.itemDisabledArray=new Array();this.componentRedraw("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.onPropertyChange=function(_4b,_4c){["WebSquare.uiplugin.checkbox.onPropertyChange"];try{switch(_4b){case "readOnly":var _4d=this.getCheckboxList();for(var i=0;i<_4d.length;i++){_4d[i].disabled=_4c;}break;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.getCheckboxList=function(){["WebSquare.uiplugin.checkbox.getCheckboxList"];try{if(this.options.renderType=="native"){return [this.render];}return this.getDomList("checkboxArr","input");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.getLabelList=function(){["WebSquare.uiplugin.checkbox.getLabelList"];try{return this.getDomList("labelArr","label");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.focus=function(){["WebSquare.uiplugin.checkbox.focus"];try{var _4f=this.getCheckboxList();_4f[0].focus();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.click=function(i){["WebSquare.uiplugin.checkbox.click"];try{var _51=this.getCheckboxList();_51[i].click();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.reset=function(){["WebSquare.uiplugin.checkbox.reset"];try{var _52=this.getCheckboxList();for(var i=0;i<_52.length;i++){if(_52[i].checked){_52[i].checked=false;}}this.setInstanceValue();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.checkAll=function(_54){["WebSquare.uiplugin.checkbox.checkAll"];try{var _55=this.getItemCount();for(var i=0;i<_55;i++){this.setSelectedIndexNM(i,_54);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.validate=function(){["WebSquare.uiplugin.checkbox.validate"];try{var _57=this.validator.validate(this.getValue());if(!_57){this.focus();}return _57;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.setDisabled=function(_58){["WebSquare.uiplugin.checkbox.setDisabled"];try{_58=WebSquare.util.getBoolean(_58);var _59=this.getCheckboxList();var _5a=this.getLabelList();for(var i=0;i<_59.length;i++){if(!_59[i].itemDisabled){_59[i].disabled=_58;this.itemDisabledArray[i]=_58;if(_5a[i]){if(_58){this.addClass(_5a[i],"w2checkbox_disabled");}else{this.removeClass(_5a[i],"w2checkbox_disabled");}}}}this.options.disabled=_58;this.render.disabled=_58;return _58;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.setItemDisabled=function(idx,_5d){["WebSquare.uiplugin.checkbox.setItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}_5d=WebSquare.util.getBoolean(_5d);var _5e=this.getCheckboxList();var _5f=this.getLabelList();_5e[idx].disabled=_5d;_5e[idx].itemDisabled=_5d;this.itemDisabledArray[idx]=_5d;if(_5d==true){this.addClass(_5f[idx],"w2checkbox_disabled");}else{this.removeClass(_5f[idx],"w2checkbox_disabled");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.getItemDisabled=function(idx){["WebSquare.uiplugin.checkbox.getItemDisabled"];try{idx=parseInt(idx);if(idx<0||idx>=this.getItemCount()){return;}var _61=this.getCheckboxList();return _61[idx].disabled;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.setInitValue=function(_62){["WebSquare.uiplugin.checkbox.setInitValue"];try{var _63=this.getValue();this.checkAll(false);this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_62.fireEvent){if(_63!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.setRef=function(ref){["WebSquare.uiplugin.checkbox.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.checkbox.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.checkbox.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){continue;}if(it.match("w2"+this.inputType+"_input")){this.setInstanceValue();var id=it.getElement().id;var _68=id.substring(id.lastIndexOf("_")+1);this.fireOnclick({"type":"1","index":_68});}else{if(it.match("w2"+this.inputType+"_label")&&!it.match("w2"+this.inputType+"_disabled")){var _68=it.getElement().getAttribute("index");WebSquare.event.stopEvent(e);this.setSelectedIndex(_68);this.fireOnclick({"type":"2","index":_68});}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.fireOnchange=function(){["WebSquare.uiplugin.checkbox.fireOnchange"];try{WebSquare.event.fireEvent(this,"onchange");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkbox.prototype.fireOnclick=function(obj){["WebSquare.uiplugin.checkbox.fireOnclick"];try{if(!obj){return;}var _6a=obj.type||"1";var _6b=obj.index;var _6c=this.getCheckboxList();var _6d=_6c[_6b].checked;var _6e=this.itemArr[_6b].value;if(!_6c[_6b].disabled){if(_6a==="1"){WebSquare.event.fireEvent(this,"oncheckboxclick",_6b,_6d,_6e);}else{if(_6a==="2"){WebSquare.event.fireEvent(this,"onlabelclick",_6b,_6d,_6e);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.template=function(id,_2,_3){["WebSquare.uiplugin.template"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.template.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.template.prototype.defaultOptions={pluginType:"uiplugin.template",pluginName:"template"};WebSquare.uiplugin.template.prototype.initialize=function(_4){};WebSquare.uiplugin.template.prototype.toHTML=function(){["WebSquare.uiplugin.template.toHTML"];var _5=[];_5.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2template "+this.options.className+"'>");_5.push("</div>");return _5.join("");};WebSquare.uiplugin.template.prototype.setAction=function(){};WebSquare.uiplugin.template.prototype.setLayout=function(){};WebSquare.uiplugin.template.prototype.refreshItemset=function(){};WebSquare.uiplugin.template.prototype.refresh=function(){};WebSquare.uiplugin.template.prototype.handleClickEvent=function(e){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2template")){}}it=null;};WebSquare.uiplugin.template.prototype.handleMouseoverEvent=function(e){WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2template")){this.addClass(it.getElement(),"w2template_over");}}it=null;};WebSquare.uiplugin.template.prototype.handleMouseoutEvent=function(e){WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2template")){this.removeClass(it.getElement(),"w2template_over");}}it=null;};requires("engine/validator.js");requires("uiplugin/control/historyManager.js");WebSquare.uiplugin.textarea=function(id,_2,_3){["WebSquare.uiplugin.textarea"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.textarea.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.textarea.prototype,WebSquare.IValidate.prototype);WebSquare.uiplugin.textarea.prototype.defaultOptions={pluginType:"uiplugin.textarea",pluginName:"textarea",userEvents:["oneditend","onchange"],initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,title:"",readOnlyClass:"w2textarea_readonly"};WebSquare.uiplugin.textarea.prototype.initialize=function(_4){["WebSquare.uiplugin.textarea.initialize"];try{this.validator=new WebSquare.validator.validateInvoker(this.id,this.options);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textarea.prototype.toHTML=function(){["WebSquare.uiplugin.textarea.toHTML"];try{var _5=[];var _6=this.options.title==""?"":" title='"+this.options.title+"'";_5.push("<textarea id='"+this.id+"' style='"+this.options.style+"' class='w2textarea "+this.options.className+"' "+_6+">");_5.push("</textarea>");return _5.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textarea.prototype.setAction=function(){["WebSquare.uiplugin.textarea.setAction"];try{this.addEvent("oneditend",function(){var _7=this.getValue();_7=this.validator.validateString(_7);this.setValueNM(_7);});if(this.options.maxlength>0){this.render.setAttribute("maxlength",this.options.maxlength);}this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));this.refresh();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textarea.prototype.refresh=function(){["WebSquare.uiplugin.textarea.refresh"];try{if(this.modelControl.isBinded()){var _8=this.getValue();var _9=this.modelControl.getData();this.setValueNM(_9);if(_8!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textarea.prototype.setValue=function(_a){["WebSquare.uiplugin.textarea.setValue"];try{if(WebSquare.util.isNull(_a)){return;}var _b=this.getValue();this.setValueNM(_a);this.modelControl.setData(_a);if(_b!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textarea.prototype.setValueNM=function(_c){["WebSquare.uiplugin.textarea.setValueNM"];try{if(WebSquare.util.isNull(_c)){return;}_c=_c.toString();this.render.value=_c;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textarea.prototype.getValue=function(){["WebSquare.uiplugin.textarea.getValue"];try{return this.render.value;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textarea.prototype.validate=function(){["WebSquare.uiplugin.textarea.validate"];try{var _d=this.validator.validate(this.getValue());if(!_d){this.focus();}return _d;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textarea.prototype.setInitValue=function(_e){["WebSquare.uiplugin.textarea.setInitValue"];try{var _f=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_e.fireEvent){if(_f!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textarea.prototype.onPropertyChange=function(_10,_11){["WebSquare.uiplugin.textarea.onPropertyChange"];try{switch(_10){case "disabled":break;case "readOnly":if(_11==true){this.addClass(this.render,this.options.readOnlyClass);}else{this.removeClass(this.render,this.options.readOnlyClass);}break;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textarea.prototype.setRef=function(ref){["WebSquare.uiplugin.textarea.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.textarea.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.textarea.handleFocusEvent"];try{var _14=this;WebSquare.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{onRestore:function(_15){_14.setValue(_15.value);}});}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textarea.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.textarea.handleBlurEvent"];try{WebSquare.event.fireEvent(this,"oneditend");this.setValue(this.getValue());var _17=WebSquare.historyManager.get(this.options.pluginName,this.id);if(_17.value!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textarea.prototype.handleKeypressEvent=function(e){["WebSquare.uiplugin.textarea.handleKeypressEvent"];try{if(!this.validator.validateKeyPress(this.render,this.getValue(),e)){WebSquare.event.stopEvent(e);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textarea.prototype.handleKeyupEvent=function(e){["WebSquare.uiplugin.textarea.handleKeyupEvent"];try{var _1a=false;if(WebSquare.util.isIE()&&this.options.maxlength>-1){var _1b=WebSquare.text.getSelection(this.render);if(e.charCode!=0&&_1b.start==_1b.end&&this.render.value.length+1>this.options.maxlength){_1a=true;}}if(this.options.maxByteLength!=-1){var _1c=this.render.value;var _1d=WebSquare.util.getStringByByteSize(_1c,this.options.maxByteLength);if(_1c!=_1d){_1a=true;}}if(_1a){this.render.blur();this.render.focus();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};requires("engine/formatter.js");WebSquare.uiplugin.textbox=function(id,_2,_3){["WebSquare.uiplugin.textbox"];WebSquare.xfControl.call(this,id,_2,_3);if(_3){var _4=WebSquare.xml.getLocalName(_3);if(_4!="textbox"){this.options.tagname=_4;}}if(this.options["for"]!=""){this.options.tagname="label";}};WebSquare.extend(WebSquare.uiplugin.textbox.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.textbox.prototype.defaultOptions={pluginType:"uiplugin.textbox",pluginName:"textbox",parseAttributes:true,label:"",escape:false,"for":"",tagname:"div",localeRef:"",ioFormat:"",displayFormat:"",displayFormatter:null,dataType:"text",dateMask:"",timeMask:"",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",delimeter:"",decimalDelimeter:""};WebSquare.uiplugin.textbox.prototype.htmlStr=["<",," id='",,"' style='",,"' class='w2textbox ",,"' ",,">",,"</",,">"];WebSquare.uiplugin.textbox.prototype.htmlClosingStr=["<",," id='",,"' style='",,"' class='w2textbox ",,"'",," />"];WebSquare.uiplugin.textbox.prototype.initialize=function(_5){["WebSquare.uiplugin.textbox.initialize"];if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}this.formatter=WebSquare.format.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat,this.options.delimeter,this.options.decimalDelimeter);};WebSquare.uiplugin.textbox.prototype.toHTML=function(){var _6=WebSquare.core.getEmptyTag();var _7="";if(_6[this.options.tagname.toLowerCase()]){_7=this.htmlClosingStr;_7[1]=this.options.tagname;_7[3]=this.id;_7[5]=this.options.style;_7[7]=this.options.className;_7[9]=(this.options.tagname=="label"?"for='"+this.options["for"]+"'":"")+this.getAttributesString();}else{_7=this.htmlStr;_7[1]=this.options.tagname;_7[3]=this.id;_7[5]=this.options.style;_7[7]=this.options.className;_7[9]=(this.options.tagname=="label"?"for='"+this.options["for"]+"'":"")+this.getAttributesString();_7[11]=this.options.escape?this.formatter.format(WebSquare.xml._encode(this.options.label)):this.formatter.format(this.options.label);_7[13]=this.options.tagname;}return _7.join("");};WebSquare.uiplugin.textbox.prototype.setAction=function(){["WebSquare.uiplugin.textbox.setAction"];try{this.refresh();this.displayLocaleValue();if(this.options.tagname!="label"||this.options["for"]==""){return;}var _8=window[this.options["for"]]||null;if(_8==null){return;}var _9=typeof _8.getAccessibiltyId=="function"?_8.getAccessibiltyId():this.options["for"];this.render.setAttribute("for",_9);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textbox.prototype.setLocaleRef=function(_a){["WebSquare.uiplugin.textbox.setLocaleRef"];try{this.options.localeRef=_a;this.displayLocaleValue();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textbox.prototype.refresh=function(){["WebSquare.uiplugin.textbox.refresh"];try{if(this.modelControl.isBinded()){var _b=this.modelControl.getData();this.render.innerHTML=this.options.escape?this.formatter.format(WebSquare.xml._encode(_b+"")):this.formatter.format(_b);this.options.label=_b;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textbox.prototype.setLabel=function(_c){["WebSquare.uiplugin.textbox.setLabel"];try{this.setValue(_c);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textbox.prototype.getLabel=function(){["WebSquare.uiplugin.textbox.getLabel"];try{return this.getValue();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textbox.prototype.setValue=function(_d){["WebSquare.uiplugin.textbox.setValue"];try{this.options.label=_d;this.render.innerHTML=this.options.escape?this.formatter.format(WebSquare.xml._encode(this.options.label+"")):this.formatter.format(this.options.label);this.modelControl.setData(_d);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textbox.prototype.getValue=function(){["WebSquare.uiplugin.textbox.getValue"];try{var _e=this.options.escape?WebSquare.xml._decode(this.options.label):this.options.label;return _e;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textbox.prototype.getFormatValue=function(){["WebSquare.uiplugin.textbox.getFormatValue"];try{return this.options.escape?this.formatter.format(WebSquare.xml._decode(this.options.label)):this.formatter.format(this.options.label);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textbox.prototype.setDisplayFormat=function(_f){["WebSquare.uiplugin.textbox.setDisplayFormat"];try{this.options.displayFormat=_f;this.formatter=WebSquare.format.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.setValue(this.options.label);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textbox.prototype.setDisplayFormatter=function(_10){["WebSquare.uiplugin.textbox.prototype.setDisplayFormatter "];try{this.options.displayFormatter=_10;this.formatter=WebSquare.format.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.setValue(this.options.label);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.textbox.prototype.getDataType=function(){["WebSquare.uiplugin.textbox.prototype.getDataType "];try{return this.options.dataType;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.textbox.prototype.addClass=function(){["WebSquare.uiplugin.textbox.addClass"];try{WebSquare.css.prototype.addClass.apply(this,arguments);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textbox.prototype.removeClass=function(){["WebSquare.uiplugin.textbox.removeClass"];try{WebSquare.css.prototype.removeClass.apply(this,arguments);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textbox.prototype.changeClass=function(){["WebSquare.uiplugin.textbox.changeClass"];try{WebSquare.css.prototype.changeClass.apply(this,arguments);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textbox.prototype.toggleClass=function(){["WebSquare.uiplugin.textbox.toggleClass"];try{WebSquare.css.prototype.toggleClass.apply(this,arguments);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.textbox.prototype.getAttributeNode=function(_11){["WebSquare.uiplugin.textbox.getAttributeNode"];try{return WebSquare.xfControl.attributes.getAttributeNode.call(this,_11);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.textbox.prototype.setAttributeNode=function(_12,_13){["WebSquare.uiplugin.textbox.setAttributeNode"];try{WebSquare.xfControl.attributes.setAttributeNode.call(this,_12,_13);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.textbox.prototype.removeAttributeNode=function(_14){["WebSquare.uiplugin.textbox.removeAttributeNode"];try{WebSquare.xfControl.attributes.removeAttributeNode.call(this,_14);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.textbox.prototype.setRef=function(ref){["WebSquare.uiplugin.textbox.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.pageList=function(id,_2,_3){["WebSquare.uiplugin.pageList"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.pageList.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.pageList.prototype.defaultOptions={pluginType:"uiplugin.pageList",pluginName:"pageList",userEvents:["onclick","onchange"],useConfig:true,defaultClass:"w2pageList_label",selectedStyle:"",selectedClass:"w2pageList_label_selected",displayFormat:"#",useDelim:false,delimiter:"",pageSize:10,pagingType:"1",buttonShowType:"1",naviType:"config",leftPageBackImage:"",leftPageImage:"",rightPageImage:"",rightPageBackImage:"",deliImage:"",leftPageBackImageClass:"w2pageList_col_prevPage",leftPageImageClass:"w2pageList_col_prev",rightPageImageClass:"w2pageList_col_next",rightPageBackImageClass:"w2pageList_col_nextPage",deliImageClass:"w2pageList_delimiter",leftPageBackImageStyle:"",leftPageImageStyle:"",rightPageImageStyle:"",rightPageBackImageStyle:"",deliImageStyle:"",indexWidth:-1,deliWidth:-1,shiftMoveButtonWidth:-1,oneMoveButtonWidth:-1,renderType:"table",href:"",displayButtonType:"display"};WebSquare.uiplugin.pageList.prototype.initialize=function(_4){["WebSquare.uiplugin.pageList.initialize"];try{this.pageCount=0;this.displayIndex=1;this.selectedIndex=-1;this.default_leftPageBackImage="uiplugin/pageList/images/b_first.gif";this.default_leftPageImage="uiplugin/pageList/images/b_prev.gif";this.default_rightPageImage="uiplugin/pageList/images/b_next.gif";this.default_rightPageBackImage="uiplugin/pageList/images/b_end.gif";this.options=WebSquare.cssManager.styleToClass(this.id,this.options);this.options.leftPageBackImage=this.options.leftPageBackImage?this.options.leftPageBackImage:this.default_leftPageBackImage;this.options.leftPageImage=this.options.leftPageImage?this.options.leftPageImage:this.default_leftPageImage;this.options.rightPageImage=this.options.rightPageImage?this.options.rightPageImage:this.default_rightPageImage;this.options.rightPageBackImage=this.options.rightPageBackImage?this.options.rightPageBackImage:this.default_rightPageBackImage;this.labelStyle="";if(this.options.indexWidth!=-1){this.labelStyle+="width:"+this.options.indexWidth+"px;";}if(this.options.deliWidth!=-1){this.options.deliImageStyle+=";width:"+this.options.deliWidth+"px;";}if(this.options.shiftMoveButtonWidth!=-1){this.options.leftPageBackImageStyle+=";width:"+this.options.shiftMoveButtonWidth+"px;";this.options.rightPageBackImageStyle+=";width:"+this.options.shiftMoveButtonWidth+"px;";}if(this.options.oneMoveButtonWidth!=-1){this.options.leftPageImageStyle+=";width:"+this.options.oneMoveButtonWidth+"px;";this.options.rightPageImageStyle+=";width:"+this.options.oneMoveButtonWidth+"px;";}if(this.options.deliImage!=""){this.options.deliImageStyle+=";background-image:url("+this.options.deliImage+");";}if(this.options.renderType=="list"){this.options.leftPageBackImageStyle+=";background-image:none;";this.options.leftPageImageStyle+=";background-image:none;";this.options.rightPageImageStyle+=";background-image:none;";this.options.rightPageBackImageStyle+=";background-image:none;";}else{if(this.options.leftPageBackImage!=this.default_leftPageBackImage){this.options.leftPageBackImageStyle+=";background-image:url("+this.options.leftPageBackImage+");";}if(this.options.leftPageImage!=this.default_leftPageImage){this.options.leftPageImageStyle+=";background-image:url("+this.options.leftPageImage+");";}if(this.options.rightPageImage!=this.default_rightPageImage){this.options.rightPageImageStyle+=";background-image:url("+this.options.rightPageImage+");";}if(this.options.rightPageBackImage!=this.default_rightPageBackImage){this.options.rightPageBackImageStyle+=";background-image:url("+this.options.rightPageBackImage+");";}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.toHTML=function(){["WebSquare.uiplugin.pageList.toHTML"];try{var _5=[];this.prevPageButtonId=this.id+"_prevPage_btn";this.nextPageButtonId=this.id+"_nextPage_btn";this.prevButtonId=this.id+"_prev_btn";this.nextButtonId=this.id+"_next_btn";_5.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2pageList w2pageList_pagePrev_last w2pageList_prev_last "+this.options.className+"'>");if(this.options.renderType=="list"){var _6=this.options.href?" href='"+this.options.href+"'":" href='#'";_5.push("<ul class='w2pageList_ul'>");_5.push("<li id='"+this.prevPageButtonId+"' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' style='"+this.options.leftPageBackImageStyle+"'><a href='#'><img src='"+this.options.leftPageBackImage+"' alt='"+WebSquare.language.getMessage("Pagelist_first_page")+"' /></a></li>");if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<li id='"+this.prevButtonId+"' class='w2pageList_control_prev "+this.options.leftPageImageClass+"' style='"+this.options.leftPageImageStyle+"' ><a href='#'><img src='"+this.options.leftPageImage+"' alt='"+WebSquare.language.getMessage("Pagelist_previous_page")+"' /></a></li>");}var _7=Math.min(this.pageCount,this.displayIndex+this.options.pageSize-1);for(var i=this.displayIndex;i<=_7;i++){_5.push("<li class='w2pageList_li_label' style='"+this.labelStyle+"'><a id='"+this.id+"_page_"+i+"' "+_6+" class='w2pageList_control_label "+this.options.defaultClass+"' index='"+i+"' >"+this.getLabel(i)+"</a></li>");if(this.options.useDelim==true&&i<_7){_5.push("<li class='w2pageList_col_delimiter "+this.options.deliImageClass+"' style='"+this.options.deliImageStyle+"'>"+this.options.delimiter+"</li>");}}if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<li id='"+this.nextButtonId+"' class='w2pageList_control_next "+this.options.rightPageImageClass+"' style='"+this.options.rightPageImageStyle+"'><a href='#'><img src='"+this.options.rightPageImage+"' alt='"+WebSquare.language.getMessage("Pagelist_next_page")+"' /></a></li>");}_5.push("<li id='"+this.nextPageButtonId+"' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' style='"+this.options.rightPageBackImageStyle+"'><a href='#' ><img src='"+this.options.rightPageBackImage+"' alt='"+WebSquare.language.getMessage("Pagelist_last_page")+"' /></a></li>");_5.push("</ul>");}else{_5.push("<table class='w2pageList_table' cellpadding='0' cellspacing='0'><tr>");_5.push("<td  id='"+this.prevPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pagePrev "+this.options.leftPageBackImageClass+"' style='"+this.options.leftPageBackImageStyle+"' role='button' aria-pressed='false' tabIndex='0' title='"+WebSquare.language.getMessage("Pagelist_first_page")+"'></td>");if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<td id='"+this.prevButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_prev "+this.options.leftPageImageClass+"' style='"+this.options.leftPageImageStyle+"' role='button' aria-pressed='false' tabIndex='0' title='"+WebSquare.language.getMessage("Pagelist_previous_page")+"' ></td>");}var _7=Math.min(this.pageCount,this.displayIndex+this.options.pageSize-1);for(var i=this.displayIndex;i<=_7;i++){_5.push("<td class='w2pageList_col_label' style='"+this.labelStyle+"'><div id='"+this.id+"_page_"+i+"' class='w2pageList_control_label "+this.options.defaultClass+"' index='"+i+"' role='button' aria-pressed='false'  tabindex='0' title='"+this.getLabel(i)+"' >"+this.getLabel(i)+"</div></td>");if(this.options.useDelim==true&&i<_7){_5.push("<td class='w2pageList_col_delimiter "+this.options.deliImageClass+"' style='"+this.options.deliImageStyle+"'>"+this.options.delimiter+"</td>");}}if(this.options.buttonShowType=="1"||this.options.buttonShowType=="3"){_5.push("<td id='"+this.nextButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_next "+this.options.rightPageImageClass+"' style='"+this.options.rightPageImageStyle+"' tabindex='0' title='"+WebSquare.language.getMessage("Pagelist_next_page")+"'></td>");}_5.push("<td id='"+this.nextPageButtonId+"' role='button' aria-pressed='false' class='w2pageList_control_pageNext "+this.options.rightPageBackImageClass+"' style='"+this.options.rightPageBackImageStyle+"' tabindex='0' title='"+WebSquare.language.getMessage("Pagelist_last_page")+"' ></td>");_5.push("</tr></table>");}_5.push("</div>");return _5.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.setAction=function(){["WebSquare.uiplugin.pageList.setAction"];try{this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.pageList.handleKeydownEvent"];try{var _a=(e.charCode)?e.charCode:e.keyCode;if(_a!=13){return;}var el=e.srcElement||e.target;if(el.nodeName.toLowerCase()=="a"){if(el.getAttribute("href")==null){this.handleClickEvent(e);}}else{this.handleClickEvent(e);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.getLabel=function(_c){["WebSquare.uiplugin.pageList.getLabel"];try{var _d=_c+"";_d=WebSquare.text.formatCurrency(_c,this.options.displayFormat);return _d;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.setCount=function(_e,_f){["WebSquare.uiplugin.pageList.setCount"];try{var _10=_f?_f:false;if(_f&&_e<this.selectedIndex){$l("range exception for "+this.id);_10=false;}this.pageCount=(typeof _e=="string")?(parseInt(_e,10)||0):_e;if(_10==false){this.displayIndex=1;}else{if(this.selectedIndex==-1){this.displayIndex=1;}}this.redraw();if(_10==false){this.setSelectedIndex(1);}else{if(this.selectedIndex==-1){this.setSelectedIndex(1);}else{this.setSelectedIndex(this.selectedIndex);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.pageList.setSelectedIndex"];try{if(this.pageCount==0){if(this.options.displayButtonType=="auto"){var _12=document.getElementById(this.prevPageButtonId);var _13=document.getElementById(this.prevButtonId);var _14=document.getElementById(this.nextButtonId);var _15=document.getElementById(this.nextPageButtonId);if(_12){_12.style.visibility="hidden";}if(_13){_13.style.visibility="hidden";}if(_14){_14.style.visibility="hidden";}if(_15){_15.style.visibility="hidden";}}return;}if(WebSquare.util.isNull(idx)){return;}idx=parseInt(idx,10);if(idx<1||idx>this.pageCount){$l("range exception for "+this.id);return;}var _16=this.selectedIndex;this.setDisplayIndex(idx);var _17=document.getElementById(this.id+"_page_"+this.selectedIndex);if(_17){this.changeClass(_17,this.options.selectedClass,this.options.defaultClass);}this.selectedIndex=idx;this.changeButtonCursor(idx);var _18=document.getElementById(this.id+"_page_"+idx);this.changeClass(_18,this.options.defaultClass,this.options.selectedClass);if(_16!=-1&&_16!=this.selectedIndex){WebSquare.event.fireEvent(this,"onchange",this.selectedIndex,_16);}if(this.options.displayButtonType=="auto"){var _12=document.getElementById(this.prevPageButtonId);var _13=document.getElementById(this.prevButtonId);var _14=document.getElementById(this.nextButtonId);var _15=document.getElementById(this.nextPageButtonId);if(this.selectedIndex===1){if(_12){_12.style.visibility="hidden";}if(_13){_13.style.visibility="hidden";}if(_14){_14.style.visibility="visible";}if(_15){_15.style.visibility="visible";}}else{if(this.selectedIndex==this.pageCount){if(_12){_12.style.visibility="visible";}if(_13){_13.style.visibility="visible";}if(_14){_14.style.visibility="hidden";}if(_15){_15.style.visibility="hidden";}}else{if(_12){_12.style.visibility="visible";}if(_13){_13.style.visibility="visible";}if(_14){_14.style.visibility="visible";}if(_15){_15.style.visibility="visible";}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.setFocus=function(idx){["WebSquare.uiplugin.pageList.setFocus"];try{if(this.pageCount==0){return;}if(WebSquare.util.isNull(idx)){return;}idx=idx.toString();if(idx<1||idx>this.pageCount){$l("range exception for "+this.id);return;}var dom=document.getElementById(this.id+"_page_"+idx);if(dom){dom.focus();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.setIdxClass=function(idx){["WebSquare.uiplugin.pageList.setIdxClass"];try{this.setSelectedIndex(idx);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.pageList.getSelectedIndex"];try{return this.selectedIndex;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.setValue=function(_1c){["WebSquare.uiplugin.pageList.setValue"];try{if(WebSquare.util.isNull(_1c)){return;}_1c=_1c.toString();this.setSelectedIndex(_1c);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.moveLeft=function(){["WebSquare.uiplugin.pageList.moveLeft"];try{this.setSelectedIndex(this.selectedIndex-1);this.setFocus(this.selectedIndex);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.moveRight=function(){["WebSquare.uiplugin.pageList.moveRight"];try{this.setSelectedIndex(this.selectedIndex+1);this.setFocus(this.selectedIndex);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.pageLeft=function(){["WebSquare.uiplugin.pageList.pageLeft"];try{var _1d=this.selectedIndex-this.options.pageSize;this.setDisplayIndex(_1d);this.setSelectedIndex(this.displayIndex);this.setFocus(this.selectedIndex);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.pageLeftLast=function(){["WebSquare.uiplugin.pageList.pageLeft"];try{if(this.displayIndex==1){this.setSelectedIndex(1);}else{var _1e=this.selectedIndex-this.options.pageSize;this.setDisplayIndex(_1e);var _1f=this.displayIndex+this.options.pageSize-1;this.setSelectedIndex(_1f);this.setFocus(this.selectedIndex);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.pageRight=function(){["WebSquare.uiplugin.pageList.pageRight"];try{var _20=this.selectedIndex+this.options.pageSize;this.setDisplayIndex(_20);this.setSelectedIndex(this.displayIndex);this.setFocus(this.selectedIndex);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.setDisplayIndex=function(idx){["WebSquare.uiplugin.pageList.setDisplayIndex"];try{if(this.pageCount==0){return;}idx=parseInt(idx,10);var _22=parseInt((idx-1)/this.options.pageSize)*this.options.pageSize+1;if(this.options.pagingType=="1"&&!(this.options.buttonShowType=="3")){if(idx+this.options.pageSize>this.pageCount){_22=this.pageCount-this.options.pageSize+1;}}else{if(this.options.pagingType=="2"){}}if(this.options.buttonShowType=="2"&&this.options.naviType=="1"){_22=idx;}if(_22<1){_22=1;}if(_22>this.pageCount){_22=this.pageCount;}if(this.displayIndex==_22){return;}else{this.displayIndex=_22;this.redraw();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.changeButtonCursor=function(idx){["WebSquare.uiplugin.pageList.changeButtonCursor "];try{if(this.options.buttonShowType=="3"||this.options.buttonShowType=="2"){if(this.displayIndex==1){this.addClass("w2pageList_prev_last");}else{this.removeClass("w2pageList_prev_last");}if(this.displayIndex+this.options.pageSize>this.pageCount){this.addClass("w2pageList_next_last");}else{this.removeClass("w2pageList_next_last");}if(idx==1){this.addClass("w2pageList_pagePrev_last");}else{this.removeClass("w2pageList_pagePrev_last");}if(idx==this.pageCount){this.addClass("w2pageList_pageNext_last");}else{this.removeClass("w2pageList_pageNext_last");}}else{if(this.displayIndex==1){this.addClass("w2pageList_pagePrev_last");}else{this.removeClass("w2pageList_pagePrev_last");}if(this.displayIndex+this.options.pageSize>this.pageCount){this.addClass("w2pageList_pageNext_last");}else{this.removeClass("w2pageList_pageNext_last");}if(idx==1){this.addClass("w2pageList_prev_last");}else{this.removeClass("w2pageList_prev_last");}if(idx==this.pageCount){this.addClass("w2pageList_next_last");}else{this.removeClass("w2pageList_next_last");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.setPageSize=function(_24){["WebSquare.uiplugin.pageList.setPageSize"];try{this.options.pageSize=(typeof _24=="string")?(parseInt(_24,10)||this.options.pageSize):_24||this.options.pageSize;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.getPageSize=function(){["WebSquare.uiplugin.pageList.getPageSize"];try{return this.options.pageSize;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.pageList.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2pageList_control_pagePrev")){if(this.options.buttonShowType=="2"){this.moveLeft();}else{if(this.options.buttonShowType=="3"){this.setSelectedIndex(1);}else{if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){this.pageLeft();}else{this.pageLeft();}}}WebSquare.event.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){WebSquare.event.stopEvent(e);}}if(it.match("w2pageList_control_prev")){if(this.options.buttonShowType=="3"){this.pageLeftLast();}else{this.moveLeft();}WebSquare.event.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){WebSquare.event.stopEvent(e);}}if(it.match("w2pageList_control_next")){if(this.options.buttonShowType=="3"){this.pageRight();}else{this.moveRight();}WebSquare.event.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){WebSquare.event.stopEvent(e);}}if(it.match("w2pageList_control_pageNext")){if(this.options.buttonShowType=="2"){this.moveRight();}else{if(this.options.buttonShowType=="3"){this.setSelectedIndex(this.pageCount);}else{if(this.options.buttonShowType=="0"||this.options.buttonShowType=="1"){this.pageRight();}else{this.pageRight();}}}WebSquare.event.fireEvent(this,"onclick",this.getSelectedIndex());if(this.options.renderType=="list"){WebSquare.event.stopEvent(e);}}if(it.match("w2pageList_control_label")){var _27=it.getElement().getAttribute("index");this.setSelectedIndex(_27);WebSquare.event.fireEvent(this,"onclick",_27);if(this.options.renderType=="list"){WebSquare.event.stopEvent(e);}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.pageList.handleMouseoverEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2pageList_control_label")){this.addClass(it.getElement(),"w2pageList_label_over");}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageList.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.pageList.handleMouseoutEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2pageList_control_label")){this.removeClass(it.getElement(),"w2pageList_label_over");}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.repeatAPI={};WebSquare.uiplugin.repeatAPI.getRepeatIndex=function(){return this.__repeat.repeatComponents[this.id].repeatIndex;};WebSquare.uiplugin.repeatAPI.getSiblingId=function(_1){var _2=this.getRepeatIndex();var _3=this.__repeat.repeatIds[_2];return _3.hashPreFix+_1;};WebSquare.uiplugin.repeatAPI.getSibling=function(_4){var _5=this.getRepeatIndex();var _6=this.__repeat.repeatIds[_5];return window[_6.hashPreFix+_4];};WebSquare.uiplugin.repeatAPI.getRepeatInstanceNode=function(){var _7=this.getRepeatIndex();var _8=this.__repeat.options.nodeset+"[@"+this.__repeat.options.repeatKey+"='"+_7+"']";var _9=WebSquare.ModelUtil.findInstanceNode(_8);return _9;};WebSquare.uiplugin.repeatAPI.getInstanceValue=function(){var _a=WebSquare.ModelUtil.getInstanceValue(this.options.ref);return _a;};WebSquare.uiplugin.repeatAPI.getRepeat=function(){return this.__repeat;};WebSquare.uiplugin.repeat=function(id,_c,_d){["WebSquare.uiplugin.repeat"];WebSquare.xfControl.call(this,id,_c,_d);};WebSquare.extend(WebSquare.uiplugin.repeat.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.repeat.prototype.defaultOptions={pluginType:"uiplugin.repeat",pluginName:"repeat",userEvents:["onrepeatdone"],nodeset:"",repeatKey:"index",cols:"",rows:"",autoCount:false,direction:"horizontal"};WebSquare.uiplugin.repeat.prototype.initialize=function(_e){["WebSquare.uiplugin.repeat.initialize"];try{this.repeatComponents={};this.repeatIds=[];this.templateElement=_e;this.rowCount=undefined;this.colCount=undefined;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.repeat.prototype.toHTML=function(){["WebSquare.uiplugin.repeat.toHTML"];try{var _f=[];_f.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2repeat "+this.options.className+"'>");_f.push("</div>");return _f.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.repeat.prototype.setAction=function(){["WebSquare.uiplugin.repeat.setAction"];try{this.refreshRepeat();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.repeat.prototype.refreshItemset=function(){["WebSquare.uiplugin.repeat.refreshItemset"];try{this.refreshRepeat();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.repeat.prototype.drawContents=function(){["WebSquare.uiplugin.repeat.drawContents"];try{var _10=[];_10.push("<table class='w2repeat_table' cellpadding='0' cellspacing='0'>");var _11=this.getChildren();var _12=_11.length;for(var row=0;row<this.rowCount;row++){_10.push("<tr class='w2repeat_row'>");for(var col=0;col<this.colCount;col++){var _15=row*this.colCount+col;if(this.options.direction=="vertical"){_15=row+this.rowCount*col;}if(_15<_12){_10.push("<td class=''>");_10.push(_11[_15].toHTML());_10.push("</td>");}else{_10.push("<td class=''></td>");}}_10.push("</tr>");}_10.push("</table>");this.render.innerHTML=_10.join("");for(var i=0;i<_11.length;i++){_11[i].activate();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.repeat.prototype.refreshRepeat=function(){["WebSquare.uiplugin.repeat.refreshRepeat"];try{if(this.options.nodeset!=""){var _17=WebSquare.ModelUtil.findInstanceNodes(this.options.nodeset);this.initialize(this.templateElement);for(var i=this.childControlList.length-1;i>=0;i--){this.childControlList[i].remove();}if(_17.length>0){for(var i=0;i<_17.length;i++){this.parseChild(this,this.templateElement,i);}this.setTableCount();if(this.options.autoCount==true){for(var i=0;i<_17.length;i++){_17[i].setAttribute(this.options.repeatKey,i);}}this.drawContents();WebSquare.event.fireEvent(this,"onrepeatdone");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.repeat.prototype.setTableCount=function(){["WebSquare.uiplugin.repeat.setTableCount"];try{var _19=this.getChildrenCount();this.rowCount=_19;this.colCount=1;if(this.options.rows!=""){var _1a=parseInt(this.options.rows);this.rowCount=_1a;this.colCount=Math.ceil(_19/_1a);}if(this.options.cols!=""){var _1b=parseInt(this.options.cols);this.colCount=_1b;this.rowCount=Math.ceil(_19/_1b);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.repeat.prototype.parseChild=function(_1c,_1d,_1e){["WebSquare.uiplugin.repeat.parseChild"];try{for(var _1f=_1d.firstChild;_1f!=null;_1f=_1f.nextSibling){if(_1f.nodeType==1){var _20=WebSquare.xml.getLocalName(_1f);var _21=_1f.getAttribute("id");var ref=_1f.getAttribute("ref");if(_20=="repeat"){ref=_1f.getAttribute("nodeset");}if(_21){var id=this.id+"_"+_1e+"_"+_21;if(ref){ref=this.options.nodeset+"[@"+this.options.repeatKey+"='"+_1e+"']/"+ref;}else{ref="";}var _24=null;if(_20=="repeat"){_24=WebSquare.controlFactory.create(id,{nodeset:ref},_1f);}else{_24=WebSquare.controlFactory.createControl(id,{ref:ref},_1f);this.parseChild(_24,_1f,_1e);}_1c.addControl(_24);this.repeatComponents[id]={};this.repeatComponents[id].repeatIndex=_1e;this.repeatIds[_1e]={};this.repeatIds[_1e].hashPreFix=this.id+"_"+_1e+"_";window[id].__repeat=this;WebSquare.extend(window[id],WebSquare.uiplugin.repeatAPI);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.repeat.prototype.getRepeatChildren=function(_25){["WebSquare.uiplugin.repeat.getRepeatChildren"];try{var arr=[];var _27=this.getChildrenCount();for(var i=0;i<_27;i++){var id=this.id+"_"+i+"_"+_25;arr.push(window[id]);}return arr;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.repeat.prototype.setInitValue=function(_2a){["WebSquare.uiplugin.repeat.init"];try{this.init(_2a);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.repeat.prototype.init=function(_2b){["WebSquare.uiplugin.repeat.init"];try{_2b=WebSquare.extend({excludePlugin:"",excludeId:"",fireEvent:false},_2b||{});var _2c=this.getChildren();for(var i=0;i<_2c.length;i++){if(_2c[i].setInitValue){if((" "+_2b.excludePlugin+" ").indexOf(" "+_2c[i].options.pluginName+" ")==-1&&(" "+_2b.excludeId+" ").indexOf(" "+_2c[i].id+" ")==-1){_2c[i].setInitValue(_2b);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.repeat.prototype.invoke=function(_2e,_2f,_30,_31){["WebSquare.uiplugin.repeat.invoke"];try{return WebSquare.xfControl.prototype.invoke.call(this,_2e,_2f,_30,_31);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload=function(id,_2,_3){["WebSquare.uiplugin.upload"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.upload.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.upload.prototype.defaultOptions={userEvents:["ondone","onInputValueChange"],pluginType:"uiplugin.upload",pluginName:"upload",className:"",imageStyle:"",inputStyle:"",imageClass:"",inputClass:"",type:"button",action:"",imagewidth:"",imageheight:"",empty:6,subDir:"",subSize:"",title:""};WebSquare.uiplugin.upload.prototype.initialize=function(_4){["WebSquare.uiplugin.upload.initialize"];try{this.type=this.options.type;this.style=this.options.style;this.className=this.options.className;this.imageStyle=this.options.imageStyle;this.imageClassName=this.options.imageClass;this.inputStyle=this.options.inputStyle;this.inputClassName=this.options.inputClass;this.imagewidth=this.options.imagewidth;this.imageheight=this.options.imageheight;this.empty=this.options.empty;this.inputClassName=this.options.inputClass;if(!this.options.action){this.action=WebSquare.baseServletURI+"upload.wq?callbackFunction="+this.id+".callback";}else{this.action=this.options.action;}if(_4){this.xmlEvents=WebSquare.WebSquareparser.parseEvent(_4);}this.disabled=this.options.disabled;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.toHTML=function(){["WebSquare.uiplugin.upload.toHTML"];try{var _5=[];var _6=this.options.title==""?"":" title='"+this.options.title.wq_replaceAll("'","&#39;")+"'";_5.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2upload "+this.options.className+"'>");_5.push("<form id='"+this.id+"_form"+"' action='"+this.action+"'  enctype='multipart/form-data' name='form1_upload1' method='post' target='__targetFrame__"+this.id+"'><fieldset>");if(this.options.type=="image"){_5.push("<input  name='tempFlie' readonly='true' id='"+this.id+"_inputFile' class='w2upload_input "+this.options.inputClass+"' style='"+this.inputStyle+"' type='text' />");_5.push("<span id='"+this.id+"_span"+"' class='w2upload_image "+this.options.imageClass+"' style='width:"+this.imagewidth+"px;height:"+this.imageheight+"px;"+this.imageStyle+"'>");_5.push("<input  class='w2upload_fakeInput' style='margin: 0pt; padding: 0pt; width: "+this.imagewidth+"px"+"; height:"+this.imageheight+"px; opacity: 0.01; filter : alpha(opacity=1);' name='upload' id='"+this.id+"_fakeinput' type='file'  "+_6+" />");_5.push("</span>");}else{_5.push("<INPUT  id='"+this.id+"_inputFile' name='upload' type='file' _objId='2' class='w2upload_input_type' "+"style='"+this.options.inputStyle+"' "+_6+" />");}_5.push("</fieldset><input type='submit' class='w2upload_submit' /></form>");_5.push("</div>");return _5.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.setAction=function(){["WebSquare.uiplugin.upload.prototype.setAction"];try{this.dom.input=document.getElementById(this.id+"_inputFile");this.dom.span=document.getElementById(this.id+"_span");this.dom.form=document.getElementById(this.id+"_form");this.dom.fakeinput=document.getElementById(this.id+"_fakeinput");this.styleObj={paddingTop:parseInt(WebSquare.util.getStyleProperty(this.dom.input,"padding-top"))||0,paddingBottom:parseInt(WebSquare.util.getStyleProperty(this.dom.input,"padding-bottom"))||0,paddingLeft:parseInt(WebSquare.util.getStyleProperty(this.dom.input,"padding-left"))||0,paddingRight:parseInt(WebSquare.util.getStyleProperty(this.dom.input,"padding-right"))||0,borderTopWidth:parseInt(WebSquare.util.getStyleProperty(this.dom.input,"border-top-width"))||0,borderBottomWidth:parseInt(WebSquare.util.getStyleProperty(this.dom.input,"border-bottom-width"))||0,borderLeftWidth:parseInt(WebSquare.util.getStyleProperty(this.dom.input,"border-left-width"))||0,borderRightWidth:parseInt(WebSquare.util.getStyleProperty(this.dom.input,"border-right-width"))||0,height:parseInt(WebSquare.util.getStyleProperty(this.dom.input,"height"))||0};if(this.options.type=="image"){var _7=this.dom.span.offsetWidth||parseInt(WebSquare.util.getStyleProperty(this.dom.span,"width"))+WebSquare.style.getSize(this.dom.span,"outerMarginWidth");if(!this.dom.span.style.left){this.dom.span.style.left=parseInt(this.render.style.width)-parseInt(_7)+"px";}if(!this.dom.input.style.width){var _8=parseInt(this.render.style.width)-(parseInt(_7))-(this.styleObj.borderLeftWidth+this.styleObj.borderRightWidth+this.styleObj.paddingLeft+this.styleObj.paddingRight);this.dom.input.style.width=_8-this.empty+6+"px";}if(!this.dom.input.style.height&&this.styleObj.height==0){var _9=parseInt(this.render.style.height)-(this.styleObj.borderBottomWidth+this.styleObj.borderTopWidth+this.styleObj.paddingBottom+this.styleObj.paddingTop);this.dom.input.style.height=_9+"px";}if(_7==0){this.dom.fakeinput.style.width=_7+100+"px";}else{this.dom.fakeinput.style.width=_7+"px";}}var _a=WebSquare.document.createElement("div");_a.style.width="0";_a.style.height="0";_a.style.visibility="hidden";WebSquare.document.body.appendChild(_a);var _b=WebSquare.net.getSSLBlankPage();_a.innerHTML="<iframe frameborder='0' name='__targetFrame__"+this.id+"' scrolling='no' style='width:0; height:0' "+_b+" title='\ud30c\uc77c \uc5c5\ub85c\ub4dc\ub97c \uc704\ud55c \uc784\uc2dc \ud504\ub808\uc784'></iframe>";try{}catch(err){$l(err);}if(this.options.type=="image"&&this.dom.fakeinput!=null){var _c=this;this.dom.fakeinput.onchange=function(){_c.dom.input.value=_c.dom.fakeinput.value;WebSquare.event.fireEvent(_c,"onInputValueChange",_c.dom.input.value);};}else{var _c=this;this.dom.input.onchange=function(){WebSquare.event.fireEvent(_c,"onInputValueChange",_c.dom.input.value);};}if(this.options.subDir){this.addParam("subDir",this.options.subDir);}if(this.options.subSize){this.addParam("subSize",this.options.subSize);}this.event.addListener(this.dom.form,"onsubmit",this.event.bindAsEventListener(this,this.onSubmitForm));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.onSubmitForm=function(e){["WebSquare.uiplugin.upload.onSubmitForm"];try{WebSquare.event.stopEvent(e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.onInputValueChange=function(e){["WebSquare.uiplugin.upload.onInputValueChange"];try{var _f=this;if(this.options.type=="image"&&this.dom.fakeinput!=null){this.dom.input.value=this.dom.fakeinput.value;}WebSquare.event.fireEvent(_f,"onInputValueChange",_f.dom.input.value);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.setCallback=function(obj){["WebSquare.uiplugin.upload.setCallback"];try{if(typeof obj=="function"){this.callbackFunction=obj;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.isEmpty=function(){["WebSquare.uiplugin.upload.isEmpty"];try{var _11=this.getValue();if(typeof _11=="undefined"||_11==""){return true;}else{return false;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.getByte=function(){["WebSquare.uiplugin.upload.getByte"];try{alert("\ubcf4\uc548\uc0c1\uc758 \ubb38\uc81c\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \uae30\ub2a5\uc785\ub2c8\ub2e4.");var _12=WebSquare.document.getElementById(this.id+"_inputFile");if(_12){var fso=new ActiveXObject("Scripting.FileSystemObject");var f=fso.GetFile(_12.value);return f.size;}else{$l("input form is not exist");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.getValue=function(){["WebSquare.uiplugin.upload.getValue"];try{var _15=WebSquare.document.getElementById(this.id+"_inputFile");if(_15){return _15.value;}else{$l("input form is not exist");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.reset=function(){["WebSquare.uiplugin.upload.reset"];try{this.dom.form.reset();if(this.options.type=="image"){this.dom.fakeinput.value="";this.dom.input.value="";}else{this.dom.input.value="";}if(this.options.subDir){var _16=this.dom.form.firstChild;while(_16){if(_16.id=="subDir"){_16.value=this.options.subDir;break;}else{_16=_16.nextSibling;}}}if(this.options.subSize){var _17=this.dom.form.firstChild;while(_17){if(_17.id=="subSize"){_17.value=this.options.subSize;return;}else{_17=_16.nextSibling;}}}var _18=this.dom.form.getElementsByTagName("input");for(var i=0;i<_18.length;i++){if(_18[i].type=="hidden"){_18[i].removeAttribute("value");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.setSubDir=function(_1a){["WebSquare.uiplugin.upload.reset"];try{if(this.options.subDir){var _1b=this.dom.form.firstChild;while(_1b){if(_1b.id=="subDir"){_1b.value=_1a;return;}else{_1b=_1b.nextSibling;}}}else{this.addParam("subDir",_1a);}this.options.subDir=_1a;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.submit=function(){["WebSquare.uiplugin.upload.submit"];try{if(WebSquare.domain){var _1c=this.dom.form.action;if(_1c.indexOf("?")>-1){_1c+="&";}else{_1c+="?";}_1c+="domain="+WebSquare.text.URLEncoder(WebSquare.domain);this.dom.form.action=_1c;}this.dom.form.submit();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.getFileInputObject=function(){["WebSquare.uiplugin.upload.getFileInputObject"];try{return this.dom.input;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.setFAction=function(url){["WebSquare.uiplugin.upload.setFAction"];try{this.dom.form.action=url;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.changeFormAction=function(url){["WebSquare.uiplugin.upload.setFAction"];try{this.dom.form.action=url;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.addParam=function(key,_20){["WebSquare.uiplugin.upload.addParam"];try{var _21=false;var _22=this.dom.form.firstChild;while(_22){if(_22.id==key){_21=true;break;}else{_22=_22.nextSibling;}}if(_21){this.dom.form[key].value=_20;}else{var _23=WebSquare.document.createElement("input");_23.type="hidden";_23.value=_20;_23.id=key;_23.name=key;this.dom.form.appendChild(_23);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.getDefaultStyle=function(){["WebSquare.uiplugin.upload.getDefaultStyle"];try{return " border:0px solid blue ";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.callback=function(_24){["WebSquare.uiplugin.upload.callback"];try{if(this.callbackFunction){this.callbackFunction.apply(this,new Array(WebSquare.xml.parse(_24)));}else{WebSquare.event.fireEvent(this,"ondone",WebSquare.xml.parse(_24));}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.getActionUrl=function(){["WebSquare.uiplugin.upload.getActionUrl"];try{if(this.options.action){return this.options.action;}else{return this.action;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.getAccessibiltyId=function(){["WebSquare.uiplugin.upload.getAccessibiltyId"];try{return this.options.type=="image"?this.id+"_fakeinput":this.id+"_inputFile";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.upload.prototype.setDisabled=function(_25){["WebSquare.uiplugin.upload.setDisabled"];try{var _26;if(this.options.type=="image"){_26=document.getElementById(this.id+"_fakeinput");}else{_26=document.getElementById(this.id+"_inputFile");}_26.disabled=_25;WebSquare.xfControl.prototype.setDisabled.call(this,_25);}catch(e){WebSquare.exception.printStackTrace(e);}return _25;};WebSquare.uiplugin.svgToolkit=function(_1,_2){["WebSquare.uiplugin.svgToolkit"];try{this.mainParent=_1;this.options=_2;this.id=_1.id;this.mainLayer=null;this.defLayer=null;this.svgNS="http://www.w3.org/2000/svg";this.xlink="http://www.w3.org/1999/xlink";this.initSVGLayer();this.objectArr=[];this.rotateAngle=0;this.defCnt=0;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.svgToolkit.prototype.initSVGLayer=function(){["WebSquare.uiplugin.initSVGLayer"];try{var _3=document.createElementNS(this.svgNS,"svg");_3.style.position="absolute";_3.style.left="0px";_3.style.top="0px";_3.style.width="100%";_3.style.height="100%";_3.setAttribute("class","w2graphicUtil");if(this.options.appendMode=="insert"&&this.mainParent.render.firstChild){this.mainParent.render.insertBefore(_3,this.mainParent.render.firstChild);}else{this.mainParent.render.appendChild(_3);}this.defLayer=document.createElementNS(this.svgNS,"defs");_3.appendChild(this.defLayer);this.mainLayer=document.createElementNS(this.svgNS,"g");_3.appendChild(this.mainLayer);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.svgToolkit.prototype.rotate=function(_4,cx,cy){["WebSquare.uiplugin.svgToolkit.rotate"];_4=_4||0;cx=cx||parseInt(this.mainParent.render.style.width)/2;cx+=0.5;cy+=0.5;this.mainLayer.setAttribute("transform","rotate("+_4+" "+cx+" "+cy+")");this.rotateAngle=_4;};WebSquare.uiplugin.svgToolkit.prototype.getRotateAngle=function(){["WebSquare.uiplugin.svgToolkit.getRotateAngle"];return this.rotateAngle;};WebSquare.uiplugin.svgToolkit.prototype.createLine=function(id,_8,x1,y1,x2,y2,_d,_e,_f){["WebSquare.uiplugin.svgToolkit"];var _10=document.createElementNS(this.svgNS,"line");_10.setAttribute("id",id);_10.setAttribute("stroke-linecap","round");_10.setAttribute("stroke-width",_8);_10.setAttribute("x1",x1);_10.setAttribute("y1",y1);_10.setAttribute("x2",x2);_10.setAttribute("y2",y2);_10.setAttribute("stroke",(_d||"#000000"));this.appendObj(id,_10,_e);return _10;};WebSquare.uiplugin.svgToolkit.prototype.createCircle=function(id,_12,x1,y1,r,_16,_17,_18,_19){["WebSquare.uiplugin.svgToolkit"];var _1a=document.createElementNS(this.svgNS,"circle");_1a.setAttribute("id",id);_1a.setAttribute("stroke-width",_12);_1a.setAttribute("cx",x1);_1a.setAttribute("cy",y1);_1a.setAttribute("r",r);_1a.setAttribute("stroke",(_16||"#000000"));_1a.setAttribute("fill",(_17||"#ffffff"));this.appendObj(id,_1a,_18);return _1a;};WebSquare.uiplugin.svgToolkit.prototype.createEllipse=function(id,_1c,x1,y1,rx,ry,_21,_22,_23,_24){["WebSquare.uiplugin.svgToolkit"];var _25=document.createElementNS(this.svgNS,"ellipse");_25.setAttribute("stroke-width",_1c);_25.setAttribute("cx",x1);_25.setAttribute("cy",y1);_25.setAttribute("rx",rx);_25.setAttribute("ry",ry);_25.setAttribute("stroke",(_21||"#000000"));_25.setAttribute("fill",(_22||"#ffffff"));this.appendObj(id,_25,_23);return _25;};WebSquare.uiplugin.svgToolkit.prototype.createRectangleAnimation=function(id,_27,x,y,_2a,_2b,_2c,_2d,_2e,_2f){["WebSquare.uiplugin.svgToolkit"];_2f=_2f||"bottom_top";var _30=null;var _31=this;if(_2f=="bottom_top"){_30=this.createRectangle(id,_27,x,y+_2b,_2a,0,_2c,_2d,_2e);setTimeout(function(){_31.startRectangleAnimation1(_30,y,_2b,1,10);},1);}if(_2f=="left_right"){_30=this.createRectangle(id,_27,x,y,0,_2b,_2c,_2d,_2e);setTimeout(function(){_31.startRectangleAnimation2(_30,y,_2a,1,10);},1);}return _30;};WebSquare.uiplugin.svgToolkit.prototype.startRectangleAnimation1=function(obj,y,_34,idx,_36){["WebSquare.uiplugin.svgToolkit"];idx=(idx>_36)?_36:idx;obj.setAttribute("y",y+_34-(_34*idx/_36));obj.setAttribute("height",_34*idx/_36);if(idx<_36){idx++;var _37=this;setTimeout(function(){_37.startRectangleAnimation1(obj,y,_34,idx,_36);},40);}};WebSquare.uiplugin.svgToolkit.prototype.startRectangleAnimation2=function(obj,y,_3a,idx,_3c){["WebSquare.uiplugin.svgToolkit"];idx=(idx>_3c)?_3c:idx;obj.setAttribute("width",_3a*idx/_3c);if(idx<_3c){idx++;var _3d=this;setTimeout(function(){_3d.startRectangleAnimation2(obj,y,_3a,idx,_3c);},40);}};WebSquare.uiplugin.svgToolkit.prototype.createRectangle=function(id,_3f,x,y,_42,_43,_44,_45,_46,_47){["WebSquare.uiplugin.svgToolkit"];var _48=document.createElementNS(this.svgNS,"rect");_48.setAttribute("id",id);_48.setAttribute("stroke-width",_3f);_48.setAttribute("x",x);_48.setAttribute("y",y);_48.setAttribute("width",_42);_48.setAttribute("height",_43);_48.setAttribute("stroke",(_44||"#000000"));_48.setAttribute("fill",(_45||"#ffffff"));this.appendObj(id,_48,_46);return _48;};WebSquare.uiplugin.svgToolkit.prototype.createRoundRect=function(id,_4a,x,y,_4d,_4e,_4f,_50,_51,_52,_53){["WebSquare.uiplugin.svgToolkit.createRoundRect"];_4a=parseInt(_4a)||0;var _54=document.createElementNS(this.svgNS,"rect");_54.setAttribute("stroke-width",_4a);_54.setAttribute("x",parseInt(x)+_4a/2);_54.setAttribute("y",parseInt(y)+_4a/2);_54.setAttribute("width",parseInt(_4d)-_4a);_54.setAttribute("height",parseInt(_4e)-_4a);_54.setAttribute("stroke",(_50||"#000000"));_54.setAttribute("fill",(_51||"#ffffff"));_54.setAttribute("rx",_4f);_54.setAttribute("ry",_4f);this.appendObj(id,_54,_52);return _54;};WebSquare.uiplugin.svgToolkit.prototype.setStyle=function(id,_56,top,_58,_59){["WebSquare.uiplugin.svgToolkit"];var obj=this.objectArr[id];var _5b=parseInt(obj.getAttribute("stroke-width"))||0;if(_56!=null){obj.setAttribute("x",parseInt(_56)+_5b);}if(top!=null){obj.setAttribute("y",parseInt(top)+_5b);}if(_58!=null){obj.setAttribute("width",parseInt(_58)-_5b);}if(_59!=null){obj.setAttribute("height",parseInt(_59)-_5b);}};WebSquare.uiplugin.svgToolkit.prototype.createImage=function(id,_5d,x,y,_60,_61,_62,src,_64,_65){["WebSquare.uiplugin.svgToolkit.createImage"];var img=document.createElementNS(this.svgNS,"image");img.setAttribute("x",x);img.setAttribute("y",y);img.setAttribute("width",_60);img.setAttribute("height",_61);img.setAttributeNS(this.xlink,"href",src);this.appendObj(id,img,_64);return img;};WebSquare.uiplugin.svgToolkit.prototype.createArc=function(id,_68,cx,cy,r,_6c,_6d,_6e,_6f,_70,_71){["WebSquare.uiplugin.svgToolkit.createArc"];var _72=document.createElementNS(this.svgNS,"path");if(_6c>_6d){var tmp=_6c;_6d=_6c;_6c=tmp;}var _74=(Math.abs(_6c-_6d)>180)?1:0;var d="M"+cx+" "+cy;d+=" L"+(cx+r*Math.cos(_6c*(Math.PI/180)))+" "+(cy-r*Math.sin(_6c*(Math.PI/180)));d+=" A"+r+","+r+" "+0+" "+_74+", 0 ";d+=""+(cx+r*Math.cos(_6d*(Math.PI/180)))+" "+(cy-r*Math.sin(_6d*(Math.PI/180)));d+=" Z";_72.setAttribute("id",id);_72.setAttribute("d",d);_72.setAttribute("stroke-width",_68);_72.setAttribute("stroke",(_6e||"#000000"));_72.setAttribute("fill",(_6f||"#ffffff"));this.appendObj(id,_72,_70);return _72;};WebSquare.uiplugin.svgToolkit.prototype.createPath=function(id,_77,_78,_79,_7a,_7b,_7c){["WebSquare.uiplugin.svgToolkit.createPath"];var _7d=document.createElementNS(this.svgNS,"path");var d="";for(var i=0;i<_78.length;i++){if(i==0){d+="M";}else{d+=" L";}d+=_78[i].x+" "+_78[i].y;}d+=" Z";_7d.setAttribute("d",d);_7d.setAttribute("id",id);_7d.setAttribute("stroke-width",_77);_7d.setAttribute("stroke",(_79||"#000000"));_7d.setAttribute("fill",(_7a||"#ffffff"));this.appendObj(id,_7d,_7b);return _7d;};WebSquare.uiplugin.svgToolkit.prototype.createPath2=function(id,_81,_82,_83,_84,_85,_86,_87,_88){["WebSquare.uiplugin.svgToolkit.createPath2"];var _89=document.createElementNS(this.svgNS,"path");var d="";for(var i=0;i<_82.length;i++){if(i==0){d+="M";}else{d+=" L";}d+=_82[i].x+" "+_82[i].y;}if(_86){d+=" Z";}_89.setAttribute("d",d);_89.setAttribute("id",id);_89.setAttribute("stroke-width",_81);_89.setAttribute("stroke",(_83||"#000000"));if(_85){_89.setAttribute("fill",_84||"#ffffff");}else{_89.setAttribute("fill","none");}this.appendObj(id,_89,_87);return _89;};WebSquare.uiplugin.svgToolkit.prototype.modifyPath=function(id,_8d){["WebSquare.uiplugin.svgToolkit.modifyPath"];var obj=this.objectArr[id];var d="";for(var i=0;i<_8d.pointList.length;i++){if(i==0){d+="M";}else{d+=" L";}d+=_8d.pointList[i].x+" "+_8d.pointList[i].y;}if(_8d.closeFlag){d+=" Z";}obj.setAttribute("d",d);};WebSquare.uiplugin.svgToolkit.prototype.modifyRectangle=function(id,_92){["WebSquare.uiplugin.svgToolkit.modifyRectangle"];var obj=this.objectArr[id];if(!obj){return;}if(_92.x!=null){obj.setAttribute("x",_92.x);}if(_92.y!=null){obj.setAttribute("y",_92.y);}if(_92.width!=null){obj.setAttribute("width",_92.width);}if(_92.height!=null){obj.setAttribute("height",_92.height);}};WebSquare.uiplugin.svgToolkit.prototype.modifyArc=function(id,_95){["WebSquare.uiplugin.svgToolkit.modifyArc"];var obj=this.objectArr[id];if(!obj){return;}if(_95.centerX!=null&&_95.centerY!=null&&_95.radius!=null&&_95.startAngle!=null&&_95.endAngle!=null){var cx=_95.centerX;var cy=_95.centerY;var r=_95.radius;var _9a=_95.startAngle;var _9b=_95.endAngle;var _9c=(Math.abs(_9a-_9b)>180)?1:0;var d="M"+cx+" "+cy;d+=" L"+(cx+r*Math.cos(_9a*(Math.PI/180)))+" "+(cy-r*Math.sin(_9a*(Math.PI/180)));d+=" A"+r+","+r+" "+0+" "+_9c+", 0 ";d+=""+(cx+r*Math.cos(_9b*(Math.PI/180)))+" "+(cy-r*Math.sin(_9b*(Math.PI/180)));d+="";obj.setAttribute("d",d);}};WebSquare.uiplugin.svgToolkit.prototype.modifyLine=function(id,_9f){["WebSquare.uiplugin.svgToolkit.modifyLine"];var obj=this.objectArr[id];if(!obj){return;}};WebSquare.uiplugin.svgToolkit.prototype.appendObj=function(id,obj,_a3){["WebSquare.uiplugin.appendObj"];this.objectArr[id]=obj;_a3=(_a3!=null)?_a3:true;if(WebSquare.util.isChrome()){obj.style.visibility="hidden";}if(_a3){this.mainLayer.appendChild(obj);}if(WebSquare.util.isChrome()){setTimeout(function(){obj.style.visibility="";},100);}};WebSquare.uiplugin.svgToolkit.prototype.addLinearGradient=function(id,_a5,_a6,_a7){["WebSquare.uiplugin.svgToolkit.addLinearGradient"];var x1="0%";var y1="0%";var x2="0%";var y2="0%";if(typeof _a5!="number"){switch(_a5.toLowerCase()){case "left_right":x2="100%";break;case "right_left":x1="100%";break;case "top_bottom":y2="100%";break;case "bottom_top":y1="100%";break;}}else{x1="0%";y1="0%";x2="0%";y2="0%";var _ac=_a5%360;_ac=(_ac<0)?_ac+360:_ac;if(_ac>=0&&_ac<23){x2="100%";}else{if(_ac>360-23&&_ac<=360){x2="100%";}else{if(_ac>22&&_ac<68){y1="100%";x2="100%";}else{if(_ac>67&&_ac<113){y1="100%";}else{if(_ac>112&&_ac<158){x1="100%";y1="100%";}else{if(_ac>157&&_ac<203){x1="100%";}else{if(_ac>202&&_ac<248){x1="100%";y2="100%";}else{if(_ac>247&&_ac<293){y2="100%";}else{if(_ac>292&&_ac<338){y2="100%";x2="100%";}}}}}}}}}}this.defCnt++;var _ad=document.createElementNS(this.svgNS,"linearGradient");_ad.id=this.id+"_"+id+"def"+this.defCnt;_ad.setAttribute("x1",x1);_ad.setAttribute("y1",y1);_ad.setAttribute("x2",x2);_ad.setAttribute("y2",y2);var _ae=document.createElementNS(this.svgNS,"stop");_ae.setAttribute("offset","0%");_ae.setAttribute("style","stop-color:"+_a6+"; stop-opacity:1");var _af=document.createElementNS(this.svgNS,"stop");_af.setAttribute("offset","100%");_af.setAttribute("style","stop-color:"+_a7+"; stop-opacity:1");_ad.appendChild(_ae);_ad.appendChild(_af);this.defLayer.appendChild(_ad);this.objectArr[id].setAttribute("style","fill:url(#"+this.id+"_"+id+"def"+this.defCnt+")");};WebSquare.uiplugin.svgToolkit.prototype.addRadialGradient=function(id,x,y,_b3,_b4){["WebSquare.uiplugin.svgToolkit.addRadialGradient"];this.defCnt++;var _b5=this.id+"def"+this.defCnt;var _b6=document.createElementNS(this.svgNS,"radialGradient");_b6.id=_b5;_b6.setAttribute("cx",x);_b6.setAttribute("cy",y);_b6.setAttribute("fx",x);_b6.setAttribute("fy",y);var _b7=document.createElementNS(this.svgNS,"stop");_b7.setAttribute("offset","0%");_b7.setAttribute("style","stop-color:"+_b3+"; stop-opacity:1");var _b8=document.createElementNS(this.svgNS,"stop");_b8.setAttribute("offset","100%");_b8.setAttribute("style","stop-color:"+_b4+"; stop-opacity:1");_b6.appendChild(_b7);_b6.appendChild(_b8);this.defLayer.appendChild(_b6);this.objectArr[id].setAttribute("style","fill:url(#"+_b5+")");};WebSquare.uiplugin.svgToolkit.prototype.addOpacity=function(id,_ba){["WebSquare.uiplugin.svgToolkit.add3DEffect"];var _bb=this.objectArr[id];_bb.setAttribute("opacity",_ba);};WebSquare.uiplugin.svgToolkit.prototype.add3DEffect=function(id,_bd){["WebSquare.uiplugin.svgToolkit.add3DEffect"];var _be=this.objectArr[id];if(_be.tagName=="rect"){this.add3DEffectRectangle(id,_bd);}};WebSquare.uiplugin.svgToolkit.prototype.add3DEffectRectangle=function(id,_c0){["WebSquare.uiplugin.svgToolkit.add3DEffect"];var _c1=this.objectArr[id];var _c2=null;var _c3=null;_c0=_c0/3;var _c4=parseInt(_c1.getAttribute("stroke-width")||0);var _c5=_c1.getAttribute("stroke");var _c6=_c1.getAttribute("fill");var _c7=(_c4>0)?_c4-1:0;var _c8=parseInt(_c1.getAttribute("x")||0)+_c7;var _c9=parseInt(_c1.getAttribute("y")||0)-_c7+1;var _ca=parseInt(_c1.getAttribute("width")||0);var _cb=parseInt(_c1.getAttribute("height")||0);var _cc=[];var _cd={};_cd.x=_c8;_cd.y=_c9;_cc.push(_cd);var _ce={};_ce.x=_c8+_c0;_ce.y=_c9-_c0;_cc.push(_ce);var _cf={};_cf.x=_c8+_c0+_ca;_cf.y=_c9-_c0;_cc.push(_cf);var _d0={};_d0.x=_c8+_ca;_d0.y=_c9;_cc.push(_d0);var _d1=this.mainParent.get3DColor(_c6,"dark",5);this.createPath(id+"_upper",_c4,_cc,_c5,_d1,true);var _cc=[];var _cd={};_cd.x=_c8+_ca;_cd.y=_c9;_cc.push(_cd);var _ce={};_ce.x=_c8+_ca+_c0;_ce.y=_c9-_c0;_cc.push(_ce);var _cf={};_cf.x=_c8+_ca+_c0;_cf.y=_c9+_cb-_c0;_cc.push(_cf);var _d0={};_d0.x=_c8+_ca;_d0.y=_c9+_cb;_cc.push(_d0);var _d2=this.mainParent.get3DColor(_c6,"bright",5);this.createPath(id+"_right",_c4,_cc,_c5,_d2,true);};WebSquare.uiplugin.vmlToolkit=function(_1,_2){["WebSquare.uiplugin.vmlToolkit"];try{this.mainParent=_1;this.options=_2;this.mainLayer=null;this.objectArr=[];this.coordsize="";this.rotateAngle=0;this.initVMLLayer();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.vmlToolkit.prototype.initVMLLayer=function(){["WebSquare.uiplugin.initVMLLayer"];try{document.namespaces.add("v","urn:schemas-microsoft-com:vml");try{}catch(e){$lobj(e);return;}this.mainLayer=this.createElement("group");this.mainLayer.style.position="absolute";this.mainLayer.className="w2graphicUtil";this.mainLayer.style.left="0px";this.mainLayer.style.top="0px";this.mainLayer.style.visibility="visible";var _3=this.mainParent.render.offsetWidth;var _4=this.mainParent.render.offsetHeight;if(_3==0||_4==0){_3=parseInt(WebSquare.util.getStyleProperty(this.mainParent.render,"width"));_4=parseInt(WebSquare.util.getStyleProperty(this.mainParent.render,"height"));}this.mainLayer.style.width=_3+"px";this.mainLayer.style.height=_4+"px";this.mainLayer.coordsize=parseInt(_3)+", "+parseInt(_4);this.coordsize=parseInt(_3)+", "+parseInt(_4);if(this.options.appendMode=="insert"&&this.mainParent.render.firstChild){this.mainParent.render.insertBefore(this.mainLayer,this.mainParent.render.firstChild);}else{this.mainParent.render.appendChild(this.mainLayer);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.vmlToolkit.prototype.rotate=function(_5,_6,_7){["WebSquare.uiplugin.vmlToolkit.rotate"];_5=_5||0;this.mainLayer.rotation=_5;this.rotateAngle=_5;var w=2*_6+1;var h=2*_7+1;this.mainLayer.style.width=w+"px";this.mainLayer.style.height=h+"px";this.coordsize=w+" "+h;this.mainLayer.coordsize=this.coordsize;};WebSquare.uiplugin.vmlToolkit.prototype.getRotateAngle=function(_a){["WebSquare.uiplugin.vmlToolkit.rotate"];return this.rotateAngle;};WebSquare.uiplugin.vmlToolkit.prototype.getPxWidth=function(_b){if(_b+""==parseInt(_b)+""){return _b+"px";}return _b;};WebSquare.uiplugin.vmlToolkit.prototype.createLine=function(id,_d,x1,y1,x2,y2,_12,_13,_14){["WebSquare.uiplugin.vmlToolkit.creatLine"];var _15=this.createElement("line");_15.setAttribute("id",id);_15.setAttribute("strokeweight",this.getPxWidth(_d));_15.style.zIndex=_14||0;var _16=this.createElement("stroke");_16.setAttribute("endcap","round");_15.appendChild(_16);_15.setAttribute("to",x1+","+y1);_15.setAttribute("from",x2+","+y2);_15.setAttribute("strokecolor",_12);this.appendObj(id,_15,_13);return _15;};WebSquare.uiplugin.vmlToolkit.prototype.createCircle=function(id,_18,x1,y1,r,_1c,_1d,_1e,_1f){["WebSquare.uiplugin.vmlToolkit.createCircle"];var _20=this.createElement("oval");_20.setAttribute("id",id);_20.style.position="absolute";_20.style.left=x1-r;_20.style.top=y1-r;_20.style.width=r*2;_20.style.height=r*2;_20.setAttribute("stroke","true");_20.setAttribute("opacity","5.5");_20.setAttribute("strokecolor",_1c);_20.setAttribute("strokeweight",this.getPxWidth(_18));_20.setAttribute("fill","true");_20.setAttribute("fillcolor",_1d||"#ffffff");_20.style.zIndex=_1f||0;this.appendObj(id,_20,_1e);return _20;};WebSquare.uiplugin.vmlToolkit.prototype.createEllipse=function(id,_22,x1,y1,rx,ry,_27,_28,_29,_2a){["WebSquare.uiplugin.vmlToolkit.createEllipse"];var _2b=this.createElement("oval");_2b.style.position="absolute";_2b.style.left=x1-rx;_2b.style.top=y1-ry;_2b.style.width=rx*2;_2b.style.height=ry*2;_2b.setAttribute("stroke","true");_2b.setAttribute("strokecolor",_27);_2b.setAttribute("strokeweight",this.getPxWidth(_22));_2b.setAttribute("fill","true");_2b.setAttribute("fillcolor",_28||"#ffffff");_2b.style.zIndex=_2a||0;this.appendObj(id,_2b,_29);return _2b;};WebSquare.uiplugin.vmlToolkit.prototype.createRectangleAnimation=function(id,_2d,x,y,_30,_31,_32,_33,_34,_35){["WebSquare.uiplugin.vmlToolkit"];_35=_35||"bottom_top";var _36=null;var _37=this;if(_35=="bottom_top"){_36=this.createRectangle(id,_2d,x,y+_31,_30,0,_32,_33,_34);setTimeout(function(){_37.startRectangleAnimation1(_36,y,_31,1,10);},1);}if(_35=="left_right"){_36=this.createRectangle(id,_2d,x,y,0,_31,_32,_33,_34);setTimeout(function(){_37.startRectangleAnimation2(_36,y,_30,1,10);},1);}return _36;};WebSquare.uiplugin.vmlToolkit.prototype.startRectangleAnimation1=function(obj,y,_3a,idx,_3c){["WebSquare.uiplugin.vmlToolkit"];idx=(idx>_3c)?_3c:idx;obj.style.top=y+_3a-(_3a*idx/_3c);obj.style.height=_3a*idx/_3c;if(idx<_3c){idx++;var _3d=this;setTimeout(function(){_3d.startRectangleAnimation1(obj,y,_3a,idx,_3c);},20);}};WebSquare.uiplugin.vmlToolkit.prototype.startRectangleAnimation2=function(obj,y,_40,idx,_42){["WebSquare.uiplugin.vmlToolkit"];idx=(idx>_42)?_42:idx;obj.style.width=_40*idx/_42;if(idx<_42){idx++;var _43=this;setTimeout(function(){_43.startRectangleAnimation2(obj,y,_40,idx,_42);},20);}};WebSquare.uiplugin.vmlToolkit.prototype.createRectangle=function(id,_45,x,y,_48,_49,_4a,_4b,_4c,_4d){["WebSquare.uiplugin.vmlToolkit"];var _4e=this.createElement("rect");_4e.id=id;_4e.setAttribute("stroke","true");_4e.setAttribute("strokecolor",_4a);_4e.setAttribute("strokeweight",this.getPxWidth(_45));_4e.style.position="absolute";_4e.style.left=x;_4e.style.top=y;_4e.style.width=_48;_4e.style.height=_49;_4e.setAttribute("fill","true");_4e.setAttribute("fillcolor",_4b||"#ffffff");_4e.style.zIndex=_4d||0;this.appendObj(id,_4e,_4c);return _4e;};WebSquare.uiplugin.vmlToolkit.prototype.createRoundRect=function(id,_50,x,y,_53,_54,_55,_56,_57,_58,_59){["WebSquare.uiplugin.vmlToolkit"];_50=parseInt(_50);_54-=_50;var _5a=this.createElement("roundrect");_5a.style.width=_53;_5a.style.height=_54;if(_50!==0){_5a.setAttribute("stroked","true");_5a.setAttribute("strokecolor",_56);_5a.setAttribute("strokeweight",this.getPxWidth(_50));}else{_5a.setAttribute("stroked","false");}_5a.setAttribute("arcsize",parseFloat(_55)/parseFloat(_54));_5a.style.position="absolute";_5a.style.left=x;_5a.style.top=y;_5a.setAttribute("fill","true");_5a.setAttribute("fillcolor",_57||"#ffffff");_5a.style.zIndex=_59||0;this.appendObj(id,_5a,_58);return _5a;};WebSquare.uiplugin.vmlToolkit.prototype.setStyle=function(id,_5c,top,_5e,_5f){["WebSquare.uiplugin.vmlToolkit"];var obj=this.objectArr[id];if(_5c!=null){obj.style.left=_5c;}if(top!=null){obj.style.top=top;}if(_5e!=null){obj.style.width=_5e;}if(_5f!=null){obj.style.height=_5f;}};WebSquare.uiplugin.vmlToolkit.prototype.createImage=function(id,_62,x,y,_65,_66,_67,src,_69,_6a){["WebSquare.uiplugin.vmlToolkit.createImage"];var img=this.createElement("image");img.src=src;img.style.position="absolute";img.style.left=x;img.style.top=y;img.style.width=_65;img.style.height=_66;img.style.zIndex=_6a||0;this.appendObj(id,img,_69);return img;};WebSquare.uiplugin.vmlToolkit.prototype.createArc=function(id,_6d,cx,cy,r,_71,_72,_73,_74,_75,_76){["WebSquare.uiplugin.vmlToolkit.createImage"];r=Math.round(r);if(_71>_72){var tmp=_71;_72=_71;_71=tmp;}var _78=parseInt(23600000*_71/360);var _79=parseInt((_72-_71)/360*23600000);var _7a=this.createElement("shape");_7a.setAttribute("id",id);_7a.style.position="absolute";_7a.style.left=cx;_7a.style.top=cy;_7a.style.width=r;_7a.style.height=r;_7a.setAttribute("strokeweight",this.getPxWidth(_6d));_7a.setAttribute("strokeColor",_73);_7a.setAttribute("coordsize",r+" "+r);_7a.setAttribute("path","M 0 0 AE 0 0 "+r+" "+r+" "+_78+" "+_79+" X E");_7a.style.zIndex=_76||0;_7a.setAttribute("fill","true");_7a.setAttribute("fillcolor",_74||"#ffffff");this.appendObj(id,_7a,_75);return _7a;};WebSquare.uiplugin.vmlToolkit.prototype.createPath=function(id,_7c,_7d,_7e,_7f,_80,_81){["WebSquare.uiplugin.vmlToolkit.createPath"];var _82=this.createElement("shape");_82.setAttribute("id",id);_82.style.position="absolute";_82.style.width=this.mainLayer.style.width;_82.style.height=this.mainLayer.style.height;_82.setAttribute("strokeColor",_7e);_82.setAttribute("strokeweight",this.getPxWidth(_7c));_82.setAttribute("fillcolor",_7f);_82.style.zIndex=_81||0;var _83=this.createElement("path");var _84="";for(var i=0;i<_7d.length;i++){if(i==0){_84+="M";}else{_84+=" L";}_84+=parseInt(_7d[i].x)+","+parseInt(_7d[i].y);}_84+=" X E";_83.setAttribute("v",_84);_82.appendChild(_83);this.appendObj(id,_82,_80);return _82;};WebSquare.uiplugin.vmlToolkit.prototype.createPath2=function(id,_87,_88,_89,_8a,_8b,_8c,_8d,_8e){["WebSquare.uiplugin.vmlToolkit.createPath2"];var _8f=this.createElement("shape");_8f.setAttribute("id",id);_8f.style.position="absolute";_8f.style.width=this.mainLayer.style.width;_8f.style.height=this.mainLayer.style.height;_8f.setAttribute("strokeColor",_89);_8f.setAttribute("strokeweight",this.getPxWidth(_87));_8f.style.zIndex=_8e||0;if(_8b){_8f.fillcolor=_8a;}var _90=this.createElement("path");var _91="";for(var i=0;i<_88.length;i++){if(i==0){_91+="M";}else{_91+=" L";}_91+=parseInt(_88[i].x)+","+parseInt(_88[i].y);}if(_8c){_91+=" X E";}else{_91+=" E nf ";}_90.setAttribute("v",_91);_8f.appendChild(_90);this.appendObj(id,_8f,_8d);return _8f;};WebSquare.uiplugin.vmlToolkit.prototype.modifyPath=function(id,_94){["WebSquare.uiplugin.vmlToolkit.modifyPath"];var obj=this.objectArr[id];if(!obj){return;}var _96=null;var _97="";for(var _98=obj.firstChild;_98!=null;_98=_98.nextSibling){if(_98.nodeName=="path"){_96=_98;break;}}if(_96){for(var i=0;i<_94.pointList.length;i++){if(i==0){_97+="M";}else{_97+=" L";}_97+=parseInt(_94.pointList[i].x)+","+parseInt(_94.pointList[i].y);}if(_94.closeFlag){_97+=" X E";}else{_97+=" E nf";}_96.v=_97;}};WebSquare.uiplugin.vmlToolkit.prototype.modifyRectangle=function(id,_9b){["WebSquare.uiplugin.vmlToolkit.modifyRectangle"];var obj=this.objectArr[id];if(!obj){return;}if(_9b.x!=null){obj.style.left=_9b.x;}if(_9b.y!=null){obj.style.top=_9b.y;}if(_9b.width!=null){obj.style.width=_9b.width;}if(_9b.height!=null){obj.style.height=_9b.height;}};WebSquare.uiplugin.vmlToolkit.prototype.modifyArc=function(id,_9e){["WebSquare.uiplugin.vmlToolkit.modifyArc"];var obj=this.objectArr[id];if(!obj){return;}if(_9e.centerX!=null){obj.style.left=_9e.centerX;}if(_9e.centerY!=null){obj.style.top=_9e.centerY;}if(_9e.radius!=null&&_9e.startAngle!=null&&_9e.endAngle!=null){var r=parseInt(_9e.radius);var _a1=parseInt(23600000*_9e.startAngle/360);var _a2=parseInt((_9e.endAngle-_9e.startAngle)/360*23600000);obj.path="M 0 0 AE 0 0 "+r+" "+r+" "+_a1+" "+_a2+" X E";}};WebSquare.uiplugin.vmlToolkit.prototype.modifyLine=function(id,_a4){["WebSquare.uiplugin.vmlToolkit.modifyLine"];var obj=this.objectArr[id];if(!obj){return;}};WebSquare.uiplugin.vmlToolkit.prototype.appendObj=function(id,obj,_a8){["WebSquare.uiplugin.appendObj"];this.objectArr[id]=obj;_a8=(_a8!=null)?_a8:true;obj.style.visibility="visible";obj.style.display="none";if(_a8){this.mainLayer.appendChild(obj);}this.mainLayer.style.visibility="";obj.style.display="";obj.style.visibility="";};WebSquare.uiplugin.vmlToolkit.prototype.addLinearGradient=function(id,_aa,_ab,_ac){["WebSquare.uiplugin.vmlToolkit.addLinearGradient"];var _ad="0";if(typeof _aa!="number"){switch(_aa.toLowerCase()){case "left_right":_ad="270";break;case "right_left":_ad="90";break;case "top_bottom":_ad="180";break;case "bottom_top":_ad="0";break;}}else{_ad=_aa%360;_ad-=90;_ad=(_ad<0)?_ad+360:_ad;}var _ae=this.createElement("fill");_ae.setAttribute("type","Gradient");_ae.setAttribute("angle",_ad);_ae.setAttribute("color",_ab);_ae.setAttribute("color2",_ac);this.objectArr[id].appendChild(_ae);};WebSquare.uiplugin.vmlToolkit.prototype.addRadialGradient=function(id,x,y,_b2,_b3){["WebSquare.uiplugin.vmlToolkit.addRadialGradient"];var _b4="0";gradientType=0;if(typeof gradientType!="number"){switch(gradientType.toLowerCase()){case "left_right":_b4="270";break;case "right_left":_b4="90";break;case "top_bottom":_b4="180";break;case "bottom_top":_b4="0";break;}}else{_b4=gradientType%360;_b4-=90;_b4=(_b4<0)?_b4+360:_b4;}var _b5=this.createElement("fill");_b5.setAttribute("type","Gradient");_b5.setAttribute("angle",_b4);_b5.setAttribute("color",_b2);_b5.setAttribute("color2",_b3);this.objectArr[id].appendChild(_b5);};WebSquare.uiplugin.vmlToolkit.prototype.add3DEffect=function(id,_b7){["WebSquare.uiplugin.vmlToolkit.add3DEffect"];var _b8=this.createElement("extrusion");_b8.setAttribute("on","true");_b8.setAttribute("backdepth",_b7+"px");this.objectArr[id].appendChild(_b8);};WebSquare.uiplugin.vmlToolkit.prototype.addOpacity=function(id,_ba){["WebSquare.uiplugin.vmlToolkit.addOpacity"];var _bb=this.createElement("stroke");_bb.setAttribute("opacity","50%");this.objectArr[id].appendChild(_bb);};WebSquare.uiplugin.vmlToolkit.prototype.createElement=function(_bc){["WebSquare.uiplugin.vmlToolkit.createElement"];var _bd;_bd=document.createElement("v:"+_bc);if(WebSquare.util.isIE(8)&&navigator.userAgent.indexOf("MSIE 8.0")>-1){_bd.style.BEHAVIOR="url(#default#VML)";}else{_bd=document.createElement("v:"+_bc);}return _bd;};WebSquare.uiplugin.graphicUtil=function(id,_2,_3,_4){["WebSquare.uiplugin.graphicUtil"];this.id=id;this.platformType=_3||"";this.options=WebSquare.extend({appendMode:"append"},_4||{});if(this.platformType==""){this.platformType=WebSquare.graphicPlatformType;}this.makeMainLayer(_2);this.hasMainCanvas=false;this.drawToolkit=null;this.setDrawToolkit(this.options);};WebSquare.uiplugin.graphicUtil.prototype.setDrawToolkit=function(_5){try{switch(this.platformType){case "svg":imports("uiplugin/graphicUtil/svgToolkit.js");this.drawToolkit=new WebSquare.uiplugin.svgToolkit(this,_5);break;case "vml":imports("uiplugin/graphicUtil/vmlToolkit.js");this.drawToolkit=new WebSquare.uiplugin.vmlToolkit(this,_5);break;case "silverlight":break;case "canvas":break;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.graphicUtil.prototype.setSize=function(_6,_7){this.drawToolkit.setSize(_6,_7);};WebSquare.uiplugin.graphicUtil.prototype.makeMainLayer=function(_8){this.render=_8;};WebSquare.uiplugin.graphicUtil.prototype.rotate=function(_9){this.drawToolkit.rotate(_9);};WebSquare.uiplugin.graphicUtil.prototype.getRotateAngle=function(){return this.drawToolkit.getRotateAngle();};WebSquare.uiplugin.graphicUtil.prototype.get3DColor=function(_a,_b,_c){if(_b=="dark"){return this.getDarkColor(_a,_c);}else{return this.getBrightColor(_a,_c);}};WebSquare.uiplugin.graphicUtil.prototype.getDarkColor=function(_d,_e){var r;var g;var b;if(_d.indexOf("#")>-1){r=WebSquare.util.hexacodetoDbl(_d.substr(1,2));g=WebSquare.util.hexacodetoDbl(_d.substr(3,2));b=WebSquare.util.hexacodetoDbl(_d.substr(5,2));}else{r=255;g=255;b=255;}var _12=r-(r)/_e;if(_12<0){_12=0;}var _13=g-(g)/_e;if(_13<0){_13=0;}var _14=b-(b)/_e;if(_14<0){_14=0;}return "#"+this.getChangedHexacode(_12)+this.getChangedHexacode(_13)+this.getChangedHexacode(_14);};WebSquare.uiplugin.graphicUtil.prototype.getBrightColor=function(_15,_16){var r;var g;var b;if(_15.indexOf("#")>-1){r=WebSquare.util.hexacodetoDbl(_15.substr(1,2));g=WebSquare.util.hexacodetoDbl(_15.substr(3,2));b=WebSquare.util.hexacodetoDbl(_15.substr(5,2));}else{r=255;g=255;b=255;}var _1a=r+(r)/_16;if(_1a>255){_1a=255;}var _1b=g+(g)/_16;if(_1b>255){_1b=255;}var _1c=b+(b)/_16;if(_1c>255){_1c=255;}return "#"+this.getChangedHexacode(_1a)+this.getChangedHexacode(_1b)+this.getChangedHexacode(_1c);};WebSquare.uiplugin.graphicUtil.prototype.getChangedHexacode=function(_1d){_1d=WebSquare.util.dbltoHexacode(_1d);_1d="0000".substring(0,2-_1d.length)+_1d;return _1d;};WebSquare.uiplugin.graphicUtil.prototype.getRenderingObj=function(id){return this.drawToolkit.objectArr[id];};requires("uiplugin/graphicUtil/graphicUtil.js");WebSquare.uiplugin.rectangle=function(id,_2,_3){["WebSquare.uiplugin.rectangle"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.rectangle.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.rectangle.prototype.defaultOptions={pluginType:"uiplugin.rectangle",pluginName:"rectangle",x:null,y:null,width:null,height:null,arcsize:5,borderWidth:0,borderColor:"#000000",fillColor:"#ffffff",gradient:false,color1:"#ffffff",color2:"#ffffff",gradientType:"left_right"};WebSquare.uiplugin.rectangle.prototype.initialize=function(_4){["WebSquare.uiplugin.rectangle.initialize"];try{this.mainGU=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.rectangle.prototype.toHTML=function(){["WebSquare.uiplugin.rectangle.toHTML"];try{var _5=[];_5.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2rectangle "+this.options.className+"'>");_5.push("</div>");return _5.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.rectangle.prototype.setAction=function(){["WebSquare.uiplugin.rectangle.setAction"];try{var x=0;var y=0;var _8=0;var _9=0;if(this.options.x!=null){x=this.options.x;}else{x=0;}if(this.options.y!=null){y=this.options.y;}else{y=0;}if(this.options.width!=null){_8=this.options.width;}else{_8=this.render.offsetWidth;}if(this.options.height!=null){_9=this.options.height;}else{_9=this.render.offsetHeight;}this.mainGU=new WebSquare.uiplugin.graphicUtil(this.id+"_GU",this.render);this.mainGU.drawToolkit.createRectangle(this.id+"_graphic",this.options.borderWidth,x,y,_8,_9,this.options.arcsize,this.options.borderColor,this.options.fillColor,true);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.rectangle.prototype.refreshItemset=function(){};WebSquare.uiplugin.rectangle.prototype.refresh=function(){};WebSquare.uiplugin.rectangle.prototype.setSize=function(_a,_b){try{this.mainGU.drawToolkit.setStyle(this.id+"_graphic",null,null,_a,_b);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};requires("uiplugin/graphicUtil/graphicUtil.js");WebSquare.uiplugin.roundRectangle=function(id,_2,_3){["WebSquare.uiplugin.roundRectangle"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.roundRectangle.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.roundRectangle.prototype.defaultOptions={pluginType:"uiplugin.roundRectangle",pluginName:"roundRectangle",x:null,y:null,width:null,height:null,arcsize:5,borderWidth:"1px",borderColor:"#000000",fillColor:"#ffffff",gradient:false,color1:"#ffffff",color2:"#ffffff",gradientType:""};WebSquare.uiplugin.roundRectangle.prototype.initialize=function(_4){["WebSquare.uiplugin.roundRectangle.initialize"];try{this.mainGU=null;this.gradientList=[];if(_4){this.gradientList=WebSquare.xml.getElementsByTagName(_4,"gradient",WebSquare.core._XML_NAMESPACE.W2);if(this.gradientList.length>0){var _5=this.gradientList[0];this.options.color1=WebSquare.WebSquareparser.getAttribute(_5,"color1");this.options.color2=WebSquare.WebSquareparser.getAttribute(_5,"color2");this.options.gradientType=WebSquare.WebSquareparser.getAttribute(_5,"gradientType");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.roundRectangle.prototype.toHTML=function(){["WebSquare.uiplugin.roundRectangle.toHTML"];try{var _6=[];_6.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2roundRectangle "+this.options.className+"'>");_6.push("</div>");return _6.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.roundRectangle.prototype.setAction=function(){["WebSquare.uiplugin.roundRectangle.setAction"];try{var x=0;var y=0;var _9=0;var _a=0;if(this.options.x!=null){x=this.options.x;}else{x=0;}if(this.options.y!=null){y=this.options.y;}else{y=0;}var _b=WebSquare.core.makeStyle(this.options.style);if(this.options.width!=null){_9=this.options.width;}else{_9=parseInt(_b.width);}if(this.options.height!=null){_a=this.options.height;}else{_a=parseInt(_b.height);}this.mainGU=new WebSquare.uiplugin.graphicUtil(this.id+"_GU",this.render);this.mainGU.drawToolkit.createRoundRect(this.id+"_graphic",this.options.borderWidth,x,y,_9,_a,this.options.arcsize,this.options.borderColor,this.options.fillColor,true);if(this.options.gradientType!=""){this.mainGU.drawToolkit.addLinearGradient(this.id+"_graphic",this.options.gradientType,this.options.color1,this.options.color2);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.roundRectangle.prototype.gradient=function(_c,_d,_e){["WebSquare.uiplugin.roundRectangle.gradient"];try{this.mainGU.drawToolkit.addLinearGradient(this.id+"_graphic",_c,_d,_e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.roundRectangle.prototype.setSize=function(_f,_10){["WebSquare.uiplugin.roundRectangle.setSize"];try{this.mainGU.drawToolkit.setStyle(this.id+"_graphic",null,null,_f,_10);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.editableTable=function(_1){this.tableObj=_1;this.editRow=-1;this.editCol=-1;this.cursorRow=-1;this.cursorCol=-1;this.isFocused=false;this.editMode="select";this.editType="cell";this.tableObj.event.addListener(this.tableObj.render,"onclick",this.tableObj.event.bindAsEventListener(this,this.handleClickEvent));this.tableObj.event.addListener(this.tableObj.render,"onmouseover",this.tableObj.event.bindAsEventListener(this,this.handleMouseoverEvent));this.tableObj.event.addListener(this.tableObj.render,"onkeydown",this.tableObj.event.bindAsEventListener(this,this.handleKeydownEvent));this.tableObj.event.addListener(this.tableObj.render,"onfocus",this.tableObj.event.bindAsEventListener(this,this.confirmEditor));this.tableObj.event.addListener(document,"onclick",this.tableObj.event.bindAsEventListener(this,this.confirmEditor));};WebSquare.uiplugin.editableTable.prototype.placeEditor=function(_2,_3){this.confirmEditor();var _4=this.tableObj.getCell(_2,_3);var _5=_4.innerHTML;var _6=_4.offsetWidth;var _7=document.createElement("input");_7.className="table_modify";_7.value=_5;_7.style.width=_4.offsetWidth+"px";_4.innerHTML="";_4.appendChild(_7);_7.select();this.editRow=_2;this.editCol=_3;};WebSquare.uiplugin.editableTable.prototype.confirmEditor=function(){if(this.editRow!=-1||this.editCol!=-1){var _8=this.tableObj.getCell(this.editRow,this.editCol);_8.innerHTML=_8.firstChild.value;}this.editRow=-1;this.editCol=-1;};WebSquare.uiplugin.editableTable.prototype.setCursorIndex=function(_9,_a){var _b=this.cursorRow;var _c=this.cursorCol;var _d=this.tableObj.getRow(this.cursorRow);var _e=this.tableObj.getCell(this.cursorRow,this.cursorCol);var _f=this.tableObj.getRow(_9);var _10=this.tableObj.getCell(_9,_a);if(!_f||!_10){return;}if(_d){this.tableObj.removeClass(_d,"w2table_row_over");}if(_e){this.tableObj.removeClass(_e,"w2table_col_over");}if(_f){this.tableObj.addClass(_f,"w2table_row_over");}if(_10){this.tableObj.addClass(_10,"w2table_col_over");}this.cursorRow=parseInt(_9);this.cursorCol=parseInt(_a);};WebSquare.uiplugin.editableTable.prototype.handleClickEvent=function(e){WebSquare.event.stopEvent(e);var row=-1;var col=-1;var it=this.tableObj.event.getTargetIterator(e,this.tableObj.render);while(it.next()){if(it.match(null,this.tableObj.id)){}if(it.match("w2table_row")){row=it.getElement().getAttribute("row");this.placeEditor(row,col);}if(it.match("w2table_col")){col=it.getElement().getAttribute("col");}}it=null;};WebSquare.uiplugin.editableTable.prototype.handleKeydownEvent=function(e){var _16=(e.charCode)?e.charCode:e.keyCode;$l("keyCode : "+_16);if(_16==13||_16==27||(_16>30&&_16<41)){WebSquare.event.stopEvent(e);}if(_16==37){this.setCursorIndex(this.cursorRow,this.cursorCol-1);}else{if(_16==38){this.setCursorIndex(this.cursorRow-1,this.cursorCol);}else{if(_16==39){this.setCursorIndex(this.cursorRow,this.cursorCol+1);}else{if(_16==40){this.setCursorIndex(this.cursorRow+1,this.cursorCol);}else{if(_16==13){this.confirmEditor();this.setCursorIndex(this.cursorRow+1,this.cursorCol);this.tableObj.render.focus();}else{if(_16==27){this.confirmEditor();}else{if(_16==33){}else{if(_16==34){}else{if(_16==35){}else{if(_16==36){}else{if(_16==113){this.placeEditor(this.cursorRow,this.cursorCol);}}}}}}}}}}}};WebSquare.uiplugin.editableTable.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.editableTable.handleMouseoverEvent"];WebSquare.event.stopEvent(e);var row=-1;var col=-1;var it=this.tableObj.event.getTargetIterator(e,this.tableObj.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2table_row")){row=it.getElement().getAttribute("row");this.setCursorIndex(row,col);}if(it.match("w2table_col")){col=it.getElement().getAttribute("col");}}};WebSquare.uiplugin.editableTable.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.editableTable.handleMouseoutEvent"];WebSquare.event.stopEvent(e);var row=-1;var col=-1;var it=this.tableObj.event.getTargetIterator(e,this.tableObj.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2table_row")){row=it.getElement().getAttribute("row");}if(it.match("w2table_col")){col=it.getElement().getAttribute("col");}}};WebSquare.uiplugin.itemTable=function(id,_2,_3){["WebSquare.uiplugin.itemTable"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.itemTable.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.itemTable.prototype.defaultOptions={pluginType:"uiplugin.itemTable",pluginName:"itemTable",row:"5",col:"1",submenuSize:"fixed",useRowHover:"true",useColHover:"true",useKey:"true",useHotKey:"true",useCacheData:"true",w2table:"w2table",w2table_main:"w2table_main",w2table_row:"w2table_row",w2table_col:"w2table_col",w2table_col_over:"w2table_col_over",w2table_col_checkbox:"w2table_col_checkbox",w2table_col_label:"w2table_col_label",defaultStyle:"",checkbox:false,escape:false};WebSquare.uiplugin.itemTable.prototype.initialize=function(_4){this.rowCount=this.options.row;this.colCount=this.options.col;this.selectedCell=null;this.data=[];this.keyCharHash={"48":"0","49":"1","50":"2","51":"3","52":"4","53":"5","54":"6","55":"7","56":"8","57":"9","65":"a","66":"b","67":"c","68":"d","69":"e","70":"f","71":"g","72":"h","73":"i","74":"j","75":"k","76":"l","77":"m","78":"n","79":"o","80":"p","81":"q","82":"r","83":"s","84":"t","85":"u","86":"v","87":"w","88":"x","89":"y","90":"z","96":"0","97":"1","98":"2","99":"3","100":"4","101":"5","102":"6","103":"7","104":"8","105":"9","110":".","111":"/","106":"*","107":"+","109":"-","187":"=","189":"-","192":"`","220 ":"\\"};};WebSquare.uiplugin.itemTable.prototype.toHTML=function(){["WebSquare.uiplugin.itemTable.toHTML"];var _5=new Date();var _6=[];_6.push("<div id='"+this.id+"' aria-expanded='true' style='"+this.options.style+"' class='",this.options.w2table," "+this.options.className+"' tabIndex='0' >");_6.push("</div>");return _6.join("");};WebSquare.uiplugin.itemTable.prototype.addClickEventListener=function(_7){["WebSquare.uiplugin.itemTable.addClickEventListener"];this.clickFunc=_7;};WebSquare.uiplugin.itemTable.prototype.addKeyDownEventListener=function(_8){["WebSquare.uiplugin.itemTable.addKeyDownEventListener"];this.keyDownFunc=_8;};WebSquare.uiplugin.itemTable.prototype.setItemArr=function(_9){["WebSquare.uiplugin.itemTable.setItemArr"];var _a=[];_a.push("<table id='",this.id+"_main","' style='table-layout:"+this.options.submenuSize+"; width:0px;' class='",this.options.w2table_main,"' cellpadding='0' cellspacing='0'>");for(var _b=0;_b<_9.length;++_b){_a.push("<tr class='",this.options.w2table_row,"' row='"+_b+"'>");for(var _c=0;_c<1;++_c){var _d=this.options.escape?WebSquare.xml._encode(_9[_b].label):_9[_b].label;var _e=_9[_b].value;_a.push("<td id='"+this.id+"_"+_b+"' role='listitem option' aria-setsize='"+_9.length+"' aria-posinset='"+(_b+1)+"' style='"+this.options.defaultStyle+"' class='",this.options.w2table_col,"' col='"+_c+"' index='"+_b+"'>");if(this.options.checkbox==true){var _f=this.id+"_"+_b+"_checkbox";_a.push("<input type='checkbox' id='"+_f+"' class='"+this.options.w2table_col_checkbox+"' value='"+_e+"' />");_a.push("<label type='checkbox' for='"+_f+"' class='"+this.options.w2table_col_label+"' >");_a.push(_d);_a.push("</label>");}else{_a.push(_d);}_a.push("</td>");}_a.push("</tr>");}_a.push("</table>");this.render.innerHTML=_a.join("");this.mainTable=this.render.firstChild;this.dom["td"]=null;this.dom.tds=this.getDomList("td","td");if(this.dom.tds&&this.dom.tds.length>0){var _10=this.dom.tds[0].offsetHeight;var _11=(this.options.row>_9.length)?_9.length:this.options.row;this.setStyle("height",(_11*_10)+"px");this.setStyle("width",(this.dom.tds[0].offsetWidth)+"px");}};WebSquare.uiplugin.itemTable.prototype.setAction=function(){this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));if(WebSquare.util.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){try{WebSquare.event.stopPropagation(e);}catch(e){}}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){try{WebSquare.event.stopPropagation(e);}catch(e){}}));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,function(e){try{WebSquare.event.stopPropagation(e);}catch(e){}}));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));};WebSquare.uiplugin.itemTable.prototype.handleMouseOverEvent=function(e){["WebSquare.uiplugin.itemTable.handleMouseMoveEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match(this.options.w2table_col)){var _17=this.getElementById(this.id).firstChild.firstChild.childNodes;for(var i=0;i<_17.length;i++){var _19=_17[i].firstChild;this.removeClass(_19,this.options.w2table_col_over);}this.selectedCell=it.getElement();this.addClass(this.selectedCell,this.options.w2table_col_over);}}}catch(ex){WebSquare.exception.printStackTrace(ex);}};WebSquare.uiplugin.itemTable.prototype.handleMouseOutEvent=function(e){["WebSquare.uiplugin.itemTable.handleMouseOutEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match(this.options.w2table_col)){this.removeClass(it.getElement(),this.options.w2table_col_over);this.selectedCell=null;}}}catch(ex){WebSquare.exception.printStackTrace(ex);}};WebSquare.uiplugin.itemTable.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.itemTable.handleClickEvent"];try{WebSquare.event.stopPropagation(e);var _1d=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match(this.options.w2table_col)){this.selectedCell=it.getElement();if(this.options.checkbox&&!_1d){var _1f=this.selectedCell.index||this.selectedCell.getAttribute("index");var _20=document.getElementById(this.id+"_"+_1f+"_checkbox");_20.click();}else{this.fireClick(e);}}else{if(it.match(this.options.w2table_col_checkbox)||it.match(this.options.w2table_col_label)){_1d=true;}}}}catch(ex){WebSquare.exception.printStackTrace(ex);}};WebSquare.uiplugin.itemTable.prototype.focus=function(){["WebSquare.uiplugin.itemTable.handleClickEvent"];try{if(WebSquare.util.isIE()){this.render.firstChild.focus();}else{this.render.focus();}}catch(ex){WebSquare.exception.printStackTrace(ex);}};WebSquare.uiplugin.itemTable.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.itemTable.handleKeydownEvent"];try{var _22=(e.charCode)?e.charCode:e.keyCode;var _23=this.getSelectedIndex();_23=parseInt(_23);if(_22==38){if(_23>0){this.setSelectedIndex(_23-1);}}else{if(_22==40){if(_23+1<this.getItemCount()){this.setSelectedIndex(_23+1);}}else{if(_22==32){if(this.options.checkbox){var _24=document.getElementById(this.id+"_"+_23+"_checkbox");_24.click();}}else{if(_22==33){var _25=_23-this.rowCount;if(_25<0){_25=0;}this.setSelectedIndex(_25);}else{if(_22==34){var _25=_23+this.rowCount;if(_25>=this.getItemCount()){_25=this.getItemCount()-1;}this.setSelectedIndex(_25);}else{if(_22==35){this.setSelectedIndex(this.getItemCount()-1);}else{if(_22==36){this.setSelectedIndex(0);}else{if(_22==13){if(!this.options.checkbox){this.fireClick(e);}}else{this.findItemStartedWithKeyChar(_22);}}}}}}}}this.render.setAttribute("aria-activedescendant",this.id+"_"+this.getSelectedIndex());if(this.keyDownFunc){this.keyDownFunc(e);}WebSquare.event.stopEvent(e);}catch(ex){WebSquare.exception.printStackTrace(ex);}};WebSquare.uiplugin.itemTable.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.itemTable.setSelectedIndex"];if(!this.dom.tds){return;}idx=(idx<0)?0:(idx>=this.dom.tds.length)?this.dom.tds.length-1:idx;this.removeClass(this.selectedCell,this.options.w2table_col_over);this.selectedCell=this.dom.tds[idx];this.addClass(this.selectedCell,this.options.w2table_col_over);if(this.selectedCell.offsetTop>this.render.offsetHeight/2){var _27=Math.min(this.getItemCount(),this.rowCount);var _28=this.dom.tds[idx-parseInt(_27/2)];this.render.scrollTop=_28.offsetTop;}else{this.render.scrollTop=0;}};WebSquare.uiplugin.itemTable.prototype.getItemCount=function(){["WebSquare.uiplugin.itemTable.getItemCount"];return this.dom.tds?this.dom.tds.length:0;};WebSquare.uiplugin.itemTable.prototype.fireClick=function(e){["WebSquare.uiplugin.itemTable.prototype.fireClick"];try{var _2a=this.selectedCell.index;if(typeof _2a=="undefined"){_2a=this.selectedCell.getAttribute("index");}this.clickFunc.call(e,_2a);}catch(ex){WebSquare.exception.printStackTrace(ex);}};WebSquare.uiplugin.itemTable.prototype.findItemStartedWithKeyChar=function(_2b){["WebSquare.uiplugin.itemTable.findItemStartedWithKeyChar"];try{var _2c=this.keyCharHash[_2b];var _2d=-1;if(_2c){var _2e=this.selectedCell.index;if(typeof selectedIndex=="undefined"){_2e=this.selectedCell.getAttribute("index");}var _2f=0;while(1){++_2e;++_2f;_2e=_2e%this.dom.tds.length;if(this.dom.tds[_2e].innerHTML.startsWith(_2c)){_2d=_2e;break;}if(_2f>this.dom.tds.length){break;}}if(_2d>-1){this.setSelectedIndex(_2d);}}}catch(ex){WebSquare.exception.printStackTrace(ex);}};WebSquare.uiplugin.itemTable.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.itemTable.getSelectedIndex"];try{var _30=-1;try{_30=this.selectedCell.index;if(typeof _30=="undefined"){_30=this.selectedCell.getAttribute("index");}}catch(e){}return _30;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};requires("uiplugin.grid");WebSquare.uiplugin.gridItemTable=function(id,_32,_33){["WebSquare.uiplugin.gridItemTable"];WebSquare.xfControl.call(this,id,_32,_33);};WebSquare.extend(WebSquare.uiplugin.gridItemTable.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.gridItemTable.prototype.defaultOptions={pluginType:"uiplugin.gridItemTable",pluginName:"gridItemTable"};WebSquare.uiplugin.gridItemTable.prototype.initialize=function(_34){["WebSquare.uiplugin.gridItemTable.prototype.initialize"];try{var _35=[];_35.push("<w2:grid xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:ev=\"http://www.w3.org/2001/xml-events\" xmlns:w2=\"http://www.inswave.com/websquare\" xmlns:xf=\"http://www.w3.org/2002/xforms\" ");_35.push("id=\""+this.id+"_grid"+"\" style=\""+this.options.style+"\" class=\"w2gridItemTable_main\" readOnly=\"true\" ");_35.push("focusMode=\"row\" enterKeyMove=\"none\" rowMouseOver=\""+this.options.itemsetObj.rowMouseOver+"\" visibleRowNum=\""+this.options.itemsetObj.visibleRowNum+"\" autoFit=\""+this.options.itemsetObj.autoFit+"\" hideHeader=\""+this.options.itemsetObj.hideHeader+"\" rowMouseOverColor=\""+this.options.itemsetObj.rowMouseOverColor+"\" selectedRowColor=\""+this.options.itemsetObj.selectedRowColor+"\">");_35.push("<w2:header style=\"height:20px;\" id=\"header\">");_35.push("<w2:row>");var _36=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){var _38=this.options.itemsetObj.items[i].style.split(";");for(var j=0;j<_38.length;j++){var _3a=_38[j].split(":");if(_3a[0].wq_trim()=="width"){_36.push(parseInt(_3a[1]));break;}}if(j==_38.length){_36.push(70);}}var _3b=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){var _38=this.options.itemsetObj.items[i].style.split(";");for(var j=0;j<_38.length;j++){var _3a=_38[j].split(":");if(_3a[0].wq_trim()=="text-align"){_3b.push(_3a[1]);break;}}if(j==_38.length){_3b.push("center");}}var _3c=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){var _38=this.options.itemsetObj.items[i].headerStyle.split(";");for(var j=0;j<_38.length;j++){var _3a=_38[j].split(":");if(_3a[0].wq_trim()=="text-align"){_3c.push(_3a[1]);break;}}if(j==_38.length){_3c.push("center");}}var _3d=[];for(var i=0;i<this.options.itemsetObj.items.length;i++){var _3e=this.options.itemsetObj.items[i].hidden;if(_3e=="true"){_3d.push("true");}else{_3d.push("false");}}for(var i=0;i<this.options.itemsetObj.items.length;i++){if(!this.options.itemsetObj.items[i].id){this.options.itemsetObj.items[i].id=this.id+"_column_body_"+i;}}for(var i=0;i<this.options.itemsetObj.items.length;i++){_35.push("<w2:column inputType=\"text\" style=\"height:20px;\" width=\""+_36[i]+"\" textAlign=\""+_3c[i]+"\" id=\""+this.id+"_column_header_"+i+"\" value=\""+(this.options.itemsetObj.items[i].header||"")+"\">");_35.push("</w2:column>");}_35.push("</w2:row>");_35.push("</w2:header>");_35.push("<w2:gBody id=\"gBody\">");_35.push("<w2:row>");for(var i=0;i<this.options.itemsetObj.items.length;i++){_35.push("<w2:column inputType=\"text\" style=\"height:20px;\" width=\""+_36[i]+"\" textAlign=\""+_3b[i]+"\" id=\""+this.options.itemsetObj.items[i].id+"\" hidden=\""+_3d[i]+"\">");_35.push("</w2:column>");}_35.push("</w2:row>");_35.push("</w2:gBody>");_35.push("</w2:grid>");var _3f=WebSquare.xml.parse(_35.join(""),true);this.grid=new WebSquare.uiplugin.grid(this.id+"_grid",{},_3f.firstChild);this.addControl(this.grid);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.gridItemTable.prototype.toHTML=function(){["WebSquare.uiplugin.gridItemTable.toHTML"];var _40=[];_40.push("<div id='"+this.id+"' aria-expanded='true' style='"+this.options.style+"' class='"+"w2gridItemTable "+this.options.className+"' >");_40.push(this.grid.toHTML());_40.push("</div>");return _40.join("");};WebSquare.uiplugin.gridItemTable.prototype.setAction=function(){["WebSquare.uiplugin.gridItemTable.prototype.setAction"];this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){try{WebSquare.event.stopPropagation(e);}catch(e){}}));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,function(e){try{WebSquare.event.stopPropagation(e);}catch(e){}}));};WebSquare.uiplugin.gridItemTable.prototype.setSelectedIndex=function(idx,_44){["WebSquare.uiplugin.gridItemTable.setSelectedIndex"];var _45=this.grid.getDataLength();if(_45==0){return;}idx=(idx<0)?0:(idx>=_45)?_45-1:idx;var _46=0;for(var i=0;i<this.grid.filteredRowIndexArr.length;i++){if(idx==this.grid.filteredRowIndexArr[i]){idx=i;break;}}var _48=this.grid.getVisibleRowNum();var _49=idx-parseInt(_48/2);this.grid.setTopRowIndex(_49);if(!_44){this.grid.setFocusedCell(idx,0);}};requires("uiplugin/table/editableTable.js");WebSquare.uiplugin.table=function(id,_2,_3){["WebSquare.uiplugin.table"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.table.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.table.prototype.defaultOptions={pluginType:"uiplugin.table",pluginName:"table",row:"0",col:"0",showRowCount:"3",showColCount:"1",useRowHover:"true",useColHover:"true",useKey:"true",useHotKey:"true",useCacheData:"true",tdStyle:"",tdClass:""};WebSquare.uiplugin.table.prototype.initialize=function(_4){this.rowCount=parseInt(this.options.row);this.colCount=parseInt(this.options.col);this.data=[];};WebSquare.uiplugin.table.prototype.toHTML=function(){["WebSquare.uiplugin.table.toHTML"];var _5=new Date();var _6=[];_6.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2table "+this.options.className+"'>");_6.push("<table id='"+this.id+"_table' class='w2table_main'  cellpadding='0' cellspacing='0'>");_6.push("<tbody>");for(var _7=0;_7<this.rowCount;++_7){_6.push("<tr class='w2table_row' row='"+_7+"'>");for(var _8=0;_8<this.colCount;++_8){_6.push("<td class='w2table_col' col='"+_8+"'>");_6.push("</td>");}_6.push("</tr>");}_6.push("</tbody>");_6.push("</table>");_6.push("</div>");return _6.join("");};WebSquare.uiplugin.table.prototype.setAction=function(){this.dom.table=document.getElementById(this.id+"_table");this.dom.tableBody=this.dom.table.firstChild;};WebSquare.uiplugin.table.prototype.getCell=function(_9,_a){var _b=null;var _c=null;var _d=this.dom.tableBody.childNodes;if(_9>-1&&_9<_d.length){_b=_d[_9];var _e=_b.childNodes;if(_a>-1&&_a<_e.length){_c=_e[_a];}}return _c;};WebSquare.uiplugin.table.prototype.getRow=function(_f){var _10=null;var _11=this.dom.tableBody.childNodes;if(_f>-1&&_f<_11.length){_10=_11[_f];}return _10;};WebSquare.uiplugin.table.prototype.getCellContents=function(row,col){var _14=this.getCell(row,col);if(_14){return _14.innerHTML;}else{return "";}};WebSquare.uiplugin.table.prototype.setCellContents=function(row,col,_17){var _18=this.getCell(row,col);if(_18){_18.innerHTML="";_18.appendChild(_17);}};WebSquare.uiplugin.table.prototype.setCellStyle=function(row,col,_1b){var _1c=this.getCell(row,col);if(_1c){_1c.style.cssText=_1c.style.cssText+";"+_1b;}};WebSquare.uiplugin.table.prototype.addRow=function(){["WebSquare.uiplugin.table.addRow"];try{var tr=WebSquare.document.createElement("tr");tr.className="w2table_row";var td=null;for(var col=0;col<this.colCount;col++){td=WebSquare.document.createElement("td");td.className="w2table_col";tr.appendChild(td);}this.dom.tableBody.appendChild(tr);this.rowCount++;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.table.prototype.addCol=function(){["WebSquare.uiplugin.table.addCol"];try{var tr=WebSquare.document.createElement("tr");tr.className="w2table_row";var td=null;for(var row=0;row<this.rowCount;row++){td=WebSquare.document.createElement("td");td.className="w2table_col";this.dom.tableBody.childNodes[row].appendChild(td);}this.colCount++;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.table.prototype.delRow=function(row){["WebSquare.uiplugin.table.delRow"];try{if(this.rowCount<1){return;}if(typeof row=="undefined"){row=this.rowCount-1;}this.dom.tableBody.removeChild(this.dom.tableBody.childNodes[this.rowCount-1]);this.rowCount--;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.table.prototype.delCol=function(col){["WebSquare.uiplugin.table.delCol"];try{if(this.colCount<1){return;}if(typeof col=="undefined"){col=this.colCount-1;}for(var row=0;row<this.rowCount;row++){var _26=this.dom.tableBody.childNodes[row];_26.removeChild(_26.childNodes[col]);}this.colCount--;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.table.prototype.refreshItemset=function(){};WebSquare.uiplugin.table.prototype.refresh=function(){};requires("uiplugin/control/itemsetControl.js");requires("uiplugin/table/itemTable.js");requires("engine/validator.js");WebSquare.uiplugin.selectbox=function(id,_2,_3){["WebSquare.uiplugin.selectbox"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.selectbox.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.selectbox.prototype,WebSquare.itemsetControl.prototype);WebSquare.extend(WebSquare.uiplugin.selectbox.prototype,WebSquare.IValidate.prototype);WebSquare.uiplugin.selectbox.prototype.defaultOptions={pluginType:"uiplugin.selectbox",pluginName:"selectbox",renderType:"component",userEvents:["onchange","onclose"],useOtherComponentId:"",useConfig:true,value:"",chooseOption:false,chooseOptionLabel:"",chooseOptionValue:"",allOption:false,sortOption:"",sortMethod:"",wmode:false,visibleRowNum:5,displayMode:"0",delimiter:"\t",textAlign:"",defaultStyle:"",activeStyle:"",defaultClass:"w2SelectDefault",activeClass:"w2SelectActive",disabledClass:"w2selectbox_disabled",useLocale:false,submenuSize:"auto",direction:"auto",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,labelWidthAuto:false,initValue:"",title:"",setDataRemoveAll:true,escape:false};WebSquare.uiplugin.selectbox.prototype.initialize=function(_4){["WebSquare.uiplugin.selectbox.initialize"];try{this.itemTable=null;this.isOpen=false;this.statusSubLayer=false;this.selectedIndex=-1;this.cursorIndex=-1;this.showRowIndex=0;this.displayCount=0;this.defaultAllOptionLabel=WebSquare.language.getMessage("SelectBox_all");if(_4&&_4.getAttribute("chooseOptionLabel")=="$blank"){this.defaultChooseOptionLabel="";}else{this.defaultChooseOptionLabel=WebSquare.language.getMessage("SelectBox_choose");}switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}if(_4){var _5=_4.tagName.split(":")[0];var _6=WebSquare.xml.findNode(_4,_5+":choices");if(_6){var _7=WebSquare.xml.findNode(_6,_5+":gridItemset");if(_7&&_7.nodeName==_5+":gridItemset"){this.itemTableMode="grid";}}}if(this.itemTableMode=="grid"){this.initializeGridItemArr(_4);}else{this.initializeItemArr(_4);}this.setSelectItemArr();this.validator=new WebSquare.validator.validateInvoker(this.id,this.options);this.keyCharHash={"48":"0","49":"1","50":"2","51":"3","52":"4","53":"5","54":"6","55":"7","56":"8","57":"9","65":"a","66":"b","67":"c","68":"d","69":"e","70":"f","71":"g","72":"h","73":"i","74":"j","75":"k","76":"l","77":"m","78":"n","79":"o","80":"p","81":"q","82":"r","83":"s","84":"t","85":"u","86":"v","87":"w","88":"x","89":"y","90":"z","96":"0","97":"1","98":"2","99":"3","100":"4","101":"5","102":"6","103":"7","104":"8","105":"9","110":".","111":"/","106":"*","107":"+","109":"-","187":"=","189":"-","192":"`","220 ":"\\"};}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.finalize=function(){["WebSquare.uiplugin.selectbox.finalize"];try{if(this.itemTable){this.itemTable.remove();this.itemTable=null;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.toHTML=function(){["WebSquare.uiplugin.selectbox.toHTML"];try{var _8=[];var _9=this.options.title?" title='"+this.options.title+"'":"";_8.push("<div id='"+this.id+"'  role='combobox' aria-labelledby='"+this.id+"_itemTable' aria-autocomplete='none' style='"+this.options.style+"' class='w2selectbox "+this.options.className+"' tabIndex='0' "+_9+" >");_8.push("<table class='w2selectbox_table_main'  cellpadding='0' cellspacing='0'>");_8.push("<tbody id='"+this.id+"_main_tbody'>");_8.push("<tr class='w2selectbox_row w2selectbox_row_main'>");_8.push("<td class='w2selectbox_col_label' style='"+this.options.defaultStyle+"'><div id='"+this.id+"_label' role='document' aria-live='assertive' aria-automatic='true' class='w2selectbox_label' style='text-align:"+this.options.textAlign+";"+this.options.defaultStyle+"'></div></td>");_8.push("<td class='w2selectbox_col_button' id='"+this.id+"_button'  aria-labelledby='"+this.id+"_itemTable' aria-controls='"+this.id+"_itemTable' style=''></td>");_8.push("</tr></tbody>");_8.push("</table>");_8.push("</div>");return _8.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.setAction=function(){["WebSquare.uiplugin.selectbox.setAction"];try{this.dom.button=this.getElementById(this.id+"_button");this.dom.label=this.getElementById(this.id+"_label");this.dom.tbody=this.getElementById(this.id+"_main_tbody");if(this.options.useOtherComponentId){WebSquare.core.setTimer(function(){this.otherComponent=window[this.options.useOtherComponentId];WebSquare.getBody().getLayerListener().useOtherComponentId[this.id]=this.options.useOtherComponentId;WebSquare.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{}});this.event.addListener(this.otherComponent.render,"onmousedown",this.event.bindAsEventListener(this.otherComponent,function(e){WebSquare.event.stopPropagation(e);}));this.otherComponent.hide();},{key:this.options.useOtherComponentId,caller:this,delay:100});}else{if(this.itemTableMode=="grid"){WebSquare.getBody().getLayerListener().useOtherComponentId[this.id]=this.id+"_gridItemTable";WebSquare.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{}});}else{WebSquare.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,paramHide:{"documentClick":true},event:{}});}}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if(WebSquare.util.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopPropagation(e);}));}this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,this.handleMousewheelEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}else{if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}}if(this.modelControl.isBinded()){var _d=this.modelControl.getData();this.setValueNM(_d);}if(this.selectedIndex==-1){this.setSelectedIndexNM(0);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.refreshItemset=function(_e){["WebSquare.uiplugin.selectbox.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw(_e);if(this.itemTableMode=="grid"){this.initializeGridItemArr(this.element);if(this.itemTable!=null&&this.itemTable.grid!=null){this.itemTable.grid.clearFilter();this.itemTable.grid.setData(this.gridItemArr);if(this.options.allOption&&this.gridItemArr.length>0){var _f=[];var _10=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_10==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_10=j;}_f.push("");}_f[_10==-1?0:_10]=this.defaultAllOptionLabel;this.itemTable.grid.setRowData(0,_f,false);if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all",orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}}if(this.itemsetObj.sortIndex&&this.gridItemArr.length>0){var _12=[];if(this.options.allOption){var col=this.itemsetObj.sortIndex.split(" ")[0];var _14=this.itemTable.grid.getCellInfo(col).options.dataType;var _15=parseInt(this.itemsetObj.sortOrder.split(" ")[0],10);_12[0]=function(a,b,i,j){if(i==0){return -1;}else{if(j==0){return 1;}else{if(_14=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_15;}else{if(a<b){return -1*_15;}else{return 0;}}}}};}this.itemTable.grid.multisort({sortIndex:this.itemsetObj.sortIndex,sortOrder:this.itemsetObj.sortOrder,sortFuncArr:_12});}}else{if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all",orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}}}if(this.modelControl.isBinded()){this.refresh();}else{if(this.options.submenuSize=="auto"){if(this.itemTable){var _1a=this.getMaxLabelSize();this.itemTable.setStyle("width",_1a+"px");}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.refresh=function(){["WebSquare.uiplugin.selectbox.refresh"];try{if(this.modelControl.isBinded()){var _1b=this.getValue();var _1c=this.modelControl.getData();if(this.setValueNM(_1c)==true){if(_1b!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}if(this.getValue()!=null&&_1c!=this.getValue()){this.modelControl.setData(this.getValue());}}else{this.setSelectedIndex(0);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.componentRedraw=function(_1d){["WebSquare.uiplugin.selectbox.componentRedraw"];try{this.setSelectItemArr();this.showRowIndex=0;if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}if(this.itemTableMode!="grid"){this.setSelectOptions();}if(this.itemArr.length>0){var _1e=0;if(_1d&&_1d!="replace"){_1e=this.getSelectedIndex();}else{if(_1d=="replace"){this.setSelectedIndexNM(_1e);return;}}var _1f=this.itemArr[_1e].label+"";if(_1f.indexOf("&")>-1){_1f=_1f.wq_replaceAll("&","&amp;");}if(this.options.escape){_1f=WebSquare.xml._encode(_1f);}this.dom.label.innerHTML=_1f;}else{this.dom.label.innerHTML="";}this.setValueNM("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.setLabelWidthByItemLength=function(){["WebSquare.uiplugin.selectbox.setLabelWidthByItemLength"];try{var _20=this.getMaxLabelSize();this.render.style.width=_20+"px";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.getMaxLabelSize=function(){["WebSquare.uiplugin.selectbox.getMaxLabelSize"];try{if(!this.labelRuler){this.labelRuler=document.createElement("div");this.labelRuler.style.position="absolute";this.labelRuler.style.top="-1000px";this.labelRuler.style.left="-1000px";this.labelRuler.style.visibility="hidden";document.body.appendChild(this.labelRuler);}var _21=0;for(var i=0;i<this.itemArr.length;i++){var _23=document.getElementById("selectbox_ruler");this.labelRuler.innerHTML=this.itemArr[i].label;if(this.labelRuler.offsetWidth>_21){_21=this.labelRuler.offsetWidth;}}var _24=document.getElementById(this.id+"_button");return _21+_24.offsetWidth+10;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.setSubLayer=function(){["WebSquare.uiplugin.selectbox.setSubLayer"];try{var _25=this;if(this.itemTable==null){if(this.itemTableMode=="grid"){this.itemTable=new WebSquare.uiplugin.gridItemTable(this.id+"_gridItemTable",{style:"position : absolute; width : "+this.itemsetObj.width+"; height : "+this.itemsetObj.height+";",itemsetObj:this.itemsetObj});this.itemTable.writeTo(WebSquare.getBody());this.itemTable.activate();this.itemTable.grid.setData(this.gridItemArr);this.itemTable.grid.addEvent("oncellclick",function(row,col){_25.focus();row=this.getRealRowIndex(row);_25.setSelectedIndex1(row);});this.event.addListener(this.itemTable.grid.render,"onkeydown",this.event.bindAsEventListener(this.itemTable.grid,function(e){var _29=(e.charCode)?e.charCode:e.keyCode;if(_29==13){_25.focus();var row=this.getRealRowIndex(this.getFocusedRowIndex());_25.setSelectedIndex1(row);}}));if(this.options.allOption&&this.gridItemArr.length>0){var _2b=[];var _2c=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_2c==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_2c=j;}_2b.push("");}_2b[_2c==-1?0:_2c]=this.defaultAllOptionLabel;this.itemTable.grid.setRowData(0,_2b,false);}if(this.itemsetObj.sortIndex&&this.gridItemArr.length>0){var _2e=[];if(this.options.allOption){var col=this.itemsetObj.sortIndex.split(" ")[0];var _30=this.itemTable.grid.getCellInfo(col).options.dataType;var _31=parseInt(this.itemsetObj.sortOrder.split(" ")[0],10);_2e[0]=function(a,b,i,j){if(i==0){return -1;}else{if(j==0){return 1;}else{if(_30=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_31;}else{if(a<b){return -1*_31;}else{return 0;}}}}};}this.itemTable.grid.multisort({sortIndex:this.itemsetObj.sortIndex,sortOrder:this.itemsetObj.sortOrder,sortFuncArr:_2e});}}else{this.itemTable=new WebSquare.uiplugin.itemTable(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:this.options.submenuSize,style:"position:absolute;",defaultStyle:"text-align:"+this.options.textAlign+";"+this.options.defaultStyle,className:"w2table "+this.options.className,w2table:"w2table_sb",w2table_main:"w2table_sb_main",w2table_row:"w2table_sb_row",w2table_col:"w2table_sb_col",w2table_col_over:"w2table_sb_col_over",escape:this.options.escape});this.itemTable.writeTo(WebSquare.getBody());this.itemTable.activate();this.itemTable.addClickEventListener(function(_36){["WebSquare.uiplugin.selectbox.itemTable.addClickEventListener"];_25.focus();_25.setSelectedIndex1(_36);});this.setSelectOptions();this.setItemTable();}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.setSelectOptions=function(){["WebSquare.uiplugin.selectbox.setSelectOptions"];try{if(this.itemTable!=null){this.itemTable.setItemArr(this.itemArr);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.setItemTable=function(){["WebSquare.uiplugin.selectbox.setItemTable"];try{var _37=this.render.offsetWidth;var _38=this.render.offsetHeight;var _39=WebSquare.style.getAbsoluteLeft(this.render);var top=WebSquare.style.getAbsoluteTop(this.render);var tds=this.itemTable.render.getElementsByTagName("td");if(tds&&tds.length>0){var _3c=0;var _3d=Math.min(this.getItemCount(),this.options.visibleRowNum);for(var i=0;i<_3d;i++){_3c+=tds[i].offsetHeight;}this.itemTable.setStyle("height",_3c+"px");}else{this.itemTable.setStyle("height","0px");}if(this.options.submenuSize=="fixed"){this.itemTable.setStyle("width",(_37-2)+"px");if(this.itemTable.render.offsetHeight>=this.itemTable.render.scrollHeight){this.itemTable.render.firstChild.style.width=(_37)+"px";}else{this.itemTable.render.firstChild.style.width=(_37-17)+"px";}}else{if(this.options.submenuSize=="auto"){var _3f=this.render.offsetWidth;var _40=this.itemTable.render.clientWidth;if(_40<_3f-2){_40=_3f-2;}this.itemTable.setStyle("width",_40+"px");if(this.itemTable.render.clientHeight>=this.itemTable.render.scrollHeight||this.getItemCount()<=this.options.visibleRowNum){this.itemTable.render.firstChild.style.width=_40+"px";}else{this.itemTable.render.firstChild.style.width=(_40-17)+"px";var _41=this.itemTable.render.firstChild.offsetWidth;if(_41>_40-17){this.itemTable.render.firstChild.style.width=_41+"px";this.itemTable.setStyle("width",(_41+17)+"px");}}if(this.getItemCount()===0){this.itemTable.setStyle("width","0px");this.itemTable.render.firstChild.style.width="0px";}}else{if(this.itemTable.render.scrollHeight-this.itemTable.render.offsetHeight>1){this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth+17)+"px");}}}var _42=this.options.direction;if(_42=="auto"){var _43=document.body.scrollTop;if(_43<document.documentElement.scrollTop){_43=document.documentElement.scrollTop;}var _44=top-_43;var _45=document.documentElement.clientHeight-(_44+this.render.offsetHeight);var _46=this.itemTable.render.offsetHeight;if(_45<_46&&_44>_46){_42="up";}}if(_42=="up"){top=top-this.itemTable.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(document.documentElement.clientWidth<(_39+this.itemTable.render.offsetWidth)){_39=_39+this.render.offsetWidth-this.itemTable.render.offsetWidth;}this.itemTable.setPosition(_39,top);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.setSelectItemArr=function(){["WebSquare.uiplugin.selectbox.setSelectItemArr"];try{if(this.options.sortOption!=""){var _47=[];var _48=null;if(this.options.sortOption=="label"){_48=function(){return this.label;};}else{if(this.options.sortOption=="value"){_48=function(){return this.value;};}}for(var i=0;i<this.itemArr.length;i++){var _4a=this.itemArr[i];_4a.toString=_48;_47.push(_4a);}_47.sort();if(this.options.sortMethod=="descending"){_47.reverse();}this.itemArr=_47;}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all"}].concat(this.itemArr);}if(this.options.chooseOption==true){var _4b=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_4b=WebSquare.xml.decode(_4b).replace("&nbsp;"," ");this.itemArr=[{label:_4b,value:this.options.chooseOptionValue}].concat(this.itemArr);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.getItemText=function(idx){["WebSquare.uiplugin.selectbox.getItemText"];try{var _4d="";if(idx>-1&&idx<this.getItemCount()){_4d=this.itemArr[idx].label;switch(this.options.displayMode){case "0":break;case "1":_4d=this.itemArr[idx].value+this.options.delimiter+_4d;break;case "2":_4d=_4d+this.options.delimiter+this.itemArr[idx].value;break;default:}}return _4d;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.toggle=function(){["WebSquare.uiplugin.selectbox.toggle"];try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.openSubLayer=function(){["WebSquare.uiplugin.selectbox.openSubLayer"];try{WebSquare.getBody().getLayerListener().show(this.id);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype._openSubLayer=function(){["WebSquare.uiplugin.selectbox._openSubLayer"];try{this.setSubLayer();if(!this.isOpen){this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setItemTable();if(this.options.wmode==true){WebSquare.getBody().showWModeFrame(this.getPluginName(),this.itemTable.render);}this.itemTable.focus();if(this.selectedIndex!=-1){this.itemTable.setSelectedIndex(this.selectedIndex);}this.isOpen=true;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype._openOtherLayer=function(){["WebSquare.uiplugin.selectbox._openOtherLayer"];try{var _4e=this.otherComponent;if(this.itemTableMode=="grid"){this.setSubLayer();_4e=this.itemTable;}if(!this.isOpen){_4e.show();var _4f=WebSquare.style.getAbsoluteLeft(this.render);var top=WebSquare.style.getAbsoluteTop(this.render);var _51=this.options.direction;if(_51=="auto"){var _52=document.body.scrollTop;if(_52<document.documentElement.scrollTop){_52=document.documentElement.scrollTop;}var _53=top-_52;var _54=document.documentElement.clientHeight-(_53+this.render.offsetHeight);var _55=_4e.render.offsetHeight;if(_54<_55&&_53>_55){_51="up";}}if(_51=="up"){top=top-_4e.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(document.documentElement.clientWidth<(_4f+_4e.render.offsetWidth)){_4f=_4f+this.render.offsetWidth-_4e.render.offsetWidth;}_4e.setPosition(_4f,top);this.isOpen=true;}if(this.itemTableMode=="grid"){var _56;if(this.targetFocusedIndex!=null){_56=this.targetFocusedIndex;}else{_56=this.itemTable.grid.getFocusedRowIndex();if(_56==-1){_56=0;}}this.itemTable.grid.setFocusedCell(_56,0);this.targetFocusedIndex=null;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.closeSubLayer=function(_57){["WebSquare.uiplugin.selectbox.closeSubLayer"];try{var _58={"documentClick":_57};if(this.itemTableMode=="grid"){this.itemTable.grid.applyFocusedCellOut(this.itemTable.grid.focusedCell[0]);}WebSquare.getBody().getLayerListener().hide(this.id,_58);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype._closeSubLayer=function(_59){["WebSquare.uiplugin.selectbox._closeSubLayer"];try{var _59=_59||{};var _5a=_59.documentClick;if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","true");if(this.options.wmode==true){WebSquare.getBody().hideWModeFrame(this.getPluginName(),this.itemTable.id);}this.isOpen=false;if(_5a===true){WebSquare.event.fireEvent(this,"onclose",true);}else{WebSquare.event.fireEvent(this,"onclose",false);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype._closeOtherLayer=function(_5b){["WebSquare.uiplugin.selectbox._closeOtherLayer"];try{var _5b=_5b||{};var _5c=_5b.documentClick;var _5d=this.otherComponent;if(this.itemTableMode=="grid"){_5d=this.itemTable;}if(this.isOpen&&_5d!=null){_5d.hide();this.isOpen=false;if(_5c===true){WebSquare.event.fireEvent(this,"onclose",true);}else{WebSquare.event.fireEvent(this,"onclose",false);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.getItemCount=function(){["WebSquare.uiplugin.selectbox.getItemCount"];try{return this.itemArr.length;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.selectbox.setSelectedIndex"];try{if(WebSquare.util.isNull(idx)){return;}if(isNaN(idx)||idx<0||idx>=this.getItemCount()){return;}idx=parseInt(idx);if(this.modelControl.isBinded()){this.modelControl.setData(this.itemArr[idx].value);}else{var _5f=this.getSelectedIndex();this.setSelectedIndexNM(idx);if(_5f!=this.getSelectedIndex()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.setSelectedIndexNM=function(idx){["WebSquare.uiplugin.selectbox.setSelectedIndexNM"];try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.getItemCount()){return false;}this.selectedIndex=idx;var _61=this.itemArr[idx].label+"";if(_61.indexOf("&")>-1){_61=_61.wq_replaceAll("&","&amp;");}if(this.options.escape){_61=WebSquare.xml._encode(_61);}this.dom.label.innerHTML=_61;if(this.itemTable){this.render.setAttribute("aria-activedescendant",this.itemTable.id+"_"+idx);}return true;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.selectbox.getSelectedIndex"];try{return this.selectedIndex;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.setValue=function(_62){["WebSquare.uiplugin.selectbox.setValue"];try{if(WebSquare.util.isNull(_62)){return;}var _63=this.getValue();if(this.modelControl.isBinded()){this.modelControl.setData(_62);}else{var _63=this.getValue();if(this.setValueNM(_62)==true){if(_63!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}else{this.setSelectedIndex(0);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.setValueNM=function(_64){["WebSquare.uiplugin.selectbox.setValueNM"];try{if(WebSquare.util.isNull(_64)){return;}_64=_64.toString();var _65=this.getItemCount();for(var i=0;i<_65;i++){if(this.itemArr[i].value==_64){this.setSelectedIndexNM(i);return true;}}return false;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.getValue=function(){["WebSquare.uiplugin.selectbox.getValue"];try{if(this.itemArr[this.selectedIndex]){return this.itemArr[this.selectedIndex].value;}else{return null;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.setText=function(_67){["WebSquare.uiplugin.selectbox.setText"];try{var _68=this.getItemCount();var _69="";for(var i=0;i<_68;i++){if(this.itemArr[i].label==_67){_69=this.itemArr[i].value;}}this.setValue(_69);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.getText=function(){["WebSquare.uiplugin.selectbox.getText"];try{if(this.itemArr[this.selectedIndex]){return this.itemArr[this.selectedIndex].label;}else{return null;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.addItemArr=function(_6b,_6c){["WebSquare.uiplugin.selectbox.addItemArr"];try{this.itemArr.push({label:_6b,value:_6c});}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.addItem=function(_6d,_6e,idx){["WebSquare.uiplugin.selectbox.addItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}var _70={};_70.value=_6d;_70.label=_6e;this.itemArr.splice(idx,0,_70);if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}return idx;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.deleteItem=function(idx){["WebSquare.uiplugin.selectbox.deleteItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){return;}var _72=null;if(idx>=0&&idx<this.getItemCount()){_72=(this.itemArr.splice(idx,1))[0];}if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}return _72;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.removeAll=function(_73){["WebSquare.uiplugin.selectbox.removeAll"];try{var _74=this.getValue();this.itemArr=new Array();if(_73){if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all"}].concat(this.itemArr);}if(this.options.chooseOption==true){var _75=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_75=WebSquare.xml.decode(_75).replace("&nbsp;"," ");this.itemArr=[{label:_75,value:this.options.chooseOptionValue}].concat(this.itemArr);}}this.setSelectOptions(this.itemArr);if(this.dom.label){if(this.itemArr.length>0){var _75=this.itemArr[0].label+"";if(_75.indexOf("&")>-1){_75=_75.wq_replaceAll("&","&amp;");}if(this.options.escape){_75=WebSquare.xml._encode(_75);}this.dom.label.innerHTML=_75;}else{this.dom.label.innerHTML="";}}if(this.options.setDataRemoveAll){if(_73){this.setSelectedIndex(0);}else{this.selectedIndex=-1;if(!this.dom.label){this.dom.select.selectedIndex=-1;}if(this.modelControl.isBinded()){this.modelControl.setData("");}if(_74!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.onPropertyChange=function(_76,_77){["WebSquare.uiplugin.selectbox.onPropertyChange"];try{switch(_76){case "disabled":if(this.options.renderType=="component"){if(_77){this.closeSubLayer();this.getElementById(this.id+"_label").style.color="#848684";}else{this.getElementById(this.id+"_label").style.color="";}}else{if(_77){this.dom.select.setAttribute("disabled","disabled");}else{this.dom.select.removeAttribute("disabled");}}if(_77==true){this.addClass(this.render,this.options.disabledClass);}else{this.removeClass(this.render,this.options.disabledClass);}break;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.setSelectedIndex1=function(idx){["WebSquare.uiplugin.selectbox.setSelectedIndex1"];try{this.setSelectedIndex(idx);this.closeSubLayer();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.validate=function(){["WebSquare.uiplugin.selectbox.validate"];try{var _79=this.validator.validate(this.getValue());if(!_79){this.focus();}return _79;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.setInitValue=function(_7a){["WebSquare.uiplugin.selectbox.setInitValue"];try{var _7b=this.getValue();if(this.options.initValue===""){if(this.itemArr&&this.itemArr[0]){this.options.initValue=this.itemArr[0].value;}}this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_7a.fireEvent){if(_7b!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.hide=function(){["WebSquare.selectbox.hide"];try{this.closeSubLayer();WebSquare.css.prototype.hide.call(this);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.selectbox.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.selectbox.handleClickEvent"];try{if(this.options.disabled){return false;}this.focus();if(this.itemArr.length>0){this.toggle();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.itemTable.handleKeydownEvent"];try{var _7e=(e.charCode)?e.charCode:e.keyCode;var _7f=this.getSelectedIndex();if(_7e==13){this.handleClickEvent(e);return;}if(this.isOpen){return;}if(_7e==38){if(_7f>0){if(this.itemTableMode=="grid"){var _80;var _81;var _82=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_82.length;i++){if(_7f==_82[i]){_80=_82[i-1];_81=i-1;break;}}this.setSelectedIndex(_80);this.targetFocusedIndex=_81;}else{this.setSelectedIndex(_7f-1);}}}else{if(_7e==40){if(this.itemTableMode=="grid"){var _80;var _81;var _82=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_82.length;i++){if(_7f==_82[i]){_80=_82[i+1];_81=i+1;break;}}if(_80<this.getItemCount()){this.setSelectedIndex(_80);this.targetFocusedIndex=_81;}}else{if(_7f+1<this.getItemCount()){this.setSelectedIndex(_7f+1);}}}else{if(_7e==33){if(this.itemTableMode=="grid"){var _80;var _81;var _82=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_82.length;i++){if(_7f==_82[i]){var _84;if(this.itemTable.grid.options.visibleRowNum=="all"){_80=0;_81=0;}else{_80=_82[i-(this.itemTable.grid.options.visibleRowNum-0)];_81=i-(this.itemTable.grid.options.visibleRowNum-0);}break;}}if(_81<0){this.targetFocusedIndex=0;this.setSelectedIndex(_82[0]);}else{this.setSelectedIndex(_80);this.targetFocusedIndex=this.itemTable.grid.getRealRowIndex(_80);}}else{var _85=_7f-this.options.visibleRowNum;if(_85<0){_85=0;}this.setSelectedIndex(_85);}}else{if(_7e==34){if(this.itemTableMode=="grid"){var _80;var _81;var _82=this.itemTable.grid.filteredRowIndexArr;for(var i=0;i<_82.length;i++){if(_7f==_82[i]){var _84;if(this.itemTable.grid.options.visibleRowNum=="all"){_80=_82[this.getItemCount()-1];_81=this.getItemCount();}else{_80=_82[i+(this.itemTable.grid.options.visibleRowNum-0)];_81=i+(this.itemTable.grid.options.visibleRowNum-0);}break;}}if(_81>=this.getItemCount()){this.setSelectedIndex(_82[this.getItemCount()-1]);this.targetFocusedIndex=this.getItemCount()-1;}else{this.setSelectedIndex(_80);this.targetFocusedIndex=this.itemTable.grid.getRealRowIndex(_80);}}else{var _85=_7f+this.options.visibleRowNum;if(_85>=this.getItemCount()){_85=this.getItemCount()-1;}this.setSelectedIndex(_85);}}else{if(_7e==35){if(this.itemTableMode=="grid"){var _82=this.itemTable.grid.filteredRowIndexArr;var _80=_82[this.getItemCount()-1];this.setSelectedIndex(_80);this.targetFocusedIndex=this.getItemCount()-1;}else{this.setSelectedIndex(this.getItemCount()-1);}}else{if(_7e==36){if(this.itemTableMode=="grid"){var _82=this.itemTable.grid.filteredRowIndexArr;var _80=_82[0];this.setSelectedIndex(_80);this.targetFocusedIndex=0;}else{this.setSelectedIndex(0);}}else{this.findItemStartedWithKeyChar(_7e);return;}}}}}}WebSquare.event.stopEvent(e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.handleMousewheelEvent=function(e){["WebSquare.uiplugin.selectbox.handleMousewheelEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2selectbox_focus")){if(!this.isOpen){var _88=this.getSelectedIndex();if(e.wheelDelta>0||e.detail<0){this.setSelectedIndex(_88-1);}else{this.setSelectedIndex(_88+1);}}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.selectbox.handleFocusEvent"];try{WebSquare.event.stopEvent(e);this.addClass(this.dom.tbody,"w2selectbox_focus");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.selectbox.handleBlurEvent"];try{WebSquare.event.stopEvent(e);this.removeClass(this.dom.tbody,"w2selectbox_focus");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.selectbox.handleMouseoverEvent"];try{WebSquare.event.stopEvent(e);this.addClass(this.dom.tbody,"w2selectbox_over");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.selectbox.handleMouseoutEvent"];try{WebSquare.event.stopEvent(e);this.removeClass(this.dom.tbody,"w2selectbox_over");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.findItemStartedWithKeyChar=function(_8d){["WebSquare.uiplugin.selectbox.findItemStartedWithKeyChar"];try{var _8e=this.keyCharHash[_8d];var _8f=-1;if(_8e){var _90=this.selectedIndex;var _91=0;while(1){++_90;++_91;_90=_90%this.itemArr.length;var _92=this.itemArr[_90].label.toLowerCase();if(_92.startsWith(_8e)){_8f=_90;break;}if(_91>this.itemArr.length){break;}}if(_8f>-1){this.setSelectedIndex(_8f);return true;}}if(_8f==-1){return false;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox.prototype.setRef=function(ref){["WebSquare.uiplugin.selectbox.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.selectbox_native=function(id,_95,_96){["WebSquare.uiplugin.selectbox"];WebSquare.xfControl.call(this,id,_95,_96);};WebSquare.extend(WebSquare.uiplugin.selectbox_native.prototype,WebSquare.uiplugin.selectbox.prototype);WebSquare.uiplugin.selectbox_native.prototype.defaultOptions={pluginType:"uiplugin.selectbox",pluginName:"selectbox",renderType:"native",userEvents:["onchange","onclose"],useConfig:true,value:"",chooseOption:false,chooseOptionLabel:"",chooseOptionValue:"",allOption:false,sortOption:"",sortMethod:"",displayMode:"0",delimiter:"\t",textAlign:"",useLocale:false,disabledClass:"w2selectbox_disabled",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,labelWidthAuto:false,initValue:""};WebSquare.uiplugin.selectbox_native.prototype.initialize=function(_97){["WebSquare.uiplugin.selectbox.initialize"];try{this.itemTable=null;this.isOpen=false;this.statusSubLayer=false;this.selectedIndex=-1;this.cursorIndex=-1;this.showRowIndex=0;this.displayCount=0;this.defaultAllOptionLabel=WebSquare.language.getMessage("SelectBox_all");this.defaultChooseOptionLabel=WebSquare.language.getMessage("SelectBox_choose");switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}this.initializeItemArr(_97);this.setSelectItemArr();this.validator=new WebSquare.validator.validateInvoker(this.id,this.options);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox_native.prototype.finalize=function(){};WebSquare.uiplugin.selectbox_native.prototype.toHTML=function(){["WebSquare.uiplugin.selectbox.toHTML"];try{var _98=[];var _99=this.options.title?" title='"+this.options.title+"'":"";if(this.options.renderType=="select"){_98.push("<select id='"+this.id+"' style='"+this.options.style+"' class='w2selectbox_select "+this.options.className+"'"+_99+">");for(var i=0;i<this.itemArr.length;i++){_98.push("<option>"+this.itemArr[i].label+"</option>");}_98.push("</select>");}else{_98.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2selectbox_native "+(WebSquare.util.isMobile()?"w2selectbox_native_mobile ":"")+(!this.options.labelWidthAuto?"fixedWidth ":"")+this.options.className+"' >");_98.push("<div class='w2selectbox_native_innerDiv'>");_98.push("<select class='w2selectbox_native_select' id='"+this.id+"_input_0' "+_99+" >");for(var i=0;i<this.itemArr.length;i++){_98.push("<option>"+this.itemArr[i].label+"</option>");}_98.push("</select>");_98.push("</div>");_98.push("</div>");}return _98.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox_native.prototype.setAction=function(){["WebSquare.uiplugin.selectbox.setAction"];try{this.dom.select=this.options.renderType=="select"?this.render:this.render.firstChild.firstChild;var _9b=WebSquare.util.isIE(6)||WebSquare.util.isIE(7);if(!_9b&&this.options.renderType=="native"){var _9c=this.render.clientHeight-this.dom.select.offsetHeight;if(_9c>0){this.dom.select.style.marginTop=parseInt(_9c/2,10)+"px";}}if(this.options.labelWidthAuto===true){this.render.style.width="";}if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _9d=this.modelControl.getData();this.setValueNM(_9d);}if(this.selectedIndex==-1){this.setSelectedIndexNM(0);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}this.event.addListener2(this.dom.select,"onchange",this.event.bindAsEventListener(this,this.handleOnchange));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox_native.prototype.componentRedraw=function(){["WebSquare.uiplugin.selectbox.componentRedraw"];try{this.setSelectItemArr();this.showRowIndex=0;this.setSelectOptions();if(this.itemArr.length>0){this.dom.select.selectedIndex=0;}this.setValueNM("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox_native.prototype.setSelectOptions=function(){["WebSquare.uiplugin.selectbox.setSelectOptions"];try{for(var i=this.dom.select.options.length;i>=0;i--){this.dom.select.remove(i);}for(var i=0;i<this.itemArr.length;i++){var _9f=document.createElement("option");_9f.text=this.itemArr[i].label;this.dom.select.options[i]=_9f;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox_native.prototype.setSelectedIndexNM=function(idx){["WebSquare.uiplugin.selectbox.setSelectedIndexNM"];try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.getItemCount()){return false;}this.selectedIndex=idx;this.dom.select.selectedIndex=idx;return true;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.selectbox_native.prototype.handleOnchange=function(e){var idx=this.dom.select.selectedIndex;var _a3=this.getSelectedIndex();this.setSelectedIndexNM(idx);this.modelControl.setData(this.itemArr[idx].value);this.selectedIndex=idx;if(_a3!=this.getSelectedIndex()){WebSquare.event.fireEvent(this,"onchange");}};WebSquare.uiplugin.selectbox_native.prototype.focus=function(){this.dom.select.focus();};WebSquare.uiplugin.selectbox_native.prototype.setDisabled=function(_a4){["WebSquare.uiplugin.selectbox_native.prototype.setDisabled"];try{_a4=WebSquare.util.getBoolean(_a4);this.options.disabled=_a4;this.onPropertyChange("disabled",_a4);}catch(e){WebSquare.exception.printStackTrace(e);}return _a4;};requires("uiplugin/control/itemsetControl.js");requires("engine/validator.js");WebSquare.uiplugin.multiselect=function(id,_2,_3){["WebSquare.uiplugin.multiselect"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.multiselect.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.multiselect.prototype,WebSquare.itemsetControl.prototype);WebSquare.extend(WebSquare.uiplugin.multiselect.prototype,WebSquare.IValidate.prototype);WebSquare.uiplugin.multiselect.prototype.defaultOptions={pluginType:"uiplugin.multiselect",pluginName:"multiselect",userEvents:["onchange"],initValue:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,separator:" ",title:"",escape:false,maxItemNum:-1};WebSquare.uiplugin.multiselect.prototype.initialize=function(_4){["WebSquare.uiplugin.multiselect.initialize"];try{this.lastSelectedIndex=-1;this.initializeItemArr(_4);this.validator=new WebSquare.validator.validateInvoker(this.id,this.options);this.separator=this.options.separator=this.options.separator||" ";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.toHTML=function(){["WebSquare.uiplugin.multiselect.toHTML"];try{var _5=(this.options.disabled)?" disabled='true' ":"";var _6=(this.options.disabled)?" style='color:#848684' ":"";var _7=this.options.title==""?"":" title='"+this.options.title+"'";var _8=[];_8.push("<div ",_5," id='"+this.id+"' style='"+this.options.style+"' class='w2multiselect_div "+this.options.className+"' tabIndex='0' "+_7+" >");if(WebSquare.util.isIE(6)||WebSquare.util.isIE(7)||WebSquare.util.isOpera()){_8.push("<div style='overflow:visible;position:relative;height:0px'>");}_8.push("<table id='"+this.id+"_table' class='w2multiselect_table' cellpadding='0' cellspacing='0'>");for(var i=0;i<this.itemArr.length;i++){var _a=(this.options.escape)?WebSquare.xml._encode(this.itemArr[i].label):this.itemArr[i].label;_8.push("<tr class='w2multiselect_tr' index='"+i+"' checked='false'>");_8.push("<td class='w2multiselect_td'>"+_a+"</td>");_8.push("</tr>");}_8.push("</table>");if(WebSquare.util.isIE(6)||WebSquare.util.isIE(7)||WebSquare.util.isOpera()){_8.push("</div>");}_8.push("</div>");return _8.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.setAction=function(){["WebSquare.uiplugin.multiselect.setAction"];try{this.dom.table=document.getElementById(this.id+"_table");if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _b=this.modelControl.getData();this.setValueNM(_b);}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onselectstart",function(e){WebSquare.event.stopEvent(e);});}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.refreshItemset=function(){["WebSquare.uiplugin.multiselect.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){var _d=this.getValue();this.refreshItemArr();this.componentRedraw(_d);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.refresh=function(){["WebSquare.uiplugin.multiselect.refresh"];try{if(this.modelControl.isBinded()){var _e=this.getValue();var _f=this.modelControl.getData();this.setValueNM(_f);if(_e!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.componentRedraw=function(_10){["WebSquare.uiplugin.checkbox.componentRedraw"];try{this.redraw();this.dom.table=document.getElementById(this.id+"_table");this.setValueNM(_10);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.getItemCount=function(){["WebSquare.uiplugin.multiselect.getItemCount"];try{return this.itemArr.length;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.setSelectedIndex=function(_11){["WebSquare.uiplugin.multiselect.setSelectedIndex"];try{var _12=_11.split(this.separator);for(var i=0;i<_12.length;i++){var _14=_12[i];_14=parseInt(_14);if(this.setSelectedIndexNM(_14)){this.setInstanceValue();}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.setSelectedIndexNM=function(_15,_16){["WebSquare.uiplugin.multiselect.setSelectedIndexNM"];try{_15=parseInt(_15);if(_15<0||_15>=this.getItemCount()){return false;}var _17=this.getMultiselectList();var _18=_17[_15];_16=(_16==null)?true:_16;_18.setAttribute("checked",_16);if(_16){this.addClass(_18,"w2multiselect_tr_over");}else{this.removeClass(_18,"w2multiselect_tr_over");}return true;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.getText=function(_19){["WebSquare.uiplugin.multiselect.getText"];try{if(!_19){_19=this.separator;}var ret=[];var _1b=this.getMultiselectList();for(var i=0;i<_1b.length;i++){if(WebSquare.util.getBoolean(_1b[i].getAttribute("checked"))){ret.push(this.itemArr[i].label);}}return ret.join(_19).wq_trim();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.getValue=function(_1d){["WebSquare.uiplugin.multiselect.getValue"];try{if(!_1d){_1d=this.separator;}var ret=[];var _1f=this.getMultiselectList();for(var i=0;i<_1f.length;i++){if(WebSquare.util.getBoolean(_1f[i].getAttribute("checked"))){ret.push(this.itemArr[i].value);}}return ret.join(_1d).wq_trim();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.getAllValue=function(){["WebSquare.uiplugin.multiselect.getAllValue"];try{var ret=[];var _22=this.getMultiselectList();for(var i=0;i<_22.length;i++){ret.push(this.itemArr[i].value);}return ret.join(this.separator).wq_trim();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.getIdxValue=function(_24){["WebSquare.uiplugin.multiselect.getIdxValue"];try{if(_24<0||_24>=this.getItemCount()){return false;}return this.itemArr[_24].value;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.setValue=function(_25){["WebSquare.uiplugin.multiselect.setValue"];try{if(WebSquare.util.isNull(_25)){return;}var _26=this.getValue();this.setValueNM(_25);this.modelControl.setData(_25);if(_26!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.setValueNM=function(_27){["WebSquare.uiplugin.multiselect.setValueNM"];try{if(WebSquare.util.isNull(_27)){return;}_27=_27.toString();var _28=this.getValue();var _29=_27.split(this.separator);var _2a=[];for(var i=0;i<_29.length;i++){_2a[_29[i]+""]="";}var _2c=this.getItemCount();for(var i=0;i<_2c;i++){var _27=this.itemArr[i].value;if(_2a[_27]!=null){this.setSelectedIndexNM(i,true);}else{this.setSelectedIndexNM(i,false);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.setText=function(_2d){["WebSquare.uiplugin.multiselect.setText"];try{var _2e=_2d.split(this.separator);var _2f=this.getItemCount();var ret=[];for(var i=0;i<_2e.length;i++){for(var j=0;j<_2f;j++){if(this.itemArr[j].label==_2e[i]){ret.push(this.itemArr[j].value);}}}var _33=ret.join(this.separator).wq_trim();this.setValue(_33);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.getSelectedIndex=function(_34){["WebSquare.uiplugin.multiselect.getSelectedIndex"];try{if(!_34){_34=this.separator;}var ret=[];var _36=this.getMultiselectList();for(var i=0;i<_36.length;i++){if(WebSquare.util.getBoolean(_36[i].getAttribute("checked"))){ret.push(i);}}return ret.join(_34).wq_trim();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.deleteItem=function(_38){["WebSquare.uiplugin.multiselect.deleteItem"];try{_38=parseInt(_38);var _39=this.dom.table.childNodes[0];var _3a=null;for(var _3b=_39.firstChild;_3b!=null;_3b=_3b.nextSibling){if(_3b.getAttribute("index")==_38){_3a=(this.itemArr.splice(_38,1))[0];_3b.parentNode.removeChild(_3b);this.refreshIndex();}}return _3a;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.deleteSelectedItems=function(){["WebSquare.uiplugin.multiselect.deleteSelectedItems"];try{var _3c=this.dom.table.childNodes[0];for(var _3d=_3c.firstChild;_3d!=null;_3d=_3d.nextSibling){if(WebSquare.util.getBoolean(_3d.getAttribute("checked"))){var idx=_3d.getAttribute("index");this.itemArr.splice(idx,1);_3d.parentNode.removeChild(_3d);this.refreshIndex();this.deleteSelectedItems();}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.refreshIndex=function(){["WebSquare.uiplugin.multiselect.refreshIndex"];try{var _3f=this.dom.table.childNodes[0];var idx=0;for(var _41=_3f.firstChild;_41!=null;_41=_41.nextSibling){_41.setAttribute("index",idx+"");++idx;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.setInstanceValue=function(){["WebSquare.uiplugin.multiselect.setInstanceValue"];try{var _42=this.getValue();this.modelControl.setData(_42);this.fireOnchange();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.getMultiselectList=function(){["WebSquare.uiplugin.multiselect.getMultiselectList"];try{return this.getDomList("multiselectArr","tr");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.validate=function(){["WebSquare.uiplugin.multiselect.validate"];try{var _43=this.validator.validate(this.getValue());if(!_43){this.focus();}return _43;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.setInitValue=function(_44){["WebSquare.uiplugin.multiselect.setInitValue"];try{var _45=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_44.fireEvent){if(_45!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.setRef=function(ref){["WebSquare.uiplugin.multiselect.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.multiselect.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.multiselect.handleClickEvent"];try{WebSquare.event.stopEvent(e);if(this.options.disabled){return false;}var it=this.event.getTargetIterator(e,this.render);var _49=this.dom.table.childNodes[0].childNodes;if(!e.ctrlKey&&!e.shiftKey){for(var i=0;i<_49.length;i++){this.setSelectedIndexNM(i,false);}}while(it.next()){if(it.match(null,this.id)){}if(it.match("w2multiselect_tr")){var _4b=it.getElement().getAttribute("index");if(e.shiftKey){var _4c=_4b;var _4d=-1;var _4e=-1;var _4f=[];var _50="";if(this.lastSelectedIndex<_4c){_4d=this.lastSelectedIndex;if(this.options.maxItemNum>-1){var _51=(_4d>-1)?this.options.maxItemNum-1:this.options.maxItemNum;_4e=parseInt(this.lastSelectedIndex,10)+_51;}else{_4e=_4c;}}else{_4e=this.lastSelectedIndex;if(this.options.maxItemNum>-1){var _51=(this.options.maxItemNum-1);_4d=parseInt(this.lastSelectedIndex,10)-_51;}else{_4d=_4c;}}for(var i=_4d;i<=_4e;i++){_4f.push(i);}_50=_4f.join(this.separator).wq_trim();this.setSelectedIndex(_50);}else{if(e.ctrlKey&&WebSquare.util.getBoolean(it.getElement().getAttribute("checked"))){this.lastSelectedIndex=_4b;this.setSelectedIndexNM(_4b,false);this.setInstanceValue();}else{var _52;var _53=this.getValue();_52=(_53=="")?0:_53.split(" ").length;if(_52>=this.options.maxItemNum&&this.options.maxItemNum>-1){break;}this.lastSelectedIndex=_4b;this.setSelectedIndex(_4b);}}}}it=null;this.focus();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.multiselect.prototype.fireOnchange=function(){["WebSquare.uiplugin.multiselect.fireOnchange"];try{WebSquare.event.fireEvent(this,"onchange");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};requires("uiplugin.selectbox");requires("uiplugin/helper/dateHelper.js");requires("engine/formatter.js");WebSquare.uiplugin.calendar=function(id,_2,_3){["WebSquare.uiplugin.calendar"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.calendar.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.calendar.prototype,WebSquare.css.prototype);WebSquare.uiplugin.calendar.prototype.defaultOptions={pluginType:"uiplugin.calendar",pluginName:"calendar",userEvents:["ondateselect","onconfirm","oncancel","onchange"],useConfig:true,dateFormat:"",delimiter:"",calendarClass:"class1",monthNames:"1\uc6d4,2\uc6d4,3\uc6d4,4\uc6d4,5\uc6d4,6\uc6d4,7\uc6d4,8\uc6d4,9\uc6d4,10\uc6d4,11\uc6d4,12\uc6d4",yearSuffix:"\ub144",calendarValueType:"yearMonthDate",wmode:false,holiday:"",holidayRef:"",minYear:1978,maxYear:2030,serverSync:false,useUnlimitedYear:true,initValue:"",cancleButtonShow:false,title:"",wmode:false,renderType:"component",backlink:"",useYearSelect:true,useMonthSelect:true,displayFormat:"",visibleRowNum:5,weekStartsOn:0};WebSquare.uiplugin.calendar.prototype.initialize=function(_4){["WebSquare.uiplugin.calendar.initialize"];try{this.options.dateFormat=this.options.dateFormat||"yyyyMMdd";if(!this.options.displayFormat){if(this.options.delimiter){this.options.displayFormat="yyyy"+this.options.delimiter+"MM";}else{this.options.displayFormat="yyyy/MM";}if(this.options.calendarValueType=="yearMonthDate"||this.options.calendarValueType=="yearMonthDateTime"){if(this.options.delimiter){this.options.displayFormat+=this.options.delimiter+"dd";}else{this.options.displayFormat+="/dd";}}}this.todayHelper=new WebSquare.uiplugin.dateHelper(this.options.serverSync);this.selectedDateHelper=new WebSquare.uiplugin.dateHelper(this.options.serverSync);this.holidayXpath();this.formatter=WebSquare.format.createFormatter("date",this.options.dateFormat);this.objCellClass={};if(this.options.calendarValueType=="yearMonth"){this.options.calendarClass="classYearMonth_"+this.options.calendarClass;}this.minYear=this.options.minYear;this.maxYear=this.options.maxYear;if(WebSquare.util.isMobile()){this.options.renderType="native";}this.dayIndexArray=[0,1,2,3,4,5,6];this.shiftDay=0-this.options.weekStartsOn;this.shiftDayIndex(this.shiftDay);if(this.options.renderType=="native"){this.selectboxYearHTMLstr=[];if(this.options.useYearSelect){this.selectboxYearHTMLstr.push("<select id='"+this.id+"_selectbox_year' class='w2calendar_selectbox_year' title='"+WebSquare.language.getMessage("Calendar_select_year")+"' >");for(var _5=this.minYear;_5<this.maxYear+1;_5++){this.selectboxYearHTMLstr.push("\t<option value='"+_5+" '>"+_5+this.options.yearSuffix+"</option>");}this.selectboxYearHTMLstr.push("</select>");}else{var _6=new WebSquare.uiplugin.selectbox(this.id+"_selectbox_year",{className:"w2calendar_selectbox_year",labelWidthAuto:false,wmode:this.options.wmode,readOnly:true,visibleRowNum:this.options.visibleRowNum});for(var _5=this.minYear;_5<this.maxYear+1;_5++){_6.addItemArr(_5+this.options.yearSuffix,_5);}if(this.options.useUnlimitedYear!==false){_6.addItemArr("9999"+this.options.yearSuffix,"9999");}this.addControl(_6);}this.selectboxMonthHTMLstr=[];if(this.options.useMonthSelect){this.selectboxMonthHTMLstr.push("<select id='"+this.id+"_selectbox_month' class='w2calendar_selectbox_month'  title='"+WebSquare.language.getMessage("Calendar_select_month")+"' >");var _7=this.options.monthNames.split(",");for(var _8=0;_8<12;_8++){var _9=_8+1;var _a=_7[_8]||(_8+1);this.selectboxMonthHTMLstr.push("\t<option value='"+_9+" '>"+_a+"</option>");}this.selectboxMonthHTMLstr.push("</select>");}else{var _b=new WebSquare.uiplugin.selectbox(this.id+"_selectbox_month",{className:"w2calendar_selectbox_month",labelWidthAuto:false,wmode:this.options.wmode,readOnly:true,visibleRowNum:this.options.visibleRowNum});var _7=this.options.monthNames.split(",");for(var _8=0;_8<12;_8++){var _a=_7[_8]||(_8+1);_b.addItemArr(_a,_8+1);}this.addControl(_b);}this.selectboxHourHTMLstr=[];this.selectboxHourHTMLstr.push("<select id='"+this.id+"_selectbox_hour' class='w2calendar_selectbox_hour_mobile'  title='"+WebSquare.language.getMessage("Calendar_select_hour")+"' onchange='WebSquare.event.fireEvent(WebSquare.util.getComponentById(\""+this.id+"\"),\"onchange\");'>");for(var _c=0;_c<24;_c++){this.selectboxHourHTMLstr.push("\t<option value='"+_c+" '>"+_c+"</option>");}this.selectboxHourHTMLstr.push("</select>");this.selectboxMinuteHTMLstr=[];this.selectboxMinuteHTMLstr.push("<select id='"+this.id+"_selectbox_minute' class='w2calendar_selectbox_minute_mobile' title='"+WebSquare.language.getMessage("Calendar_select_minute")+"' onchange='WebSquare.event.fireEvent(WebSquare.util.getComponentById(\""+this.id+"\"),\"onchange\");'>");for(var _d=0;_d<60;_d++){this.selectboxMinuteHTMLstr.push("\t<option value='"+_d+" '>"+_d+"</option>");}this.selectboxMinuteHTMLstr.push("</select>");}else{var _6=new WebSquare.uiplugin.selectbox(this.id+"_selectbox_year",{className:"w2calendar_selectbox_year",labelWidthAuto:false,submenuSize:"auto",wmode:this.options.wmode,title:WebSquare.language.getMessage("Calendar_select_year"),readOnly:!this.options.useYearSelect,visibleRowNum:this.options.visibleRowNum});var _b=new WebSquare.uiplugin.selectbox(this.id+"_selectbox_month",{className:"w2calendar_selectbox_month",labelWidthAuto:false,submenuSize:"auto",wmode:this.options.wmode,title:WebSquare.language.getMessage("Calendar_select_month"),readOnly:!this.options.useMonthSelect,visibleRowNum:this.options.visibleRowNum});for(var _5=this.minYear;_5<this.maxYear+1;_5++){_6.addItemArr(_5+this.options.yearSuffix,_5);}if(this.options.useUnlimitedYear!==false){_6.addItemArr("9999"+this.options.yearSuffix,"9999");}var _7=this.options.monthNames.split(",");for(var _8=0;_8<12;_8++){var _a=_7[_8]||(_8+1);_b.addItemArr(_a,_8+1);}_6.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){this.getParent().gotoYear(this.getValue());}}}];_b.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){this.getParent().gotoMonth(this.getValue());}}}];this.addControl(_6);this.addControl(_b);if(this.options.calendarValueType=="yearMonthDateTime"){var _10=new WebSquare.uiplugin.selectbox(this.id+"_selectbox_hour",{className:"w2calendar_selectbox_hour",submenuSize:"auto",labelWidthAuto:false,title:WebSquare.language.getMessage("Calendar_select_hour"),visibleRowNum:this.options.visibleRowNum});var _11=new WebSquare.uiplugin.selectbox(this.id+"_selectbox_minute",{className:"w2calendar_selectbox_minute",submenuSize:"auto",labelWidthAuto:false,title:WebSquare.language.getMessage("Calendar_select_minute"),visibleRowNum:this.options.visibleRowNum});for(var _c=0;_c<24;_c++){_10.addItemArr(_c,_c);}for(var _d=0;_d<60;_d++){_11.addItemArr(_d,_d);}_10.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){WebSquare.event.fireEvent(this.getParent(),"onchange");}}}];_11.options.xmlEvents=[{name:"onchange",action:"script",param:{handler:function(e){WebSquare.event.fireEvent(this.getParent(),"onchange");}}}];this.addControl(_10);this.addControl(_11);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.toHTML=function(){["WebSquare.uiplugin.calendar.toHTML"];try{var _14=[];var _15=this.options.title==""?"":" title=\""+this.options.title+"\" ";_14.push("<div id='"+this.id+"' name='"+this.id+"' style='"+this.options.style+"' class='w2calendar w2calendar_"+this.options.calendarClass+" "+this.options.className+"' role='calendar' >");_14.push("<div class='w2calendar_wrap'>");_14.push("<div class='w2calendar_header'>");if(this.options.renderType=="native"){_14.push("<button id='"+this.id+"_last_year' class='w2calendar_header_last_year'>"+WebSquare.language.getMessage("Calendar_previous_year")+"</button>");_14.push("<button class='w2calendar_header_last_month' >"+WebSquare.language.getMessage("Calendar_previous_month")+"</button>");}else{_14.push("<div id='"+this.id+"_last_year' name='"+this.id+"_last_year' class='w2calendar_header_last_year' role='button' tabindex='0' title='"+WebSquare.language.getMessage("Calendar_previous_year")+"'></div>");_14.push("<div class='w2calendar_header_last_month' role='button'  tabindex='0' title='"+WebSquare.language.getMessage("Calendar_previous_month")+"'></div>");}if(this.options.renderType=="native"){_14.push(this.options.useYearSelect?this.selectboxYearHTMLstr.join(""):this.getChild(this.id+"_selectbox_year").toHTML());_14.push(this.options.useMonthSelect?this.selectboxMonthHTMLstr.join(""):this.getChild(this.id+"_selectbox_month").toHTML());}else{_14.push(this.getChild(this.id+"_selectbox_year").toHTML());_14.push(this.getChild(this.id+"_selectbox_month").toHTML());}if(this.options.renderType=="native"){_14.push("<button class='w2calendar_header_next_month' >"+WebSquare.language.getMessage("Calendar_next_month")+"</button>");_14.push("<button class='w2calendar_header_next_year' >"+WebSquare.language.getMessage("Calendar_next_year")+"</button>");}else{_14.push("<div class='w2calendar_header_next_month' role='button' tabindex='0' title='"+WebSquare.language.getMessage("Calendar_next_month")+"'></div>");_14.push("<div class='w2calendar_header_next_year' role='button' tabindex='0' title='"+WebSquare.language.getMessage("Calendar_next_year")+"'></div>");}if(this.options.calendarValueType=="yearMonth"){_14.push("<div class='w2calendar_header_btn_ok' role='button' tabindex='0' title='"+WebSquare.language.getMessage("Calendar_ok")+"'></div>");_14.push("<div class='w2calendar_header_btn_close' role='button' tabindex='0' title='"+WebSquare.language.getMessage("Calendar_close")+"'></div>");}_14.push("</div>");_14.push("<div id='"+this.id+"_content' class='w2calendar_content'>");_14.push("<table class='w2calendar_content_table' cellpadding='0' cellspacing='0' summary='"+WebSquare.language.getMessage("Calendar_summary")+"'>");_14.push("<caption>"+WebSquare.language.getMessage("Calendar_caption")+"</caption>");_14.push("<tr>");for(var i=0;i<7;i++){if(this.options.renderType=="native"){_14.push("<th class='w2calendar_col_day w2calendar_day"+this.dayIndexArray[i]+"' scope='col'>"+WebSquare.language.getMessage("Calendar_weekdaynames_"+this.dayIndexArray[i])+"</th>");}else{_14.push("<td class='w2calendar_col_day'><div class='w2calendar_day w2calendar_day"+this.dayIndexArray[i]+"'  title='"+WebSquare.language.getMessage("Calendar_weekdaynames_"+this.dayIndexArray[i])+"' ></div></td>");}}_14.push("</tr>");var _17=6;var _18=7;for(var row=0;row<_17;row++){_14.push("<tr>");for(var col=0;col<_18;col++){_14.push("<td id='"+this.id+"_cell_"+row+"_"+col+"' role='button'  aria-pressed='false' ></td>");}_14.push("</tr>");}_14.push("</table>");_14.push("</div>");_14.push("<table class='w2calendar_footer' cellpadding='0' cellspacing='0'><tr>");if(this.options.calendarValueType=="yearMonthDate"){if(this.options.renderType=="native"){_14.push("<td><button class='w2calendar_go_today' >"+WebSquare.language.getMessage("Calendar_today")+"</button></td>");}else{_14.push("<td><div class='w2calendar_go_today' role='button'  title='"+WebSquare.language.getMessage("Calendar_today")+"' tabindex='0'></div></td>");}_14.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date'></div></td>");if(this.options.cancleButtonShow==true){_14.push("<td class='w2calendar_blank' ></td>");if(this.options.renderType=="native"){_14.push("<td><a href='#"+this.options.backlink+"' id='"+this.id+"_backlink' class='w2calendar_date_cancel' >"+WebSquare.language.getMessage("Calendar_cancel")+"</a></td>");}else{_14.push("<td><div class='w2calendar_date_cancel' role='button' tabindex='0' title='"+WebSquare.language.getMessage("Calendar_cancel")+"' ></div></td>");}}}else{if(this.options.calendarValueType=="yearMonthDateTime"){if(this.options.renderType=="native"){_14.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date_mobile'></div></td>");_14.push("<td>"+this.selectboxHourHTMLstr.join("")+"</td>");_14.push("<td> : </td>");_14.push("<td>"+this.selectboxMinuteHTMLstr.join("")+"</td>");}else{_14.push("<td><div id='"+this.id+"_currentDate"+"' class='w2calendar_footer_date'></div></td>");_14.push("<td>"+this.getChild(this.id+"_selectbox_hour").toHTML()+"</td>");_14.push("<td> : </td>");_14.push("<td>"+this.getChild(this.id+"_selectbox_minute").toHTML()+"</td>");}_14.push("<td><div class='w2calendar_time_confirm' tabindex='0' title='"+WebSquare.language.getMessage("Calendar_ok")+"' ></div></td>");_14.push("<td><div class='w2calendar_time_cancel' tabindex='0' title='"+WebSquare.language.getMessage("Calendar_cancel")+"' ></div></td>");}}_14.push("</tr></table>");_14.push("</div></div>");return _14.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.setAction=function(){["WebSquare.uiplugin.calendar.setAction"];try{this.render.style.width="";this.render.style.height="";this.dom.content=document.getElementById(this.id+"_content");this.dom.currentDate=document.getElementById(this.id+"_currentDate");this.dom.selectboxYear=document.getElementById(this.id+"_selectbox_year");this.dom.selectboxMonth=document.getElementById(this.id+"_selectbox_month");this.dom.selectboxHour=document.getElementById(this.id+"_selectbox_hour");this.dom.selectboxMinute=document.getElementById(this.id+"_selectbox_minute");this.refresh();if(WebSquare.util.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopPropagation(e);}));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener2(this.dom.selectboxYear,"onchange",this.event.bindAsEventListener(this,this.selectboxYearEvent));this.event.addListener2(this.dom.selectboxMonth,"onchange",this.event.bindAsEventListener(this,this.selectboxMonthEvent));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.selectboxYearEvent=function(e){this.gotoYear(e.srcElement?e.srcElement.value:e.originalTarget.value);};WebSquare.uiplugin.calendar.prototype.selectboxMonthEvent=function(e){this.gotoMonth(e.srcElement?e.srcElement.value:e.originalTarget.value);};WebSquare.uiplugin.calendar.prototype.refresh=function(){["WebSquare.uiplugin.calendar.refresh"];try{this.holidayXpath();this.updateCalendar();if(this.options.calendarValueType!="yearMonth"){this.dom.currentDate.innerHTML=this.selectedDateHelper.getFormatDateAll(this.options.displayFormat);if(!WebSquare.util.isMobile()&&this.getStyle("display")!="none"){for(var row=0;row<6;row++){for(var col=0;col<7;col++){var _21=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_21){continue;}if(this.__hasClass(_21,"w2calendar_selected")){_21.setAttribute("tabIndex","0");if(this.options.renderType=="native"){_21.firstChild.focus();}else{_21.focus();}}else{_21.setAttribute("tabIndex","-1");}}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.updateCalendar=function(){["WebSquare.uiplugin.calendar.updateCalendar"];try{var _22=this.selectedDateHelper.getYear();var _23=this.selectedDateHelper.getMonth();var _24=this.selectedDateHelper.getDate();if(this.options.renderType=="native"){if(this.options.useYearSelect){for(var i=0;i<this.dom.selectboxYear.options.length;i++){if(this.dom.selectboxYear.options[i].value==_22){this.dom.selectboxYear.options[i].selected=true;}}}else{this.getChild(this.id+"_selectbox_year").setValue(_22);}if(this.options.useMonthSelect){for(var i=0;i<this.dom.selectboxMonth.options.length;i++){if(this.dom.selectboxMonth.options[i].value==_23){this.dom.selectboxMonth.options[i].selected=true;}}}else{this.getChild(this.id+"_selectbox_month").setValue(_23);}}else{this.getChild(this.id+"_selectbox_year").setValue(_22);this.getChild(this.id+"_selectbox_month").setValue(_23);}var _26=this.selectedDateHelper.getMonthCount();var _27=this.selectedDateHelper.getFirstDay();_27=_27+(this.shiftDay);if(_27<=0){_27+=7;}var _28=6;var _29=7;var _2a=0;var _2b=new WebSquare.uiplugin.dateHelper();_2b.setDateAllByString(this.selectedDateHelper.getDateAll());_2b.setLastMonth();var _2c=_2b.getMonthCount();var _2d=_23==1?_22-1:_22;var _2e=_23==1?12:_23-1;var _2f=_23==12?_22+1:_22;var _30=_23==12?1:_23+1;for(var row=0;row<_28;row++){for(var col=0;col<_29;col++){_2a++;var _33=_2a-_27;var day=(_27+_33-1)%7;var _35="";var _36=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_36){continue;}if(_33<1){_35=_2c+_33;_36.innerHTML=_35;_36.className="w2calendar_col_date w2calendar_date w2calendar_date_off w2calendar_date_lastmonth";_36.setAttribute("index",_35);_36.setAttribute("title",WebSquare.language.getMessage("Calendar_tooltip",_2d,(_2e<10?"0"+_2e:_2e),_35));if(this.options.renderType!="native"){_36.setAttribute("tabindex","-1");}}else{if(_33>_26){_35=_33-_26;_36.innerHTML=_35;_36.className="w2calendar_col_date w2calendar_date w2calendar_date_off w2calendar_date_nextmonth";_36.setAttribute("index",_35);_36.setAttribute("title",WebSquare.language.getMessage("Calendar_tooltip",_2f,(_30<10?"0"+_30:_30),_35));if(this.options.renderType!="native"){_36.setAttribute("tabindex","-1");}}else{_35=_33;var _37;if(_33<10){_37="0"+_35;}else{_37=_35;}var _38;if(_23<10){_38="0"+_23;}else{_38=_23;}var _39=_22+""+_38+""+_37;if(_24==_33){if(this.options.holiday.indexOf(_39)!=-1){_36.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_33+" w2calendar_holiday"+" w2calendar_selected "+(this.objCellClass[_39]||"");}else{_36.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_33+" w2calendar_day_"+this.dayIndexArray[day]+" w2calendar_selected "+(this.objCellClass[_39]||"");}_36.setAttribute("aria-pressed","true");if(this.options.renderType!="native"){_36.setAttribute("tabindex","0");}}else{if(this.options.holiday.indexOf(_39)!=-1){_36.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_33+" w2calendar_holiday "+(this.objCellClass[_39]||"");}else{_36.className="w2calendar_col_date w2calendar_date_on w2calendar_date_"+_33+" w2calendar_day_"+this.dayIndexArray[day]+" "+(this.objCellClass[_39]||"");}if(this.options.renderType!="native"){_36.setAttribute("tabindex","-1");}}if(this.options.renderType=="native"&&!WebSquare.util.isMobile()){_36.innerHTML="<button>"+_35+"</button>";}else{_36.innerHTML=_35;}_36.setAttribute("index",_33);}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.holidayXpath=function(){["WebSquare.uiplugin.calendar.holidayXpath"];try{if(this.options.holidayRef!=""){var _3a=WebSquare.ModelUtil.findInstanceNodes(this.options.holidayRef);for(var i=0;i<_3a.length;i++){var _3c=WebSquare.xml.serialize(_3a[i]);if(this.options.holiday.indexOf(_3c)==-1){this.options.holiday=this.options.holiday+" "+_3c;}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.gotoCalendar=function(_3d){["WebSquare.uiplugin.calendar.gotoCalendar"];try{if(WebSquare.util.isNull(_3d)){return;}_3d=_3d.toString();var _3e=this.getValue();this.selectedDateHelper.setDateAllByString(_3d);var _3f=this.selectedDateHelper.getYear();if(_3f<this.minYear){this._gotoYear(this.minYear,false);}if(_3f>this.maxYear&&_3f!=9999){this._gotoYear(this.maxYear,false);}if(this.options.renderType=="native"&&_3e.substring(0,6)==this.getValue().substring(0,6)){this.setSelectedDay(this.selectedDateHelper.getDate());this.dom.currentDate.innerHTML=this.selectedDateHelper.getFormatDateAll(this.options.displayFormat);}else{this.refresh();}if(this.getValue()!=_3e){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.gotoToday=function(){["WebSquare.uiplugin.calendar.gotoToday"];try{var _40=this.todayHelper.getYear();var _41=this.todayHelper.getMonth();var _42=this.todayHelper.getDate();this.gotoCalendar(this.getDateString(_40,_41,_42));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.gotoNextYear=function(){["WebSquare.uiplugin.calendar.gotoNextYear"];try{var _43=this.getValue();this.selectedDateHelper.setNextYear();this.refresh();if(this.getValue()!=_43){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.gotoNextMonth=function(){["WebSquare.uiplugin.calendar.gotoNextMonth"];try{var _44=this.getValue();this.selectedDateHelper.setNextMonth();this.refresh();if(this.getValue()!=_44){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.gotoLastYear=function(){["WebSquare.uiplugin.calendar.gotoLastYear"];try{var _45=this.getValue();this.selectedDateHelper.setLastYear();this.refresh();if(this.getValue()!=_45){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.gotoLastMonth=function(){["WebSquare.uiplugin.calendar.gotoLastMonth"];try{var _46=this.getValue();this.selectedDateHelper.setLastMonth();this.refresh();if(this.getValue()!=_46){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.gotoYear=function(_47){["WebSquare.uiplugin.calendar.gotoYear"];try{this._gotoYear(_47,true);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype._gotoYear=function(_48,_49){["WebSquare.uiplugin.calendar._gotoYear"];try{var _49=_49===undefined?true:_49;var _4a=this.getValue();this.selectedDateHelper.setYear(_48);this.selectedDateHelper._checkValidDate();this.refresh();if(this.getValue()!=_4a&&_49){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.gotoMonth=function(_4b){["WebSquare.uiplugin.calendar.gotoMonth"];try{var _4c=this.getValue();this.selectedDateHelper.setMonth(_4b);this.selectedDateHelper._checkValidDate();this.refresh();if(this.getValue()!=_4c){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.gotoTime=function(_4d,_4e,_4f){["WebSquare.uiplugin.calendar.gotoTime"];try{if(this.options.renderType=="native"){var _50=this.dom.selectboxHour.value+"_"+this.dom.selectboxMinute.value;this.dom.selectboxHour.value=_4d;this.dom.selectboxMinute.value=_4e;if((this.dom.selectboxHour.value+"_"+this.dom.selectboxMinute.value)!=_50){WebSquare.event.fireEvent(this,"onchange");}}else{var _51=this.getChild(this.id+"_selectbox_hour");var _52=this.getChild(this.id+"_selectbox_minute");var _50=_51.getValue()+"_"+_52.getValue();_51.setValue(_4d);_52.setValue(_4e);if((_51.getValue()+"_"+_52.getValue())!=_50){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.getValue=function(){["WebSquare.uiplugin.calendar.getValue"];try{var _53="";if(this.options.calendarValueType=="yearMonthDate"){_53=this.getDate();}else{if(this.options.calendarValueType=="yearMonth"){_53=this.getDate();}else{if(this.options.calendarValueType=="yearMonthDateTime"){_53=this.getDate()+""+this.getTime();}}}return _53;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.getDate=function(){["WebSquare.uiplugin.calendar.getDate"];try{var _54="";if(this.options.calendarValueType=="yearMonthDate"){_54=this.selectedDateHelper.getDateAll();}else{if(this.options.calendarValueType=="yearMonth"){var _55=this.selectedDateHelper.getYear();var _56=this.selectedDateHelper.getMonth();if(parseInt(_56)<10){_56="0"+_56;}_54=_55+""+_56;}else{if(this.options.calendarValueType=="yearMonthDateTime"){_54=this.selectedDateHelper.getDateAll();}}}return _54;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.getTime=function(){["WebSquare.uiplugin.calendar.getTime"];try{var _57="";if(this.options.calendarValueType=="yearMonthDateTime"){if(this.options.renderType=="native"){var _58=this.dom.selectboxHour.value.wq_trim();var _59=this.dom.selectboxMinute.value.wq_trim();}else{var _58=this.getChild(this.id+"_selectbox_hour").getValue();var _59=this.getChild(this.id+"_selectbox_minute").getValue();}if(parseInt(_58,10)<10){_58="0"+_58;}if(parseInt(_59,10)<10){_59="0"+_59;}_57=_58+""+_59;}return _57;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.getDateFormat=function(){["WebSquare.uiplugin.calendar.getDateFormat"];try{return this.options.dateFormat;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.getFormattedValue=function(){["WebSquare.uiplugin.calendar.getFormattedValue"];try{var _5a=this.getValue();if(this.options.calendarValueType=="yearMonthDate"){_5a=this.formatter.format(_5a);}else{if(this.options.calendarValueType=="yearMonth"){var fmt=this.getDateFormat()||"";if(fmt!=""){var _5c=_5a.substring(0,4);var _5d=_5a.substring(4);_5a=fmt.replace(/yyyy/gi,_5c);_5a=_5a.replace(/mm/gi,_5d);}}else{if(this.options.calendarValueType=="yearMonthDateTime"){var _5e=WebSquare.text.formatDate(this.getDate(),this.getDateFormat());_5a=_5e+this.getTime();}}}return _5a;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.getSelectedDay=function(){["WebSquare.uiplugin.calendar.getSelectedDay"];try{return this.selectedDateHelper.getDayStr(this.selectedDateHelper.getDay());}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.setDateFormat=function(_5f){["WebSquare.uiplugin.calendar.setDateFormat"];try{this.options.dateFormat=_5f;this.formatter.setMasking(_5f);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.setSkin=function(_60){["WebSquare.uiplugin.calendar.setSkin"];try{this.changeClass(this.render,"w2calendar_"+this.options.calendarClass,"w2calendar_"+_60);this.options.calendarClass=_60;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.setInitValue=function(_61){["WebSquare.uiplugin.calendar.setInitValue"];try{if(this.options.initValue===""){this.gotoToday();}else{this.gotoCalendar(this.options.initValue);}if(_61.fireEvent){var _62=new Date(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth()-1,this.selectedDateHelper.getDate());WebSquare.event.fireEvent(this,"ondateselect",this.getFormattedValue(),_62);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.setDisabled=function(_63){["WebSquare.uiplugin.calendar.getServerDate"];try{_63=WebSquare.util.getBoolean(_63);this.options.disabled=_63;this.setProperty("disabled",_63);this.render.disabled=_63;if(this.options.calendarValueType=="yearMonthDate"||this.options.calendarValueType=="yearMonth"){this.getChild(this.id+"_selectbox_year").setDisabled(_63);this.getChild(this.id+"_selectbox_month").setDisabled(_63);}else{if(this.options.calendarValueType=="yearMonthDateTime"){this.getChild(this.id+"_selectbox_year").setDisabled(_63);this.getChild(this.id+"_selectbox_month").setDisabled(_63);this.getChild(this.id+"_selectbox_hour").setDisabled(_63);this.getChild(this.id+"_selectbox_minute").setDisabled(_63);}}}catch(e){WebSquare.exception.printStackTrace(e);}return _63;};WebSquare.uiplugin.calendar.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.calendar.handleFocusEvent"];try{var elm=e.srcElement?e.srcElement:e.originalTarget;if(elm==this.render){if(this.options.calendarValueType=="yearMonth"){var _66=this.getElementById(this.id+"_selectbox_year");_66.focus();return;}else{var row,col,cell;for(row=0;row<6;row++){for(col=0;col<7;col++){cell=this.getElementById(this.id+"_cell_"+row+"_"+col);if(this.__hasClass(cell,"w2calendar_selected")){cell.focus();return;}}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.calendar.handleKeydownEvent"];try{var _69=(e.charCode)?e.charCode:e.keyCode;if(!(_69==13||_69==37||_69==38||_69==39||_69==40)){return;}if(_69==13){this.handleClickEvent(e);return;}if(this.options.renderType=="native"){return;}var it=this.event.getTargetIterator(e,this.render);var elm,dayClicked=false;while(it.next()){elm=it.getElement();if(elm.nodeType==1&&elm.nodeName.toLowerCase()=="td"&&elm.getAttribute("index")){dayClicked=true;break;}}if(dayClicked==false){return;}var id=elm.id.substr((this.id+"_cell_").length);var _6d=-1,focusedRow=-1;focusedRow=parseInt(id.substr(0,id.indexOf("_")),10);_6d=parseInt(id.substr(id.indexOf("_")+1),10);if(_6d<0||focusedRow<0){_6d=focusedRow=0;}if(_69==37){_6d--;if(_6d<0){if(focusedRow>0){_6d=6;focusedRow--;}else{_6d=0;}}}else{if(_69==38){if(focusedRow>0){focusedRow--;}}else{if(_69==39){_6d++;if(_6d>6){if(focusedRow<7){_6d=0;focusedRow++;}else{_6d=6;}}}else{if(_69==40){if(focusedRow<7){focusedRow++;}}}}}cell=document.getElementById(this.id+"_cell_"+focusedRow+"_"+_6d);if(cell==null){return;}elm.setAttribute("tabIndex",-1);cell.setAttribute("tabIndex",0);cell.focus();WebSquare.event.stopEvent(e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.setSelectedDay=function(_6e){["WebSquare.uiplugin.calendar.setSelectedDay"];try{for(var row=0;row<6;row++){for(var col=0;col<7;col++){var _71=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_71){continue;}if(!this.hasClass(_71,"w2calendar_date_on")){continue;}if(_71.getAttribute("index")==_6e){this.addClass(_71,"w2calendar_selected");}else{this.removeClass(_71,"w2calendar_selected");}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.setFocus=function(_72){["WebSquare.uiplugin.calendar.setFocus"];try{for(var row=0;row<6;row++){for(var col=0;col<7;col++){var _75=this.getElementById(this.id+"_cell_"+row+"_"+col);if(!_75){continue;}if(!this.hasClass(_75,"w2calendar_date_on")){continue;}if(_75.getAttribute("index")==_72){_75.setAttribute("aria-pressed","true");_75.focus();return;}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.hide=function(){["WebSquare.calendar.hide"];try{WebSquare.css.prototype.hide.call(this);for(var i=0;i<this.childControlList.length;i++){var _77=this.childControlList[i];_77.hide();}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.calendar.prototype.show=function(_78){["WebSquare.calendar.show"];try{WebSquare.css.prototype.show.call(this,_78);for(var i=0;i<this.childControlList.length;i++){var _7a=this.childControlList[i];_7a.show(_78);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.calendar.prototype.getDateString=function(_7b,_7c,_7d){["WebSquare.uiplugin.calendar.getDateString"];try{if(_7b===undefined){_7b=this.selectedDateHelper.getYear();}if(_7c===undefined){_7c=this.selectedDateHelper.getMonth();}if(_7d===undefined){_7d=this.selectedDateHelper.getDate();}var _7e=_7b+"";var _7f=_7c+"";var _80=_7d+"";if(_7f.length==1){_7f="0"+_7f;}if(_80.length==1){_80="0"+_80;}var _81=_7e+_7f+_80;return _81;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.calendar.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2calendar_header_last_year")){if(this.selectedDateHelper.getYear()>this.minYear){this.selectedDateHelper.setDate(1);this.gotoLastYear();}it.stop();}if(it.match("w2calendar_header_next_year")){if(this.selectedDateHelper.getYear()<this.maxYear){this.selectedDateHelper.setDate(1);this.gotoNextYear();}it.stop();}if(it.match("w2calendar_header_last_month")){if(this.selectedDateHelper.getYear()>=this.minYear){if(this.selectedDateHelper.getYear()==this.minYear&&this.selectedDateHelper.getMonth()==1){}else{this.selectedDateHelper.setDate(1);this.gotoLastMonth();}}it.stop();}if(it.match("w2calendar_header_next_month")){if(this.selectedDateHelper.getYear()<=this.maxYear){if(this.selectedDateHelper.getYear()==this.maxYear&&this.selectedDateHelper.getMonth()==12){}else{this.selectedDateHelper.setDate(1);this.gotoNextMonth();}}it.stop();}if(it.match("w2calendar_date_lastmonth")){var _84=this.selectedDateHelper.getYear();var _85=this.selectedDateHelper.getMonth();var _86=it.getElement().getAttribute("index");if(_84>=this.minYear){if(_84==this.minYear&&_85==1){}else{if(_85>1){_85=_85-1;}else{_84=_84-1;_85=12;}this.gotoCalendar(this.getDateString(_84,_85,_86));this.setFocus(_86);}}it.stop();}if(it.match("w2calendar_date_nextmonth")){var _84=this.selectedDateHelper.getYear();var _85=this.selectedDateHelper.getMonth();var _86=it.getElement().getAttribute("index");if(_84<=this.maxYear){if(_84==this.maxYear&&_85==12){}else{if(_85<12){_85=_85+1;}else{_84=_84+1;_85=1;}this.gotoCalendar(this.getDateString(_84,_85,_86));this.setFocus(_86);}}it.stop();}if(it.match("w2calendar_header_btn_ok")){WebSquare.event.fireEvent(this,"onconfirm");it.stop();}if(it.match("w2calendar_header_btn_close")){WebSquare.event.fireEvent(this,"oncancel");it.stop();}if(it.match("w2calendar_time_confirm")){WebSquare.event.fireEvent(this,"onconfirm");it.stop();}if(it.match("w2calendar_time_cancel")){WebSquare.event.fireEvent(this,"oncancel");WebSquare.event.stopEvent(e);it.stop();}if(it.match("w2calendar_date_cancel")){WebSquare.event.fireEvent(this,"oncancel");WebSquare.event.stopEvent(e);it.stop();}if(it.match("w2calendar_go_today")){this.gotoToday();if(this.options.renderType=="native"){var _84=this.todayHelper.getYear();var _85=this.todayHelper.getMonth();var _86=this.todayHelper.getDate();var _87=new Date(_84,_85-1,_86);WebSquare.event.fireEvent(this,"ondateselect",this.getFormattedValue(),_87);}it.stop();}if(it.match("w2calendar_date_on")){var _84=this.selectedDateHelper.getYear();var _85=this.selectedDateHelper.getMonth();var _86=it.getElement().getAttribute("index");this.gotoCalendar(this.getDateString(_84,_85,_86));var _87=new Date(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth()-1,this.selectedDateHelper.getDate());WebSquare.event.fireEvent(this,"ondateselect",this.getFormattedValue(),_87);it.stop();}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.calendar.handleMouseoverEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2calendar_go_today")){this.addClass(it.getElement(),"w2calendar_go_today_over");}if(it.match("w2calendar_date_on")){this.addClass(it.getElement(),"w2calendar_date_over");}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.calendar.handleMouseoutEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2calendar_go_today")){this.removeClass(it.getElement(),"w2calendar_go_today_over");}if(it.match("w2calendar_date_on")){this.removeClass(it.getElement(),"w2calendar_date_over");}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.calendar.prototype.getServerDate=function(){["WebSquare.uiplugin.calendar.getServerDate"];return WebSquare.date.getCurrentServerDate();};WebSquare.uiplugin.calendar.prototype.shiftDayIndex=function(_8c){["WebSquare.uiplugin.calendar.shiftDayIndex"];if(_8c>0){for(var i=0;i<_8c;i++){this.dayIndexArray.unshift(this.dayIndexArray.pop());}}else{for(var i=0;i<Math.abs(_8c);i++){this.dayIndexArray.push(this.dayIndexArray.shift());}}};WebSquare.uiplugin.calendar.prototype.setCellClass=function(_8e,_8f){["WebSquare.uiplugin.calendar.setCellClass"];try{this.objCellClass[_8e]=_8f;this.updateCalendar();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};requires("uiplugin.calendar");requires("uiplugin/control/historyManager.js");requires("engine/formatter.js");requires("engine/validator.js");WebSquare.uiplugin.inputCalendar=function(id,_2,_3){["WebSquare.uiplugin.inputCalendar"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.inputCalendar.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.inputCalendar.prototype,WebSquare.IValidate.prototype);WebSquare.uiplugin.inputCalendar.prototype.defaultOptions={pluginType:"uiplugin.inputCalendar",pluginName:"inputCalendar",userEvents:["onfocus","onblur","onchange","oniconclick","ondateselect"],useConfig:true,delimiter:"-",ioFormat:"",calendarDisplayFormat:"",displayFormat:"",displayFormatter:"",applyFormat:"display",monthNames:"1\uc6d4,2\uc6d4,3\uc6d4,4\uc6d4,5\uc6d4,6\uc6d4,7\uc6d4,8\uc6d4,9\uc6d4,10\uc6d4,11\uc6d4,12\uc6d4",yearSuffix:"\ub144",calendarValueType:"yearMonthDate",calendarImage:"uiplugin/inputCalendar/images/icon_calendar.gif",calendarImageOver:"uiplugin/inputCalendar/images/icon_calendar_over.gif",calendarClass:"class1",direction:"auto",holiday:"",holidayRef:"",validCheck:false,dateValidCheck:"",wmode:false,readOnlyClass:"w2inputCalendar_readOnly",imageReadOnlyClass:"w2inputCalendar_img_readOnly",handleIconClick:null,mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessageFunc:"",displaymessage:false,innerHeight:"17px",inputReadOnly:false,useUnlimitedYear:true,defaultDate:"",initValue:"",cancleButtonShow:false,title:"",alt:"",renderType:"component",useYearSelect:true,useMonthSelect:true,useAnchor:false,useCalendarTabIndex:true,maxYear:2030,minYear:1978,weekStartsOn:0};WebSquare.uiplugin.inputCalendar.prototype.initialize=function(_4){["WebSquare.uiplugin.inputCalendar.initialize"];try{if(this.options.alt==""){this.options.alt=WebSquare.language.getMessage("Calendar_open");}this.calendar=null;this.evented=false;this.formatter=null;this.validator=null;this.sub_validator=null;if(this.options.yearSuffix===""){this.options.yearSuffix="$blank";}if(this.options.ioFormat){this.options.ioFormat=this.options.ioFormat.match(/([yMdHm]+)/g).join("");}if(this.options.calendarValueType=="yearMonthDate"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd";if(!this.options.ioFormat){this.options.ioFormat="yyyyMMdd";}}else{if(this.options.calendarValueType=="yearMonth"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM";if(!this.options.ioFormat){this.options.ioFormat="yyyyMM";}}else{if(this.options.calendarValueType=="yearMonthDateTime"){this.options.displayFormat=this.options.displayFormat||"yyyy"+this.options.delimiter+"MM"+this.options.delimiter+"dd"+" HH:mm";if(!this.options.ioFormat){this.options.ioFormat="yyyyMMddHHmm";}}}}this.formatter=WebSquare.format.createFormatter("date",this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.validator=new WebSquare.validator.validateInvoker(this.id,this.options);this.sub_validator=new WebSquare.validator.validateInvoker(this.id,{});this.sub_validator.addCommand(new WebSquare.validator.dateCommand());this.sub_validator.addCommand(new WebSquare.validator.ignoreCharCommand(" -/:-~"));var _5=0;if(this.options.calendarValueType=="yearMonthDate"){_5=8;}else{if(this.options.calendarValueType=="yearMonth"){_5=6;}else{if(this.options.calendarValueType=="yearMonthDateTime"){_5=12;}}}this.options.maxlength=_5;this.options.minlength=_5;this.invalidMessage=WebSquare.language.getMessage("IC_invalidCalendarSelect")||"\ub0a0\uc9dc \ud615\uc2dd\uc774 \uc798\ubabb \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";if(this.options.applyFormat=="all"){if(this.options.calendarValueType=="yearMonthDate"){_5+=(2*this.options.delimiter.length);}else{if(this.options.calendarValueType=="yearMonth"){_5+=this.options.delimiter.length;}else{if(this.options.calendarValueType=="yearMonthDateTime"){}}}}this.sub_validator.addCommand(new WebSquare.validator.maxLengthCommand(_5));this.sub_validator.addCommand(new WebSquare.validator.minLengthCommand(_5));var _6=this.options["style"];var _7=WebSquare.core.makeStyle(_6);var _8=[];var _9=[];for(var _a in _7){if("position width height left top right bottom display visibility".indexOf(_a.toLowerCase())>-1){_8.push(_a+":"+_7[_a]);}else{_9.push(_a+":"+_7[_a]);}}WebSquare.cssManager.addConvertedCSS("#"+this.id+" input",_9.join(";"));this.options["style"]=_8.join(";");if(this.options.validCheck&&this.options.dateValidCheck===""){this.options.dateValidCheck="true";}else{if(this.options.dateValidCheck===""){this.options.dateValidCheck="false";}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.toHTML=function(){["WebSquare.uiplugin.inputCalendar.toHTML"];try{var _b="";if(this.options.inputReadOnly){_b=" readOnly ";}var _c=[];var _d=this.options.title==""?"":" title=\""+this.options.title+"\" ";_c.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2inputCalendar "+"'>");_c.push("<table cellpadding='0' cellspacing='0' class='w2inputCalendar_table'><tr>");_c.push("<td class='w2inputCalendar_col_input'><input style='height:"+this.options.innerHeight+"' id='"+this.id+"_input' name='"+this.id+"_input' class='w2inputCalendar_input "+this.options.className+"'"+_b+" "+_d+" /></td>");_c.push("<td class='w2inputCalendar_col_img'>");if(this.options.useAnchor==true){_c.push("<a id='"+this.id+"_a' href='#' class='w2inputCalendar_a' title='' role='button' aria-haspopup='true' aria-owns='"+this.id+"_calendar' >");}_c.push("<img id='"+this.id+"_img' class='w2inputCalendar_img' src='"+this.options.calendarImage+"' alt='"+this.options.alt+"' "+((this.options.useCalendarTabIndex&&!this.options.useAnchor)?"tabindex='0'":"")+" />");if(this.options.useAnchor==true){_c.push("</a>");}_c.push("</td></tr></table>");_c.push("</div>");return _c.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.setAction=function(){["WebSquare.uiplugin.inputCalendar.setAction"];try{this.dom.input=this.getElementById(this.id+"_input");this.dom.img=this.getElementById(this.id+"_img");this.setInputSize();this.setVerticalAlign();if(this.modelControl.isBinded()){var _e=this.modelControl.getData();if(this.options.validCheck){_e=this.validator.validateString(_e);_e=this.sub_validator.validateString(_e);}this.setValueNM(_e);}if(WebSquare.util.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){var _11=WebSquare.getBody().getLayerListener();var _12=_11.layers[this.id].component;var _13={};if(_12.id){_13[_12.id]=true;}WebSquare.getBody().getLayerListener().hideAll(_13);WebSquare.event.stopPropagation(e);}));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));}WebSquare.getBody().getLayerListener().addListener({component:this,fnShow:this._showCalendar,fnHide:this._hideCalendar,event:{}});this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if(!this.options.inputReadOnly){if(WebSquare.core.browserCheck.ie){this.event.addListener(this.dom.input,"onfocusin",this.event.bindAsEventListener(this,this.handleFocusEvent));}else{this.event.addListener(this.dom.input,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));}}this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));if(this.options.handleIconClick){var _14=null;try{_14=eval(this.options.handleIconClick);}catch(e){$l("no function for handleIconClick : "+this.options.handleIconClick);}if(_14){this.addEvent("oniconclick",_14);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.refresh=function(){["WebSquare.uiplugin.inputCalendar.refresh"];try{if(this.modelControl.isBinded()){var _15=this.getValue();var _16=this.modelControl.getData();this.setValueNM(_16);if(_15!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.setInputSize=function(){["WebSquare.uiplugin.inputCalendar.setInputSize"];try{var _17=this.getStyle("height");var _18={paddingTop:parseInt(WebSquare.util.getStyleProperty(this.dom.input,"padding-top"))||0,paddingBottom:parseInt(WebSquare.util.getStyleProperty(this.dom.input,"padding-bottom"))||0,borderTopWidth:parseInt(WebSquare.util.getStyleProperty(this.dom.input,"border-top-width"))||0,borderBottomWidth:parseInt(WebSquare.util.getStyleProperty(this.dom.input,"border-bottom-width"))||0};if(_17.indexOf("px")>-1){_17=parseInt(_17);var _19=_17-(_18.paddingTop+_18.paddingBottom+_18.borderTopWidth+_18.borderBottomWidth);this.dom.input.style.height=_19+"px";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.setVerticalAlign=function(){["WebSquare.uiplugin.inputCalendar.setVerticalAlign"];try{if(WebSquare.core.browserCheck.ie){var _1a=parseInt(WebSquare.util.getStyleProperty(this.dom.input,"height"))||0;this.dom.input.style.lineHeight=_1a+"px";}else{if(WebSquare.core.browserCheck.moz){var _1a=parseInt(WebSquare.util.getStyleProperty(this.dom.input,"height"))||0;var _1b=parseInt(WebSquare.util.getStyleProperty(this.dom.input,"padding-top"))||0;var _1c=parseInt(WebSquare.util.getStyleProperty(this.dom.input,"font-size"))||0;var _1d=Math.floor((_1a-2-_1c)/2);if(_1d>0&&(_1a-_1d)>0){this.dom.input.style.paddingTop=_1d+_1b+"px";this.dom.input.style.height=(_1a-_1d)+"px";}}else{}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.setValue=function(_1e){["WebSquare.uiplugin.inputCalendar.setValue"];try{var _1f=this.getValue();if(_1e!=""&&this.options.validCheck){var _20=this.validator.validate(_1e);if(_20&&WebSquare.util.getBoolean(this.options.dateValidCheck)){_20=this.sub_validator.validate(_1e);}if(!_20){alert(this.invalidMessage);this.setValue("");this.focus();return;}}this.setValueNM(_1e);this.modelControl.setData(_1e);if(_1f!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.setValueNM=function(_21){["WebSquare.uiplugin.inputCalendar.setValueNM"];try{if(WebSquare.util.isNull(_21)){return;}_21=_21.toString();_21=this.formatter.format(_21);this.dom.input.value=_21;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype._setValue=function(_22){["WebSquare.uiplugin.inputCalendar._setValue"];try{this.setValue(_22);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.getValue=function(){["WebSquare.uiplugin.inputCalendar.getValue"];try{var _23=this.dom.input.value;_23=this.formatter.unformat(_23);return _23;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.getTitle=function(){return this.dom.input.getAttribute("title");};WebSquare.uiplugin.inputCalendar.prototype.makeCalendar=function(){["WebSquare.uiplugin.inputCalendar.makeCalendar"];try{var _24=this;var _25=this.options.ioFormat.match(/([yMd]+)/g).join("");var _26=new WebSquare.uiplugin.calendar(this.id+"_calendar",{className:"w2inputCalendar_calendar",calendarClass:this.options.calendarClass,monthNames:this.options.monthNames,yearSuffix:this.options.yearSuffix,calendarValueType:this.options.calendarValueType,holiday:this.options.holiday,holidayRef:this.options.holidayRef,wmode:this.options.wmode,delimiter:this.options.delimiter,dateFormat:_25,displayFormat:this.options.calendarDisplayFormat,useUnlimitedYear:this.options.useUnlimitedYear,cancleButtonShow:this.options.cancleButtonShow,wmode:this.options.wmode,renderType:this.options.renderType,title:this.options.title+" "+WebSquare.language.getMessage("Calendar_name"),backlink:(this.options.useAnchor==true?this.id+"_input":""),useYearSelect:this.options.useYearSelect,useMonthSelect:this.options.useMonthSelect,maxYear:this.options.maxYear,minYear:this.options.minYear,weekStartsOn:this.options.weekStartsOn});_26.options.xmlEvents=[{name:"ondateselect",action:"script",param:{handler:function(e){var _28=this.getFormattedValue();if(_24.options.calendarValueType!="yearMonthDateTime"){_24.toggle();_24._setValue(_28);_24.hideCalendar();if(!WebSquare.util.isMobile()){_24.dom.input.focus();if(_24.options.editType=="select"){_24.dom.input.select();}}}var _29=new Date(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth()-1,this.selectedDateHelper.getDate());WebSquare.event.fireEvent(_24,"ondateselect",this.getFormattedValue(),_29);}}},{name:"onconfirm",action:"script",param:{handler:function(e){var _2b=this.getFormattedValue();_24._setValue(_2b);_24.hideCalendar();_24.dom.input.focus();if(_24.options.editType=="select"){_24.dom.input.select();}}}},{name:"oncancel",action:"script",param:{handler:function(e){_24.hideCalendar();document.getElementById(_24.id+"_a").focus();}}}];_26.writeTo(WebSquare.getBody());_26.activate();this.event.addListener(_26.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));this.addControl(_26);return _26;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.showCalendar=function(){["WebSquare.uiplugin.inputCalendar.showCalendar"];try{WebSquare.getBody().getLayerListener().show(this.id);WebSquare.event.fireEvent(this,"onafteropen");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype._showCalendar=function(){["WebSquare.uiplugin.inputCalendar._showCalendar"];try{if(!this.calendar){this.calendar=this.makeCalendar();}if(this.calendar){var _2d=WebSquare.style.getAbsoluteLeft(this.render);var top=WebSquare.style.getAbsoluteTop(this.render)+this.render.offsetHeight+5;var _2f=document.documentElement.scrollLeft||document.body.scrollLeft;var _30=document.documentElement.scrollTop||document.body.scrollTop;var _31=parseInt(this.calendar.getStyle("width"))+parseInt(this.calendar.getStyle("border-right-width"))+parseInt(this.calendar.getStyle("border-left-width"));if(_2d+_31>_2f+document.documentElement.clientWidth){_2d=_2f+document.documentElement.clientWidth-_31-10;}this.calendar.show();var _32=document.documentElement.scrollHeight||document.body.scrollHeight;var _33=_32-this.calendar.render.offsetHeight;if(top>_33){top=_33;}this.calendar.setPosition(_2d,top);var _34=this.options.direction;if(_34=="auto"){var _35=WebSquare.style.getAbsoluteTop(this.render)-_30;var _36=document.documentElement.clientHeight-(_35+this.render.offsetHeight);var _37=this.calendar.render.offsetHeight;if(_36<_37&&_35>_37){_34="up";}}if(_34=="up"){top=WebSquare.style.getAbsoluteTop(this.render)-this.calendar.render.offsetHeight-5;this.calendar.setPosition(_2d,top);}if(this.options.wmode==true){WebSquare.getBody().showWModeFrame(this.getPluginName(),this.calendar.render);}var _38=this.getValue();var _39="";if(_38!=""){if(this.options.calendarValueType=="yearMonthDate"){_39=WebSquare.text.unformatDate(this.options.ioFormat,_38);}else{if(this.options.calendarValueType=="yearMonth"){_39=WebSquare.text.unformatDate(this.options.ioFormat,_38)+"01";}else{if(this.options.calendarValueType=="yearMonthDateTime"){_39=WebSquare.text.unformatDate(this.options.ioFormat,_38);var _3a=WebSquare.text.unformatTime(this.options.ioFormat,_38);var _3b=_3a.substr(0,2);var min=_3a.substr(2);this.calendar.gotoTime(_3b,min);}}}this.calendar.gotoCalendar(_39);}else{if(this.options.defaultDate!==""){this.calendar.gotoCalendar(this.options.defaultDate);}else{this.calendar.gotoToday();}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.hideCalendar=function(){["WebSquare.uiplugin.inputCalendar.hideCalendar"];try{WebSquare.getBody().getLayerListener().hide(this.id);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype._hideCalendar=function(){["WebSquare.uiplugin.inputCalendar._hideCalendar"];try{if(this.calendar){this.calendar.hide();if(this.options.wmode==true){WebSquare.getBody().hideWModeFrame(this.getPluginName(),this.calendar.id);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.toggle=function(){["WebSquare.uiplugin.inputCalendar.toggle"];try{if(this.calendar){if(this.calendar.getStyle("display")!="none"){this.hideCalendar();}else{this.showCalendar();}}else{this.showCalendar();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.focus=function(){["WebSquare.uiplugin.inputCalendar.focus"];try{this.dom.input.focus();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.blur=function(){["WebSquare.uiplugin.inputCalendar.blur"];try{this.dom.input.blur();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.select=function(){["WebSquare.uiplugin.inputCalendar.select"];try{this.dom.input.select();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.onPropertyChange=function(_3d,_3e){["WebSquare.uiplugin.inputCalendar.onPropertyChange"];try{switch(_3d){case "disabled":this.dom.input.disabled=_3e;break;case "readOnly":this.dom.input.readOnly=_3e;if(_3e==true){this.addClass(this.dom.input,this.options.readOnlyClass);this.addClass(this.dom.img,this.options.imageReadOnlyClass);}else{this.removeClass(this.dom.input,this.options.readOnlyClass);this.removeClass(this.dom.img,this.options.imageReadOnlyClass);}break;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.validate=function(){["WebSquare.uiplugin.inputCalendar.validate"];try{var _3f=this.getValue();var _40=this.validator.validate(_3f);if(_40&&_3f!=""&&WebSquare.util.getBoolean(this.options.dateValidCheck)){_40=this.sub_validator.validate(_3f);}if(_40==false){this.focus();}return _40;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.setInitValue=function(_41){["WebSquare.uiplugin.inputCalendar.setInitValue"];try{var _42=this.getValue();this.setValueNM(this.options.initValue);this.modelControl.setData(this.options.initValue);if(_41.fireEvent){if(_42!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.handleClickEventDocument=function(e){["WebSquare.uiplugin.inputCalendar.handleClickEventDocument"];try{if(this.event&&!this.event.isMine(e,this.render)){this.hideCalendar();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2inputCalendar_input")){if(this.options.editType==="select"){it.getElement().select();}break;}if(it.match("w2inputCalendar_img")||it.match("w2inputCalendar_a")){var ret=WebSquare.event.fireEvent(this,"oniconclick");if(ret==false){continue;}if(this.options.renderType=="native"){this.showCalendar();}else{this.toggle();}if(this.options.useAnchor==true){WebSquare.event.stopEvent(e);}break;}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleMouseoverEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2inputCalendar_img")){this.addClass(it.getElement(),"w2inputCalendar_img_over");it.getElement().src=this.options.calendarImageOver;}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleMouseoutEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2inputCalendar_img")){this.removeClass(it.getElement(),"w2inputCalendar_img_over");it.getElement().src=this.options.calendarImage;}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleFocusEvent"];try{if(this.evented==false){this.evented=true;this.event.addListener(this.dom.input,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.dom.input,"onkeyup",this.event.bindAsEventListener(this,this.handleKeyupEvent));this.event.addListener(this.dom.input,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));}this.addClass(this.dom.input,"w2inputCalendar_focus");var _4c=this.getValue();if(this.options.applyFormat=="all"){this.dom.input.value=this.formatter.format(_4c);}else{this.dom.input.value=_4c;}var _4d=this;WebSquare.historyManager.set(this.options.pluginName,this.id,{value:this.getValue()},{onRestore:function(_4e){_4d.setValue(_4e.value);}});WebSquare.event.fireEvent(this,"onfocus");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleBlurEvent"];try{this.removeClass(this.dom.input,"w2inputCalendar_focus");var _50=this.getValue();_50=this.validator.validateString(_50);_50=this.sub_validator.validateString(_50);this.setValue(_50);var _51=WebSquare.historyManager.get(this.options.pluginName,this.id);if(_51.value!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}this.hideCalendar();WebSquare.event.fireEvent(this,"onblur");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.handleKeypressEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleKeypressEvent"];try{var _53=e.charCode?e.charCode:e.keyCode;if(_53==9){return;}if(_53==e.which||e.which==undefined){var _54=this.getValue();if(!this.validator.validateKeyPress(this.dom.input,_54,e)||!this.sub_validator.validateKeyPress(this.dom.input,_54,e)){WebSquare.event.stopEvent(e);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.handleKeyupEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleKeyupEvent"];try{var _56=(e.charCode)?e.charCode:e.keyCode;if(_56==9){return;}if(_56==37){}else{if(_56==38){}else{if(_56==39){}else{if(_56==40){}else{if(_56==13||_56==9){}else{if(_56==27){this.dom.input.value="";}else{if(_56==33){}else{if(_56==34){}else{if(_56==35){}else{if(_56==36){}else{if(_56==113){}else{if(this.options.applyFormat=="all"){var _57=this.getValue();var pos=WebSquare.text.getCaretPos(this.dom.input);var _59=0;var _5a=0;_59=_57.length;_57=this.formatter.unformat(_57);_57=this.validator.validateString(_57);_57=this.formatter.format(_57);_57=this.validator.validateString(_57);_57=this.formatter.format(_57);_5a=_57.length;this.dom.input.value=_57;WebSquare.text.setCaretPos(this.dom.input,pos+_5a-_59);}}}}}}}}}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.handleKeyEvent=function(e){["WebSquare.uiplugin.inputCalendar.handleKeyEvent"];try{var _5c=(e.charCode)?e.charCode:e.keyCode;if(this.calendar&&this.calendar.getStyle("display")!="none"){if(_5c==27){this.hideCalendar();(document.getElementById(this.id+"_a")||document.getElementById(this.id+"_img")).focus();}else{if(_5c==9&&e.shiftKey!=1){var it=this.event.getTargetIterator(e,this.calendar.render);while(it.next()){if((this.options.cancleButtonShow==false&&it.match("w2calendar_go_today"))||(this.options.cancleButtonShow==true&&it.match("w2calendar_date_cancel"))||(this.options.calendarValueType=="yearMonthDateTime"&&it.match("w2calendar_time_cancel"))){WebSquare.event.stopEvent(e);this.hideCalendar();(document.getElementById(this.id+"_a")||document.getElementById(this.id+"_img")).focus();break;}}}else{if(_5c==9&&e.shiftKey==1){var it=this.event.getTargetIterator(e,this.calendar.render);while(it.next()){if(it.match("w2calendar_header_last_year")){WebSquare.event.stopEvent(e);this.hideCalendar();(document.getElementById(this.id+"_a")||document.getElementById(this.id+"_img")).focus();break;}}}}}}else{if(_5c==13){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2inputCalendar_img")){WebSquare.event.stopEvent(e);this.showCalendar();break;}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.setDisplayFormat=function(_5e){["WebSquare.uiplugin.inputCalendar.setDisplayFormat"];try{this.options.displayFormat=_5e;this.formatter.setMasking(_5e);this.setValueNM(this.getValue());}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.getDisplayFormat=function(){["WebSquare.uiplugin.inputCalendar.getDisplayFormat"];try{return this.options.displayFormat;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.getDefaultDate=function(){["WebSquare.uiplugin.inputCalendar.getDefaultDate"];try{return this.options.defaultDate;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.setDefaultDate=function(_5f){["WebSquare.uiplugin.inputCalendar.setDefaultDate"];try{if(typeof _5f!=="string"){return;}if(_5f.length!==8){return;}this.hideCalendar();this.options.defaultDate=_5f;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.getAccessibiltyId=function(){["WebSquare.uiplugin.inputCalendar.getAccessibiltyId"];try{return this.id+"_input";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.setFormat=function(){["WebSquare.uiplugin.inputCalendar.setFormat"];try{if(typeof arguments[0]=="object"){var _60=arguments[0].ioFormat||this.options.ioFormat;var _61=arguments[0].displayFormat||this.options.displayFormat;var _62=arguments[0].displayFormatter||this.options.displayFormatter;}else{var _60=arguments[0]||this.options.ioFormat;var _61=arguments[1]||this.options.displayFormat;var _62=this.options.displayFormatter;}this.options.displayFormat=_61;this.options.displayFormatter=_62;if(_60!=this.options.ioFormat){_60=_60.match(/([yMdHm]+)/g).join("");var _63=this.getFormattedValue(_60);this.options.ioFormat=_60;this.formatter=WebSquare.format.createFormatter("date",_61,_62,_60);this.setValue(_63);if(this.calendar){this.calendar.remove();delete this.calendar;}}else{var _63=this.getValue();this.formatter=WebSquare.format.createFormatter("date",_61,_62,_60);this.setValueNM(_63);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.getIoFormat=function(){["WebSquare.uiplugin.inputCalendar.getIoFormat"];try{return this.options.ioFormat;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.getFormattedValue=function(_64){["WebSquare.uiplugin.inputCalendar.getFormattedValue"];try{_64=_64||this.options.displayFormat;var _65=this.getValue();var _66=WebSquare.format.createFormatter("date",_64,"",this.options.ioFormat);return _66.format(_65);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.inputCalendar.prototype.setRef=function(ref){["WebSquare.uiplugin.inputCalendar.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};requires("uiplugin.group");WebSquare.uiplugin.Switch=function(id,_2,_3){["WebSquare.uiplugin.Switch"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.Switch.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.Switch.prototype.defaultOptions={pluginType:"uiplugin.Switch",pluginName:"Switch",userEvents:["onSelectedIndexChange"],alwaysDraw:true,caseStyle:"",caseClass:"",slide:false,animationDuration:0.5,motionDisplay:true,detectionRange:10,rotation:true,useSelect:false,touchMove:true,hidePosition:"center"};WebSquare.uiplugin.Switch.prototype.initialize=function(_4){["WebSquare.uiplugin.Switch.initialize"];try{this.selectedIndex=0;this.caseArr=[];this.slide={};this.centerInitLeft;this.isSliding=false;this.startEventLayer={};this.lastEventLayer={};this.leftPosition;this.topPosition;if(this.options.slide==true){this.options.alwaysDraw=true;}var _5="xf";var _6=WebSquare.xml.findNodes(_4,_5+":case");if(_6){for(var i=0;i<_6.length;i++){var _8=_6[i];var id=_8.getAttribute("id");var _a=_8.getAttribute("selected");var _b=WebSquare.controlFactory.create(null,{pluginName:"group"},_8);_b.options.style=_b.options.style+";"+this.options.caseStyle;_b.options.className="w2switch_case "+_b.options.className+" "+this.options.caseClass;if(_a=="true"){this.selectedIndex=i;}this.caseArr.push({caseID:id,caseComp:_b});this.addControl(_b);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.toHTML=function(){["WebSquare.uiplugin.Switch.toHTML"];try{var _c=[];_c.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2Switch "+this.options.className+"'>");if(this.options.alwaysDraw==true){var _d=this.getChildren();for(var i=0;i<_d.length;i++){_c.push(_d[i].toHTML());}}_c.push("</div>");return _c.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.setAction=function(){["WebSquare.uiplugin.Switch.setAction"];try{this.isMobile=WebSquare.util.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());if(this.options.slide==true&&this.options.touchMove==true){if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(document.documentElement,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(this.render,"ondrag",this.event.bindAsEventListener(this,function(e){this.isSliding=false;}));this.event.addListener(this.render,"ondragend",this.event.bindAsEventListener(this,this.handleDragEnd));if(this.options.useSelect!=true){this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){WebSquare.event.preventDefault(e);}));}}}this.setSelectedIndex(this.selectedIndex);for(var i=0;i<this.caseArr.length;i++){var _12=this.caseArr[i];_12["caseElement"]=document.getElementById(_12.caseID);}this.leftPosition=WebSquare.style.getAbsoluteLeft(this.render);this.topPosition=WebSquare.style.getAbsoluteTop(this.render);this.centerInitLeft=this.caseArr[this.selectedIndex].caseElement.offsetLeft;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.setSelectedIndex=function(idx,_14){["WebSquare.uiplugin.Switch.setSelectedIndex"];try{if(WebSquare.util.isNull(idx)||idx<0||idx>=this.caseArr.length){return;}if(typeof _14=="undefined"){_14=true;}var _15=this.getSelectedIndex();for(var i=0;i<this.caseArr.length;i++){var _17=this.getChild(this.caseArr[i].caseID);if(i==idx){if(!_17.render){_17.writeTo(this);_17.activate();}if(_14){_17.setStyle("left",this.centerInitLeft||0+"px");_17.setStyle("zIndex",110);_17.setStyle("visibility","visible");}this.selectedIndex=i;}else{if(_14){if(_17.getStyle("visibility")!="hidden"){_17.setStyle("visibility","hidden");}if(this.options.hidePosition=="left"){_17.setStyle("left",(_17.render.offsetLeft-this.getElementWidth(_17.render))+"px");}else{if(this.options.hidePosition=="right"){_17.setStyle("left",(_17.render.offsetLeft+this.getElementWidth(_17.render))+"px");}}}_17.setStyle("zIndex",100);}}if(_15!=this.getSelectedIndex()){WebSquare.event.fireEvent(this,"onSelectedIndexChange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.Switch.getSelectedIndex"];try{return this.selectedIndex;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.setSelectedID=function(id){["WebSquare.uiplugin.Switch.setSelectedID"];try{var _19=this.getSelectedIndex();for(var i=0;i<this.caseArr.length;i++){var _1b=this.getChild(this.caseArr[i].caseID);if(_1b.id==id){if(!_1b.render){_1b.writeTo(this);_1b.activate();}_1b.setStyle("left",this.centerInitLeft+"px");_1b.setStyle("zIndex",110);_1b.setStyle("visibility","visible");this.selectedIndex=i;}else{if(_1b.getStyle("visibility")!="hidden"){_1b.setStyle("zIndex",100);_1b.setStyle("visibility","hidden");}}}if(_19!=this.getSelectedIndex()){WebSquare.event.fireEvent(this,"onSelectedIndexChange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.getSelectedID=function(){["WebSquare.uiplugin.Switch.getSelectedID"];try{for(var i=0;i<this.caseArr.length;i++){if(i==this.selectedIndex){var _1d=this.caseArr[i];return _1d.caseID;}}return null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.moveToLeft=function(){["WebSquare.uiplugin.Switch.moveToLeft"];try{if(this.options.slide==true){this.combineSlideElement();var _1e="right";if(this.options.rotation==false){if(this.selectedIndex<=0){this.setSelectedIndex(this.selectedIndex,false);_1e="center";}else{this.setSelectedIndex(this.slide.leftIndex,false);}}else{this.setSelectedIndex(this.slide.leftIndex,false);}var _1f=new Date().getTime()+this.options.animationDuration*1000;this.slideAnimation(_1e,_1f);}else{this.setSelectedIndex(this.selectedIndex-1);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.moveToRight=function(){["WebSquare.uiplugin.Switch.moveToRight"];try{if(this.options.slide==true){var _20="left";this.combineSlideElement();if(this.options.rotation==false){if(this.selectedIndex>=(this.caseArr.length-1)){this.setSelectedIndex(this.slide.centerIndex,false);_20="center";}else{this.setSelectedIndex(this.slide.rightIndex,false);}}else{this.setSelectedIndex(this.slide.rightIndex,false);}var _21=new Date().getTime()+this.options.animationDuration*1000;this.slideAnimation(_20,_21);}else{this.setSelectedIndex(this.selectedIndex+1);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.setInitValue=function(_22){["WebSquare.uiplugin.Switch.init"];try{this.init(_22);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.init=function(_23){["WebSquare.uiplugin.Switch.init"];try{_23=WebSquare.extend({excludePlugin:"",excludeId:"",fireEvent:false},_23||{});var _24=this.getChildren();for(var i=0;i<_24.length;i++){if(_24[i].setInitValue){if((" "+_23.excludePlugin+" ").indexOf(" "+_24[i].options.pluginName+" ")==-1&&(" "+_23.excludeId+" ").indexOf(" "+_24[i].id+" ")==-1){_24[i].setInitValue(_23);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.invoke=function(_26,_27,_28,_29){["WebSquare.uiplugin.Switch.invoke"];try{return WebSquare.xfControl.prototype.invoke.call(this,_26,_27,_28,_29);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.getElementWidth=function(_2a){["WebSquare.uiplugin.Switch.prototype.getElementWidth"];var _2b;if(_2a){_2b=_2a.offsetWidth;var _2c=parseInt(WebSquare.util.getStyleProperty(_2a,"border-left-width"),10)||0;var _2d=parseInt(WebSquare.util.getStyleProperty(_2a,"border-right-width"),10)||0;var _2e=parseInt(WebSquare.util.getStyleProperty(_2a,"padding-left"),10)||0;var _2f=parseInt(WebSquare.util.getStyleProperty(_2a,"padding-right"),10)||0;_2b=_2b-_2c-_2d-_2e-_2f;}return _2b;};WebSquare.uiplugin.Switch.prototype.combineSlideElement=function(){["WebSquare.uiplugin.Switch.prototype.combineSlideElement"];try{WebSquare.core.clearTimer(this.id+"_slider_slide");this.slide={};this.slide.leftIndex=(this.selectedIndex-1>=0)?this.selectedIndex-1:this.caseArr.length-1;this.slide.centerIndex=this.selectedIndex;this.slide.rightIndex=(this.selectedIndex+1==this.caseArr.length)?0:this.selectedIndex+1;this.slide.leftElement=this.caseArr[this.slide.leftIndex].caseElement;this.slide.rightElement=this.caseArr[this.slide.rightIndex].caseElement;this.slide.centerElement=this.caseArr[this.slide.centerIndex].caseElement;if(!WebSquare.util.isNumber(this.centerInitLeft)){this.centerInitLeft=this.slide.centerElement.offsetLeft;}this.slide.leftElement.style.left="-"+(this.getElementWidth(this.slide.leftElement)+this.centerInitLeft)+"px";this.slide.rightElement.style.left=(this.getElementWidth(this.slide.rightElement)-this.centerInitLeft)+"px";if(this.slide.leftElement.style["visibility"]!="visibility"){this.slide.leftElement.style["zIndex"]=110;this.slide.leftElement.style["visibility"]="visible";}if(this.slide.rightElement.style["visibility"]!="visibility"){this.slide.rightElement.style["zIndex"]=110;this.slide.rightElement.style["visibility"]="visible";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.slideAnimation=function(_30,_31){["WebSquare.uiplugin.Switch.slideAnimation"];try{var _32=this.options.animationDuration*1000;var _33=5;function CubicBezierAtTime(t,p1x,p1y,p2x,p2y,_39){var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;function sampleCurveX(t){return ((ax*t+bx)*t+cx)*t;}function sampleCurveY(t){return ((ay*t+by)*t+cy)*t;}function sampleCurveDerivativeX(t){return (3*ax*t+2*bx)*t+cx;}function solveEpsilon(_3e){return 1/(200*_3e);}function solve(x,_40){return sampleCurveY(solveCurveX(x,_40));}function solveCurveX(x,_42){var t0,t1,t2,x2,d2,i;function fabs(n){if(n>=0){return n;}else{return 0-n;}}for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(fabs(x2)<_42){return t2;}d2=sampleCurveDerivativeX(t2);if(fabs(d2)<0.000001){break;}t2=t2-x2/d2;}t0=0;t1=1;t2=x;if(t2<t0){return t0;}if(t2>t1){return t1;}while(t0<t1){x2=sampleCurveX(t2);if(fabs(x2-x)<_42){return t2;}if(x>x2){t0=t2;}else{t1=t2;}t2=(t1-t0)*0.5+t0;}return t2;}cx=3*p1x;bx=3*(p2x-p1x)-cx;ax=1-cx-bx;cy=3*p1y;by=3*(p2y-p1y)-cy;ay=1-cy-by;return solve(t,solveEpsilon(_39));}var t=new Date().getTime()-(_31-_32);var cp=[0.25,0.1,0.25,1];var _47="ease";switch(_47){case "ease":cp=[0.25,0.1,0.25,1];break;case "linear":cp=[0,0,1,1];break;case "ease-in":cp=[0.42,0,1,1];break;case "ease-out":cp=[0,0,0.58,1];break;case "ease-in-out":cp=[0.42,0,0.58,1];break;case "deceleration":cp=[0,0,0,1];break;case "acceleration":cp=[1,0,1,1];break;}var _48=CubicBezierAtTime(t/_32,cp[0],cp[1],cp[2],cp[3],_32/1000);var _49;if(_30=="right"){_49=Math.round((this.getElementWidth(this.slide.centerElement)-this.slide.centerElement.offsetLeft)*(_48));this.slide.leftElement.style.left=(this.slide.leftElement.offsetLeft+_49)+"px";this.slide.centerElement.style.left=this.slide.centerElement.offsetLeft+_49+"px";this.slide.rightElement.style.left=this.slide.rightElement.offsetLeft+_49+"px";}else{if(_30=="left"){_49=Math.round((this.getElementWidth(this.slide.centerElement)+this.slide.centerElement.offsetLeft)*(_48));this.slide.leftElement.style.left=this.slide.leftElement.offsetLeft-_49+"px";this.slide.centerElement.style.left=this.slide.centerElement.offsetLeft-_49+"px";this.slide.rightElement.style.left=this.slide.rightElement.offsetLeft-_49+"px";}else{}}if(t>=_32){this.stopSlideAnimation(_30);return;}WebSquare.core.setTimer(this.slideAnimation,{key:this.id+"_slider_slide",caller:this,delay:_33,args:[_30,_31]});}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.stopSlideAnimation=function(_4a){["WebSquare.uiplugin.Switch.stopSlideAnimation"];try{this.slide.leftElement.style.left=this.centerInitLeft+"px";this.slide.rightElement.style.left=this.centerInitLeft+"px";this.slide.centerElement.style.left=this.centerInitLeft+"px";if(_4a==="right"){this.setSelectedIndex(this.slide.leftIndex);}else{if(_4a==="left"){this.setSelectedIndex(this.slide.rightIndex);}else{this.setSelectedIndex(this.slide.centerIndex);}}WebSquare.core.clearTimer(this.id+"_slider_slide");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.setIsSliding=function(_4b){["WebSquare.uiplugin.Switch.prototype.setIsSliding"];var _4c=this.lastEventLayer.x-this.startEventLayer.x;var _4d=this.lastEventLayer.y-this.startEventLayer.y;var _4e=3;if(_4c<_4e&&_4d<_4e){this.isSliding=_4b;}};WebSquare.uiplugin.Switch.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.Switch.prototype.handleTouchStart"];try{WebSquare.getBody().getLayerListener().hideAll();WebSquare.event.stopPropagation(e);this.isSliding=true;this.startEventLayer.x=WebSquare.event.getMouseX(e)-(this.leftPosition||0);this.startEventLayer.y=WebSquare.event.getMouseY(e)-(this.topPosition||0);this.lastEventLayer.x=WebSquare.event.getMouseX(e)-(this.leftPosition||0);this.lastEventLayer.y=WebSquare.event.getMouseY(e)-(this.topPosition||0);this.combineSlideElement();if(this.options.useSelect==true){WebSquare.core.clearTimer(this.id+"_setSlidingFlag");WebSquare.core.setTimer(this.setIsSliding,{key:this.id+"_setSlidingFlag",caller:this,delay:1000,args:[false]});}}catch(e){this.isSliding=false;WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.handleTouchEnd=function(e,_51){["WebSquare.uiplugin.Switch.prototype.handleTouchEnd"];try{WebSquare.event.stopPropagation(e);if(!this.isSliding){if(_51&&this.slide.centerElement){this.stopSlideAnimation("center");}return;}this.isSliding=false;var _52=new Date().getTime()+this.options.animationDuration*1000;var _53=this.lastEventLayer.x-this.startEventLayer.x;if(Math.abs(_53)<this.options.detectionRange){destination="center";}else{if(_53>0){destination="right";}else{if(_53<0){destination="left";}}}if(this.options.rotation==false){if(destination==="left"){if(this.selectedIndex>=this.caseArr.length-1){destination="center";}}else{if(destination==="right"){if(this.selectedIndex<=0){destination="center";}}}}if(destination==="center"){this.setSelectedIndex(this.slide.centerIndex);return;}else{if(destination==="left"){this.setSelectedIndex(this.slide.rightIndex,false);}else{if(destination==="right"){this.setSelectedIndex(this.slide.leftIndex,false);}}}this.slideAnimation(destination,_52);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.handleTouchMove=function(e){["WebSquare.uiplugin.Switch.prototype.handleTouchMove"];try{WebSquare.event.stopPropagation(e);if(!this.isSliding||this.options.motionDisplay!=true){this.lastEventLayer.x=WebSquare.event.getMouseX(e)-(this.leftPosition||0);this.lastEventLayer.y=WebSquare.event.getMouseY(e)-(this.topPosition||0);return;}if(!e.touches||e.touches.length==1){var _55=WebSquare.event.getMouseX(e)-(this.leftPosition||0);var _56=_55-this.startEventLayer.x;this.slide.leftElement.style.left=_56-this.getElementWidth(this.slide.leftElement)+"px";this.slide.centerElement.style.left=_56+"px";this.slide.rightElement.style.left=_56+this.getElementWidth(this.slide.rightElement)+"px";this.lastEventLayer.x=_55;this.lastEventLayer.y=WebSquare.event.getMouseY(e)-(this.topPosition||0);WebSquare.event.stopEvent(e);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.Switch.prototype.handleMouseOut=function(e){["WebSquare.uiplugin.Switch.prototype.handleMouseOut"];if(WebSquare.event.getRelatedTarget(e)==null){this.handleTouchEnd(e);}};WebSquare.uiplugin.Switch.prototype.handleDragEnd=function(e){["WebSquare.uiplugin.Switch.prototype.handleDragEnd"];this.handleTouchEnd(e,true);};WebSquare.uiplugin.Switch.prototype.setDisabled=function(_59){["WebSquare.Switch.setDisabled"];try{_59=WebSquare.xfControl.prototype.setDisabled.call(this,_59);for(var i=0;i<this.childControlList.length;i++){var _5b=this.childControlList[i];if(_5b.setDisabled&&_5b.activeStatus!="stop"){_5b.setDisabled(_59);}}}catch(e){WebSquare.exception.printStackTrace(e);}return _59;};WebSquare.uiplugin.tabContainer=function(id,_2,_3){["WebSquare.uiplugin.tabContainer"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.tabContainer.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.tabContainer.prototype.defaultOptions={pluginType:"uiplugin.tabContainer",pluginName:"tabContainer",userEvents:["onchange","ontabclick","onbeforeselect","ontabselect"],tabClass:"",tabStyle:"",selectedIndex:0,alwaysDraw:true,contentsClass:"w2tabContainer_contents_layer",tabPosition:"auto left",tabDefaultLeftImageClass:"w2tabContainer_tab_left",tabDefaultCenterImageClass:"w2tabContainer_tab_center",tabDefaultRightImageClass:"w2tabContainer_tab_right",tabDefaultLeftImageStyle:"",tabDefaultCenterImageStyle:"",tabDefaultRightImageStyle:"",tabSelectedLeftImageClass:"w2tabContainer_tab_left",tabSelectedCenterImageClass:"w2tabContainer_tab_center",tabSelectedRightImageClass:"w2tabContainer_tab_right",tabSelectedLeftImageStyle:"",tabSelectedCenterImageStyle:"",tabSelectedRightImageStyle:"",tabHoverLeftImageClass:"w2tabContainer_tab_left",tabHoverCenterImageClass:"w2tabContainer_tab_center",tabHoverRightImageClass:"w2tabContainer_tab_right",tabHoverLeftImageStyle:"",tabHoverCenterImageStyle:"",tabHoverRightImageStyle:"",tabDisabledLeftImageClass:"",tabDisabledCenterImageClass:"",tabDisabledRightImageClass:"",tabDisabledLeftImageStyle:"",tabDisabledCenterImageStyle:"",tabDisabledRightImageStyle:""};WebSquare.uiplugin.tabContainer.prototype.defaultOptionsTab={id:"",value:"",localeRef:"",style:"",className:"",tabDefaultLeftImageClass:"w2tabContainer_tab_left",tabDefaultCenterImageClass:"w2tabContainer_tab_center",tabDefaultRightImageClass:"w2tabContainer_tab_right",tabDefaultLeftImageStyle:"",tabDefaultCenterImageStyle:"",tabDefaultRightImageStyle:"",tabSelectedLeftImageClass:"w2tabContainer_tab_left",tabSelectedCenterImageClass:"w2tabContainer_tab_center",tabSelectedRightImageClass:"w2tabContainer_tab_right",tabSelectedLeftImageStyle:"",tabSelectedCenterImageStyle:"",tabSelectedRightImageStyle:"",tabHoverLeftImageClass:"w2tabContainer_tab_left",tabHoverCenterImageClass:"w2tabContainer_tab_center",tabHoverRightImageClass:"w2tabContainer_tab_right",tabHoverLeftImageStyle:"",tabHoverCenterImageStyle:"",tabHoverRightImageStyle:"",tabDisabledLeftImageClass:"",tabDisabledCenterImageClass:"",tabDisabledRightImageClass:"",tabDisabledLeftImageStyle:"",tabDisabledCenterImageStyle:"",tabDisabledRightImageStyle:""};WebSquare.uiplugin.tabContainer.prototype.defaultOptionsContents={id:"",style:"",src:null};WebSquare.uiplugin.tabContainer.prototype.initialize=function(_4){["WebSquare.uiplugin.tabContainer.initialize"];try{this.selectedIndex=0;this.tabArr=[];var _5="w2:";var _6=WebSquare.xml.findNodes(_4,_5+"tab");var _7=WebSquare.xml.findNodes(_4,_5+"contents");if(_6&&_7&&_6.length==_7.length){for(var i=0;i<_6.length;i++){var _9=_6[i];var _a=_7[i];var _b=this.parseTabOption(_9);var _c=WebSquare.extendKeepingType(WebSquare.extendKeepingType({},this.defaultOptionsContents),WebSquare.WebSquareparser.parseAttribute(_a));_c.id=this.id+"_"+_c.id;if(_b.useMultipleImage=="none"){_b.useMultipleImage=true;}if(_b.useDefaultImage=="none"){_b.useDefaultImage="true";}var _d=null;if(_c.src){requires("uiplugin.wframe");_d=new WebSquare.uiplugin.wframe(_c.id,null,_a);}else{_d=WebSquare.controlFactory.create(_c.id,null,_a);}_d.options.className=_d.options.className+" "+this.options.contentsClass;this.addControl(_d);if(_b.localeRef!=""){_b.value=this.getLocaleValue(_b.localeRef);}this.tabArr.push(new WebSquare.uiplugin.tab(_b.id,{contentsID:_c.id,tabValue:_b.value,optionsTab:_b,optionsContents:_c}));}}for(var _e in this.options){if(_e.indexOf("ImageStyle")>-1){this.options[_e]=this.options[_e].replace("position:absolute;vertical-align:middle;word-wrap:break-word","");}}this.options=WebSquare.cssManager.styleToClass(this.id,this.options);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.toHTML=function(){["WebSquare.uiplugin.tabContainer.toHTML"];try{var _f=[];_f.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2tabContainer "+this.options.className+"'>");_f.push("<div id='"+this.id+"_tabLayer' class='w2tabContainer_tab_layer'></div>");if(this.options.alwaysDraw==true){for(var i=0;i<this.tabArr.length;i++){var _11=this.getChild(this.tabArr[i].contentsID);_f.push(_11.toHTML());}}_f.push("<div id='"+this.id+"_wrap' class='w2tabContainer_wrap'></div>");_f.push("</div>");return _f.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.setAction=function(){["WebSquare.uiplugin.tabContainer.setAction"];try{this.dom.tabLayer=document.getElementById(this.id+"_tabLayer");this.drawTab();this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.setSelectedIndexNM(this.options.selectedIndex);var _12=document.getElementById(this.id+"_wrap");if(_12){_12.style.display="none";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.onPropertyChange=function(_13,_14){["WebSquare.uiplugin.tabContainer.onPropertyChange"];try{switch(_13){case "disabled":for(var i=0;i<this.getCount();i++){var _16=document.getElementById(this.id+"_tab_left_"+i);var _17=document.getElementById(this.id+"_tab_center_"+i);var _18=document.getElementById(this.id+"_tab_right_"+i);if(_14==true){this.addClass(_16,this.tabArr[i].optionsTab.tabDisabledLeftImageClass);this.addClass(_17,this.tabArr[i].optionsTab.tabDisabledCenterImageClass);this.addClass(_18,this.tabArr[i].optionsTab.tabDisabledRightImageClass);}else{this.removeClass(_16,this.tabArr[i].optionsTab.tabDisabledLeftImageClass);this.removeClass(_17,this.tabArr[i].optionsTab.tabDisabledCenterImageClass);this.removeClass(_18,this.tabArr[i].optionsTab.tabDisabledRightImageClass);}}break;case "readOnly":break;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype._getTabIndex=function(idx){["WebSquare.uiplugin.tabContainer._getTabIndex"];try{var _1a=-1;if(typeof idx=="number"){_1a=idx;}else{if(typeof idx=="string"){for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].tabID==idx){_1a=i;break;}}}}if(_1a<0||_1a>=this.tabArr.length){_1a=-1;}return _1a;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.getCount=function(){["WebSquare.uiplugin.tabContainer.getCount"];try{return this.tabArr.length;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.parseTabOption=function(_1c){["WebSquare.uiplugin.tabContainer.parseTabOption"];try{var _1d={};for(var idx in this.options){if(idx.indexOf("ImageStyle")>-1||idx.indexOf("ImageClass")>-1){_1d[idx]=this.options[idx];}}var _1f={};_1f=WebSquare.extendKeepingType(_1f,this.defaultOptionsTab);_1f=WebSquare.extendKeepingType(_1f,_1d);_1f=WebSquare.extendKeepingType(_1f,WebSquare.WebSquareparser.parseAttribute(_1c));for(var idx in _1f){if(idx.indexOf("ImageStyle")>-1){_1f[idx]=_1f[idx].replace("position:absolute;vertical-align:middle;word-wrap:break-word","");}}if(this.options.tabPosition.indexOf("manual")==-1){var _20=_1f["style"];_20=_20.replace(/(?:^|;)\s*left\s*:\s*(\d*)px\s*/ig,"");_20=_20.replace(/(?:^|;)\s*right\s*:\s*(\d*)px\s*/ig,"");_20=_20.replace(/(?:^|;)\s*top\s*:\s*(\d*)px\s*/ig,"");_20=_20.replace(/(?:^|;)\s*bottom\s*:\s*(\d*)px\s*/ig,"");_20=_20.replace(/(?:^|;)\s*position\s*:\s*([A-z]*)\s*/ig,"");_1f["style"]=_20;}_1f=WebSquare.cssManager.styleToClass(_1f.id,_1f);return _1f;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.drawTab=function(){["WebSquare.uiplugin.tabContainer.drawTab"];try{var _21=[];for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].tabValue==""){this.tabArr[i].tabValue="&nbsp;";}if(i==this.selectedIndex){_21.push("<table id='"+this.tabArr[i].tabID+"' style='"+this.tabArr[i].optionsTab.style+"' class='w2tabContainer_tab w2tabContainer_tab_table w2tabContainer_tab_selected "+this.tabArr[i].optionsTab.className+"' index='"+i+"' cellpadding='0' cellspacing='0'><tr>");_21.push("<td id='"+this.id+"_tab_left_"+i+"' class='w2tabContainer_tab_col_left "+this.tabArr[i].optionsTab.tabSelectedLeftImageClass+"' ></td>");_21.push("<td id='"+this.id+"_tab_center_"+i+"' class='w2tabContainer_tab_col_center "+this.tabArr[i].optionsTab.tabSelectedCenterImageClass+"' >"+this.tabArr[i].tabValue+"</td>");_21.push("<td id='"+this.id+"_tab_right_"+i+"' class='w2tabContainer_tab_col_right "+this.tabArr[i].optionsTab.tabSelectedRightImageClass+"' ></td>");_21.push("\t</tr></table>");}else{_21.push("<table id='"+this.tabArr[i].tabID+"' style='"+this.tabArr[i].optionsTab.style+"' class='w2tabContainer_tab w2tabContainer_tab_table w2tabContainer_tab_deselected "+this.tabArr[i].optionsTab.className+"' index='"+i+"' cellpadding='0' cellspacing='0'><tr>");_21.push("<td id='"+this.id+"_tab_left_"+i+"' class='w2tabContainer_tab_col_left "+this.tabArr[i].optionsTab.tabDefaultLeftImageClass+"'></td>");_21.push("<td id='"+this.id+"_tab_center_"+i+"' class='w2tabContainer_tab_col_center "+this.tabArr[i].optionsTab.tabDefaultCenterImageClass+"'>"+this.tabArr[i].tabValue+"</td>");_21.push("<td id='"+this.id+"_tab_right_"+i+"' class='w2tabContainer_tab_col_right "+this.tabArr[i].optionsTab.tabDefaultRightImageClass+"'></td>");_21.push("\t</tr></table>");}}this.dom.tabLayer.innerHTML=_21.join("");for(var idx=0;idx<this.tabArr.length;idx++){var _24=document.getElementById(this.tabArr[idx].tabID);var _25=document.getElementById(this.id+"_tab_left_"+idx);var _26=document.getElementById(this.id+"_tab_center_"+idx);var _27=document.getElementById(this.id+"_tab_right_"+idx);if(this.tabArr[idx].disabled==true){_24.disabled=true;this.addClass(_25,this.tabArr[idx].optionsTab.tabDisabledLeftImageClass);this.addClass(_26,this.tabArr[idx].optionsTab.tabDisabledCenterImageClass);this.addClass(_27,this.tabArr[idx].optionsTab.tabDisabledRightImageClass);}if(this.tabArr[idx].visible==false){this.addClass(_24,"w2tabContainer_none");}if(this.options.tabPosition.indexOf("right")>-1){this.addClass(_24,"w2tabContainer_tab_rightalign");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.setSelectedIndexNM=function(idx){["WebSquare.uiplugin.tabContainer.setSelectedIndexNM"];try{idx=parseInt(idx);if(idx<0||idx>=this.tabArr.length){return;}if(this.tabArr[idx].disabled==true){return;}for(var i=0;i<this.tabArr.length;i++){var _2a=this.getChild(this.tabArr[i].contentsID);if(i==idx){if(!_2a.render){_2a.writeTo(this);_2a.activate();}_2a.setStyle("zIndex",110);_2a.setStyle("visibility","visible");this.addClass(_2a.render,"w2tabContainer_contents_selected");this.selectedIndex=i;}else{_2a.setStyle("zIndex",100);_2a.setStyle("visibility","hidden");this.removeClass(_2a.render,"w2tabContainer_contents_selected");}}this.drawTab();WebSquare.event.fireEvent(this,"ontabselect",idx);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.setSelectedIndex=function(idx){["WebSquare.uiplugin.tabContainer.setSelectedIndex"];try{var ret=WebSquare.event.fireEvent(this,"onbeforeselect",this.getSelectedIndex(),idx);if(ret==false){return;}var _2d=this.getSelectedIndex();this.setSelectedIndexNM(idx);if(_2d!=this.getSelectedIndex()){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.tabContainer.getSelectedIndex"];try{return this.selectedIndex;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.getSelectedID=function(){["WebSquare.uiplugin.tabContainer.getSelectedID"];try{var idx=this.selectedIndex;if(idx<0||idx>=this.tabArr.length){return "";}return this.tabArr[idx].tabID;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.setLabelText=function(idx,_30){["WebSquare.uiplugin.tabContainer.setLabelText"];try{var _31=this._getTabIndex(idx);if(_31!=-1){this.tabArr[_31].tabValue=_30;this.drawTab();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.getLabelText=function(idx){["WebSquare.uiplugin.tabContainer.getLabelText"];try{var _33=this._getTabIndex(idx);if(_33!=-1){return this.tabArr[_33].tabValue;}else{return null;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.addTab=function(id,_35){["WebSquare.uiplugin.tabContainer.addTab"];try{_35=WebSquare.extend({label:"",src:"",frameMode:"iframe"},_35||{});var _36=id+"_contents";for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].tabID==id){this.setSelectedIndex(i);return;}}this.tabArr.push(new WebSquare.uiplugin.tab(id,{contentsID:_36,tabValue:_35.label,optionsTab:WebSquare.extendKeepingType({},this.defaultOptions)}));var _38=null;if(_35.frameMode=="wframe"){requires("uiplugin.wframe");_38=new WebSquare.uiplugin.wframe(_36,{className:"w2tabContainer_contents"});}else{if(_35.frameMode=="iframe"){requires("uiplugin.iframe");_38=new WebSquare.uiplugin.iframe(_36,{className:"w2tabContainer_contents"});}}_38.writeTo(this);_38.activate();_38.setSrc(_35.src);this.setSelectedIndex(this.tabArr.length-1);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.deleteTab=function(idx){["WebSquare.uiplugin.tabContainer.deleteTab"];try{var _3a=this._getTabIndex(idx);if(_3a!=-1){var _3b=this.getChild(this.tabArr[_3a].contentsID);if(_3b){_3b.remove();this.tabArr.splice(_3a,1);}this.drawTab();if(_3a<this.selectedIndex){this.setSelectedIndex(this.selectedIndex-1);}else{if(_3a==this.selectedIndex){if(this.tabArr[this.selectedIndex]){this.setSelectedIndex(this.selectedIndex);}else{this.setSelectedIndex(this.selectedIndex-1);}}else{if(_3a>this.selectedIndex){this.setSelectedIndex(this.selectedIndex);}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.disableTab=function(idx){["WebSquare.uiplugin.tabContainer.enableTab"];try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.tabArr.length){return;}this.tabArr[idx].disabled=true;var _3d=this.getChild(this.tabArr[idx].contentsID);_3d.setDisabled(true);if(this.getSelectedIndex()==idx){var _3e=false;for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].disabled==false){this.setSelectedIndex(i);_3e=true;break;}}if(_3e==false){this.enableTab(idx);alert("you should enable at least 1 tab!");return false;}}this.drawTab();return true;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.enableTab=function(idx){["WebSquare.uiplugin.tabContainer.enableTab"];try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.tabArr.length){return;}this.tabArr[idx].disabled=false;var _41=this.getChild(this.tabArr[idx].contentsID);_41.setDisabled(false);this.drawTab();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.setTabVisible=function(idx,_43){["WebSquare.uiplugin.tabContainer.setTabVisible"];try{idx=parseInt(idx);if(isNaN(idx)||idx<0||idx>=this.tabArr.length){return;}this.tabArr[idx].visible=_43;if(_43==true){this.enableTab(idx);}else{var _44=this.disableTab(idx);if(_44==false){this.setTabVisible(idx,true);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.setInitValue=function(_45){["WebSquare.uiplugin.tabContainer.setInitValue"];try{this.init(_45);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.init=function(_46){["WebSquare.uiplugin.tabContainer.init"];try{_46=WebSquare.extend({excludePlugin:"",excludeId:"",fireEvent:false},_46||{});var _47=this.getChildren();for(var i=0;i<_47.length;i++){if(_47[i].setInitValue){if((" "+_46.excludePlugin+" ").indexOf(" "+_47[i].options.pluginName+" ")==-1&&(" "+_46.excludeId+" ").indexOf(" "+_47[i].id+" ")==-1){_47[i].setInitValue(_46);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.invoke=function(_49,_4a,_4b,_4c){["WebSquare.uiplugin.tabContainer.invoke"];try{return WebSquare.xfControl.prototype.invoke.call(this,_49,_4a,_4b,_4c);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.getWindow=function(idx){["WebSquare.uiplugin.tabContainer.getWindow"];try{var _4e;var _4f=idx||this.selectedIndex;if(_4f<0){return _4e;}for(var i=0;i<this.tabArr.length;i++){var _51=this.getChild(this.tabArr[i].contentsID);if(i==_4f){if(_51.getPluginName()=="iframe"){_4e=_51.getWindow();}else{_4e=window;}}}return _4e;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.tabContainer.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabContainer_tab")){var _54=it.getElement().getAttribute("index");if(this.event.isMe(e,this.dom.tabLayer)){if(this.tabArr[_54].disabled==false){this.setSelectedIndex(_54);WebSquare.event.fireEvent(this,"ontabclick");}}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.tabContainer.handleMouseoverEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabContainer_tab")){var _57=it.getElement().getAttribute("index");if(this.tabArr[_57].disabled==false){this.addClass(it.getElement(),"w2tabContainer_tab_over");if(_57!=this.selectedIndex){var _58=document.getElementById(this.id+"_tab_left_"+_57);var _59=document.getElementById(this.id+"_tab_center_"+_57);var _5a=document.getElementById(this.id+"_tab_right_"+_57);this.changeClass(_58,this.tabArr[_57].optionsTab.tabDefaultLeftImageClass,this.tabArr[_57].optionsTab.tabHoverLeftImageClass);this.changeClass(_59,this.tabArr[_57].optionsTab.tabDefaultCenterImageClass,this.tabArr[_57].optionsTab.tabHoverCenterImageClass);this.changeClass(_5a,this.tabArr[_57].optionsTab.tabDefaultRightImageClass,this.tabArr[_57].optionsTab.tabHoverRightImageClass);}}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.tabContainer.handleMouseoutEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabContainer_tab")){var _5d=it.getElement().getAttribute("index");if(this.tabArr[_5d].disabled==false){this.removeClass(it.getElement(),"w2tabContainer_tab_over");if(_5d!=this.selectedIndex){var _5e=document.getElementById(this.id+"_tab_left_"+_5d);var _5f=document.getElementById(this.id+"_tab_center_"+_5d);var _60=document.getElementById(this.id+"_tab_right_"+_5d);this.changeClass(_5e,this.tabArr[_5d].optionsTab.tabHoverLeftImageClass,this.tabArr[_5d].optionsTab.tabDefaultLeftImageClass);this.changeClass(_5f,this.tabArr[_5d].optionsTab.tabHoverCenterImageClass,this.tabArr[_5d].optionsTab.tabDefaultCenterImageClass);this.changeClass(_60,this.tabArr[_5d].optionsTab.tabHoverRightImageClass,this.tabArr[_5d].optionsTab.tabDefaultRightImageClass);}}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabContainer.prototype.setSize=function(_61,_62){["WebSquare.uiplugin.tabContainer.setSize"];try{WebSquare.css.prototype.setSize.call(this,_61,_62);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.tab=function(id,_64){_64=WebSquare.extend({tabID:id,contentsID:"",tabValue:"",optionsTab:{},optionsContents:{},disabled:false,visible:true},_64||{});WebSquare.extend(this,_64);};WebSquare.korHelper=function(){this.font_cho=new Array("\u3131","\u3132","\u3134","\u3137","\u3138","\u3139","\u3141","\u3142","\u3143","\u3145","\u3146","\u3147","\u3148","\u3149","\u314a","\u314b","\u314c","\u314d","\u314e");this.font_jung=new Array("\u314f","\u3150","\u3151","\u3152","\u3153","\u3154","\u3155","\u3156","\u3157","\u3158","\u3159","\u315a","\u315b","\u315c","\u315d","\u315e","\u315f","\u3160","\u3161","\u3162","\u3163");this.font_jong=new Array("","\u3131","\u3132","\u3133","\u3134","\u3135","\u3136","\u3137","\u3139","\u313a","\u313b","\u313c","\u313d","\u313e","\u313f","\u3140","\u3141","\u3142","\u3144","\u3145","\u3146","\u3147","\u3148","\u314a","\u314b","\u314c","\u314d","\u314e");};WebSquare.korHelper.prototype={getCho:function(_1){return this.font_cho[parseInt((_1-44032)/(21*28))];},getJung:function(_2){return this.font_jung[parseInt((_2-44032)%(21*28)/28)];},getJong:function(_3){return this.font_jong[parseInt((_3-44032)%(21*28)%28)];},getChoArr:function(_4){var _5=[];var _6=_4.length;for(var i=0;i<_6;i++){var _8=_4.charCodeAt(i);var _9=_8-44032;if(_9>=0){_5.push(this.getCho(_8));}else{_5.push(_4.charAt(i));}}return _5;},getJungArr:function(_a){var _b=[];var _c=_a.length;for(var i=0;i<_c;i++){var _e=_a.charCodeAt(i);var _f=_e-44032;if(_f>=0){_b.push(this.getJung(_e));}else{_b.push("");}}return _b;},getJongArr:function(str){var arr=[];var _12=str.length;for(var i=0;i<_12;i++){var _14=str.charCodeAt(i);var _15=_14-44032;if(_15>=0){arr.push(this.getJong(_14));}else{arr.push("");}}return arr;},matchArr:function(_16,_17,_18){var _19=true;if(_16.length!=_17.length){_19=false;}else{var _1a=_16.length;for(var i=0;i<_1a;i++){if(!_18){if(_17[i]==""){continue;}}if(_16[i]!=_17[i]){_19=false;break;}}}return _19;},containArr:function(_1c,_1d,_1e,_1f,end){var _21=[];var _22=_1c.length;var _23=false;var _24;myresult=function(_25,_26,_27,_28){if(_26.length-1>_28){if(_26[_28+1]==0){_23=true;}else{if(_25[_27+1]==_26[_28+1]){this.myresult(_25,_26,_27+1,_28+1,_23);}else{_23=false;}}}};for(var i=_1e;i<_22;i++){if(_1d.length==1&&_1d[0]==""){_23=true;return {"result":_23};}if(_1c[i]==_1d[0]){if(_1f){_24=i;_1f=false;}_23=true;myresult(_1c,_1d,i,0);break;}}return {"result":_23,"first":_24};},matchStr:function(_2a,_2b,_2c){if(this.matchArr(this.getChoArr(_2a),this.getChoArr(_2b),_2c)&&this.matchArr(this.getJungArr(_2a),this.getJungArr(_2b),_2c)&&this.matchArr(this.getJongArr(_2a),this.getJongArr(_2b),_2c)){return true;}else{return false;}},containStr:function(_2d,_2e,_2f){var _30=this.containArr(this.getChoArr(_2d),this.getChoArr(_2e),0,true,false);var _31=this.containArr(this.getJungArr(_2d),this.getJungArr(_2e),_30.first,false);var _32=this.containArr(this.getJongArr(_2d),this.getJongArr(_2e),_30.first,false,true);if(_30.result&&_31.result&&_32.result){return true;}else{return false;}},startWith:function(_33,_34){if(_34.length>_33.length){return false;}return this.matchStr(_33.substr(0,_34.length),_34);},containWith:function(_35,_36){if(_36.length>_35.length){return false;}return this.containStr(_35,_36);}};WebSquare.uiplugin.slideHide=function(id,_2,_3){["WebSquare.uiplugin.slideHide"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.slideHide.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.slideHide.prototype.defaultOptions={pluginType:"uiplugin.slideHide",pluginName:"slideHide",userEvents:["onSlideEnd","onHideEnd","onSlideStart","onHideStart"],parseChild:true,showSize:20,moveSize:10,slideDirection:"right",slideEvent:"",hideEvent:"",firstStatus:"hide",eventArea:"full"};WebSquare.uiplugin.slideHide.prototype.initialize=function(_4){["WebSquare.uiplugin.slideHide.initialize"];try{this.slideStatus=(this.options.firstStatus=="slide")?true:false;this.slideDist=0;this.slideTime=0;this.nowMove=(this.slideStatus)?2:0;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.toHTML=function(){["WebSquare.uiplugin.slideHide.toHTML"];try{var _5=[];_5.push("<div id='"+this.id+"' style='"+this.options.style+(this.options.firstStatus=="hide"?";display:none":"")+"' class='w2slideHide "+this.options.className+"'>");_5.push("<div style='position:absolute;' id='"+this.id+"_slideHideMain' class='w2slideHide_slideHideMain'>");var _6=this.getChildren();for(var i=0;i<_6.length;i++){_5.push(_6[i].toHTML());}_5.push("</div>");_5.push("</div>");return _5.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.setAction=function(){["WebSquare.uiplugin.slideHide.setAction"];try{this.originStyle={};this.originStyle["left"]=this.render.style.left;this.originStyle["top"]=this.render.style.top;this.originStyle["width"]=this.render.style.width;this.originStyle["height"]=this.render.style.height;this.main=this.getElementById(this.id+"_slideHideMain");var _8=this.options.firstStatus=="hide"?this.render.style.width:WebSquare.style.getSize(this.render,"innerwidth")+"px";var _9=this.options.firstStatus=="hide"?this.render.style.height:WebSquare.style.getSize(this.render,"innerheight")+"px";this.main.style.width=_8;this.main.style.height=_9;switch(this.options.slideDirection){case "right":this.setRight(_8,_9);break;case "left":this.setLeft(_8,_9);break;case "up":this.setUp(_8,_9);break;case "down":this.setDown(_8,_9);break;}if(this.options.slideEvent==this.options.hideEvent){if(this.options.slideEvent!=""&&this.options.hideEvent!=""){this.event.addListener(this.render,this.options.slideEvent,this.event.bindAsEventListener(this,this.handleToggleEvent));}}else{if(this.options.slideEvent!=""){this.event.addListener(this.render,this.options.slideEvent,this.event.bindAsEventListener(this,this.handleSlideEvent));}if(this.options.hideEvent!=""){this.event.addListener(this.render,this.options.hideEvent,this.event.bindAsEventListener(this,this.handleHideEvent));}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.setRight=function(_a,_b){["WebSquare.uiplugin.slideHide.setRight"];try{this.main.style.right="0px";if(!this.slideStatus){this.render.style.width=this.options.showSize+"px";}this.render.style.display="";var _c=(parseInt(_a)-this.options.showSize)/this.options.moveSize*0.015;var _d=this;this.slideOption={width:parseInt(_a),height:parseInt(_b),fromLeft:true,fromTop:true,mode:"absolute",duration:_c,finish:function(){_d.endSlide();}};this.hideOption={width:this.options.showSize,height:parseInt(_b),fromLeft:true,fromTop:true,mode:"absolute",duration:_c,finish:function(){_d.endHide();}};}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.setLeft=function(_e,_f){["WebSquare.uiplugin.slideHide.setLeft"];try{this.main.style.left="0px";if(!this.slideStatus){this.render.style.width=this.options.showSize+"px";this.render.style.left=(parseInt(this.render.style.left)+parseInt(_e)-this.options.showSize)+"px";}this.render.style.display="";var _10=(parseInt(_e)-this.options.showSize)/this.options.moveSize*0.015;var _11=this;this.slideOption={width:parseInt(_e),height:parseInt(_f),fromLeft:false,fromTop:true,mode:"absolute",duration:_10,finish:function(){_11.endSlide();}};this.hideOption={width:this.options.showSize,height:parseInt(_f),fromLeft:false,fromTop:true,mode:"absolute",duration:_10,finish:function(){_11.endHide();}};}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.setDown=function(_12,_13){["WebSquare.uiplugin.slideHide.setDown"];try{this.main.style.bottom="0px";if(!this.slideStatus){this.render.style.height=this.options.showSize+"px";}this.render.style.display="";var _14=(parseInt(_13)-this.options.showSize)/this.options.moveSize*0.015;var _15=this;this.slideOption={width:parseInt(_12),height:parseInt(_13),fromLeft:true,fromTop:true,mode:"absolute",duration:_14,finish:function(){_15.endSlide();}};this.hideOption={width:parseInt(_12),height:this.options.showSize,fromLeft:true,fromTop:true,mode:"absolute",duration:_14,finish:function(){_15.endHide();}};}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.setUp=function(_16,_17){["WebSquare.uiplugin.slideHide.setUp"];try{this.main.style.top="0px";if(!this.slideStatus){this.render.style.height=this.options.showSize+"px";this.render.style.top=(parseInt(this.render.style.top)+parseInt(_17)-this.options.showSize)+"px";}this.render.style.display="";var _18=(parseInt(_17)-this.options.showSize)/this.options.moveSize*0.015;var _19=this;this.slideOption={width:parseInt(_16),height:parseInt(_17),fromLeft:true,fromTop:false,mode:"absolute",duration:_18,finish:function(){_19.endSlide();}};this.hideOption={width:parseInt(_16),height:this.options.showSize,fromLeft:true,fromTop:false,mode:"absolute",duration:_18,finish:function(){_19.endHide();}};}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.endSlide=function(){["WebSquare.uiplugin.slideHide.endSlide"];try{this.nowMove=2;this.slideStatus=true;switch(this.options.slideDirection){case "right":case "left":this.render.style.top=this.originStyle["top"];this.render.style.height=this.originStyle["height"];break;case "up":case "down":this.render.style.left=this.originStyle["left"];this.render.style.width=this.originStyle["width"];break;}WebSquare.event.fireEvent(this,"onSlideEnd");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.endHide=function(e){["WebSquare.uiplugin.slideHide.endHide"];try{this.nowMove=0;this.slideStatus=false;switch(this.options.slideDirection){case "right":case "left":this.render.style.top=this.originStyle["top"];this.render.style.height=this.originStyle["height"];break;case "up":case "down":this.render.style.left=this.originStyle["left"];this.render.style.width=this.originStyle["width"];break;}WebSquare.event.fireEvent(this,"onHideEnd");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.isMouseInRender=function(e){["WebSquare.uiplugin.slideHide.isMouseInRender"];try{var _1c=WebSquare.style.getAbsoluteLeft(this.render);var top=WebSquare.style.getAbsoluteTop(this.render);var _1e=this.render.offsetWidth;var _1f=this.render.offsetHeight;var x=WebSquare.event.getMouseX(e);var y=WebSquare.event.getMouseY(e);if(x>_1c&&x<_1c+_1e&&y>top&&y<top+_1f){return true;}else{return false;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.isMouseInShownArea=function(e){["WebSquare.uiplugin.slideHide.isMouseInShownArea"];try{var _23;var top;var _25;var _26;switch(this.options.slideDirection){case "right":_23=WebSquare.style.getAbsoluteLeft(this.render)+this.render.offsetWidth-this.options.showSize;top=WebSquare.style.getAbsoluteTop(this.render);_25=this.options.showSize;_26=this.render.offsetHeight;break;case "left":_23=WebSquare.style.getAbsoluteLeft(this.render);top=WebSquare.style.getAbsoluteTop(this.render);_25=this.options.showSize;_26=this.render.offsetHeight;break;case "up":_23=WebSquare.style.getAbsoluteLeft(this.render);top=WebSquare.style.getAbsoluteTop(this.render);_25=this.render.offsetWidth;_26=this.options.showSize;break;case "down":_23=WebSquare.style.getAbsoluteLeft(this.render);top=WebSquare.style.getAbsoluteTop(this.render)+this.render.offsetHeight-this.options.showSize;_25=this.render.offsetWidth;_26=this.options.showSize;break;}var x=WebSquare.event.getMouseX(e);var y=WebSquare.event.getMouseY(e);if(x>_23&&x<_23+_25&&y>top&&y<top+_26){return true;}else{return false;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.startSlide=function(){["WebSquare.uiplugin.slideHide.startSlide"];try{if(this.nowMove==1||this.nowMove==2){return;}if(this.nowMove==3){WebSquare.effect.effectManager.remove(this.slideEffect);}this.nowMove=1;WebSquare.event.fireEvent(this,"onSlideStart");this.slideEffect=new WebSquare.effect.resize(this.render,this.slideOption);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.startHide=function(){["WebSquare.uiplugin.slideHide.startHide"];try{if(this.nowMove==0||this.nowMove==3){return;}if(this.nowMove==1){WebSquare.effect.effectManager.remove(this.slideEffect);}this.nowMove=3;WebSquare.event.fireEvent(this,"onHideStart");this.slideEffect=new WebSquare.effect.resize(this.render,this.hideOption);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.isOpen=function(){["WebSquare.uiplugin.slideHide.isOpen"];try{return this.slideStatus;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.handleSlideEvent=function(e){["WebSquare.uiplugin.slideHide.handleSlideEvent"];try{this.startSlide();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.handleHideEvent=function(e){["WebSquare.uiplugin.slideHide.handleHideEvent"];try{if(this.options.hideEvent=="onmouseout"&&this.isMouseInRender(e)){return;}if(this.options.eventArea=="partial"&&!this.isMouseInShownArea(e)){return;}this.startHide();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.handleToggleEvent=function(e){["WebSquare.uiplugin.slideHide.handleToggleEvent"];try{if(this.slideStatus==false){this.handleSlideEvent(e);}else{this.handleHideEvent(e);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slideHide.prototype.setHeight=function(_2c){if(!this.render){return;}if(this.options.slideDirection=="left"||this.options.slideDirection=="right"){_2c=parseInt(_2c);if(_2c!=null&&!isNaN(_2c)&&_2c>=0){this.render.style.height=_2c+"px";this.main.style.height=_2c+"px";this.slideOption.height=_2c;this.hideOption.height=_2c;}}};WebSquare.uiplugin.slideHide.prototype.setWidth=function(_2d){if(!this.render){return;}if(this.options.slideDirection=="up"||this.options.slideDirection=="down"){_2d=parseInt(_2d);if(_2d!=null&&!isNaN(_2d)&&_2d>=0){this.render.style.width=_2d+"px";this.main.style.width=_2d+"px";this.slideOption.width=_2d;this.hideOption.width=_2d;}}};WebSquare.uiplugin.taskManager=function(id,_2,_3){["WebSquare.uiplugin.taskManager"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.taskManager.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.taskManager.prototype.defaultOptions={pluginType:"uiplugin.taskManager",pluginName:"taskManager",id:"",style:""};WebSquare.uiplugin.taskManager.prototype.initialize=function(_4){};WebSquare.uiplugin.taskManager.prototype.toHTML=function(){["WebSquare.uiplugin.taskManager.toHTML"];var _5=[];_5.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2taskManager "+this.options.className+"'>");_5.push("<div class='w2taskManager_title'>task</div>");_5.push("<div id='"+this.id+"_bar' class='w2taskManager_bar'>");_5.push("<table class='w2taskManager_bar_table' cellpadding='0' cellspacing='0'>");_5.push("<tr>");for(var i=0;i<5;i++){_5.push("<td class='w2taskManager_bar_col'><div class='w2taskManager_task' index='"+i+"'>bar_"+i+"<div></td>");}_5.push("</tr>");_5.push("</table>");_5.push("</div>");_5.push("</div>");return _5.join("");};WebSquare.uiplugin.taskManager.prototype.setAction=function(){this.dom.bar=document.getElementById(this.id+"_bar");this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));};WebSquare.uiplugin.taskManager.prototype.refreshItemset=function(){};WebSquare.uiplugin.taskManager.prototype.refresh=function(){};WebSquare.uiplugin.taskManager.prototype.minimize=function(id){var _8=document.getElementById(id);_8.style.display="none";var _9=document.getElementById(this.id+"_taskBar");_9.innerHTML+="<div id='"+id+"_task' style='width:100px;'>"+id+"</div>";var _a=document.getElementById(id+"_task");this.event.addListener(_a,"ondblclick",this.event.bindAsEventListener(this,this.handleDblClickEvent));};WebSquare.uiplugin.taskManager.prototype.restore=function(id){var _c=document.getElementById(id);var _d=document.getElementById(id+"_task");if(_d){_c.style.display="block";_d.innerHTML="";}};WebSquare.uiplugin.taskManager.prototype.drawBar=function(id){this.dom.bar.innerHTML="abc";};WebSquare.uiplugin.taskManager.prototype.handleClickEvent=function(e){WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2taskManager_task")){var _11=it.getElement().getAttribute("index");alert(_11);}}it=null;};WebSquare.uiplugin.taskManager.prototype.handleMouseoverEvent=function(e){WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2taskManager_task")){this.addClass(it.getElement(),"w2taskManager_task_over");}}it=null;};WebSquare.uiplugin.taskManager.prototype.handleMouseoutEvent=function(e){WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2taskManager_task")){this.removeClass(it.getElement(),"w2taskManager_task_over");}}it=null;};WebSquare.uiplugin.taskManager.prototype.handleDblClickEvent=function(e){WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);var _18=e.srcElement.id;_18=_18.replace("_task","");this.restore(_18);};WebSquare.tag=function(id,_2,_3){this.parentControl=null;this.childControlList=[];this.element=_3;this.options={};if(_3.nodeType==1){this.id=_3.getAttribute("id");var _4=WebSquare.util.getBoolean(WebSquare.core.getConfiguration("/WebSquare/parseHtml/@value")||"true");this.options.parseChild=this.element.tagName=="w2:tag"||_4;}};WebSquare.extend(WebSquare.tag.prototype,WebSquare.htmlControl.prototype);WebSquare.tag.idCounter=0;WebSquare.tag.prototype.toHTML=function(){var _5=this.element.tagName;var _6=WebSquare.core.getEmptyTag();var _7=false;var _8=null;if(_5=="w2:tag"){_7=true;_5=this.element.getAttribute("tagname")||"div";if(this.element.getAttribute("tagname")){this.element.removeAttribute("tagname");_8=WebSquare.xml.noNameSpaceSerialize(this.element);this.element.setAttribute("tagname",_5);}else{_8=WebSquare.xml.noNameSpaceSerialize(this.element);}_8=_8.replace("w2:tag",_5);if(this.options.parseChild&&!this.id){this.id="w2tag_"+WebSquare.tag.idCounter++;this.element.setAttribute("id",this.id);}}else{_8=WebSquare.xml.noNameSpaceSerialize(this.element);}if(this.options.parseChild&&!_6[_5.toLowerCase()]){var _9="";var _a="";if(this.element.nodeType==1){var _b=_8.substring(0,_8.indexOf(">"));if(_b.endsWith("/")){_b=_b.substring(0,_b.length-1)+">";}else{_b+=">";}_9=_b;_a="</"+_5+">";}else{if(this.element.nodeType==3){_9=this.element.nodeValue;_a="";}}var _c=[_9];if(_9.toLowerCase().wq_trim().indexOf("<script ")==0){var _d="";if(this.element.parentElement){_d=this.element.parentElement.tagName||"";}else{if(this.element.parentNode){_d=this.element.parentNode.tagName||"";}}if(_d.indexOf("xf")<0&&_d.indexOf("w2")<0){var _e=this.element.firstChild||{};if(_e.nodeType===3||_e.nodeType===4){WebSquare.scriptSection+=";"+_e.data;_c.push(_e.data);}}}else{var _f=this.getChildren();for(var i=0;i<_f.length;i++){_c.push(_f[i].toHTML());}}_c.push(_a);return _c.join("");}else{if(_7){if(!_8.endsWith("/>")){_8=_8.substring(0,_8.indexOf(">"));if(_8.endsWith(" ")){_8+="/>";}else{_8+=" />";}}}if(this.element.nodeType==3){return this.element.nodeValue;}return _8;}};WebSquare.tag.prototype.activate=function(){if(this.options.parseChild){var _11=this.getChildren();for(var i=0;i<_11.length;i++){_11[i].activate();}}};WebSquare.tag.prototype.setAction=function(){};WebSquare.tag.prototype.remove=function(){["WebSquare.tag.remove"];try{this.destroy();WebSquare.removeNode(this.render);window[this.id]=null;for(var i in WebSquare.getBody().childControlList){if(WebSquare.getBody().childControlList[i]==this){WebSquare.getBody().childControlList.splice(i,1);}}for(var i in this){delete this[i];}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.xhtml=function(id,_2,_3){["WebSquare.uiplugin.xhtml"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.xhtml.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.xhtml.prototype.defaultOptions={pluginType:"uiplugin.xhtml",pluginName:"xhtml",src:""};WebSquare.uiplugin.xhtml.prototype.initialize=function(_4){};WebSquare.uiplugin.xhtml.prototype.toHTML=function(){["WebSquare.uiplugin.xhtml.toHTML"];var _5=[];_5.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2xhtml "+this.options.className+"'>");_5.push("</div>");return _5.join("");};WebSquare.uiplugin.xhtml.prototype.setAction=function(){["WebSquare.uiplugin.xhtml.toHTML"];this.dom.mydiv=document.getElementById(this.id);var _6=WebSquare.core.load(WebSquare.core.getURL(this.options.src));this.dom.mydiv.innerHTML=_6;};WebSquare.uiplugin.xsl=function(id,_2,_3){["WebSquare.uiplugin.xsl"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.xsl.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.xsl.prototype.defaultOptions={pluginType:"uiplugin.xsl",pluginName:"xsl",xsl:"",xpath:""};WebSquare.uiplugin.xsl.prototype.initialize=function(_4){};WebSquare.uiplugin.xsl.prototype.toHTML=function(){["WebSquare.uiplugin.xsl.toHTML"];try{var _5=[];_5.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2xsl "+this.options.className+"'>");_5.push("</div>");return _5.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.xsl.prototype.setAction=function(){["WebSquare.uiplugin.xsl.setAction"];try{if(this.options.xsl!=""){this.transform();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.xsl.prototype.setXSL=function(_6){["WebSquare.uiplugin.xsl.setXSL"];try{this.options.xsl=_6;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.xsl.prototype.getXSL=function(){["WebSquare.uiplugin.xsl.getXSL"];try{return this.options.xsl;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.xsl.prototype.setXPath=function(_7){["WebSquare.uiplugin.xsl.setXPath"];try{this.options.xpath=_7;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.xsl.prototype.getXPath=function(){["WebSquare.uiplugin.xsl.getXPath"];try{return this.options.xpath;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.xsl.prototype.transform=function(){["WebSquare.uiplugin.xsl.transform"];try{if(this.options.xpath!=""){var _8=WebSquare.ModelUtil.findInstanceNode(this.options.xpath);if(_8!=null){var _9=WebSquare.xml.serialize(_8);if(_9==null||_9==""){return;}var _a=WebSquare.core.getURL(this.options.xsl);var _b=WebSquare.xml.transform(_9,_a);if(typeof _b!="undefined"){if(WebSquare.util.isFF()){this.render.innerHTML=WebSquare.xml.decode(_b);}else{this.render.innerHTML=_b;}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.collection.node=function(){this.index=-1;this.id="";this.label="";this.value="";this.element=null;this.depth=-1;this.parentNode=null;this.childNodes=[];this._isRoot=null;this._hasChild=null;this._isLastChild=null;this.image="";this.selectedImage="";this.expandedImage="";this.checked=false;this.folder=null;};WebSquare.collection.node.prototype.appendChild=function(_1){if(!_1){return false;}var _2=this;do{if(_1==_2){return false;}_2=_2.parentNode;}while(_2);if(_1.parentNode){_1.parentNode.removeChild(_1);}_1.parentNode=this;this.childNodes.push(_1);return true;};WebSquare.collection.node.prototype.removeChild=function(_3){if(!_3){return;}var _4=[];for(var i=0;i<this.childNodes.length;i++){var _6=this.childNodes[i];if(_6!=_3){_4.push(_6);}}this.childNodes=_4;};WebSquare.collection.node.prototype.isRoot=function(){this._isRoot=null;this._isRoot=this.parentNode==null?true:false;return this._isRoot;};WebSquare.collection.node.prototype.hasChild=function(){this._hasChild=null;if(this.folder){return this.folder;}else{this._hasChild=this.childNodes.length!=0;}return this._hasChild;};WebSquare.collection.node.prototype.isLeaf=function(){return !this.hasChild();};WebSquare.collection.node.prototype.isLastChild=function(){this._isLastChild=null;if(!this.parentNode){return true;}var _7=this.parentNode.childNodes;for(var i=0;i<_7.length;i++){if(_7[i]==this&&i==_7.length-1){this._isLastChild=true;}}if(this._isLastChild!=true){this._isLastChild=false;}return this._isLastChild;};WebSquare.collection.node.prototype.isFirstChildByRoot=function(){var _9=false;if(!this.parentNode){return _9;}if(this.parentNode.depth!=0){return _9;}if(this.parentNode.childNodes[0]){if(this===this.parentNode.childNodes[0]){_9=true;}}return _9;};WebSquare.collection.nodeIterator=function(_a,_b){this.node=_a;this.status=0;this.options=WebSquare.extend({type:"dfs",pruning:null},WebSquare.extend({},_b));this.stack=[];};WebSquare.collection.nodeIterator.prototype.next=function(){if(!this.node){return false;}if(this.status==0){this.status=1;return true;}if(this.options.type=="dfs"){this.stack=this.node.childNodes.concat(this.stack);this.node=this.stack.shift();}else{if(this.options.type=="bfs"){this.stack=this.stack.concat(this.node.childNodes);this.node=this.stack.shift();}}if(this.node){return true;}else{return false;}};WebSquare.collection.nodeIterator.prototype.stop=function(){this.status=2;};WebSquare.collection.nodeIterator.prototype.getNode=function(){return this.node;};WebSquare.collection.tree=function(){this.nodeCount=0;this.rootNode=null;this.hash_index_node={};this.useXPath=false;this.useCheckbox=false;this.useImage=false;var _c="w2:";this.xpath={nodeset:"",label:_c+"label",value:_c+"value",depth:_c+"depth",nodeName:_c+"node",checkbox:"",folder:_c+"folder"};this.imageXPath={image:"",iconImage:"",leafImage:"",selectedImage:"",expandedImage:""};this.checkbox={xpath:"",trueValue:"",falseValue:"",checkboxDisabled:"",checkboxDisabledTrueValue:"",checkboxDisabledFalseValue:"",checkboxDisabledAll:""};this.displayMode="0";this.delimiter="\t";this.customFormatter="";this.treeView="";};WebSquare.collection.tree.prototype.getNodeset=function(){if(this.xpath.nodeset!=""){return this.xpath.nodeset;}};WebSquare.collection.tree.prototype.setXPath=function(_d,_e,_f,_10,_11,_12,_13){if(_d!=""){this.useXPath=true;this.xpath.nodeset=_d;this.xpath.label=_e;this.xpath.value=_f;this.xpath.depth=_10;this.xpath.nodeName=_11;this.xpath.folder=_12;this.xpath.auth=_13;}};WebSquare.collection.tree.prototype.setCheckbox=function(_14,_15,_16,_17,_18,_19,_1a,_1b,_1c,_1d){if(_14!=""){this.useCheckbox=true;this.checkbox.xpath=_14;this.checkbox.trueValue=_15;this.checkbox.falseValue=_16;this.checkbox.checkboxDisabled=_17;this.checkbox.checkboxDisabledTrueValue=_18;this.checkbox.checkboxDisabledFalseValue=_19;this.checkbox.checkboxDisabledAll=_1a;this.checkbox.refreshCheckboxModel=_1b;this.checkbox.refreshCheckboxDisableModel=_1c;this.checkbox.hierarchy=_1d;}};WebSquare.collection.tree.prototype.setDisplayMode=function(_1e,_1f){this.displayMode=_1e;this.delimiter=_1f;};WebSquare.collection.tree.prototype.setImage=function(_20,_21,_22,_23,_24,_25){this.useImage=true;this.imageXPath.image=_20||"";this.imageXPath.iconImage=_21||"";this.imageXPath.leafImage=_22||"";this.imageXPath.selectedImage=_23||"";this.imageXPath.expandedImage=_24||"";this.imageXPath.imageTitle=_25||"";};WebSquare.collection.tree.prototype.setXML=function(_26){if(!_26){return;}this.nodeCount=0;this.rootNode=null;this.hash_index_node={};this.rootNode=this.parseNode(_26,0,0);if(this.useImage==true){this.parseImage(this.rootNode);}};WebSquare.collection.tree.prototype.appendXML=function(_27,_28){if(!_27){return;}var _29=this.findNodeByIndex(_28);var _2a=_29.element;var _2b=1;for(var _2c=_27.firstChild;_2c!=null;_2c=_27.firstChild){if(_2c.nodeType==1&&_2c.tagName==this.xpath.nodeName){_29.appendChild(this.parseNode(_2c,_29.depth+1,_2b++,_29));}_2a.appendChild(_27.removeChild(_2c));}if(this.useImage==true){this.parseImage(_29);}return _29;};WebSquare.collection.tree.prototype.parseNode=function(_2d,_2e,_2f,_30){if(!_2d){return null;}var _31=WebSquare.xml.getValue(_2d,this.xpath.label).wq_trim();var _32=null;var _33=this.xpath.auth&&WebSquare.xml.getValue(_2d,this.xpath.auth).wq_trim();if(this.xpath.folder){_32=WebSquare.util.getBoolean(WebSquare.xml.getValue(_2d,this.xpath.folder).wq_trim());}var _34="";var _35=this.xpath.value.split(" ");for(var i=0;i<_35.length;i++){if(i!=0){_34+="$$";}_34+=WebSquare.xml.getValue(_2d,_35[i]).wq_trim();}var _37=new WebSquare.collection.node();_37.index=this.nodeCount++;_37.depthIndex=_2f;switch(this.displayMode){case "0":_37.label=_31;break;case "1":_37.label=_34+this.delimiter+_31;break;case "2":_37.label=_31+this.delimiter+_34;break;default:_37.label=_31;break;}_37.value=_34;_37.element=_2d;_37.depth=_2e;_37.folder=_32;_37.auth=_33;if(_2e==1){_37.xpath=this.xpath.nodeset+"["+this.xpath.value+"='"+_37.value+"']";}else{if(_2e>1){if(this.dataType=="recursive"){_37.xpath=_30.xpath+"/"+this.xpath.nodeName+"["+this.xpath.value+"='"+_37.value+"']";}else{_37.xpath=this.xpath.nodeset+"["+this.xpath.value+"='"+_37.value+"']";}}}if(this.useCheckbox==true){var _38=WebSquare.xml.getValue(_2d,this.checkbox.xpath).wq_trim();_37.checkboxXPath=_37.xpath+"/"+this.checkbox.xpath;if(_38==this.checkbox.trueValue){_37.checked=true;if(this.checkbox.refreshCheckboxModel==true){WebSquare.ModelUtil.setInstanceValue(_37.checkboxXPath,this.checkbox.trueValue);}}else{_37.checked=false;if(this.checkbox.refreshCheckboxModel==true){WebSquare.ModelUtil.setInstanceValue(_37.checkboxXPath,this.checkbox.falseValue);}}if(this.checkbox.checkboxDisabled){_37.checkboxDisableXPath=_37.xpath+"/"+this.checkbox.checkboxDisabled;var _39=WebSquare.xml.getValue(_2d,this.checkbox.checkboxDisabled).wq_trim();if(this.checkbox.checkboxDisabledAll==true){_37.checkboxDisabled=true;if(this.checkbox.refreshCheckboxDisableModel==true){WebSquare.ModelUtil.setInstanceValue(_37.checkboxDisableXPath,this.checkbox.checkboxDisabledTrueValue);}}else{_37.checkboxDisabled=false;if(this.checkbox.refreshCheckboxDisableModel==true){WebSquare.ModelUtil.setInstanceValue(_37.checkboxDisableXPath,this.checkbox.checkboxDisabledFalseValue);}}if(_39==this.checkbox.checkboxDisabledTrueValue){_37.checkboxDisabled=true;if(this.checkbox.refreshCheckboxDisableModel==true){WebSquare.ModelUtil.setInstanceValue(_37.checkboxDisableXPath,this.checkbox.checkboxDisabledTrueValue);}}else{if(_39==this.checkbox.checkboxDisabledFalseValue){_37.checkboxDisabled=false;if(this.checkbox.refreshCheckboxDisableModel==true){WebSquare.ModelUtil.setInstanceValue(_37.checkboxDisableXPath,this.checkbox.checkboxDisabledFalseValue);}}}}}var _3a=1;for(var _3b=_2d.firstChild;_3b!=null;_3b=_3b.nextSibling){if(_3b.nodeType==1&&_3b.tagName==this.xpath.nodeName){_37.appendChild(this.parseNode(_3b,_2e+1,_3a++,_37));}}if(this.useCheckbox==true&&this.checkbox.hierarchy==true){var _3c=0;var _3d=false;for(var i=0;i<_37.childNodes.length;i++){var _3e=_37.childNodes[i];if(_3e.checked==true){_3c++;}else{if(_3e.partial==true){_3d=true;}}}if(_3d==true||(0<_3c&&_3c<_37.childNodes.length)){_37.partial=true;}else{if(_3c>0&&_3c==_37.childNodes.length){_37.checked=true;if(!_37.checkboxDom){_37.checkboxDom=document.getElementById(this.treeview.id+"_checkbox_"+_37.index);}if(_37.checkboxDom){_37.checkboxDom.checked=true;}}else{_37.partial=false;}}}this.hash_index_node[_37.index]=_37;if(typeof this.customFormatter==="function"){var _3f=this.customFormatter;var _40=this.getCloneNode(_37);var _41=_3f.call(this.treeview,_37.label,_37.label,_40)||_37.label;_37.label=_41;}return _37;};WebSquare.collection.tree.prototype.parseNodeByNode=function(_42,_43,_44,_45){if(!_42){return null;}var _46=new WebSquare.collection.node();_46.index=this.nodeCount++;_46.depthIndex=_44;_46.label=_42.label;_46.value=_42.value;_46.element=_42.element.cloneNode(true);_46.depth=_43;_46.folder=_42.folder;_46.xpath="";_46.checkboxXPath="";_46.imageTitle=_42.imageTitle;_46.labelStyle=_42.labelStyle;if(typeof _42.checked!="undefined"){_46.checked=_42.checked;}_46.checkboxDisableXPath="";if(typeof _42.checkboxDisabled!="undefined"){_46.checkboxDisabled=_42.checkboxDisabled;}var _47=1;for(var i=0;i<_42.childNodes.length;i++){_46.appendChild(this.parseNodeByNode(_42.childNodes[i],_43+1,_47++,_46));}this.hash_index_node[_46.index]=_46;return _46;};WebSquare.collection.tree.prototype.parseImage=function(_49){var _4a="";var _4b="";var _4c="";var _4d="";var _4e="";var _4f=/\.[a-zA-Z][a-zA-Z][a-zA-Z][\s]*$/;if(this.imageXPath.image!=""){if(this.imageXPath.image.match(_4f)){_4a=this.imageXPath.image;}else{_4a=WebSquare.xml.getValue(_49.element,this.imageXPath.image).wq_trim()||"";}}if(this.imageXPath.iconImage!=""){if(this.imageXPath.iconImage.match(_4f)){_4b=this.imageXPath.iconImage;}else{_4b=WebSquare.xml.getValue(_49.element,this.imageXPath.iconImage).wq_trim()||"";}}if(this.imageXPath.selectedImage!=""){if(this.imageXPath.selectedImage.match(_4f)){_4c=this.imageXPath.selectedImage;}else{_4c=WebSquare.xml.getValue(_49.element,this.imageXPath.selectedImage).wq_trim()||"";}}if(this.imageXPath.expandedImage!=""){if(this.imageXPath.expandedImage.match(_4f)){_4d=this.imageXPath.expandedImage;}else{_4d=WebSquare.xml.getValue(_49.element,this.imageXPath.expandedImage).wq_trim()||"";}}if(this.imageXPath.leafImage!=""){if(this.imageXPath.leafImage.match(_4f)){_4e=this.imageXPath.leafImage;}else{_4e=WebSquare.xml.getValue(_49.element,this.imageXPath.leafImage).wq_trim()||"";}}if(_4e!=""&&_49.isLeaf()==true){_4a=_4e;}if(_4b!=""){_4a=_4b;_4c=_4b;_4d=_4b;}if(_4c==""){_4c=_4a;}if(_4d==""){_4d=_4a;}_49.image=_4a;_49.selectedImage=_4c;_49.expandedImage=_4d;_49.imageTitle=this.imageXPath.imageTitle&&WebSquare.xml.getValue(_49.element,this.imageXPath.imageTitle);for(var i=0;i<_49.childNodes.length;i++){this.parseImage(_49.childNodes[i]);}};WebSquare.collection.tree.prototype.parseListToTree=function(_51){var _52=WebSquare.xml.parse("<Treeview xmlns:w2=\"http://www.inswave.com/websquare\" />",true);var _53=_52.documentElement;var _54=0;this.dataType="list";for(var i=0;i<_51.length;i++){var _56=_51[i];var _57=_56.cloneNode(true);var _58=parseInt(WebSquare.xml.getValue(_57,this.xpath.depth))||0;var _54=parseInt(WebSquare.xml.getValue(_53,this.xpath.depth))||0;if(_54<_58){_57=WebSquare.xml.appendChild(_53,_57);_54=_58;}else{if(_54==_58&&i==0){_57=WebSquare.xml.appendChild(_53,_57);}else{if(_54==_58){var _59=_53.parentNode;_57=WebSquare.xml.appendChild(_59,_57);}else{if(_54>_58){_53=_53.parentNode;for(j=0;j<_54-_58;j++){if(_53.parentNode!=null){_53=_53.parentNode;}}_57=WebSquare.xml.appendChild(_53,_57);}}}}_53=_57;}return _52.documentElement;};WebSquare.collection.tree.prototype.parseRecursiveToTree=function(_5a){this.dataType="recursive";var _5b=WebSquare.xml.parse("<Treeview xmlns:w2=\"http://www.inswave.com/websquare\" />",true);for(var i=0;i<_5a.length;i++){var _5d=null;if(WebSquare.util.isOpera()){_5d=(WebSquare.xml.parse(_5a[i])).firstChild;}else{_5d=_5a[i].cloneNode(true);}WebSquare.xml.appendChild(_5b.documentElement,_5d);}return _5b.documentElement;};WebSquare.collection.tree.prototype.parseTreeToList=function(){var _5e=this.xpath.nodeset;if(_5e.indexOf("/")>-1){var arr=_5e.split("/");_5e=arr[arr.length-2];}if(!_5e||_5e==""){_5e="Treeview";}var _60=WebSquare.xml.parse("<"+_5e+" xmlns:w2=\"http://www.inswave.com/websquare\" />",true);var _61=_60.documentElement;var ni=this.getNodeIterator({type:"dfs"});ni.next();while(ni.next()){var _63=ni.getNode();_61.appendChild(_63.element);}return _60.documentElement;};WebSquare.collection.tree.prototype.getNodeIterator=function(_64){_64=WebSquare.extend({rootNode:null},_64||{});var ni=new WebSquare.collection.nodeIterator(_64.rootNode||this.rootNode,_64);return ni;};WebSquare.collection.tree.prototype.size=function(){return this.nodeCount;};WebSquare.collection.tree.prototype.findNodeByValue=function(_66){var _67=null;var ni=this.getNodeIterator();while(ni.next()){if(ni.getNode().value==_66){_67=ni.getNode();break;}}ni=null;return _67;};WebSquare.collection.tree.prototype.findNodeByIndex=function(idx){var _6a=this.hash_index_node[idx];if(_6a){return _6a;}else{return null;}};WebSquare.collection.tree.prototype.setRender=function(_6b,_6c){_6b.rendered=_6c;for(var i=0;i<_6b.childNodes.length;i++){this.setRender(_6b.childNodes[i],_6c);}};WebSquare.collection.tree.prototype.getCloneNode=function(_6e){var _6f={};_6f["checkboxDisabled"]=_6e["checkboxDisabled"];_6f["checked"]=_6e["checked"];_6f["folder"]=_6e["folder"];_6f["image"]=_6e["image"];_6f["imageTitle"]=_6e["imageTitle"];_6f["rendered"]=_6e["rendered"];_6f["id"]=_6e["id"];_6f["index"]=_6e["index"];_6f["value"]=_6e["value"];_6f["label"]=_6e["label"];_6f["labelStyle"]=_6e["labelStyle"];return _6f;};requires("uiplugin/treeview/tree.js");requires("uiplugin/group/group.js");WebSquare.uiplugin.treeview=function(id,_2,_3){["WebSquare.uiplugin.treeview"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.treeview.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.treeview.prototype.defaultOptions={pluginType:"uiplugin.treeview",pluginName:"treeview",userEvents:["onclick","ondblclick","onchange","onrightbuttonclick","ondrop","oncheckboxclick","onlabelclick","ontoggleclick"],repeatNode:"",useDrag:false,dataType:"recursive",lineShow:true,alwaysDraw:false,imgclass:"",labelclass:"",labelonClickClass:"w2treeview_select_node",defaultImage:"",iconImage:"",selectedImage:"",expandedImage:"",leafImage:"",showTreeDepth:1000,showCheckbox:false,trueValue:"true",falseValue:"false",checkAllChildNodes:false,checkboxDisabled:"",checkboxDisabledTrueValue:"true",checkboxDisabledFalseValue:"false",checkboxDisabledAll:false,rowHeight:-1,toggleEvent:"ondblclick",tooltipDisplay:false,tooltipStyle:"border:2px solid #7BAFE4; background-color:#ffffff;cursor:default;",tooltipClass:"",tooltipTime:1,hierarchy:false,refreshCheckboxModel:false,refreshCheckboxDisableModel:false,accessibility:undefined,title:"",accordion:false,dynamicAppend:false,displayMode:"0",delimiter:"\t",folderOpenToggleImage:"uiplugin/treeview/images/plus.gif",folderCloseToggleImage:"uiplugin/treeview/images/minus.gif",leafToggleImage:"uiplugin/treeview/images/middle.gif",lastToggleImage:"uiplugin/treeview/images/last.gif",middleToggleImage:"uiplugin/treeview/images/middle.gif",escape:false,toggleButtonEvent:"onclick"};WebSquare.uiplugin.treeview.prototype.initialize=function(_4){["WebSquare.uiplugin.treeview.initialize"];try{this.inlineElement=false;if(this.options.hierarchy==true){this.options.checkAllChildNodes=true;}this.tree=new WebSquare.collection.tree();this.tree.treeview=this;this.selectedInfo={groupDom:null,dom:null,node:null};this.tooltip=null;this.timeShowTooltip=null;this.timeHideTooltip=null;this.openedNodes={};this.originalBackgroundColor="";this.originalColor="";this.options.accessibility=WebSquare.util.getBoolean(_4.getAttribute("accessibility"))||false;if(this.options.accessibility){this.options.lineShow=false;}if(this.options.accordion==true){this.options.showTreeDepth=0;}switch(this.options.displayMode){case "0":break;case "1":break;case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";break;}this.tree.setDisplayMode(this.options.displayMode,this.options.delimiter);if(_4){var _5=WebSquare.WebSquareparser.parseItemset(_4);this.modelControl.setItemset(_5.nodeset,_5.label,_5.value);if(this.options.modelBinding==false){this.options.refreshCheckboxModel=false;this.options.refreshCheckboxDisableModel=false;}var _6="w2:";var _7=null;var _8=WebSquare.xml.findNode(_4,_6+"itemset");if(_8){var _9=WebSquare.xml.getValue(_8,"@nodeset");var _a=_9.replace(/\[[^\[\]]*\]/g,"").match(/[^\/]*$/);if(_a){_a=_a[0];}var _b=WebSquare.xml.getValue(_8,_6+"label/@ref");var _c=WebSquare.xml.getValue(_8,_6+"value/@ref");var _d=WebSquare.xml.getValue(_8,_6+"depth/@ref");var _e=WebSquare.xml.getValue(_8,_6+"folder/@ref");var _f=WebSquare.xml.getValue(_8,_6+"image/@ref");var _10=WebSquare.xml.getValue(_8,_6+"iconImage/@ref");var _11=WebSquare.xml.getValue(_8,_6+"selectedImage/@ref");var _12=WebSquare.xml.getValue(_8,_6+"expandedImage/@ref");var _13=WebSquare.xml.getValue(_8,_6+"leafImage/@ref");var _14=WebSquare.xml.getValue(_8,_6+"checkboxDisabled/@ref");var _15=WebSquare.xml.getValue(_8,_6+"imageTitle/@ref");if(this.options.defaultImage!=""){_f=this.options.defaultImage;}if(this.options.iconImage!=""){_10=this.options.iconImage;}if(this.options.selectedImage!=""){_11=this.options.selectedImage;}if(this.options.expandedImage!=""){_12=this.options.expandedImage;}if(this.options.leafImage!=""){_13=this.options.leafImage;}if(this.options.checkboxDisabled!=""){_14=this.options.checkboxDisabled;}var _16=WebSquare.xml.getValue(_8,_6+"checkbox/@ref");this.tree.setXPath(_9,_b,_c,_d,_a,_e);this.tree.setCheckbox(_16,this.options.trueValue,this.options.falseValue,_14,this.options.checkboxDisabledTrueValue,this.options.checkboxDisabledFalseValue,this.options.checkboxDisabledAll,this.options.refreshCheckboxModel,this.options.refreshCheckboxDisableModel,this.options.hierarchy);this.tree.setImage(_f,_10,_13,_11,_12,_15);var _17=WebSquare.ModelUtil.findInstanceNodes(_9);if(this.options.dataType=="recursive"){_7=this.tree.parseRecursiveToTree(_17);}else{if(this.options.dataType=="listed"){_7=this.tree.parseListToTree(_17);}}}else{this.inlineElement=true;_7=_4;var _6="w2:";this.tree.setImage(_6+"image",_6+"iconImage",_6+"leafImage",_6+"selectedImage",_6+"expandedImage",_6+"imageTitle");this.tree.setCheckbox(_6+"checkbox",this.options.trueValue,this.options.falseValue,_6+"checkboxDisabled",this.options.checkboxDisabledTrueValue,this.options.checkboxDisabledFalseValue,this.options.checkboxDisabledAll,this.options.refreshCheckboxModel,this.options.refreshCheckboxDisableModel,this.options.hierarchy);}if(_7){this.tree.setXML(_7);}}this.options=WebSquare.cssManager.styleToClass(this.id,this.options);if(this.options.showCheckbox==true){if(WebSquare.util.isOpera()==true){this.checkboxStyle="left:-1px;top:-1px";}else{this.checkboxStyle="left:0px;top:0px";}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.appendData=function(_18,_19,_1a){["WebSquare.uiplugin.treeview.appendData"];try{if(this.options.dynamicAppend==false){$l("treeview\ub97c \ub3d9\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294  dynamicAppend='true'\ub85c \uc124\uc815\ud558\ub294 \uac83\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4.");}if(typeof _18=="undefined"||_18==null||!_19){return;}_1a=(typeof _1a=="undefined")?false:_1a;var _1b=this.tree.findNodeByIndex(_18);if(!_1a){if(_1b.childNodes&&_1b.childNodes[0]&&_1b.childNodes[0].rendered){return;}}var _1c=null;if(this.options.dataType=="recursive"){_1c=this.tree.parseRecursiveToTree(_19);}else{if(this.options.dataType=="listed"){_1c=this.tree.parseListToTree(_19);}}this.tree.appendXML(_1c,_18);if(_18==0){_1b.hasChild();this.drawContents();}else{this.refreshNaviIcon(_1b);if(_1b.childNodes.length>0){_1b.childNodes[0].rendered=false;this.toggleChild(null,_18,true);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.toHTML=function(){["WebSquare.uiplugin.treevie.toHTML"];try{var _1d=[];var _1e=this.options.title==""?"":" title=\""+this.options.title+"\" ";_1d.push("<div tabindex='0' id='"+this.id+"' index='0' style='"+this.options.style+"' class='w2treeview "+this.options.className+"'"+_1e+">");_1d.push("</div>");return _1d.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.setAction=function(){["WebSquare.uiplugin.treeview.setAction"];try{this.drawContents();if(this.options.toggleEvent!="none"){this.event.addListener(this.render,this.options.toggleEvent,this.event.bindAsEventListener(this,this.handleToggleEvent));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"ondblclick",this.event.bindAsEventListener(this,this.handleDblclickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onselectstart",function(e){WebSquare.event.stopEvent(e);});this.event.addListener(this.render,"oncontextmenu",this.event.bindAsEventListener(this,this.handleContextmenuEvent));this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.activateDrag));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.refreshStop=false;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.refreshItemset=function(){["WebSquare.uiplugin.treeview.refreshItemset"];try{if(this.modelControl.isItemsetBinded()&&!this.refreshStop){this.refreshStop=true;var _20=null;var _21=this.tree.getNodeset();var _22=WebSquare.ModelUtil.findInstanceNodes(_21);if(this.options.dataType=="recursive"){_20=this.tree.parseRecursiveToTree(_22);}else{if(this.options.dataType=="listed"){_20=this.tree.parseListToTree(_22);}}this.tree.setXML(_20);this.drawContents();this.refreshStop=false;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.drawContents=function(){["WebSquare.uiplugin.treeview.drawContents"];try{this.selectedInfo={dom:null,node:null};this.initRenderStatus();var _23=[];for(var i=0;i<this.tree.rootNode.childNodes.length;i++){_23.push(this.nodeToHTML(this.tree.rootNode.childNodes[i]));}this.render.innerHTML=_23.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.selectNode=function(_25,idx,_27,_28){["WebSquare.uiplugin.treeview.selectNode"];try{var _27=(typeof _27=="undefined")?true:_27;if(this.selectedInfo.dom){this.removeClass(this.selectedInfo.dom,this.options.labelonClickClass);this.selectedInfo.dom.style.backgroundColor=this.originalBackgroundColor;this.selectedInfo.dom.style.color=this.originalColor;}if(this.selectedInfo.node!=null){if((_25!=null&&this.selectedInfo.node.value!=_25)||(idx!=null&&this.selectedInfo.node.index!=idx)){WebSquare.event.fireEvent(this,"onchange");}}else{WebSquare.event.fireEvent(this,"onchange");}if(_25!=null){this.selectedInfo.node=this.tree.findNodeByValue(_25);}else{if(idx!=null){this.selectedInfo.node=this.tree.findNodeByIndex(idx);}}if(this.selectedInfo.node!=null&&_27){var _29=this.selectedInfo.node.parentNode;var _2a=[];while(_29){var idx=_29.index;_2a.push(idx);_29=_29.parentNode;}_2a.reverse();for(var i in _2a){this.toggleChild(null,_2a[i],true);}}this.selectedInfo.dom=document.getElementById(this.id+"_label_"+this.selectedInfo.node.index);this.selectedInfo.groupDom=document.getElementById(this.id+"_group_"+this.selectedInfo.node.index);this.addClass(this.selectedInfo.dom,this.options.labelonClickClass);this.originalBackgroundColor=this.selectedInfo.dom.style.backgroundColor;this.originalColor=this.selectedInfo.dom.style.color;this.selectedInfo.dom.style.backgroundColor="";this.selectedInfo.dom.style.color="";if(_28!==true){this.selectedInfo.groupDom.setAttribute("tabindex",0);this.selectedInfo.groupDom.focus();this.selectedInfo.groupDom.setAttribute("tabindex",-1);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.findNode=function(_2c,_2d){["WebSquare.uiplugin.treeview.findNode"];try{if(typeof _2d=="undefined"){_2d=true;}if(_2d===true){this.selectNode(_2c,null);var _2e=WebSquare.style.getAbsoluteTop(this.selectedInfo.dom);var _2f=WebSquare.style.getAbsoluteTop(this.render)+this.render.offsetHeight;if(_2f<_2e){this.render.scrollTop=(_2e-_2f+parseInt(this.render.offsetHeight/2));}return this.getSelectedNode();}else{return this.tree.findNodeByValue(_2c);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.findNodeByValue=function(_30){["WebSquare.uiplugin.treeview.findNodeByValue"];try{return this.tree.findNodeByValue(_30);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.findNodeByIndex=function(_31){["WebSquare.uiplugin.treeview.findNodeByIndex"];try{return this.tree.findNodeByIndex(_31);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.getSelectedNode=function(){["WebSquare.uiplugin.treeview.getSelectedNode"];try{if(this.selectedInfo){return this.selectedInfo.node;}else{return null;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.getSelectedDom=function(){["WebSquare.uiplugin.treeview.getSelectedDom"];try{if(this.selectedInfo){return this.selectedInfo.dom;}else{return null;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.getSelectedLabel=function(){["WebSquare.uiplugin.treeview.getSelectedLabel"];try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.label;}else{return "";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.getSelectedValue=function(){["WebSquare.uiplugin.treeview.getSelectedValue"];try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.value;}else{return "";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.treeview.getSelectedIndex"];try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.index;}else{return "";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.getSelectedElement=function(){["WebSquare.uiplugin.treeview.getSelectedElement"];try{if(this.selectedInfo&&this.selectedInfo.node){return this.selectedInfo.node.element;}else{return null;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.isLeaf=function(){["WebSquare.uiplugin.treeview.isLeaf"];try{if(this.selectedInfo&&this.selectedInfo.node){return !this.selectedInfo.node.hasChild();}else{return true;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.setLabelStyle=function(idx,_33,_34,_35){["WebSquare.uiplugin.treeview.setLabelStyle"];var _36;if(typeof idx==="object"&&typeof idx.index==="number"){_36=idx;}else{if(typeof idx==="number"){_36=this.tree.findNodeByIndex(idx);}else{if(typeof idx==="string"){_36=this.tree.findNodeByValue(idx);}}}this._setLabelStyle(_36,_33,_34,_35);};WebSquare.uiplugin.treeview.prototype.setCustomFormatter=function(_37){["WebSquare.uiplugin.treeview.setCustomFormatter"];if(typeof _37==="function"){var ni=this.tree.getNodeIterator();while(ni.next()){var _39=ni.getNode();if(_39.isRoot()){continue;}var _3a=this.tree.getCloneNode(_39);var _3b=_37.call(this,_39.label,_39.label,_3a)||_39.label;_39.label=_3b;if(_39.rendered){var _3c=document.getElementById(this.id+"_label_"+_39.index);_3c.firstChild.nodeValue=_39.label;}}ni=null;this.tree.customFormatter=_37;}};WebSquare.uiplugin.treeview.prototype._setLabelStyle=function(_3d,_3e,_3f,_40){["WebSquare.uiplugin.treeview._setLabelStyle"];if(_3d==null){return;}if(_3d.labelStyle==undefined){_3d.labelStyle={};}_3d.labelStyle[_3e]=_3f;this.originalBackgroundColor=_3d.labelStyle["background-color"]||this.originalBackgroundColor;this.originalColor=_3d.labelStyle["color"]||this.originalColor;if(_3d.rendered){var _41=document.getElementById(this.id+"_label_"+_3d.index);if(_41){var _42="";var _43=0;for(var i=0;i<_3e.length;i++){if(_3e.charAt(i)==="-"){_42+=_3e.charAt(i+1).capitalize();i++;}else{_42+=_3e.charAt(i);}}_41.style[_42]=_3f;}}if(_40===true){for(var i=0;i<_3d.childNodes.length;i++){var _45=_3d.childNodes[i];this._setLabelStyle(_45,_3e,_3f,_40);}}};WebSquare.uiplugin.treeview.prototype.checkNode=function(idx,_47,_48,_49){["WebSquare.uiplugin.treeview.checkNode"];try{var _4a=this.tree.findNodeByIndex(idx);_4a.checked=_47;if(!_4a.checkboxDom){_4a.checkboxDom=document.getElementById(this.id+"_checkbox_"+idx);}if(_4a.checkboxDom){_4a.checkboxDom.checked=_47;}if(this.options.refreshCheckboxModel==true){this.stopRefresh(true);if(_47==true){if(_4a.checkboxXPath&&WebSquare.ModelUtil.findInstanceNode(_4a.checkboxXPath)!=null){WebSquare.ModelUtil.setInstanceValue(_4a.checkboxXPath,this.options.trueValue);}}else{if(_4a.checkboxXPath&&WebSquare.ModelUtil.findInstanceNode(_4a.checkboxXPath)!=null){WebSquare.ModelUtil.setInstanceValue(_4a.checkboxXPath,this.options.falseValue);}}this.stopRefresh(false);}if(_48!==false&&(_48==true||this.options.hierarchy==true||this.options.checkAllChildNodes==true)){for(var i=0;i<_4a.childNodes.length;i++){var _4c=_4a.childNodes[i];this.checkNode(_4c.index,_47,true,false);}}if(this.options.hierarchy==true){this.partialSelection(_4a);}if(_49!==false&&_4a.parentNode.parentNode&&this.options.hierarchy==true){var _4d=true;var _4e=0;for(var i=0;i<_4a.parentNode.childNodes.length;i++){var _4c=_4a.parentNode.childNodes[i];if(_4c.checked!=true){_4d=false;break;}}if(_4d==true){this.checkNode(_4a.parentNode.index,true,false);}else{this.checkNode(_4a.parentNode.index,false,false);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.partialSelection=function(_4f){["WebSquare.uiplugin.treeview.partialSelection"];try{var _50=0;var _51=false;if(_4f.childNodes.length==0){return;}for(var i=0;i<_4f.childNodes.length;i++){var _53=_4f.childNodes[i];if(_53.checked==true){_50++;}else{if(_53.partial==true){_51=true;}}}if(_51==true||(0<_50&&_50<_4f.childNodes.length)){_4f.partial=true;this.addClass(_4f.checkboxDom,"w2treeview_partialselect");_4f.checkboxDom.checked=true;}else{_4f.partial=false;this.removeClass(_4f.checkboxDom,"w2treeview_partialselect");if(_4f.checked==true){_4f.checkboxDom.checked=true;}else{_4f.checkboxDom.checked=false;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.disableCheckboxByValue=function(_54,_55,_56){["WebSquare.uiplugin.treeview.disalbeNode"];try{var _57=this.tree.findNodeByValue(_54);this.disableCheckbox(_57,_55,_56);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.setLabelByIndex=function(_58,_59){["WebSquare.uiplugin.treeview.setLabelByValue"];this.setLabel(this.tree.findNodeByIndex(_58),_59);};WebSquare.uiplugin.treeview.prototype.setLabelByValue=function(_5a,_5b){["WebSquare.uiplugin.treeview.setLabelByValue"];this.setLabel(this.tree.findNodeByValue(_5a),_5b);};WebSquare.uiplugin.treeview.prototype.setLabel=function(_5c,_5d){["WebSquare.uiplugin.treeview.setLabel"];try{if(_5c){var _5e=this.refreshStop;this.refreshStop=true;if(this.modelControl.useItemset){WebSquare.ModelUtil.setInstanceValue(_5c.xpath+"/"+this.tree.xpath.label,_5d);}WebSquare.xml.setValue(_5c.element,"label",_5d);if(typeof this.tree.customFormatter==="function"){var _5f=this.tree.getCloneNode(_5c);_5d=this.tree.customFormatter.call(this,_5d,_5d,_5f);}_5c.label=_5d;if(_5c.rendered){var _60=document.getElementById(this.id+"_label_"+_5c.index);_60.firstChild.nodeValue=_5d;}this.refreshStop=_5e;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.disableCheckbox=function(_61,_62,_63){["WebSquare.uiplugin.treeview.disalbeNode"];try{if(!_61.checkboxDom){_61.checkboxDom=document.getElementById(this.id+"_checkbox_"+_61.index);}if(_61.checkboxDom){_61.checkboxDom.disabled=_62;_61.checkboxDisabled=_62;}if(this.options.refreshCheckboxDisableModel==true){this.stopRefresh(true);if(_62==true){if(WebSquare.ModelUtil.findInstanceNode(_61.checkboxDisableXPath)!=null){WebSquare.ModelUtil.setInstanceValue(_61.checkboxDisableXPath,this.options.checkboxDisabledTrueValue);}}else{if(WebSquare.ModelUtil.findInstanceNode(_61.checkboxDisableXPath)!=null){WebSquare.ModelUtil.setInstanceValue(_61.checkboxDisableXPath,this.options.checkboxDisabledFalseValue);}}this.stopRefresh(false);}if(_63===true){for(var i=0;i<_61.childNodes.length;i++){var _65=_61.childNodes[i];this.disableCheckbox(_65,_62,_63);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.checkByValue=function(_66,_67,_68){["WebSquare.uiplugin.treeview.checkByValue"];try{var _69=this.tree.findNodeByValue(_66);this.checkNode(_69.index,_67,_68);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.getParentValue=function(_6a){["WebSquare.uiplugin.treeview.getParentValue"];try{var _6b="";var _6c=this.tree.findNodeByValue(_6a);if(_6c&&!_6c.ParentNode){_6b=_6c.parentNode.value;}return _6b;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.getChildData=function(_6d){["WebSquare.uiplugin.treeview.getChildLength"];try{var _6e=this.tree.findNodeByValue(_6d);var _6f=[];for(var i=0;i<_6e.childNodes.length;i++){_6f.push(WebSquare.ModelUtil.findInstanceNode(_6e.childNodes[i].xpath));}return _6f;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.getXPathByValue=function(_71){["WebSquare.uiplugin.treeview.getXPathByValue"];try{var _72=this.tree.findNodeByValue(_71);return _72.xpath;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.nodeToHTML=function(_73){["WebSquare.uiplugin.treeview.nodeToHTML"];try{if(!_73){return "";}_73.rendered=true;var _74=[];var _75=this.options.accessibility;var _76=(this.options.escape)?WebSquare.xml._encode(_73.label):_73.label;var _77=(this.options.escape)?WebSquare.xml._encode(_73.value):_73.value;if(!_75){_74.push("<div tabindex='-1' id='"+this.id+"_group_"+_73.index+"' class='w2treeview_group' index='"+_73.index+"' label='"+_76+"'>");}else{_74.push("<ol tabindex='-1' id='"+this.id+"_group_"+_73.index+"' class='w2treeview_group' aria-expanded='true' index='"+_73.index+"' label='"+_76+"'>");}_74.push("<table id='"+this.id+"_node_"+_73.index+"' treeNodeValue='"+_77+"' index='"+_73.index+"' cellpadding='0' cellspacing='0'");if(_73.hasChild()){if(_73.depth>this.options.showTreeDepth){_74.push("class='w2treeview_node w2treeview_table_node w2treeview_notleaf w2treeview_close_child'>");}else{_74.push("class='w2treeview_node w2treeview_table_node w2treeview_notleaf w2treeview_open_child' opened='true'>");}}else{if(_73.isFirstChildByRoot()){if(_73.parentNode.childNodes.length==1){_74.push("class='w2treeview_node w2treeview_table_node w2treeview_root_single_leaf w2treeview_open_child'>");}else{_74.push("class='w2treeview_node w2treeview_table_node w2treeview_root_multi_leaf w2treeview_open_child'>");}}else{if(_73.isLastChild()){_74.push("class='w2treeview_node w2treeview_table_node w2treeview_leaf w2treeview_last_leaf w2treeview_open_child'>");}else{_74.push("class='w2treeview_node w2treeview_table_node w2treeview_leaf w2treeview_open_child'>");}}}_74.push("<tr class='w2treeview_row_parent w2treeview_row_depth"+_73.depth+"'>");if(this.options.lineShow==true){_74.push("<td id='"+this.id+"_col_icon_navi_"+_73.index+"' class='w2treeview_col_icon_navi'><div class='w2treeview_icon_navi'></div></td>");}else{if(_73.isLeaf()){if(!_75){_74.push("<td id='"+this.id+"_col_icon_navi_"+_73.index+"' class='w2treeview_col_icon_navi'><div class='w2treeview_icon_none'></div></td>");}else{_74.push("<td id='"+this.id+"_col_icon_navi_"+_73.index+"' class='w2treeview_col_icon_navi'></td>");}}else{if(!_75){_74.push("<td id='"+this.id+"_col_icon_navi_"+_73.index+"' class='w2treeview_col_icon_navi'><div class='w2treeview_icon_navi'></div></td>");}else{if(_73.depth>this.options.showTreeDepth){_74.push("<td id='"+this.id+"_col_icon_navi_"+_73.index+"' class='w2treeview_col_icon_navi'><img id='"+this.id+"_toggle_"+_73.index+"' src='"+this.options.folderOpenToggleImage+"' class='w2treeview_icon_navi_img' /></td>");}else{_74.push("<td id='"+this.id+"_col_icon_navi_"+_73.index+"' class='w2treeview_col_icon_navi'><img id='"+this.id+"_toggle_"+_73.index+"' src='"+this.options.folderCloseToggleImage+"' class='w2treeview_icon_navi_img' /></td>");}}}}if(_73.image!=""){var _78=_73.image;if(_73.hasChild()==true&&_73.depth<=this.options.showTreeDepth){_78=_73.expandedImage;}var _79=_73.imageTitle?"title='"+_73.imageTitle+"'":"";_74.push("<td class='w2treeview_col_icon_label'>");_74.push("<div id='"+this.id+"_icon_"+_73.index+"' class='w2treeview_icon_label'"+_79+" style='background-image:url("+_78+")'></div>");_74.push("</td>");}else{_74.push("<td class='w2treeview_none'></td>");}if(this.options.showCheckbox==true){_74.push("<td class='w2treeview_col w2treeview_col_icon_checkbox'>");if(WebSquare.util.isIE()){_74.push("<div style='left:0px;top:-1px;' class='w2treeview_partialdiv'>");}else{_74.push("<div style='left:4px;top:-1px;' class='w2treeview_partialdiv'>");}if(_73.checked==true){if(_73.checkboxDisabled==true){_74.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' disabled='true' id='"+this.id+"_checkbox_"+_73.index+"' class='w2treeview_checkbox' />");}else{_74.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' id='"+this.id+"_checkbox_"+_73.index+"' class='w2treeview_checkbox' />");}}else{if(_73.checkboxDisabled==true){if(_73.partial==true){_74.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' disabled='true' id='"+this.id+"_checkbox_"+_73.index+"' class='w2treeview_checkbox w2treeview_partialselect' />");}else{_74.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' disabled='true' id='"+this.id+"_checkbox_"+_73.index+"' class='w2treeview_checkbox' /></div>");}}else{if(_73.partial==true){_74.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' checked='true' id='"+this.id+"_checkbox_"+_73.index+"' class='w2treeview_checkbox w2treeview_partialselect' />");}else{_74.push("<input tabindex='-1' style='"+this.checkboxStyle+"' type='checkbox' id='"+this.id+"_checkbox_"+_73.index+"' class='w2treeview_checkbox' />");}}}_74.push("\t\t\t</div>");_74.push("\t\t</td>");}var _7a="";if(typeof _73.labelStyle==="object"){var _7b="";for(var key in _73.labelStyle){_7b+=key+":"+_73.labelStyle[key]+";";}_7a=" style='"+_7b+"'";}if(this.options.rowHeight!=-1){_74.push("<td class='w2treeview_col_label' style='height:"+this.options.rowHeight+"px;'><span id='"+this.id+"_label_"+_73.index+"' class='w2treeview_label "+this.options.labelclass+"'"+_7a+">"+_76+"</span></td>");}else{_74.push("<td class='w2treeview_col_label'><span id='"+this.id+"_label_"+_73.index+"' class='w2treeview_label "+this.options.labelclass+"'"+_7a+">"+_76+"</span></td>");}_74.push("</tr>");if(_73.hasChild()||this.options.dynamicAppend==true){_74.push("<tr class='w2treeview_row_child'>");if(this.options.lineShow==false||_73.isLastChild()){_74.push("<td id='"+this.id+"_guideline_"+_73.index+"' class='w2treeview_noguideline w2treeview_col_depth"+_73.depth+"'></td>");}else{_74.push("<td id='"+this.id+"_guideline_"+_73.index+"' class='w2treeview_guideline w2treeview_row_depth"+_73.depth+"'></td>");}if(this.options.showCheckbox==true){_74.push("<td colspan='3'>");}else{_74.push("<td colspan='2'>");}if(_73.depth>this.options.showTreeDepth){_74.push("<div id='"+this.id+"_child_"+_73.index+"' class='w2treeview_child w2treeview_none'>");}else{_74.push("<div id='"+this.id+"_child_"+_73.index+"' class='w2treeview_child'>");}if(this.options.alwaysDraw==true||_73.depth<=this.options.showTreeDepth){for(var i=0;i<_73.childNodes.length;i++){_74.push(this.nodeToHTML(_73.childNodes[i]));}}_74.push("</div>");_74.push("</td>");_74.push("</tr>");}_74.push("</table>");if(!_75){_74.push("</div>");}else{_74.push("</ol>");}return _74.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.toggleChild=function(_7e,idx,_80){["WebSquare.uiplugin.treeview.toggleChild"];try{if(idx==null){idx=-1;}if(_7e!=null){var _81=this.tree.findNodeByValue(_7e);if(_81){idx=_81.index;}}var _81=this.tree.findNodeByIndex(idx);if(_81&&_81.depth>0&&_81.hasChild()){var _82=document.getElementById(this.id+"_node_"+idx);var _83=document.getElementById(this.id+"_child_"+idx);var _84=document.getElementById(this.id+"_icon_"+idx);if(_82&&_83){var _85=(_81.childNodes&&_81.childNodes[0]&&_81.childNodes[0].rendered)?true:false;if(!_85||this.options.accessibility){var _86=[];for(var i=0;i<_81.childNodes.length;i++){_86.push(this.nodeToHTML(_81.childNodes[i]));}_83.innerHTML=_86.join("");}var _88=WebSquare.util.getBoolean(_82.getAttribute("opened"));if(typeof _80=="undefined"||_80==null){_80=(_88==false)?true:false;}if(_80==true){if(this.options.accordion==true){var _89={};var _8a=_81;while(_8a.parentNode){_8a=_8a.parentNode;_89[_8a.index]=_8a.depth;}for(var i in this.openedNodes){if(this.openedNodes[i]!=_81&&!_89[this.openedNodes[i].index]){if(this.openedNodes[i].depth<=_81.depth){this.toggleChild(null,i,false);}}}this.openedNodes[idx]=_81;}_82.setAttribute("opened","true");_83.style.display="block";this.changeClass(_82,"w2treeview_close_child","w2treeview_open_child");if(_84){_84.style.backgroundImage="url("+_81.expandedImage+")";}if(this.options.accessibility){var _8b=document.getElementById(this.id+"_toggle_"+idx);if(_8b){_8b.src=this.options.folderCloseToggleImage;}}}else{if(_80==false){_82.setAttribute("opened","false");if(this.openedNodes[idx]){delete this.openedNodes[idx];}_83.style.display="none";this.changeClass(_82,"w2treeview_open_child","w2treeview_close_child");if(_84){_84.style.backgroundImage="url("+_81.image+")";}if(this.options.accessibility){var _8b=document.getElementById(this.id+"_toggle_"+idx);if(_8b){_8b.src=this.options.folderOpenToggleImage;}WebSquare.removeChildren(_83);}}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.spanAll=function(_8c){["WebSquare.uiplugin.treeview.spanAll"];try{if(this.options.accordion==true){$l("treeview\uc758 accordion \ubaa8\ub4dc\uc5d0\uc11c\ub294 spanAll API\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");return;}if(_8c==true){for(var idx=0;idx<this.tree.size();idx++){this.toggleChild(null,idx,_8c);}}else{if(_8c==false){for(var idx=this.tree.size()-1;idx>=0;idx--){this.toggleChild(null,idx,_8c);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.showTooltip=function(_8e,top,_90){["WebSquare.uiplugin.treeview.showTooltip"];try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.timeHideTooltip!=null){clearTimeout(this.timeHideTooltip);this.timeHideTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new WebSquare.uiplugin.group(this.id+"_tooltip",{className:"w2treeview_tooltip "+this.options.tooltipClass});this.tooltip.writeTo(WebSquare.getBody());this.tooltip.activate();}this.tooltip.setStyle("display","block");this.tooltip.setStyle("left",_8e+"px");this.tooltip.setStyle("top",top+"px");if(this.options.escape){_90=WebSquare.xml._encode(_90);}this.tooltip.render.innerHTML=_90;}),this.options.tooltipTime*1000);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.hideTooltip=function(){["WebSquare.uiplugin.treeview.hideTooltip"];try{this.timeHideTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(this.tooltip){this.tooltip.setStyle("display","none");}}),this.options.tooltipTime*1000);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.setXML=function(_91){["WebSquare.uiplugin.treeview.setXML"];try{var _92=null;var _93=this.tree.getNodeset();var _94=WebSquare.xml.findNodes(_91,_93);if(this.options.dataType=="recursive"){_92=this.tree.parseRecursiveToTree(_94);}else{if(this.options.dataType=="listed"){_92=this.tree.parseListToTree(_94);}}this.tree.setXML(_92);this.drawContents();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.activateDrag=function(e){["WebSquare.uiplugin.treeview.activateDrag"];try{WebSquare.event.stopEvent(e);var _96=this;var it=this.event.getTargetIterator(e,this.render);if(it.element.id===this.id){return;}var _98=false;var _99=false;var _9a=false;var _9b=false;while(it.next()){if(it.match("w2treeview_label")){_9b=true;}if(it.match("w2treeview_icon_navi")||it.match("w2treeview_icon_navi_img")){_98=true;}if(it.match("w2treeview_icon_label")){_99=true;}if(it.match("w2treeview_checkbox")){_9a=true;}if(it.match("w2treeview_node")){var _9c=it.getElement().getAttribute("index");if(_9c==null){it.stop();break;}if(this.options.toggleButtonEvent=="onmousedown"){var _9d=this.tree.findNodeByIndex(_9c);if(_98&&!_9d.isLeaf()){this.toggleChild(null,_9c);var _9e=(_9d.childNodes&&_9d.childNodes[0]&&_9d.childNodes[0].rendered)?true:false;if(!this.inlineElement){WebSquare.event.fireEvent(this,"ontoggleclick",_9d.element,_9c,_9e);}else{WebSquare.event.fireEvent(this,"ontoggleclick",null,_9c,_9e);}}}if(_9b||_9a||_99||_98){this.selectNode(null,_9c,false,true);}if(this.options.useDrag==true){var _9f=this.getSelectedLabel();WebSquare.dragdrop.gDragManager.activate(e,it.getElement(),{id:this.id+"_drag",className:"w2treeview_drag",contents:_9f,delay:15,dropClass:"w2treeview_node",dragoverClass:"w2treeview_label",applyMousePosition:true,onDrop:function(_a0,_a1,x,y,dx,dy,e){if(!_a0){return;}var _a7=null;var it2={};if(_a1){it2=new WebSquare.targetIterator(_a1,_96.render);}else{it2=_96.event.getTargetIterator(e);}while(it2.next()){if(it2.match("w2treeview")){var _a9=it2.getElement().id;if(window[_a9]){_a7=window[_a9];}it2.stop();}}it2=null;if(_a7&&!_a1){_a1=document.getElementById(_a7.id+"_node_0");}if(_a0&&_a1&&_a7){var _aa=_a0.getAttribute("index");var _ab=_a1.getAttribute("index");var _ac=_96.tree.findNodeByIndex(_aa);var _ad=_a7.tree.findNodeByIndex(_ab);WebSquare.event.fireEvent(_a7,"ondrop",_ac,_ad,_96,_a7,e);}},onDragover:function(_ae,_af,x,y,dx,dy,e){if(!_ae){return;}if(!_af){WebSquare.event.fireEvent(_96,"ondragleave",e);return;}var _b5=null;var it2=new WebSquare.targetIterator(_af,_96.render);while(it2.next()){if(it2.match("w2treeview")){var _b7=it2.getElement().id;if(window[_b7]){_b5=window[_b7];}it2.stop();}}it2=null;if(_b5){var _b8=_ae.getAttribute("index");var _b9=_af.getAttribute("id");var _ba=_b9.substring(_b9.lastIndexOf("_")+1,_b9.length);var _bb=_96.tree.findNodeByIndex(_b8);var _bc=_b5.tree.findNodeByIndex(_ba);WebSquare.event.fireEvent(_b5,"ondragover",_bb,_bc,_96,_b5,e);}}});}it.stop();}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.appendXmlNodes=function(_bd,_be){["WebSquare.uiplugin.treeview.appendXmlNodes"];try{this.appendData(_bd.index,_be,true);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.appendNode=function(_bf,_c0){["WebSquare.uiplugin.treeview.appendNode"];try{if(this.options.dynamicAppend==false){$l("treeview\ub97c \ub3d9\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294  dynamicAppend='true'\ub85c \uc124\uc815\ud558\ub294 \uac83\uc744 \uad8c\uc7a5\ud569\ub2c8\ub2e4.");}var _c1=_bf.index;if(this.options.dynamicAppend==true){var _c2=(_bf.childNodes)?_bf.childNodes.length+1:1;_bf.appendChild(this.tree.parseNodeByNode(_c0,(_bf.depth+1),_c2,_bf));for(var i=0;i<_bf.childNodes.length;i++){this.tree.setRender(_bf.childNodes[i],false);}this.refreshNaviIcon(_bf);if(_bf.childNodes.length>0){_bf.childNodes[0].rendered=false;this.toggleChild(null,index,true);}}else{_bf.appendChild(_c0);this.drawContents();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.refreshNaviIcon=function(_c4){["WebSquare.uiplugin.treeview.refreshNaviIcon"];try{if(!_c4){return;}var _c5=_c4.index;var _c6=document.getElementById(this.id+"_node_"+_c5);var _c7=document.getElementById(this.id+"_col_icon_navi_"+_c5);if(_c4.childNodes.length>0){if(!this.options.accessibility){if(_c6){this.removeClass(_c6,"w2treeview_leaf");}if(_c6){this.removeClass(_c6,"w2treeview_last_leaf");}if(_c6){this.removeClass(_c6,"w2treeview_root_single_leaf");}if(_c6){this.removeClass(_c6,"w2treeview_root_multi_leaf");}if(_c4.isFirstChildByRoot()){if(_c4.parentNode.childNodes.length==1){if(_c7){this.changeClass(_c7,"w2treeview_first_leaf","w2treeview_icon_navi");}}else{if(_c7){this.changeClass(_c7,"w2treeview_root_multi_leaf","w2treeview_icon_navi");}}}else{if(_c4.isLastChild()){if(_c7){this.changeClass(_c7,"w2treeview_last_leaf","w2treeview_icon_navi");}}else{if(_c7){this.changeClass(_c7,"w2treeview_leaf","w2treeview_icon_navi");}}}}else{if(_c7){_c7.innerHTML="<img id='"+this.id+"_toggle_"+_c5+"' src='"+this.options.folderOpenToggleImage+"' class='w2treeview_icon_navi_img' />";}}}else{if(!this.options.accessibility){if(_c6){this.changeClass(_c6,"w2treeview_notleaf","w2treeview_leaf");}}else{if(_c7){_c7.innerHTML="<img id='"+this.id+"_toggle_"+_c5+"' src='"+this.options.leafToggleImage+"' class='w2treeview_icon_navi_img' />";}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.removeNode=function(_c8){["WebSquare.uiplugin.treeview.removeNode"];try{if(!_c8){return;}var _c9=_c8.parentNode;if(_c9){var _ca=_c9.index;_c9.removeChild(_c8);if(this.options.dynamicAppend==true){var _cb=_c8.index;var _cc=document.getElementById(this.id+"_group_"+_cb);if(_cc){WebSquare.removeChildren(_cc);}if(_ca==0){_c9._hasChild=_c9.folder?null:(_c9.childNodes.length!=0);this.drawContents();}else{this.refreshNaviIcon(_c9);}}else{this.drawContents();}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.removeNodeList=function(_cd){["WebSquare.uiplugin.treeview.removeNodeList"];try{for(var i=0;i<_cd.length;i++){if(!_cd[i]){continue;}var _cf=_cd[i].parentNode;if(_cf){var _d0=_cf.index;_cf.removeChild(_cd[i]);}}this.drawContents();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.initRenderStatus=function(){["WebSquare.uiplugin.treeview.initRenderStatus"];try{var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var _d2=ni.getNode();_d2.rendered=false;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.getCheckedValues=function(){["WebSquare.uiplugin.treeview.getCheckedValues"];try{var arr=[];var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var _d5=ni.getNode();if(_d5.checked==true){arr.push(_d5.value);}}return arr;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.getCheckedLabels=function(){["WebSquare.uiplugin.treeview.getCheckedLabels"];try{var arr=[];var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var _d8=ni.getNode();if(_d8.checked==true){arr.push(_d8.label);}}return arr;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.getCheckedIndexes=function(){["WebSquare.uiplugin.treeview.getCheckedIndexs"];try{var arr=[];var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var _db=ni.getNode();if(_db.checked==true){arr.push(_db.index);}}return arr;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.expandNode=function(_dc){["WebSquare.uiplugin.treeview.expandNode"];try{this.toggleChild(_dc,null,true);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.collapseNode=function(_dd){["WebSquare.uiplugin.treeview.collapseNode"];try{this.toggleChild(_dd,null,false);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.getAllXML=function(){["WebSquare.uiplugin.treeview.getAllXML"];try{var _de=null;if(this.options.dataType=="recursive"){_de=this.tree.rootNode.element;}else{if(this.options.dataType=="listed"){_de=this.tree.parseTreeToList();}}return _de;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.stopRefresh=function(_df){["WebSquare.uiplugin.treeview.stopRefresh"];try{this.refreshStop=WebSquare.util.getBoolean(_df);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.getNextNode=function(_e0){["WebSquare.uiplugin.treeview.getChildNextNode"];var _e1=null;var _e2=_e0.index;var _e3=_e0.depth;var _e4=document.getElementById(this.id+"_node_"+_e2);var _e5=WebSquare.util.getBoolean(_e4.getAttribute("opened"));var ni=this.tree.getNodeIterator({type:"dfs"});var _e7=false;while(ni.next()){var _e8=ni.getNode();if(!_e7){if(_e8.index==_e2){_e7=true;}}else{if(!_e5){if(_e8.depth<=_e3){break;}}else{break;}}}_e1=ni.getNode();return _e1;};WebSquare.uiplugin.treeview.prototype.getPreviousNode=function(_e9){["WebSquare.uiplugin.treeview.getPreviousNode"];var _ea=null;var _eb=_e9.index;var ni=this.tree.getNodeIterator({type:"dfs"});var _ed={};while(ni.next()){var _ee=ni.getNode();if(_ee.index==_eb){return _ea;}if(!this.options.accessibility){var _ef=document.getElementById(this.id+"_node_"+_ee.index);var _f0=_ef?WebSquare.util.getBoolean(_ef.getAttribute("opened")):false;var _f1=_ee.parentNode?_ee.parentNode.depth:0;if(_ed[_f1]||_ee.depth==0){if(_ee.depth==0){_f0=true;}_ed[_ee.depth]=_f0;_ea=_ee;}else{_ed[_ee.depth]=false;}}else{if(document.getElementById(this.id+"_group_"+_ee.index)){_ea=_ee;}}}return _ea;};WebSquare.uiplugin.treeview.prototype.handleToggleEvent=function(e){["WebSquare.uiplugin.treeview.handleToggleEvent"];try{var _f3=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_f3=true;}if(_f3&&it.match("w2treeview_node")){var _f5=it.getElement().getAttribute("treeNodeValue");var _f6=it.getElement().getAttribute("index");this.toggleChild(null,_f6);it.stop();}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.handleDblclickEvent=function(e){["WebSquare.uiplugin.treeview.handleDblclickEvent"];try{var _f8=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_f8=true;}if(_f8&&it.match("w2treeview_node")){WebSquare.event.fireEvent(this,"ondblclick");it.stop();}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.treeview.handleClickEvent"];try{var _fb=false;var _fc=false;var _fd=false;var _fe=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_fe=true;}if(it.match("w2treeview_icon_navi")||it.match("w2treeview_icon_navi_img")){_fb=true;}if(it.match("w2treeview_icon_label")){_fc=true;}if(it.match("w2treeview_checkbox")){_fd=true;}if(it.match("w2treeview_node")){var _100=it.getElement().getAttribute("treeNodeValue");var _101=it.getElement().getAttribute("index");var node=this.tree.findNodeByIndex(_101);if(_fb&&!node.isLeaf()&&this.options.toggleButtonEvent!="onmousedown"){this.toggleChild(null,_101);var _103=(node.childNodes&&node.childNodes[0]&&node.childNodes[0].rendered)?true:false;if(!this.inlineElement){WebSquare.event.fireEvent(this,"ontoggleclick",node.element,_101,_103);}else{WebSquare.event.fireEvent(this,"ontoggleclick",null,_101,_103);}}if(_fd){if(!node.checkboxDisabled){var _104=!node.checked;this.checkNode(_101,_104);if(!this.inlineElement){if(this.options.dynamicAppend==true){WebSquare.event.fireEvent(this,"oncheckboxclick",_100,node.element,_101);}else{WebSquare.event.fireEvent(this,"oncheckboxclick",_100,WebSquare.ModelUtil.findInstanceNode(node.xpath),_101);}}else{WebSquare.event.fireEvent(this,"oncheckboxclick",_100,null,_101);}}}if(_fe){if(!this.inlineElement){if(this.options.dynamicAppend==true){WebSquare.event.fireEvent(this,"onlabelclick",_100,node.element,_101);}else{WebSquare.event.fireEvent(this,"onlabelclick",_100,WebSquare.ModelUtil.findInstanceNode(node.xpath),_101);}}else{WebSquare.event.fireEvent(this,"onlabelclick",_100,null,_101);}}var _105=WebSquare.core.getConfiguration("/WebSquare/treeview/useClickEventToggleButton/@value");if(_fe||_fd||_fc||(_fb&&_105!="false")){this.selectNode(null,_101,false);WebSquare.event.fireEvent(this,"onclick");}it.stop();}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.treeview.handleMouseoverEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){this.addClass(it.getElement(),"w2treeview_over");if(this.options.tooltipDisplay==true){var _108=it.getElement();var left=WebSquare.style.getAbsoluteLeft(_108);var top=WebSquare.style.getAbsoluteTop(_108);var _10b=_108.innerHTML;var _10c=WebSquare.style.getAbsoluteLeft(this.render);if(left+_108.offsetWidth>_10c+this.render.clientWidth+this.render.scrollLeft){this.showTooltip(left,top,_10b);}else{if(!WebSquare.util.isIE(6)&&!WebSquare.util.isIE(7)){var _10d=_108.style.display;_108.style.display="block";if(_108.clientWidth<_108.scrollWidth){this.showTooltip(left,top,_10b);}_108.style.display=_10d;}else{this.hideTooltip();}}}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.treeview.handleMouseoutEvent"];try{WebSquare.event.stopEvent(e);if(this.options.tooltipDisplay==true){this.hideTooltip();}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){this.removeClass(it.getElement(),"w2treeview_over");}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.handleContextmenuEvent=function(e){["WebSquare.uiplugin.treeview.handleContextmenuEvent"];try{WebSquare.event.stopEvent(e);var _111=false;var _112=false;var _113=false;var _114=false;var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2treeview_label")){_114=true;}if(it.match("w2treeview_icon_navi")){_111=true;}if(it.match("w2treeview_icon_label")){_112=true;}if(it.match("w2treeview_checkbox")){_113=true;}if(it.match("w2treeview_node")){var _116=it.getElement().getAttribute("treeNodeValue");var _117=it.getElement().getAttribute("index");if(_111){this.toggleChild(null,_117);}if(_113){var _118=document.getElementById(this.id+"_checkbox_"+_117).checked;this.checkNode(_117,_118);}if(_114||_113||_112){this.selectNode(null,_117);WebSquare.event.fireEvent(this,"onrightbuttonclick",this.findNodeByIndex(_117),WebSquare.event.getMouseX(e),WebSquare.event.getMouseY(e));}it.stop();}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.treeview.handleKeydownEvent"];try{var _11a=(e.charCode)?e.charCode:e.keyCode;var _11b=0;var _11c=null;if(this.selectedInfo.node){_11c=this.selectedInfo.groupDom;_11b=this.selectedInfo.node.index;}else{_11c=e.srcElement||e.target;_11b=_11c.getAttribute("index");}var node=this.tree.findNodeByIndex(_11b);if(_11a===37||_11a===39||_11a===13){var _11e=(_11a===37)?false:true;if(_11a===13){this.toggleChild(null,_11b,null);}else{this.toggleChild(null,_11b,_11e);}var _11f=(node.childNodes&&node.childNodes[0]&&node.childNodes[0].rendered)?true:false;if(!this.inlineElement){WebSquare.event.fireEvent(this,"ontoggleclick",node.element,_11b,_11f);}else{WebSquare.event.fireEvent(this,"ontoggleclick",null,_11b,_11f);}WebSquare.event.stopEvent(e);}else{if(_11a===38){var _120=null;if(_11b==0){_11b=1;_120=this.tree.findNodeByIndex(_11b);}else{if(_11c.id.indexOf("_group_")>-1){_120=this.getPreviousNode(node);}}if(_120){var _121=_120.index;var _122=document.getElementById(this.id+"_group_"+_121);if(_122){this.selectNode(null,_121,false);}WebSquare.event.stopEvent(e);}}else{if(_11a===40){var _120=null;if(_11b==0){_11b=1;_120=this.tree.findNodeByIndex(_11b);}else{if(_11c.id.indexOf("_group_")>-1){_120=this.getNextNode(node);}}if(_120){var _121=_120.index;var _122=document.getElementById(this.id+"_group_"+_121);if(_122){this.selectNode(null,_121,false);}WebSquare.event.stopEvent(e);}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.treeview.prototype.setDisabled=function(_123){["WebSquare.uiplugin.treeview.setDisabled"];_123=WebSquare.util.getBoolean(_123);var ret=WebSquare.xfControl.prototype.setDisabled.call(this,_123);this.disableCheckbox(this.tree.rootNode,_123,true);return ret;};requires("uiplugin.group");requires("uiplugin/treeview/tree.js");requires("uiplugin/graphicUtil/graphicUtil.js");WebSquare.uiplugin.menu=function(id,_2,_3){["WebSquare.uiplugin.menu"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.menu.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.menu.prototype.defaultOptions={pluginType:"uiplugin.menu",pluginName:"menu",userEvents:["onleafclick","onbranchclick"],isVertical:false,dataType:"recursive",repeatNode:"",menuHide:true,firstOpenEvent:"onmouseover",menuWidthType:"byWidth",firstMenuGap:10,menuPosition:"manual",keepFirstSelectedMenu:false,hoverOneDepthMenuId:undefined,nowSelectedOneDepthMenuIndex:-1,beforeSelectedOneDepthMenuIndex:-1,selectedMenuIndex:-1,overlapHeight:0,overlapWidth:0,wmode:false};WebSquare.uiplugin.menu.prototype.initialize=function(_4){["WebSquare.uiplugin.menu.initialize"];try{this.tree=new WebSquare.collection.tree();this.childMenuLayerArr=[];this.timeHide=null;this.mainMenuInfo={defaultStyle:{style:"",className:""},hoverStyle:{style:"",className:""},selectedStyle:{style:"",className:""}};this.childMenuInfo={roundStyle:{borderWidth:"0",borderColor:"#ffffff",fillColor:"#ffffff",arcSize:"0"},defaultStyle:{style:"",className:""},hoverStyle:{style:"",className:""},selectedStyle:{style:"",className:""},childDefaultStyle:{style:"",className:""},childHoverStyle:{style:"",className:""},childSelectedStyle:{style:"",className:""},childStyle:{style:"",className:""},containerStyle:{style:"",className:""}};this.selectedChildNodeList=[];this.directionObject={"direction":-1};this.oneDepthMenuId="";this.selectedMenuDepth=-1;this.maxChildMenuDepth=-1;if(_4){var _5=WebSquare.WebSquareparser.parseItemset(_4);this.modelControl.setItemset(_5.nodeset,_5.label,_5.value);var _6="w2:";var _7=WebSquare.xml.findNode(_4,_6+"mainMenu");if(_7){for(var _8=_7.firstChild;_8!=null;_8=_8.nextSibling){if(_8.nodeType==1){var _9=WebSquare.xml.getLocalName(_8);this.mainMenuInfo[_9]=WebSquare.WebSquareparser.parseAttribute(_8);}}}var _a=WebSquare.xml.findNode(_4,_6+"childMenu");if(_a){this.childMenuInfo["onclick"]=WebSquare.xml.getValue(_a,"@onclick");try{this.childMenuInfo["onclickFunc"]=null;}catch(e){}for(var _8=_a.firstChild;_8!=null;_8=_8.nextSibling){if(_8.nodeType==1){var _9=WebSquare.xml.getLocalName(_8);this.childMenuInfo[_9]=WebSquare.WebSquareparser.parseAttribute(_8);}}}var _b=null;var _c=WebSquare.xml.findNode(_4,_6+"itemset");if(_c){var _d=WebSquare.xml.getValue(_c,"@nodeset");var _e=_d.replace(/\[[^\[\]]*\]/g,"").match(/[^\/]*$/);if(_e){_e=_e[0];}var _f=WebSquare.xml.getValue(_c,_6+"label/@ref");var _10=WebSquare.xml.getValue(_c,_6+"value/@ref");var _11=WebSquare.xml.getValue(_c,_6+"depth/@ref");var _12=WebSquare.xml.getValue(_c,_6+"auth/@ref");this.tree.setXPath(_d,_f,_10,_11,_e,false,_12);var _13=WebSquare.ModelUtil.findInstanceNodes(_d);if(this.options.dataType=="recursive"){_b=this.tree.parseRecursiveToTree(_13);}else{if(this.options.dataType=="listed"){_b=this.tree.parseListToTree(_13);}}}else{_b=_4;}if(_b){this.tree.setXML(_b);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.toHTML=function(){["WebSquare.uiplugin.menu.toHTML"];try{var _14=[];if(this.options.isVertical==true){_14.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2menu w2menu_vertical "+this.options.className+"'>");}else{_14.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2menu "+this.options.className+"'>");}_14.push("</div>");return _14.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.setAction=function(){["WebSquare.uiplugin.menu.setAction"];try{this.drawContents();this.event.addListener(document.documentElement,"onclick",this.event.bindAsEventListener(this,this.handleClickEventDocument));this.event.addListener(this.render,this.options.firstOpenEvent,this.event.bindAsEventListener(this,this.handleFirstOpenEvent));this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.refreshItemset=function(){["WebSquare.uiplugin.menu.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){var _15=null;var _16=this.tree.getNodeset();var _17=WebSquare.ModelUtil.findInstanceNodes(_16);if(this.options.dataType=="recursive"){_15=this.tree.parseRecursiveToTree(_17);}else{if(this.options.dataType=="listed"){_15=this.tree.parseListToTree(_17);}}this.tree.setXML(_15);this.removeMenuLayer();this.drawContents();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.setXML=function(_18){["WebSquare.uiplugin.menu.setXML"];try{var _19=null;var _1a=this.tree.getNodeset();this.removeMenuLayer();var _1b=WebSquare.xml.findNodes(_18,_1a);if(this.options.dataType=="recursive"){_19=this.tree.parseRecursiveToTree(_1b);}else{if(this.options.dataType=="listed"){_19=this.tree.parseListToTree(_1b);}}this.tree.setXML(_19);this.drawContents();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.drawContents=function(){["WebSquare.uiplugin.menu.drawContents"];try{this.render.innerHTML=this.mainNodeToHTML(this.tree.rootNode);if(this.options.menuPosition=="manual"){this.setMainMenuPosition();}if(this.options.keepFirstSelectedMenu&&this.options.selectedMenuIndex>-1&&this.options.selectedMenuIndex<this.tree.rootNode.childNodes.length){this.options.nowSelectedOneDepthMenuIndex=this.options.selectedMenuIndex;var _1c=this.tree.rootNode.childNodes[this.options.selectedMenuIndex].nodeDom;this.addClass(_1c,"w2menu_node_selected");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.setMainMenuPosition=function(){["WebSquare.uiplugin.menu.setMainMenuPosition"];try{if(this.tree.rootNode){var _1d=this.tree.rootNode.childNodes.length;var _1e=Math.floor(this.render.offsetWidth/_1d)-3;var _1f=Math.floor(this.render.offsetHeight/_1d)-3;var _20=0;var _21=0;var _22=0;var ni=this.tree.getNodeIterator({type:"bfs"});while(ni.next()){var _24=ni.getNode();if(_24.depth>1){ni.stop();}if(_24.depth==1){_24.nodeDom=document.getElementById(this.id+"_node_"+_24.index);if(this.options.menuWidthType=="byEverage"){if(this.options.isVertical==true){_24.nodeDom.style.height=_1f+"px";_24.nodeDom.style.top=(_20*_1f)+"px";}else{_24.nodeDom.style.width=_1e+"px";_24.nodeDom.style.left=(_20*_1e)+"px";}_20++;}else{if(this.options.menuWidthType=="byWidth"){if(this.options.isVertical==true){_24.nodeDom.style.top=_22+"px";_22+=(_24.nodeDom.offsetHeight+this.options.firstMenuGap);}else{_24.nodeDom.style.left=_21+"px";_21+=(_24.nodeDom.offsetWidth+this.options.firstMenuGap);}}else{if(this.options.menuWidthType=="custom"){}}}}}ni=null;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.setChildMenuPosition=function(_25,_26,e,_28){["WebSquare.uiplugin.menu.setChildMenuPosition"];try{var _29=this.getChild(this.id+"_subLayer");if(_29&&_25){if(_26.depth==1){if(this.options.isVertical==true){_29.render.style.top=WebSquare.style.getAbsoluteTop(_28)+"px";}else{_29.render.style.left=WebSquare.style.getAbsoluteLeft(_28)+"px";}this.directionObject={"direction":-1};}else{var _2a=-1;var _2b=0;var _2c=1;var _2d=WebSquare.style.getAbsoluteLeft(_29.render);var _2e=WebSquare.style.getAbsoluteTop(_29.render);var _2f=WebSquare.style.getRelativeLeft(_28,_29.render);var _30=WebSquare.style.getRelativeTop(_28,_29.render);var _31=_28.offsetWidth;var _32=(_25.render.children[0])?_25.render.children[0].scrollWidth:0;var _33=document.body.clientWidth;if(this.directionObject[_25.render.id]==undefined){this.directionObject[_25.render.id]=this.directionObject["direction"];}else{this.directionObject["direction"]=this.directionObject[_25.render.id];}switch(this.directionObject["direction"]){case _2a:if(_2d+_31+_32>_33){_2f-=_32;this.directionObject["direction"]=_2c;}else{_2f+=_31;this.directionObject["direction"]=_2b;}break;case _2b:_2d=WebSquare.style.getAbsoluteLeft(_28.parentElement);if(_2d+_31+_32>_33){_2f-=_32;this.directionObject["direction"]=_2c;}else{_2f+=_31;}break;case _2c:_2d=WebSquare.style.getAbsoluteLeft(_28.parentElement);if(_2d-_32<0){_2f+=_31;this.directionObject["direction"]=_2b;}else{_2f-=_32;}break;}if(this.directionObject["direction"]==_2b){_2f-=this.options.overlapWidth;}else{if(this.directionObject["direction"]==_2c){_2f+=this.options.overlapWidth;}}_30+=this.options.overlapHeight;_25.render.style.left=_2f+"px";_25.render.style.top=_30+"px";}}if(this.options.wmode){WebSquare.getBody().showWModeFrame("menu",_25.render);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.mainNodeToHTML=function(_34){["WebSquare.uiplugin.menu.mainNodeToHTML"];try{if(!_34){return "";}if(_34.rendered==true){return "";}_34.rendered=true;var _35=[];if(_34.depth==0){_35.push("<div class='w2menu_main'>");for(var i=0;i<_34.childNodes.length;i++){var _37=_34.childNodes[i];if(this.authorization){var _38=this.authFunction(_37.label,_37.value,_37.depth,_37.auth);if(!_38){continue;}}_35.push("<span class='w2menu_node "+this.mainMenuInfo.defaultStyle.className+"' id='"+this.id+"_node_"+_37.index+"' index='"+_37.index+"'>");_35.push("<span class='w2menu_label'>"+_37.label+"</span>");_35.push("</span>");}_35.push("</div>");}return _35.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.childNodeToHTML=function(_39){["WebSquare.uiplugin.menu.childNodeToHTML"];try{if(!_39){return "";}if(_39.rendered==true){return "";}_39.rendered=true;var _3a=[];if(_39.childNodes.length>0){_3a.push("<div class='w2menu_depth"+(_39.depth+1)+" w2menu_child'>");_3a.push("<div class='w2menu_child_container "+this.childMenuInfo.containerStyle.className+"'>");for(var i=0;i<_39.childNodes.length;i++){var _3c=_39.childNodes[i];if(this.authorization){var _3d=this.authFunction(_3c.label,_3c.value,_3c.depth,_3c.auth);if(!_3d){continue;}}var _3e="";if(_3c.hasChild()){_3e=this.childMenuInfo.childDefaultStyle.className;}else{_3e=this.childMenuInfo.defaultStyle.className;}if(_3c.hasChild()){_3a.push("<div class='w2menu_node w2menu_hasChild w2menu_node_icon "+_3e+"' id='"+this.id+"_node_"+_3c.index+"' index='"+_3c.index+"'>");}else{_3a.push("<div class='w2menu_node w2menu_node_icon "+_3e+"' id='"+this.id+"_node_"+_3c.index+"' index='"+_3c.index+"'>");}_3a.push("<span class='w2menu_label'>"+_3c.label+"</span>");_3a.push("</div>");}_3a.push("</div>");_3a.push("</div>");}return _3a.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.showAll=function(){["WebSquare.uiplugin.menu.showAll"];try{var _3f=this.getChildren();for(var i=0;i<_3f.length;i++){if(_3f[i].id.indexOf("menuLayer")>-1){_3f[i].show();}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.hideAll=function(_41){["WebSquare.uiplugin.menu.hideAll"];try{var _42=this.getChildren();for(var i=0;i<_42.length;i++){if(_42[i].id.indexOf("menuLayer")>-1){if(this.options.wmode&&_41){var _44=_42[i].render.childNodes;if(_44.length==0){continue;}var _45=_44[0].className.split(" ")[0];WebSquare.getBody().removeWModeFrame("menu",_45);}_42[i].hide();}}var _46=this.tree.rootNode.childNodes;for(var idx in _46){if(_46[idx].nodeDom){this.removeClass(_46[idx].nodeDom,this.mainMenuInfo.selectedStyle.className);this.removeClass(_46[idx].nodeDom,this.childMenuInfo.childSelectedStyle.className);this.removeClass(_46[idx].nodeDom,this.childMenuInfo.childHoverStyle.className);this.removeClass(_46[idx].nodeDom,this.childMenuInfo.hoverStyle.className);if(this.hoverOneDepthMenuId&&this.hoverOneDepthMenuId===_46[idx].nodeDom.id){if(this.options.keepFirstSelectedMenu&&this.options.nowSelectedOneDepthMenuIndex>-1){if(_46[idx].nodeDom.id===_46[this.options.nowSelectedOneDepthMenuIndex].nodeDom.id){break;}}this.removeClass(_46[idx].nodeDom,"w2menu_node_selected");}}}for(var idx in this.selectedChildNodeList){this.removeClass(this.selectedChildNodeList[idx],this.childMenuInfo.childSelectedStyle.className);this.removeClass(this.selectedChildNodeList[idx],this.childMenuInfo.childHoverStyle.className);}this.selectedChildNodeList=[];}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.showChildMenu=function(_48,e,_4a){["WebSquare.uiplugin.menu.showChildMenu"];try{var _4b=this.getChild(this.id+"_"+"menuLayer"+_48.index);if(!_4b){_4b=this.makeMenuLayer(_48,e,_4a);}if(!this.options.wmode){this.hideAll();}else{if(_48.depth==1){if(this.oneDepthMenuId==_4a.id||this.oneDepthMenuId==""){this.hideAll();}else{this.hideAll(true);}this.oneDepthMenuId=_4a.id;}else{if(this.selectedMenuDepth>_48.depth){for(var i=_48.depth+1;i<=this.selectedMenuDepth;i++){WebSquare.getBody().removeWModeFrame("menu","w2menu_depth"+i);}}this.hideAll();}}_4b.show();var _4d=_48.parentNode;while(_4d&&_4d.depth>0){var _4e=this.getChild(this.id+"_menuLayer"+_4d.index);if(_4e){_4e.show();if(this.options.wmode){WebSquare.getBody().showWModeFrame("menu",_4e.render);}var _4f=document.getElementById(this.id+"_node_"+_4d.index);if(_4f){if(_4d.depth==1){this.addClass(_4f,this.mainMenuInfo.selectedStyle.className);}else{if(_4d.depth>1){this.selectedChildNodeList.push(_4f);this.addClass(_4f,this.childMenuInfo.childSelectedStyle.className);}}}}_4d=_4d.parentNode;}if(this.options.wmode){var _50=_48.depth;if(this.selectedMenuDepth==_50){var _51="w2menu_depth"+(_50+1);var _52;if(WebSquare.util.isIE(8)||WebSquare.util.isIE(7)||WebSquare.util.isIE(6)){var _53=document.getElementsByTagName("div");for(var i=0;i<_53.length;i++){if(_53[i].className.split(" ")[0]==_51){_52=_53[i];}}}else{_52=document.getElementsByClassName(_51)[0];}var _54=document.getElementById(_51+"_wmode_frame");if(!!_52){if(_52.parentElement.style.display=="none"){if(!!_54){WebSquare.getBody().removeWModeFrame("menu",_51);}}}}if(this.maxChildMenuDepth!=-1){if(this.maxChildMenuDepth>_50){if(this.maxChildMenuDepth-_50!=1){var _55="w2menu_depth"+this.maxChildMenuDepth;var _56=document.getElementById(_55+"_wmode_frame");if(!!_56){WebSquare.getBody().removeWModeFrame("menu",_55);this.maxChildMenuDepth=_50;}}}}this.selectedMenuDepth=_50;if(_48.childNodes.length>0){if(this.maxChildMenuDepth<(_50+1)){this.maxChildMenuDepth=_50+1;}}else{this.maxChildMenuDepth=_50;}}this.setChildMenuPosition(_4b,_48,e,_4a);this.addRoundRect(_4b,_48);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.hideChildMenu=function(_57){["WebSquare.uiplugin.menu.hideChildMenu"];try{var _58=this.getChild(this.id+"_menuLayer"+_57.index);if(_58){_58.hide();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.addRoundRect=function(_59,_5a){["WebSquare.uiplugin.menu.addRoundRect"];try{if(_5a.rounded==true){return;}_5a.rounded=true;if(_59&&_59.render.firstChild){var _5b=_59.render.firstChild;var idx=_5a.index;_5b.style.display="block";var gu=new WebSquare.uiplugin.graphicUtil(this.id+"_gu_"+idx,_5b,null,{appendMode:"insert"});var _5e=_5b.offsetWidth-3;var _5f=_5b.offsetHeight-3;if(this.childMenuInfo.roundStyle.borderWidth>0){gu.drawToolkit.createRoundRect(this.id+"_back_round_"+idx,this.childMenuInfo.roundStyle.borderWidth,1,1,_5e,_5f,this.childMenuInfo.roundStyle.arcSize,this.childMenuInfo.roundStyle.borderColor,this.childMenuInfo.roundStyle.fillColor,true);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.makeSubLayer=function(e,_61){["WebSquare.uiplugin.menu.makeSubLayer"];try{var _62="w2menu_sub";if(this.options.isVertical==true){_62+=" w2menu_vertical";}var _63=new WebSquare.uiplugin.group(this.id+"_subLayer",{className:_62});_63.writeTo(WebSquare.getBody());_63.activate();var _64=WebSquare.style.getAbsoluteLeft(this.render);var top=WebSquare.style.getAbsoluteTop(this.render);var _66=this.render.offsetWidth;var _67=this.render.offsetHeight;if(this.options.isVertical==true){var _64=WebSquare.style.getAbsoluteLeft(_61);var top=WebSquare.style.getAbsoluteTop(this.render);var _66=_61.offsetWidth;_63.setStyle("left",_64+_66+"px");_63.setStyle("top",top+"px");}else{var _64=WebSquare.style.getAbsoluteLeft(this.render);var top=WebSquare.style.getAbsoluteTop(_61);var _67=_61.offsetHeight;_63.setStyle("left",_64+"px");_63.setStyle("top",top+_67+"px");}_63.event.addListener(_63.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));_63.event.addListener(_63.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));_63.event.addListener(_63.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.addControl(_63);return _63;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.makeMenuLayer=function(_68,e,_6a){["WebSquare.uiplugin.menu.makeMenuLayer"];try{var _6b=null;var _6c=this.getChild(this.id+"_subLayer");if(!_6c){_6c=this.makeSubLayer(e,_6a);}if(_6c){_6b=new WebSquare.uiplugin.group(this.id+"_menuLayer"+_68.index,{className:"w2menu_menuLayer"});_6b.writeTo(_6c);_6b.activate();var _6d=this.childNodeToHTML(_68);if(_6d!=""){_6b.render.innerHTML=_6d;}this.addControl(_6b);}return _6b;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.removeMenuLayer=function(){["WebSquare.uiplugin.menu.removeMenuLayer"];try{this.clearChildren();var _6e=document.getElementById(this.id+"_subLayer");if(!_6e){return;}else{this.removeChildren(_6e);document.body.removeChild(_6e);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.removeChildren=function(_6f){["WebSquare.uiplugin.scatterChart.removeChildren"];try{while(_6f.hasChildNodes()){if(_6f.firstChild!=""){_6f.removeChild(this.removeChildren(_6f.firstChild));}else{_6f.removeChild(_6f.firstChild);}}return _6f;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.handleFirstOpenEvent=function(e){["WebSquare.uiplugin.menu.handleFirstOpenEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2menu_node")){var _72=it.getElement();var _73=_72.getAttribute("index");var _74=this.tree.findNodeByIndex(_73);if(_74.depth>1){break;}if(_74.depth==1){this.showChildMenu(_74,e,_72);var _75=document.getElementById(this.id+"_node_"+_73);if(_75){this.addClass(_75,this.mainMenuInfo.selectedStyle.className);}this.hoverOneDepthMenuId=this.id+"_node_"+_73;}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.handleClickEventDocument=function(e){["WebSquare.uiplugin.menu.handleClickEventDocument"];try{if(!this.event.isMine(e,this.render)){this.hideAll(true);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.menu.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2menu_node")){var _79=it.getElement().getAttribute("index");var _7a=this.tree.findNodeByIndex(_79);var _7b=_7a.value.split("$$");if(_7a.isLeaf()){try{if(this.options.keepFirstSelectedMenu){if(this.options.nowSelectedOneDepthMenuIndex>-1){this.options.beforeSelectedOneDepthMenuIndex=this.options.nowSelectedOneDepthMenuIndex;}var _7c=this.tree.rootNode.childNodes;while(_7a){if(_7a.parentNode&&_7a.parentNode.index!=0){_7a=_7a.parentNode;}else{break;}}for(var i=0;i<_7c.length;i++){if(_7c[i].index===_7a.index){this.options.nowSelectedOneDepthMenuIndex=i;}}if(this.options.beforeSelectedOneDepthMenuIndex>-1&&this.options.nowSelectedOneDepthMenuIndex!==this.options.beforeSelectedOneDepthMenuIndex){var _7e=this.tree.rootNode.childNodes[this.options.beforeSelectedOneDepthMenuIndex].nodeDom;this.removeClass(_7e,"w2menu_node_selected");}}this.hideAll(true);if(this.options.keepFirstSelectedMenu){var _7f=this.tree.rootNode.childNodes[this.options.nowSelectedOneDepthMenuIndex].nodeDom;this.addClass(_7f,"w2menu_node_selected");}if(!this.childMenuInfo["onclickFunc"]){this.childMenuInfo["onclickFunc"]=eval(this.childMenuInfo["onclick"]);}}catch(e){}if(this.childMenuInfo["onclickFunc"]){this.childMenuInfo["onclickFunc"].apply(this,_7b);}WebSquare.event.fireEvent(this,"onleafclick",_7b[0],_7b[1],_7b[2]);it.stop();}else{WebSquare.event.fireEvent(this,"onbranchclick",_7b[0],_7b[1],_7b[2]);}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.menu.handleMouseoverEvent"];try{WebSquare.event.stopEvent(e);if(this.options.menuHide==true&&this.timeHide){clearTimeout(this.timeHide);this.timeHide=null;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2menu_node")){this.addClass(it.getElement(),"w2menu_node_over");var _82=it.getElement();var _83=it.getElement().getAttribute("index");var _84=this.tree.findNodeByIndex(_83);if(_84.depth==1){}else{if(_84.depth>1){this.showChildMenu(_84,e,_82);if(_84.hasChild()){this.addClass(it.getElement(),this.childMenuInfo.childHoverStyle.className);}else{this.addClass(it.getElement(),this.childMenuInfo.hoverStyle.className);}}}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.menu.handleMouseoutEvent"];try{WebSquare.event.stopEvent(e);var _86=this;if(this.options.menuHide==true){this.timeHide=setTimeout(function(){_86.hideAll(true);},500);}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2menu_node")){this.removeClass(it.getElement(),"w2menu_node_over");var _88=it.getElement();var _89=it.getElement().getAttribute("index");var _8a=this.tree.findNodeByIndex(_89);if(_8a.depth==1){}else{if(_8a.depth>1){if(_8a.hasChild()){this.removeClass(it.getElement(),this.childMenuInfo.childHoverStyle.className);}else{this.removeClass(it.getElement(),this.childMenuInfo.hoverStyle.className);}}}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.closeMenu=function(){this.hideAll();};WebSquare.uiplugin.menu.prototype.setSelectedMenuIndex=function(_8b){["WebSquare.uiplugin.menu.setSelectedMenuIndex"];if(!this.options.keepFirstSelectedMenu){return;}if(isNaN(_8b)){return;}if(_8b>-1&&_8b<this.tree.rootNode.childNodes.length){if(this.options.nowSelectedOneDepthMenuIndex>-1){this.options.beforeSelectedOneDepthMenuIndex=this.options.nowSelectedOneDepthMenuIndex;}if(this.options.beforeSelectedOneDepthMenuIndex>-1){var _8c=this.tree.rootNode.childNodes[this.options.beforeSelectedOneDepthMenuIndex].nodeDom;this.removeClass(_8c,"w2menu_node_selected");}this.options.nowSelectedOneDepthMenuIndex=_8b;var _8d=this.tree.rootNode.childNodes[this.options.nowSelectedOneDepthMenuIndex].nodeDom;this.addClass(_8d,"w2menu_node_selected");}};WebSquare.uiplugin.menu.prototype.authorize=function(_8e){["WebSquare.uiplugin.menu.authorize"];try{this.authorization=true;this.authFunction=_8e;this.hideAll();this.removeMenuLayer();this.removeMainMenuLayer();this.removeChildMenuLayer(this.tree.rootNode);this.drawContents();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.removeMainMenuLayer=function(){["WebSquare.uiplugin.menu.removeMainMenuLayer"];try{if(this.render){this.render.removeChild(this.render.childNodes[0]);this.tree.rootNode.rendered=false;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.menu.prototype.removeChildMenuLayer=function(_8f){["WebSquare.uiplugin.menu.removeMainMenuLayer"];try{_8f.rendered=false;var _90=_8f.childNodes;if(_90.length>0){for(var i=0;i<_90.length;i++){this.removeChildMenuLayer(_90[i]);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};requires("uiplugin.group");requires("uiplugin/wframe/wframeDocument.js");requires("uiplugin/wframe/wframeParser.js");WebSquare.uiplugin.wframe=function(id,_2,_3){["WebSquare.uiplugin.wframe"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.wframe.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.wframe.prototype.defaultOptions={pluginType:"uiplugin.wframe",pluginName:"wframe",src:"",tagname:"div",mode:"async",scope:false,xmlCacheMax:200};WebSquare.uiplugin.wframe.prototype.initialize=function(_4){["WebSquare.uiplugin.wframe.initialize "];this.createFlag=false;if(_4&&_4.tagName==="w2:wframe"){this.createFlag=true;}this.wframeDoc=null;this.wframeScript=[];this.lazyImportsArr=[];this.xmlCache={};this.xmlCacheList=[];};WebSquare.uiplugin.wframe.html5={"footer":"div","header":"div","nav":"div","section":"div"};WebSquare.uiplugin.wframe.prototype.toHTML=function(){["WebSquare.uiplugin.wframe.toHTML"];try{var _5=[];var _6=this.options.tagname;if(WebSquare.core.browserCheck.ie){var _7=WebSquare.core.browserVersion();if(_7=="6"||_7=="7"||_7=="8"){if(WebSquare.uiplugin.wframe.html5[_6]){_6=WebSquare.uiplugin.wframe.html5[_6];}}}_5.push("<"+_6+" id='"+this.id+"' style='"+this.options.style+"' class='w2wframe "+this.options.className+"'>");if(this.createFlag){var _8=this.getChildren();for(var i=0;i<_8.length;i++){_5.push(_8[i].toHTML());}}_5.push("</"+_6+">");return _5.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.wframe.prototype.setAction=function(){["WebSquare.uiplugin.wframe.setAction"];try{if(!this.createFlag){this.setSrc(this.options.src);}else{if(this.wframeDoc&&this.wframeDoc.scriptSection.wq_trim()!=""){var _a=this.wframeDoc.scriptSection;if(this.options.scope){_a="WebSquare.scope_obj="+this.id+";\nwith("+this.id+".scope){\n"+_a+"\n};\nWebSquare.scope_obj=null;\n";}if(WebSquare.scriptSectionExcuteFlag&&WebSquare.scriptSectionExcuteFlag==="executed"){var _b=this.parentControl.parentControl;if(_b.options.pluginName=="wframe"){_b.wframeScript.push(_a);this.wframeDoc.scriptSection="";_b.lazyImportsArr=_b.lazyImportsArr.concat(this.lazyImportsArr);this.lazyImportsArr=[];}else{WebSquare.BootLoader.globalEval(_a);}}else{if(!WebSquare.wframeScript){WebSquare.wframeScript=[];}WebSquare.wframeScript.push(_a);this.wframeDoc.scriptSection="";}}}if(this.options.scope){this.makeScope(this);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.wframe.prototype.setSrc=function(_c,_d){["WebSquare.uiplugin.wframe.setSrc"];try{_d=_d||{};var _e=this.getSrc();if(!_c||_c==""){return;}this.options.src=_c;_c=this.getSrc();var _f=null;var _10=(this.xmlCache[_c]!=undefined);if(_10&&this.xmlCache[_c]){_f=this.xmlCache[_c];}else{_f=WebSquare.xml.load(WebSquare.core.getURL(_c),null);}if(_f){for(var i=0;i<this.childControlList.length;i++){WebSquare.event.fireEvent(this.childControlList[i],"onwframeunload",_e);}if(!_10){if(_d.xmlCache){if(this.options.xmlCacheMax<=this.xmlCacheList.length){var _12=this.xmlCacheList.shift();this.xmlCache[_12]=null;delete this.xmlCache[_12];}this.xmlCacheList.push(_c);this.xmlCache[_c]=_f;}else{this.xmlCache[_c]="";}}if(_d.removeAll){_d.appendModel="replace";this.removeAll();}else{for(var i=this.childControlList.length-1;i>=0;i--){this.childControlList[i].remove();}if(this.render!=null){WebSquare.removeChildren(this.render);}this.removeCommon();}this.wframeDoc=new WebSquare.wframeDocument(_f,this.options);this.wframeDoc.renderStartTime=new Date();var _13=new WebSquare.wframeParser(this.wframeDoc,this);_13.parse(this.wframeDoc.xmlDocument);if(_d.appendModel==undefined){_d.appendModel=!_10;}this.appendModels(this.wframeDoc.models,null,_d);this.wframeDoc.renderBody2(this);this.wframeDoc.cssList=WebSquare.cssManager.executeImport();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.wframe.prototype.makeFrame=function(){["WebSquare.uiplugin.wframe.makeFrame"];try{var src=this.getSrc();if(src){var _15=WebSquare.xml.load(WebSquare.core.getURL(src),null);if(_15){this.wframeDoc=new WebSquare.wframeDocument(_15,this.options);this.wframeDoc.renderStartTime=new Date();var _16=new WebSquare.wframeParser(this.wframeDoc,this);WebSquare.cssManager.executeImport();_16.parse(this.wframeDoc.xmlDocument);this.appendModels(this.wframeDoc.models,null,{"appendModel":true});this.wframeDoc.renderBody(this);this.wframeDoc.cssList=WebSquare.cssManager.executeImport();}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.wframe.prototype.getSrc=function(){["WebSquare.uiplugin.wframe.getSrc"];try{var _17=this.options.src;if(WebSquare.pageURLPrefix!==""&&WebSquare.pageURLPrefixType=="function"){if(WebSquare.pageURLPrefix.indexOf("()")==-1){urlFunc=WebSquare.pageURLPrefix+"()";}_17=eval(urlFunc)+encodeURIComponent(_17);}else{if(WebSquare.pageURLPrefix!==""&&WebSquare.pageURLPrefixType!="function"){_17=WebSquare.pageURLPrefix+encodeURIComponent(_17);}}return _17;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.wframe.prototype.appendModels=function(_18,_19,_1a){["WebSquare.uiplugin.wframe.appendModels"];try{_1a=_1a||{};if(_1a.appendModel=="replace"){this.replaceModels(_18);return;}var _1b=WebSquare.ModelUtil.getModelByID(_19);if(_1b){for(var i=0;i<_18.length;i++){if(_1a.appendModel){var _1d=_1b.instances[0].document;var _1e=_18[i].instances[0].document.childNodes;for(var j=0;j<_1e.length;j++){_1d.appendChild(_1e[j].cloneNode(true));}}_1b.binds=_1b.binds.concat(_18[i].binds);while(_18[i].submissions.length>0){var _20=_18[i].submissions.pop();_20.parentElement=_1b.element;_1b.submissions.push(_20);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.wframe.prototype.replaceModels=function(_21){["WebSquare.uiplugin.wframe.replaceModels"];try{WebSquare.WebSquaredoc.models.splice(0,WebSquare.WebSquaredoc.models.length);WebSquare.WebSquaredoc.models=WebSquare.WebSquaredoc.models.concat(_21);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.wframe.prototype.removeAll=function(){["WebSquare.uiplugin.wframe.removeAll"];try{WebSquare.dragdrop2.clearComp();for(var key in WebSquare.idCache){var _23=WebSquare.idCache[key];if(typeof _23.unbind=="function"){_23.unbind();}WebSquare.isPrintLog=false;_23.finalize();WebSquare.isPrintLog=true;if(_23.event){_23.event.clearCache();}_23.childControlList=[];var _24=_23.bindAsEventList;for(var i=0,len=_24.length;i<len;i++){WebSquare[_24[i]].context=null;WebSquare[_24[i]].handler=null;delete WebSquare[_24[i]];}var _26=_23.bindAsUserEventList;for(var i=0,len=_26.length;i<len;i++){WebSquare[_26[i]].context=null;WebSquare[_26[i]].handler=null;delete WebSquare[_26[i]];}if(typeof window[key]!="undefined"&&window[key]!=this){window[key]=null;}}for(var i in WebSquare.getBody().childControlList){if(WebSquare.getBody().childControlList[i]==this){WebSquare.getBody().childControlList.splice(i,1);}}if(this.render!=null){WebSquare.removeChildren(this.render);}this.childControlList=[];WebSquare.idCache={};WebSquare.idCache[this.id]=this;WebSquare.WebSquaredoc.itemsetElement=[];WebSquare.WebSquaredoc.refElement=[];WebSquare.renderCache={};WebSquare.renderCache[this.id]=this;WebSquare.WebSquareDocument.componentsCache={};WebSquare.WebSquareDocument.componentsCache[this.options.pluginName]=[this];WebSquare.getBody().getLayerListener().removeAll();this.removeCommon();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.wframe.prototype.removeCommon=function(){["WebSquare.uiplugin.wframe.removeCommon"];try{this.wframeScript=[];if(this.wframeDoc!=null){var _27=WebSquare.document.getElementsByTagName("head")[0];for(var i=0;i<this.wframeDoc.cssList.length;i++){_27.removeChild(this.wframeDoc.cssList[i]);this.wframeDoc.cssList[i]=null;}_27=null;var _29=this.wframeDoc.models[0].xmlNode.getElementsByTagName("submission");var _2a=WebSquare.WebSquaredoc.models[0].submissions;for(var i=0;i<_29.length;i++){for(var j=0;j<_2a.length;j++){if(_29[i].getAttribute("id")===_2a[j].id){_2a[j].parentElement=null;_2a.splice(j,1);continue;}}}}this.wframeDoc=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.wframeDocument=function(_1,_2){["WebSquare.wframeParser"];this.options=_2;WebSquare.WebSquareDocument.call(this,_1);this.cssList=[];this.scriptSection="";};WebSquare.wframeDocument.inherit(WebSquare.WebSquareDocument);WebSquare.wframeDocument.prototype.renderBody=function(_3){["WebSquare.wframeDocument.renderBody"];var _4=WebSquare.xml.getElementsByTagName(this.xmlDocument,"body",WebSquare.core._XML_NAMESPACE.XHTML);WebSquare.cssManager.startCache();var _5=WebSquare.controlFactory.create(null,null,_4[0],_3.options.scope?_3:null);WebSquare.cssManager.endCache();_3.addControl(_5);};WebSquare.wframeDocument.prototype.renderBody2=function(_6){["WebSquare.wframeDocument.renderBody2"];var _7=WebSquare.xml.getElementsByTagName(this.xmlDocument,"body",WebSquare.core._XML_NAMESPACE.XHTML);WebSquare.cssManager.startCache();var _8=WebSquare.controlFactory.create(null,null,_7[0],_6.options.scope?_6:null);WebSquare.cssManager.endCache();_6.addControl(_8);if(_8){var _9=this;var _a=function(){_8.activate();_8.render=null;_6.wframeScript.push(_9.scriptSection);_9.scriptSection=_6.wframeScript.reverse().join("");_9.wframeScript=[];if(_9.scriptSection.wq_trim()!=""){WebSquare.BootLoader.globalEval(_9.scriptSection);}if(_6.lazyImportsArr.length>0){WebSquare.util.js.apply(null,_6.lazyImportsArr);_6.lazyImportsArr=[];}WebSquare.event.fireEvent(_8,"onwframeload",_6.getSrc());};var _b=function(){_6.render.innerHTML=_8.toHTML();if(_9.options.mode=="async"){setTimeout(_a,1);}else{_a();}};if(WebSquare.externalScriptArr.length>0){WebSquare.externalScriptArr.push(_b);WebSquare.util.js.apply(null,WebSquare.externalScriptArr);}else{_b();}WebSquare.externalScriptArr=[];return true;}else{return false;}};WebSquare.wframeDocument.prototype.addBodyEvents=function(_c,_d){["WebSquare.wframeDocument.addBodyEvents"];try{if(typeof _d!="undefined"){var s1=WebSquare.core.makeStyle(_d);WebSquare.core.applyStyle(this.render,s1);}var _f=WebSquare.WebSquareparser.parseEvent(_c);WebSquare.event.addEvents(this.render,_f);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.wframeParser=function(_1,_2){["WebSquare.wframeParser"];WebSquare.Parser.WebSquareParser.call(this);this.wframeDoc=_1;this.wframeComponent=_2;};WebSquare.wframeParser.inherit(WebSquare.Parser.WebSquareParser);WebSquare.wframeParser.prototype.parse=function(_3){["WebSquare.wframeParser.parse"];try{if(WebSquare.core.browserCheck.ieAllVersion&&WebSquare.BootLoader.useActiveXObject){var _4=WebSquare.core.getNamespaces(_3);var _5="";for(var i in _4){if(i!=""){_5+="xmlns:"+i+"=\""+_4[i]+"\" ";}}_3.setProperty("SelectionLanguage","XPath");_3.setProperty("SelectionNamespaces",_5);}WebSquare.skin.importCSS(_3,true);this.parseModels(_3.documentElement);return this.parseScript(_3.documentElement);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.wframeParser.prototype.parseModels=function(_7){["WebSquare.wframeParser.parseModels"];try{var _8=WebSquare.xml.getElementsByTagName(_7,"model",WebSquare.core._XML_NAMESPACE.XFORMS);for(var i=0;i<_8.length;i++){this.wframeDoc.models.push(this.parseModel(_8[i]));if(this.wframeComponent.options.scope){for(var j=0;j<this.wframeDoc.models[i].submissions.length;j++){this.wframeDoc.models[i].submissions[j].scope_obj=this.wframeComponent;}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.wframeParser.prototype.parseScript=function(_b){["WebSquare.wframeParser.parseScript"];try{this.wframeDoc.scriptSection="";var _c=WebSquare.xml.getElementsByTagName(_b,"head",WebSquare.core._XML_NAMESPACE.XHTML);if(_c.length==1){for(var _d=_c[0].firstChild;_d!=null;_d=_d.nextSibling){if((_d.nodeType==1)&&WebSquare.xml.matchNode(_d,"script",WebSquare.core._XML_NAMESPACE.XHTML)){var _e=_d.getAttribute("src");if(_e!=null&&_e!=""){var _f=_d.getAttribute("defer");if(_f=="defer"){if(WebSquare.scriptSectionExcuteFlag=="executed"){this.wframeComponent.lazyImportsArr.push(WebSquare.core.getURL(_e));}else{WebSquare.lazyImportsArr.push(WebSquare.core.getURL(_e));}}else{WebSquare.externalScriptArr.push(WebSquare.core.getURL(_e));}}else{for(var _10=_d.firstChild;_10!=null;_10=_10.nextSibling){if(_10.nodeType==4||_10.nodeType==3){var _11=_10.nodeValue;if(this.wframeComponent.options.scope){_11="WebSquare.scope_obj="+this.wframeComponent.id+";\nwith("+this.wframeComponent.id+".scope){\n"+_11+"\n};\nWebSquare.scope_obj=null;\n";}this.wframeDoc.scriptSection+=_11;}}}}}}else{alert(WebSquare.language.getMessage("E_Parser_MoreThanOneHeadError",_c.length));return false;}}catch(e){WebSquare.exception.printStackTrace(e);}return true;};WebSquare.uiplugin.window=function(id,_2,_3){["WebSquare.uiplugin.window"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.window.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.window.prototype.defaultOptions={pluginType:"uiplugin.window",pluginName:"window",parseChild:true,userEvents:["onclose","onminimize","onmaximize","onrestore","ondragstart","ondragend","onwindowkeyup","onwindowmousedown"],defaultTop:"5px",defaultLeft:"5px",defaultWidth:"300px",defaultHeight:"210px",minimumWidth:"150px",minimumHeight:"150px",frameMode:"iframe",windowTitle:"",statusMsg:"",src:"",wmode:false,useStatusMsg:true,windowTooltipDisplay:true,title:"",dragResizable:true};WebSquare.uiplugin.window.prototype.initialize=function(_4){["WebSquare.uiplugin.window.initialize"];try{this.frame=null;this.modal=null;this.windowInfo={status:this.options.parent?"maximize":"restored",drag:this.options.parent?false:true,top:this.options.defaultTop,left:this.options.defaultLeft,width:this.options.defaultWidth,height:this.options.defaultHeight,minWidth:(parseInt(this.options.minimumWidth,10)<150)?(150+"px"):this.options.minimumWidth,minHeight:(parseInt(this.options.minimumHeight,10)<150)?(150+"px"):this.options.minimumHeight,minimized:false,setInfo:function(_5){this.top=_5.style.top;this.left=_5.style.left;this.width=_5.style.width;this.height=_5.style.height;},getInfo:function(_6){_6.style.top=this.top;_6.style.left=this.left;_6.style.width=this.width;_6.style.height=this.height;}};if(this.options.frameMode=="iframe"){requires("uiplugin.iframe");}else{if(this.options.frameMode=="wframe"){requires("uiplugin.wframe");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.toHTML=function(){["WebSquare.uiplugin.window.toHTML"];try{var _7=(this.options.disabled)?" disabled='true' ":"";var _8=[];var _9="";var _a="";if(this.options.windowTooltipDisplay){_a=" title='"+this.options.windowTitle+"'";}_8.push("<div ",_7," id='"+this.id+"' style='"+this.options.style+"' class='w2window w2window_maximized "+this.options.className+"' tabindex='0' role='application'"+_a+">");if(this.options.wmode==true){_9=WebSquare.net.getSSLBlankPage();_8.push("<iframe frameBorder='no' class='w2window_wmode' "+_9+"></iframe>");}_8.push("<div id='"+this.id+"_header' class='w2window_header'>");_8.push("<div id='"+this.id+"_header_icon' class='w2window_header_icon'></div>");_8.push("<div id='"+this.id+"_header_title' class='w2window_header_title'>"+this.options.windowTitle+"</div>");_8.push("<div id='"+this.id+"_header_control' class='w2window_header_control'>");_8.push("<div id='"+this.id+"_minimize' class='w2window_minimize' title='"+WebSquare.language.getMessage("Window_minimize")+"'></div>");_8.push("<div id='"+this.id+"_restore' class='w2window_restore' title='"+WebSquare.language.getMessage("Window_restore")+"' ></div>");_8.push("<div id='"+this.id+"_close' class='w2window_close' title='"+WebSquare.language.getMessage("Window_close")+"' ></div>");_8.push("</div>");_8.push("</div>");if(this.options.useStatusMsg){_8.push("<div id='"+this.id+"_body' class='w2window_body'>");}else{_8.push("<div id='"+this.id+"_body' class='w2window_body w2window_no_status'>");}_8.push("<div id='"+this.id+"_content' class='w2window_content'>");_8.push("</div>");if(this.options.useStatusMsg){_8.push("<div id='"+this.id+"_status' class='w2window_status'>");_8.push("<div id='"+this.id+"_msg' class='w2window_msg'>"+this.options.statusMsg+"</div>");_8.push("</div>");}_8.push("</div>");if(this.options.dragResizable){_8.push("<div id='"+this.id+"_resize' class='w2window_resize'></div>");}_8.push("</div>");return _8.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.setAction=function(){["WebSquare.uiplugin.window.setAction"];try{this.dom.header=document.getElementById(this.id+"_header");this.dom.statusMsg=document.getElementById(this.id+"_msg");this.dom.resize=document.getElementById(this.id+"_resize");this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"ondblclick",this.event.bindAsEventListener(this,this.handleDblclickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,this.handleSelectStartEvent));this.drawFrame(this.options.src);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.drawFrame=function(_b){["WebSquare.uiplugin.window.drawFrame"];try{if(this.frame){this.removeControl(this.frame);this.frame.remove();this.frame=null;}this.options.src=_b||"";if(this.options.frameMode=="iframe"){this.frame=new WebSquare.uiplugin.iframe(this.id+"_iframe",{className:"w2window_iframe",src:this.options.src||""});}else{if(this.options.frameMode=="wframe"){this.frame=new WebSquare.uiplugin.wframe(this.id+"_iframe",{className:"w2window_iframe",src:this.options.src||""});}}var _c=this.getElementById(this.id+"_content");this.frame.writeTo(_c);this.frame.activate();this.addControl(this.frame);if(this.options.frameMode=="iframe"){try{if(WebSquare.util.isIE()){if(this.frame.render.contentWindow.document){this.frame.event.addListener(this.frame.render.contentWindow.document,"onmousedown",this.event.bindAsEventListener(this,this.handleFrameMouseDownEvent));this.frame.event.addListener(this.frame.render.contentWindow.document,"onkeyup",this.event.bindAsEventListener(this,this.handleFrameKeyupEvent));}}else{if(this.frame.render.contentWindow){this.frame.event.addListener(this.frame.render.contentWindow,"onmousedown",this.event.bindAsEventListener(this,this.handleFrameMouseDownEvent));this.frame.event.addListener(this.frame.render.contentWindow,"onkeyup",this.event.bindAsEventListener(this,this.handleFrameKeyupEvent));}}}catch(e){WebSquare.logger.printLog("[window.drawFrame]addListener in iframe exception:"+e.message);}}else{if(this.options.frameMode=="wframe"){}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.resizeForIE6=function(_d,_e,_f){["WebSquare.uiplugin.window.resizeForIE6"];try{if(WebSquare.util.isIE(6)){if(!_f){_f="windowContainer";}_d=parseInt(_d,10);_e=parseInt(_e,10);var _10=this.options.useStatusMsg?0:20;if(_f=="windowContainer"){this.setSize(_d-3,_e-2);}this.dom.windowBody=document.getElementById(this.id+"_body");this.dom.windowContent=document.getElementById(this.id+"_content");this.dom.windowStatus=document.getElementById(this.id+"_status");this.dom.header.style.setAttribute("width",(_d-5)+"px");this.dom.windowBody.style.setAttribute("width",(_d-5)+"px");this.dom.windowBody.style.setAttribute("height",(_e-27)+"px");this.dom.windowContent.style.setAttribute("width",(_d-11)+"px");if(_f=="popup"){this.dom.windowContent.style.setAttribute("height",(_e-31+_10)+"px");}else{this.dom.windowContent.style.setAttribute("height",(_e-50+_10)+"px");}if(_f=="popup"){this.frame.setSize(_d-11,_e-31+_10);}else{this.frame.setSize(_d-11,_e-50+_10);}if(this.options.useStatusMsg){this.dom.windowStatus.style.setAttribute("width",(_d-11)+"px");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.resizeParentGroup=function(){["WebSquare.uiplugin.window.resizeParentGroup"];try{if(this.parentControl&&this.parentControl.parentControl&&this.parentControl.parentControl.options.pluginName=="windowContainer"){width=WebSquare.style.getSize(this.parentControl.parentControl.render,"width");height=WebSquare.style.getSize(this.parentControl.parentControl.render,"height")-25;return {"width":width,"height":height};}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.close=function(){["WebSquare.uiplugin.window.close"];try{var _11=this;setTimeout(function(){if(_11.options.closeAction){if(eval(_11.options.closeAction+"('"+_11.options.title+"')")===true){if(_11.options.frameMode=="iframe"){_11.frame.setSrc("about:blank");}var _12={"src":_11.options.src,"title":_11.options.windowTitle};WebSquare.event.fireEvent(_11,"onclose",_12);_11.remove();}}else{if(_11.options.frameMode=="iframe"){_11.frame.setSrc("about:blank");}var _12={"src":_11.options.src,"title":_11.options.windowTitle};WebSquare.event.fireEvent(_11,"onclose",_12);_11.remove();}},100);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.minimize=function(){["WebSquare.uiplugin.window.minimize"];try{if(this.windowInfo.minimized==false){this.setStyle("display","none");this.windowInfo.minimized=true;}else{this.setStyle("display","block");this.windowInfo.minimized=false;}WebSquare.event.fireEvent(this,"onminimize");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.maximize=function(){["WebSquare.uiplugin.window.maximize"];try{this.removeClass(this.render,"w2window_restored");this.addClass(this.render,"w2window_maximized");this.windowInfo.status="maximized";this.windowInfo.drag=false;this.windowInfo.minimized=false;this.windowInfo.setInfo(this.render);this.render.style.left="0px";this.render.style.top="0px";this.render.style.width="";this.render.style.height="";WebSquare.event.fireEvent(this,"onmaximize");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.restore=function(){["WebSquare.uiplugin.window.restore"];try{this.removeClass(this.render,"w2window_maximized");this.addClass(this.render,"w2window_restored");this.windowInfo.status="restored";this.windowInfo.drag=true;this.windowInfo.minimized=false;this.windowInfo.getInfo(this.render);WebSquare.event.fireEvent(this,"onrestore");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.toggleResize=function(){["WebSquare.uiplugin.window.toggleResize"];try{if(this.windowInfo.status=="restored"){this.maximize();}else{this.restore();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.setStatusMsg=function(msg){["WebSquare.uiplugin.window.setStatusMsg"];try{if(this.options.useStatusMsg){this.dom.statusMsg.innerHTML=msg;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.setSrc=function(url){["WebSquare.uiplugin.window.setSrc"];try{if(this.frame!=null){if(this.options.frameMode=="iframe"){this.drawFrame(url);}else{if(this.options.frameMode=="wframe"){this.frame.setSrc(url);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.movable=function(_15){["WebSquare.uiplugin.window.movable"];try{_15=WebSquare.util.getBoolean(_15);this.windowInfo.drag=_15;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.showModal=function(){["WebSquare.uiplugin.window.showModal"];try{WebSquare.event.fireEvent(this,"ondragstart");if(!this.modal){this.modal=document.createElement("div");this.modal.id=this.id+"_modal";this.modal.className="w2modal";if(WebSquare.util.isIE(6)){this.resizeParentGroup();width=document.documentElement.offsetWidth||0;height=document.documentElement.offsetHeight||0;this.modal.style.width=width+"px";this.modal.style.height=height+"px";this.modal.style.left="-"+this.render.offsetLeft+"px";this.modal.style.top="-"+this.render.offsetTop+"px";}this.render.appendChild(this.modal);WebSquare.style.setOpacity(this.modal,0.3);}if(this.modal){this.modal.style.display="block";if(WebSquare.util.isIE(6)){this.resizeParentGroup();width=document.documentElement.offsetWidth||0;height=document.documentElement.offsetHeight||0;this.modal.style.width=width+"px";this.modal.style.height=height+"px";this.modal.style.left="-"+this.render.offsetLeft+"px";this.modal.style.top="-"+this.render.offsetTop+"px";}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.hideModal=function(){["WebSquare.uiplugin.window.hideModal"];try{WebSquare.event.fireEvent(this,"ondragend");if(this.modal){this.modal.style.display="none";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.setFocus=function(){["WebSquare.uiplugin.window.setFocus"];try{if(this.options.frameMode=="iframe"){if(this.frame.render.contentWindow){this.frame.render.contentWindow.focus();}}else{if(this.options.frameMode=="wframe"){}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.getMaxSize=function(){["WebSquare.uiplugin.window.prototype.getMaxSize"];var _16;var _17;if(this.parentControl){_16=WebSquare.style.getSize(this.parentControl.render,"width");_17=WebSquare.style.getSize(this.parentControl.render,"height");}else{_16=this.options.width;_17=this.options.height;}if(this.render){var _18=parseInt(WebSquare.util.getStyleProperty(this.render,"border-left-width"),10)||0;var _19=parseInt(WebSquare.util.getStyleProperty(this.render,"border-right-width"),10)||0;var _1a=parseInt(WebSquare.util.getStyleProperty(this.render,"padding-left"),10)||0;var _1b=parseInt(WebSquare.util.getStyleProperty(this.render,"padding-right"),10)||0;_16=_16-_18-_19-_1a-_1b;var _1c=parseInt(WebSquare.util.getStyleProperty(this.render,"border-top-width"),10)||0;var _1d=parseInt(WebSquare.util.getStyleProperty(this.render,"border-bottom-width"),10)||0;var _1e=parseInt(WebSquare.util.getStyleProperty(this.render,"padding-top"),10)||0;var _1f=parseInt(WebSquare.util.getStyleProperty(this.render,"padding-bottom"),10)||0;_17=_17-_1c-_1d-_1e-_1f;}return {"width":_16,"height":_17};};WebSquare.uiplugin.window.prototype.getElementSize=function(_20){["WebSquare.uiplugin.window.prototype.getElementWidth"];var _21;var _22;if(!_20){_20=this.render;}if(_20){_21=_20.offsetWidth;_22=_20.offsetHeight;var _23=parseInt(WebSquare.util.getStyleProperty(_20,"border-left-width"),10)||0;var _24=parseInt(WebSquare.util.getStyleProperty(_20,"border-right-width"),10)||0;var _25=parseInt(WebSquare.util.getStyleProperty(_20,"padding-left"),10)||0;var _26=parseInt(WebSquare.util.getStyleProperty(_20,"padding-right"),10)||0;_21=_21-_23-_24-_25-_26;var _27=parseInt(WebSquare.util.getStyleProperty(_20,"border-top-width"),10)||0;var _28=parseInt(WebSquare.util.getStyleProperty(_20,"border-bottom-width"),10)||0;var _29=parseInt(WebSquare.util.getStyleProperty(_20,"padding-top"),10)||0;var _2a=parseInt(WebSquare.util.getStyleProperty(_20,"padding-bottom"),10)||0;_22=_22-_27-_28-_29-_2a;}return {"width":_21,"height":_22};};WebSquare.uiplugin.window.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.window.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2window_close")){this.close();}if(it.match("w2window_minimize")){WebSquare.event.stopEvent(e);this.minimize();}if(it.match("w2window_restore")){this.toggleResize();}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.handleFrameMouseDownEvent=function(e){["WebSquare.uiplugin.window.handleFrameMouseDownEvent"];try{WebSquare.event.fireEvent(this,"onwindowmousedown",e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.handleDblclickEvent=function(e){["WebSquare.uiplugin.window.handleDblclickEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_header")){this.toggleResize();}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.window.handleMouseoverEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_minimize")){this.addClass(it.getElement(),"w2window_minimize_on");}if(it.match("w2window_restore")){this.addClass(it.getElement(),"w2window_restore_on");}if(it.match("w2window_close")){this.addClass(it.getElement(),"w2window_close_on");}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.window.handleMouseoutEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_minimize")){this.removeClass(it.getElement(),"w2window_minimize_on");}if(it.match("w2window_restore")){this.removeClass(it.getElement(),"w2window_restore_on");}if(it.match("w2window_close")){this.removeClass(it.getElement(),"w2window_close_on");}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.handleMousedownEvent=function(e){["WebSquare.uiplugin.window.handleMousedownEvent"];try{WebSquare.event.stopEvent(e);this.resizeParentGroup();var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_header")){if(this.windowInfo.drag==true){var _36=WebSquare.event.getTarget(e);if(!_36||_36.id==this.id+"_minimize"||_36.id==this.id+"_restore"||_36.id==this.id+"_close"){return;}var _37=this;WebSquare.dragdrop.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",delay:5,mode:"move",makeGhostLayer:function(_38){var _39=WebSquare.style.getAbsoluteLeft(_37.render);var top=WebSquare.style.getAbsoluteTop(_37.render);var _3b=_37.getElementSize(_37.render);var _3c=_3b.width;var _3d=_3b.height;var _3e=parseInt(WebSquare.util.getStyleProperty(_38.render,"border-left-width"),10)||0;var _3f=parseInt(WebSquare.util.getStyleProperty(_38.render,"border-right-width"),10)||0;var _40=parseInt(WebSquare.util.getStyleProperty(_38.render,"border-top-width"),10)||0;var _41=parseInt(WebSquare.util.getStyleProperty(_38.render,"border-bottom-width"),10)||0;_3c=_3c-_3e-_3f;_3d=_3d-_40-_41;_38.show();_38.setSize(_3c,_3d);_38.setPosition(_39,top);_38.hide();return _38;},handleStart:function(){_37.showModal.call(_37);},handleFinish:function(x,y,dx,dy){_37.hideModal.call(_37);var _46=_37.render.offsetLeft;var top=_37.render.offsetTop;var _48=_37.render.clientWidth;var _49=_37.render.clientHeight;var _4a=_37.getMaxSize();var _4b=_4a.width;var _4c=_4a.height;var _4d=_46+dx;var _4e=top+dy;if(_46+dx<0){_4d=0;}if(_46+_48+dx>_4b){if(_48<=_4b){_4d=_4b-_48;}else{_4d=0;}}if(top+dy<0){_4e=0;}if(top+_49+dy>_4c){if(_49<=_4c){_4e=_4c-_49;}else{_4e=0;}}_37.setPosition(_4d,_4e);}});}}if(it.match("w2window_resize")){if(this.windowInfo.drag==true){var _37=this;WebSquare.dragdrop.gDragManager.activate(e,this.render,{id:this.id+"_drag",className:"w2drag_resize",mode:"resize",makeGhostLayer:function(_4f){var _50=WebSquare.style.getAbsoluteLeft(_37.render);var top=WebSquare.style.getAbsoluteTop(_37.render);var _52=_37.getElementSize(_37.render);var _53=_52.width;var _54=_52.height;var _55=parseInt(WebSquare.util.getStyleProperty(_4f.render,"border-left-width"),10)||0;var _56=parseInt(WebSquare.util.getStyleProperty(_4f.render,"border-right-width"),10)||0;var _57=parseInt(WebSquare.util.getStyleProperty(_4f.render,"border-top-width"),10)||0;var _58=parseInt(WebSquare.util.getStyleProperty(_4f.render,"border-bottom-width"),10)||0;_53=_53-_55-_56;_54=_54-_57-_58;_4f.setSize(_53,_54);_4f.setPosition(_50,top);return _4f;},handleStart:function(){_37.showModal.call(_37);},handleFinish:function(x,y,dx,dy,e){_37.hideModal.call(_37);var _5e=parseInt(_37.getStyle("width"),10);var _5f=parseInt(_37.getStyle("height"),10);var _60=_5e+dx;var _61=_5f+dy;if(_60<parseInt(_37.windowInfo.minWidth,10)){_60=parseInt(_37.windowInfo.minWidth,10);}if(_61<parseInt(_37.windowInfo.minHeight,10)){_61=parseInt(_37.windowInfo.minHeight,10);}var _62=_37.getMaxSize();var _63=_62.width-_37.render.offsetLeft;var _64=_62.height-_37.render.offsetTop;var _65=_37.render.clientWidth+dx;var _66=_37.render.clientHeight+dy;if(_63<_65){_60=_63;}if(_64<_66){_61=_64;}_37.setSize(_60,_61);}});}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.handleMouseupEvent=function(e){["WebSquare.uiplugin.window.handleMouseupEvent"];try{WebSquare.event.stopEvent(e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.handleFrameKeyupEvent=function(e){["WebSquare.uiplugin.window.handleFrameKeyupEvent"];try{WebSquare.event.fireEvent(this,"onwindowkeyup",e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.window.prototype.handleSelectStartEvent=function(e){["WebSquare.uiplugin.window.handleSelectStartEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2window_header")||it.match("w2window_status")){WebSquare.event.preventDefault(e);}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};requires("uiplugin.window");requires("uiplugin.group");WebSquare.uiplugin.windowContainer=function(id,_2,_3){["WebSquare.uiplugin.windowContainer"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.windowContainer.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.windowContainer.prototype.defaultOptions={pluginType:"uiplugin.windowContainer",pluginName:"windowContainer",userEvents:["onCloseWindow","onwindowkeyup","onwindowchange","onbeforecloseall"],useConfirmMessage:true,confirmTrueAction:"existWindow",confirmFalseAction:"newWindow",windowMaxNum:5,confirmMessage:"#title \ud654\uba74\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4. \uae30\uc874\uc758 \ucc3d\uc744 \uc0ac\uc6a9\ud558\uc2dc\ub824\uba74 '\ud655\uc778'\uc744 \uc0c8\ub85c\uc6b4 \ucc3d\uc744 \uc0ac\uc6a9\ud558\uc2dc\ub824\uba74 '\ucde8\uc18c'\ub97c \uc120\ud0dd\ud558\uc138\uc694",lineBreakNum:4,useNameScroll:false,useCloseButton:false,toolbarPosition:"bottom",windowMaximizeAll:false,stopMinimizeOnNameLayer:false,defaultTop:"5px",defaultLeft:"5px",defaultWidth:"300px",defaultHeight:"210px",minimumWidth:"150px",minimumHeight:"150px",frameMode:"iframe",tooltipDisplay:true,tooltipStyle:"border:2px solid #7BAFE4; background-color:#ffffff;cursor:default;",tooltipClass:"",tooltipTime:1,windowTooltipDisplay:true,confirmMessageLocaleRef:"",wmode:false,selectedIndex:-1,useStatusMsg:true,statusMsg:"",nameScrollMode:"",useControlIconTitle:false};WebSquare.uiplugin.windowContainer.prototype.initialize=function(_4){["WebSquare.uiplugin.windowContainer.initialize"];try{this.windows=[];this.beforeWindow=null;this.nowWindow=null;this.selectedWindowHistory=[];this.selectedIndex=-1;this.windowIdx=0;this.maxZIndex=0;this.currentWindowNum=0;this.tooltip=null;this.timeShowTooltip=null;if(this.options.confirmMessageLocaleRef!=null&&this.options.confirmMessageLocaleRef!=""){this.options.confirmMessage=this.getLocaleValue(this.options.confirmMessageLocaleRef);}var _5="w2windowContainer_window";if(this.options.toolbarPosition=="top"){_5+="_top";}var _6=new WebSquare.uiplugin.group(this.id+"_window",{className:_5,style:"background-color : transparent"});this.addControl(_6);this.options=WebSquare.cssManager.styleToClass(this.id,this.options);if(_4&&_4.getAttribute("statusMsg")=="$blank"){this.defaultStatusMsg="";}else{this.defaultStatusMsg=this.options.statusMsg||WebSquare.language.getMessage("Window_statusMsg");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.toHTML=function(){["WebSquare.uiplugin.windowContainer.toHTML"];try{var _7=(this.options.disabled)?" disabled='true' ":"";var _8=(this.options.disabled)?" style='color:#848684' ":"";var _9=[];var _a={vertical:"",horizontal:"",cascade:"",sequential:"",closeAll:""};if(this.options.useControlIconTitle){function makeTitle(_b){return " title='"+_b+"'";}_a.vertical=makeTitle(WebSquare.language.getMessage("WindowContainer_controlIcon_vertical"));_a.horizontal=makeTitle(WebSquare.language.getMessage("WindowContainer_controlIcon_horizontal"));_a.cascade=makeTitle(WebSquare.language.getMessage("WindowContainer_controlIcon_cascade"));_a.sequential=makeTitle(WebSquare.language.getMessage("WindowContainer_controlIcon_sequential"));_a.closeAll=makeTitle(WebSquare.language.getMessage("WindowContainer_controlIcon_closeAll"));}var _c="w2windowContainer_windowToolbar";if(this.options.toolbarPosition=="top"){_c+="_top";}_9.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2windowContainer "+this.options.className+"' tabIndex='"+this.options.tabIndex+"' >");_9.push(this.getChild(this.id+"_window").toHTML());_9.push("<div id='"+this.id+"_toolbar' class='"+_c+"'>");_9.push("<div id='"+this.id+"_controlIcon' class='w2windowContainer_controlIconLayer'>");_9.push("<span id='"+this.id+"_vertical' class='w2windowContainer_controlIcon_vertical'"+_a.vertical+"></span>");_9.push("<span id='"+this.id+"_horizontal' class='w2windowContainer_controlIcon_horizontal'"+_a.horizontal+"></span>");_9.push("<span id='"+this.id+"_cascade' class='w2windowContainer_controlIcon_cascade'"+_a.cascade+"></span>");_9.push("<span id='"+this.id+"_sequential' class='w2windowContainer_controlIcon_sequential'"+_a.sequential+"></span>");_9.push("<span id='"+this.id+"_closeAll' class='w2windowContainer_controlIcon_closeAll'"+_a.closeAll+"></span>");_9.push("</div>");_9.push("<div id='"+this.id+"_left' style='display:none;' class='w2windowContainer_scrollLeftBtn'></div>");_9.push("<div id='"+this.id+"_name' class='w2windowContainer_name'></div>");_9.push("<div id='"+this.id+"_right' style='display:none;' class='w2windowContainer_scrollRightBtn'></div>");_9.push("</div>");_9.push("</div>");return _9.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.setAction=function(){["WebSquare.uiplugin.windowContainer.setAction"];try{this.dom.toolBar=this.getElementById(this.id+"_toolbar");this.dom.nameBar=this.getElementById(this.id+"_name");this.dom.window=this.getElementById(this.id+"_window");this.dom.control=this.getElementById(this.id+"_controlIcon");this.dom.leftScrollBtn=this.getElementById(this.id+"_left");this.dom.rightScrollBtn=this.getElementById(this.id+"_right");this.dom.iconVertical=this.getElementById(this.id+"_vertical");this.dom.iconHorizontal=this.getElementById(this.id+"_horizontal");this.dom.iconCascade=this.getElementById(this.id+"_cascade");this.dom.iconSequential=this.getElementById(this.id+"_sequential");this.dom.iconCloseAll=this.getElementById(this.id+"_closeAll");this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseOverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOutEvent));this.checkResize();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.createWindow=function(_d,_e,_f,_10,_11,_12,_13,_14){["WebSquare.uiplugin.windowContainer.createWindow"];try{var _10=_10||_d;var _11=_11||_d;var _15=null;for(var i=0;i<this.windows.length;i++){var _17=this.windows[i];if(_11==_17.windowId){_15=_17;}}if(_15!=null){if(_12!=null&&_12!=""){this.performAction(_12,_15,_d,_e,_f,_10,_11,_14);}else{var _18=this.options.confirmMessage;while(_18.indexOf("#title")!=-1){_18=_18.replace("#title",_d);}var _19=true;if(this.options.useConfirmMessage==true){_19=confirm(_18);}if(_19){this.performAction(this.options.confirmTrueAction,_15,_d,_e,_f,_10,_11,_14);}else{this.performAction(this.options.confirmFalseAction,_15,_d,_e,_f,_10,_11,_14);}}}else{this._createWindow(_d,_e,_f,_10,_11,_13,_14);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.performAction=function(_1a,_1b,_1c,_1d,src,_1f,_20,_21){["WebSquare.uiplugin.windowContainer.performAction"];try{if(_1a=="selectWindow"){this.selectNameLayer(_1b.id);}else{if(_1a=="existWindow"){this.selectNameLayer(_1b.id);_1b.window.setStatusMsg(this.defaultStatusMsg);_1b.window.setSrc(src);var _21=_21||_1f;this.setWindowLabel(_20,"toolbar",_1c);this.setWindowLabel(_20,"window",_1f);this.setWindowLabel(_20,"tooltip",_21);}else{if(_1a=="newWindow"){this._createWindow(_1c,_1d,src,_1f,_20,_21);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype._createWindow=function(_22,_23,src,_25,_26,_27,_28){["WebSquare.uiplugin.windowContainer._createWindow"];try{if(this.currentWindowNum>this.options.windowMaxNum-1){alert(WebSquare.language.getMessage("WindowContainer_maxNum_warning",this.options.windowMaxNum));return;}var _29=this.id+"_subWindow"+(this.windowIdx++);var _2a=new WebSquare.uiplugin.window(_29,{windowTitle:_25,src:src,useStatusMsg:this.options.useStatusMsg,statusMsg:(this.defaultStatusMsg=="")?"":this.defaultStatusMsg,defaultTop:this.options.defaultTop,defaultLeft:this.options.defaultLeft,defaultWidth:this.options.defaultWidth,defaultHeight:this.options.defaultHeight,minimumWidth:this.options.minimumWidth,minimumHeight:this.options.minimumHeight,frameMode:this.options.frameMode,wmode:this.options.wmode,width:(this.render.offsetWidth),height:(this.render.offsetHeight-25),closeAction:_27,title:_22,parent:this,windowTooltipDisplay:this.options.windowTooltipDisplay});var _2b=this;_2a.options.xmlEvents=[{name:"onclose",action:"script",param:{handler:function(e){try{WebSquare.event.fireEvent(_2b,"onCloseWindow",e);_2b.removeNameLayer(this.id);_2b.createNameLayer();_2b.selectWindow();var _2d=_2b.nowWindow?_2b.getWinInfoObj(_2b.nowWindow).windowId:null;WebSquare.event.fireEvent(_2b,"onwindowchange",_2b.closedWindowId,_2d);_2b.setFocus(_2b.getSelectedIndex());}catch(ee){WebSquare.exception.printStackTrace(ee,null,_2b);}}}},{name:"onwindowkeyup",action:"script",param:{handler:function(e){try{WebSquare.event.fireEvent(_2b,"onwindowkeyup",e);}catch(ee){WebSquare.exception.printStackTrace(ee,null,_2b);}}}},{name:"onwindowmousedown",action:"script",param:{handler:function(e){try{_2b.selectNameLayer(this.id);}catch(ee){WebSquare.exception.printStackTrace(ee,null,_2b);}}}},{name:"onminimize",action:"script",param:{handler:function(e){_2b._onminimize(this.id);}}},{name:"onmaximize",action:"script",param:{handler:function(e){_2b._onmaximize(this.id);}}},{name:"ondragstart",action:"script",param:{handler:function(e){_2b.selectNameLayer(this.id);_2b.handleDragStartEvent();}}},{name:"ondragend",action:"script",param:{handler:function(e){_2b.handleDragEndEvent();}}}];_2a.writeTo(this.getChild(this.id+"_window"));_2a.activate();this.currentWindowNum++;var _34={};_34.id=_29;_34.windowId=_26;_34.windowTitle=_25;_34.title=_22;_34.window=_2a;_34.tooltip=_28||_25;this.windows.push(_34);this.createNameLayer();this.beforeWindow=this.nowWindow;this.nowWindow=_29;this.selectWindow();if(this.beforeWindow!=this.nowWindow){var _35=this.beforeWindow?this.getWinInfoObj(this.beforeWindow).windowId:null;var _36=this.getWinInfoObj(this.nowWindow).windowId;WebSquare.event.fireEvent(this,"onwindowchange",_35,_36);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.setWindowLabel=function(_37,_38,_39){["WebSquare.uiplugin.windowContainer.setWindowLabel"];try{if(!_37||!_38||!_39){return;}var _3a;for(var i=this.windows.length-1;i>=0;i--){if(this.windows[i].windowId===_37){_3a=this.windows[i];break;}}if(!_3a){return;}_38=_38.toLowerCase();var _3c=_38==="all";if(_38==="toolbar"||_3c){var _3d=document.getElementById(this.id+"_nameLayer_"+_3a.id);_3d.setAttribute("windowTitle",_39);_3d.innerHTML=_39;_3a.title=_39;}if(_38==="window"||_3c){_3a.windowTitle=_39;_3a.window.options.windowTitle=_39;if(this.options.windowTooltipDisplay){var _3e=_3a.window.getElementById(_3a.id);_3e.setAttribute("title",_3a.windowTitle);}var _3f=_3a.window.getElementById(_3a.id+"_header_title");_3f.innerHTML=_3a.windowTitle;}if(_38==="tooltip"||_3c){_3a.tooltip=_39;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.getWindowLabel=function(_40,_41){["WebSquare.uiplugin.windowContainer.getWindowLabel"];try{if(!_40||!_41){return;}var _42;for(var i=this.windows.length-1;i>=0;i--){if(this.windows[i].windowId===_40){_42=this.windows[i];break;}}if(!_42){return;}_41=_41.toLowerCase();if(_41==="toolbar"){return _42.title;}else{if(_41==="window"){return _42.windowTitle;}else{if(_41==="tooltip"){return _42.tooltip;}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.createNameLayer=function(){["WebSquare.uiplugin.windowContainer.createNameLayer"];try{var _44=[];this.dom.nameBar.innerHTML="";for(var i=0;i<this.windows.length;i++){var _46=this.windows[i];_44.push("<div id='"+this.id+"_nameLayer_"+_46.id+"' class='w2windowContainer_nameLayer' refId='"+_46.id+"' windowTitle='"+_46.title+"'>");_44.push(_46.title);if(this.options.useCloseButton){_44.push("<div class='w2windowContainer_nameLayer_close' refId='"+_46.id+"'>");_44.push("</div>");}_44.push("</div>");}this.dom.nameBar.innerHTML=_44.join("");if(this.windows.length>0){this.dom.nameBar.style.width=(this.dom.nameBar.firstChild.offsetWidth*this.windows.length)+"px";}else{this.dom.nameBar.style.width="0px";}if(this.render.offsetWidth<this.dom.nameBar.scrollWidth+this.dom.control.offsetWidth+2){this.options.useNameScroll=true;this.dom.rightScrollBtn.style.display="";this.dom.leftScrollBtn.style.display="";}else{this.options.useNameScroll=false;this.dom.nameBar.style.left=(this.dom.control.offsetWidth+2)+"px";this.dom.rightScrollBtn.style.display="none";this.dom.leftScrollBtn.style.display="none";}if(this.options.useNameScroll==true){this.dom.rightScrollBtn.style.left=parseInt(this.getSize("width"))-20+"px";this.dom.rightScrollBtn.style.display="block";this.dom.leftScrollBtn.style.display="block";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.removeNameLayer=function(id){["WebSquare.uiplugin.windowContainer.removeNameLayer"];try{this.closedWindowId=this.getWinInfoObj(id).windowId;for(var i=0;i<this.windows.length;i++){var _49=this.windows[i];if(_49.id==id){this.windows.splice(i,1);}}this.addHistory(id);this.closedWindow=this.selectedWindowHistory.pop();this.beforeWindow=this.selectedWindowHistory[this.selectedWindowHistory.length-2]||null;this.nowWindow=this.selectedWindowHistory[this.selectedWindowHistory.length-1]||null;this.currentWindowNum--;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.clickNameLayer=function(_4a,_4b){["WebSquare.uiplugin.windowContainer.clickNameLayer"];try{var _4c=_4a;var _4b=WebSquare.util.getBoolean(_4b);if(this.nowWindow==_4c){if(_4b==true){return;}this.minimizeWindow(_4c);}else{this.beforeWindow=this.nowWindow;this.nowWindow=_4c;this.selectWindow();var _4d=this.beforeWindow?this.getWinInfoObj(this.beforeWindow).windowId:null;var _4e=this.getWinInfoObj(this.nowWindow).windowId;WebSquare.event.fireEvent(this,"onwindowchange",_4d,_4e);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.getWinInfoObj=function(_4f){["WebSquare.uiplugin.windowContainer.getWinInfoObj"];try{for(var i=0;i<this.windows.length;i++){if(this.windows[i].id==_4f){return this.windows[i];}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.minimizeWindow=function(_51){["WebSquare.uiplugin.windowContainer.minimizeWindow"];try{var _52=this.getWinInfoObj(_51);_52.window.minimize();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype._onminimize=function(_53){["WebSquare.uiplugin.windowContainer._onminimize"];try{var _54=_53;this.prevWindow=this.nowWindow;if(this.nowWindow==_54){this.minimizedWindow=this.selectedWindowHistory.pop();this.nowWindow=this.selectedWindowHistory.pop()||null;this.beforeWindow=this.selectedWindowHistory[this.selectedWindowHistory.length-1];}this.selectWindow();if(this.prevWindow==_54){var _55=this.getWinInfoObj(this.minimizedWindow).windowId;var _56=this.nowWindow?this.getWinInfoObj(this.nowWindow).windowId:null;WebSquare.event.fireEvent(this,"onwindowchange",_55,_56);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.maximizeWindow=function(_57){["WebSquare.uiplugin.windowContainer.maximizeWindow"];try{var _58=this.getWinInfoObj(_57);_58.window.maximize();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype._onmaximize=function(_59){["WebSquare.uiplugin.windowContainer._onmaximize"];try{var _5a=_59;this.prevWindow=this.nowWindow;if(this.prevWindow!=_5a){this.nowWindow=_5a;this.selectWindow();var _5b=this.getWinInfoObj(this.prevWindow).windowId;var _5c=this.getWinInfoObj(_5a).windowId;WebSquare.event.fireEvent(this,"onwindowchange",_5b,_5c);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.selectWindow=function(){["WebSquare.uiplugin.windowContainer.selectWindow"];try{if(this.windows[this.selectedIndex]!=undefined&&this.windows[this.selectedIndex].id==this.nowWindow){return;}for(var i=0;i<this.windows.length;i++){var _5e=this.windows[i].id;var _5f=document.getElementById(this.id+"_nameLayer_"+_5e);this.removeClass(_5f,"w2windowContainer_selectedNameLayer");}if(this.nowWindow!=null){var _60=this.getWinInfoObj(this.nowWindow);_60.window.windowInfo.minimized=false;_60.window.setStyle("display","block");this.increaseZIndex(_60.window);var _5f=document.getElementById(this.id+"_nameLayer_"+this.nowWindow);this.addClass(_5f,"w2windowContainer_selectedNameLayer");if(this.options.nameScrollMode=="hide"){var _61=0;var _62=this.dom.nameBar.offsetWidth;var _63=this.selectedIndex;this.addHistory(this.nowWindow);this.refreshSelectedIndex();if(_63>this.selectedIndex){for(var i=_63;i>=0;i--){var _64=this.windows[i].id;var _65=document.getElementById(this.id+"_nameLayer_"+_64);if(_65.style.display!="block"){_65.style.display="block";}}}for(var i=this.selectedIndex;i>=0;i--){var _64=this.windows[i].id;var _65=document.getElementById(this.id+"_nameLayer_"+_64);if(_65.style.display!="none"){var _66=_65.offsetWidth;if(_61+_66>_62){_65.style.display="none";}else{_61+=_66;}}}}else{if(this.options.useNameScroll){var _67=this.dom.leftScrollBtn.offsetLeft+this.dom.leftScrollBtn.offsetWidth;var _68=this.dom.rightScrollBtn.offsetLeft;var _69=parseInt(this.dom.nameBar.style.left)+_5f.offsetLeft;var _6a=parseInt(this.dom.nameBar.style.left)+_5f.offsetLeft+_5f.offsetWidth;if(_69>_68||_6a>_68){this.dom.nameBar.style.left=(parseInt(this.dom.nameBar.style.left)-(_6a-_68))+"px";}else{if(_69<_67||_6a<_67){this.dom.nameBar.style.left=(this.dom.control.offsetWidth+this.dom.leftScrollBtn.offsetWidth-_5f.offsetLeft)+"px";}}this.addHistory(this.nowWindow);this.refreshSelectedIndex();}else{this.addHistory(this.nowWindow);this.refreshSelectedIndex();}}}else{this.selectedIndex=-1;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.addHistory=function(_6b){["WebSquare.uiplugin.windowContainer.addHistory"];try{var idx=null;for(var i=0;i<this.selectedWindowHistory.length;i++){if(this.selectedWindowHistory[i]==_6b){idx=i;}}if(idx!=null){this.selectedWindowHistory.splice(idx,1);}this.selectedWindowHistory.push(_6b);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.increaseZIndex=function(_6e){["WebSquare.uiplugin.windowContainer.increaseZIndex"];try{this.maxZIndex+=2;_6e.setStyle("zIndex",this.maxZIndex);this.dom.toolBar.style.zIndex=this.maxZIndex;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.selectNameLayer=function(_6f){["WebSquare.uiplugin.windowContainer.selectNameLayer"];try{for(var i=0;i<this.selectedWindowHistory.length;i++){if(this.selectedWindowHistory[i]==_6f){this.prevWindow=this.nowWindow;var _71=_6f;if(_71!=this.nowWindow){this.beforeWindow=this.nowWindow;this.nowWindow=_71;}this.selectWindow();if(this.prevWindow!=_71){var _72=this.getWinInfoObj(this.prevWindow).windowId;var _73=this.getWinInfoObj(_71).windowId;WebSquare.event.fireEvent(this,"onwindowchange",_72,_73);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.doVerticalArrange=function(){["WebSquare.uiplugin.windowContainer.doVerticalArrange"];try{var _74=0;var _75=2;var _76=[];for(var i=0;i<this.windows.length;i++){var _78=this.windows[i];if(_78.window.windowInfo.minimized==false){_76.push(_78);}}var _79=_76.length;if(_79<this.options.lineBreakNum){_75=1;_74=_79;}else{_75=2;_74=Math.ceil(_79/_75);}var _7a="";var x=0;var y=0;var _7d;var _7e;for(var i=0;i<_79;i++){var _7f=_76[i];var _80=_7f.window;var _81=_80.resizeParentGroup();_7d=parseInt(_81.width/_74,10);_7e=parseInt(_81.height/_75,10);_80.restore();_80.setSize(_7d,_7e);_80.setPosition(x*_7d,y*_7e);x++;if(x==_74){x=0;y++;}_7a=_7f.id;}this.selectNameLayer(_7a);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.doHorizontalArrange=function(){["WebSquare.uiplugin.windowContainer.doHorizontalArrange"];try{var _82=2;var _83=0;var _84=[];for(var i=0;i<this.windows.length;i++){var _86=this.windows[i];if(_86.window.windowInfo.minimized==false){_84.push(_86);}}var _87=_84.length;if(_87<this.options.lineBreakNum){_83=_87;_82=1;}else{_83=Math.ceil(_87/_82);_82=2;}var _88="";var x=0;var y=0;var _8b;var _8c;for(var i=0;i<_87;i++){var _8d=_84[i];var _8e=_8d.window;var _8f=_8e.resizeParentGroup();_8b=parseInt(_8f.width/_82,10);_8c=parseInt(_8f.height/_83,10);_8e.restore();_8e.setSize(_8b,_8c);_8e.setPosition(x*_8b,y*_8c);x++;if(x==_82){x=0;y++;}_88=_8d.id;}this.selectNameLayer(_88);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.doCascadeArrange=function(){["WebSquare.uiplugin.windowContainer.doCascadeArrange"];try{var _90;var _91;var _92="";var _93=[];for(var i=0;i<this.windows.length;i++){var _95=this.windows[i];if(_95.window.windowInfo.minimized==false){_93.push(_95);}}var _96=_93.length;for(var i=0;i<_96;i++){var _97=_93[i];var _98=_97.window;if(i==0){var _99=_98.resizeParentGroup();_90=parseInt(_99.width-200,10);_91=parseInt(_99.height-200,10);}_98.restore();_98.setSize(_90,_91);_98.setPosition((i%10)*20,(i%10)*20);_92=_97.id;}this.selectNameLayer(_92);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.doSequentialArrange=function(){["WebSquare.uiplugin.windowContainer.doSequentialArrange"];try{var _9a=1;var _9b=1;var _9c=true;var _9d=[];for(var i=0;i<this.windows.length;i++){var _9f=this.windows[i];if(_9f.window.windowInfo.minimized==false){_9d.push(_9f);}}var _a0=_9d.length;while(_9c){if(_9a*_9b<_a0){if(_9a==_9b){_9a++;}else{_9b++;}}else{_9c=false;}}var _a1;var _a2;var _a3="";var x=0;var y=0;for(var i=0;i<_a0;i++){var _a6=_9d[i];var _a7=_a6.window;if(i==0){var _a8=_a7.resizeParentGroup();_a1=parseInt(_a8.width/_9a,10);_a2=parseInt(_a8.height/_9b,10);}_a7.restore();_a7.setSize(_a1,_a2);_a7.setPosition(x*_a1,y*_a2);x++;if(x==_9a){x=0;y++;}_a3=_a6.id;}this.selectNameLayer(_a3);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.doCloseAll=function(){["WebSquare.uiplugin.windowContainer.doCloseAll"];var ret=WebSquare.event.fireEvent(this,"onbeforecloseall");if(ret!==false){for(var i=this.windows.length-1;i>=0;i--){this.selectNameLayer(this.windows[i].id);this.windows[i].window.close();}this.selectedIndex=-1;}};WebSquare.uiplugin.windowContainer.prototype.doMaximizeAll=function(){["WebSquare.uiplugin.windowContainer.doMaximizeAll"];var _ab=[];for(var i=0;i<this.selectedWindowHistory.length;i++){for(var n=0;n<this.selectedWindowHistory.length;n++){if(this.selectedWindowHistory[i]==this.windows[n].id){_ab.push(this.windows[n]);break;}}}for(var i=0;i<_ab.length;i++){_ab[i].window.maximize();}};WebSquare.uiplugin.windowContainer.prototype.isExistWindow=function(_ae){["WebSquare.uiplugin.windowContainer.isExistWindow"];try{for(var i=0;i<this.windows.length;i++){var _b0=this.windows[i];if(_ae==_b0.title){return true;}}return false;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.setSize=function(_b1,_b2){["WebSquare.uiplugin.windowContainer.setSize"];try{if(parseInt(_b1)<450){_b1=450;}if(parseInt(_b2)<150){_b2=150;}this.setStyle("width",_b1+"px");this.setStyle("height",_b2+"px");for(var i=0;i<this.windows.length;i++){var _b4=this.windows[i];_b4.window.resizeParentGroup();if(this.options.useNameScroll){this.dom.rightScrollBtn.style.left=parseInt(this.render.offsetWidth)-20+"px";}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.checkResize=function(){["WebSquare.uiplugin.windowContainer.prototype.checkResize"];try{var _b5=this.render?this.render.offsetWidth:null;if(this.bWidth!=null&&_b5!=this.bWidth){this.nameLayerResize();}this.bWidth=_b5;WebSquare.core.setTimer(this.checkResize,{key:this.id+"_checkResize",caller:this,delay:70});}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.nameLayerResize=function(e){["WebSquare.uiplugin.windowContainer.prototype.nameLayerResize"];try{if(this.render.offsetWidth<this.dom.nameBar.scrollWidth+this.dom.control.offsetWidth+2){this.options.useNameScroll=true;this.dom.rightScrollBtn.style.left=parseInt(this.getSize("width"))-20+"px";this.dom.rightScrollBtn.style.display="block";this.dom.leftScrollBtn.style.display="block";}else{this.options.useNameScroll=false;this.dom.nameBar.style.left=(this.dom.control.offsetWidth+2)+"px";this.dom.rightScrollBtn.style.display="none";this.dom.leftScrollBtn.style.display="none";}if(this.options.nameScrollMode=="hide"){for(var i=0;i<this.windows.length;i++){var _b8=this.windows[i].id;var _b9=document.getElementById(this.id+"_nameLayer_"+_b8);if(_b9.style.display=="none"){_b9.style.display="block";}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.showTooltip=function(_ba,_bb){["WebSquare.uiplugin.windowContainer.showTooltip"];try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new WebSquare.uiplugin.group(this.id+"_tooltip",{className:"w2windowContainer_tooltip "+this.options.tooltipClass});this.tooltip.writeTo(WebSquare.getBody());this.tooltip.activate();}if(this.tooltip.render.style.display!="block"){this.tooltip.setStyle("display","block");this.tooltip.render.innerHTML=_bb;var _bc=WebSquare.style.getAbsoluteLeft(_ba)+(_ba.offsetWidth/2);var top;if(this.options.toolbarPosition==="bottom"){top=WebSquare.style.getAbsoluteTop(_ba)-this.tooltip.render.offsetHeight;}else{top=WebSquare.style.getAbsoluteTop(_ba)+this.tooltip.render.offsetHeight;}this.tooltip.setStyle("zIndex",this.maxZIndex);this.tooltip.setStyle("left",_bc+"px");this.tooltip.setStyle("top",top+"px");}}),this.options.tooltipTime*1000);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.hideTooltip=function(){["WebSquare.uiplugin.windowContainer.hideTooltip"];try{if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.tooltip){this.tooltip.setStyle("display","none");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.setWindowSize=function(_be,_bf){["WebSquare.uiplugin.windowContainer.setWindowSize"];try{for(var i=0;i<this.windows.length;i++){var _c1=this.windows[i];var _c2=_c1.window;if(_c1.id==this.nowWindow){_c2.windowInfo.width=_be;_c2.windowInfo.height=_bf;_c2.windowInfo.status="restored";_c2.windowInfo.minimized=false;_c2.windowInfo.getInfo(_c2.render);break;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.setWindowPosition=function(_c3,top){["WebSquare.uiplugin.windowContainer.setWindowPosition"];try{for(var i=0;i<this.windows.length;i++){var _c6=this.windows[i];var _c7=_c6.window;if(_c6.id==this.nowWindow){_c7.windowInfo.left=_c3;_c7.windowInfo.top=top;_c7.windowInfo.status="restored";_c7.windowInfo.minimized=false;_c7.windowInfo.getInfo(_c7.render);break;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.closeWindow=function(){["WebSquare.uiplugin.windowContainer.closeWindow"];try{for(var i=0;i<this.windows.length;i++){var _c9=this.windows[i];var _ca=_c9.window;if(_c9.id==this.nowWindow){_ca.close();break;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.setWindowStatusMsg=function(msg,_cc){["WebSquare.uiplugin.windowContainer.setWindowStatusMsg"];try{for(var i=0;i<this.windows.length;i++){var _ce=this.windows[i];var _cf=_ce.window;if(_cc){if(_ce.title==_cc){_cf.setStatusMsg(msg);break;}}else{if(_ce.id==this.nowWindow){_cf.setStatusMsg(msg);break;}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.setAllWindowStatusMsg=function(msg){["WebSquare.uiplugin.windowContainer.setAllWindowStatusMsg"];try{for(var i=0;i<this.windows.length;i++){var _d2=this.windows[i];var _d3=_d2.window;_d3.setStatusMsg(msg);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.getWindow=function(_d4){["WebSquare.uiplugin.windowContainer.getWindow"];try{for(var i=0;i<this.windows.length;i++){var _d6=this.windows[i];if(_d4==_d6.title){this.beforeWindow=this.nowWindow;this.nowWindow=_d6.id;this.selectWindow();if(this.beforeWindow!=this.nowWindow){var _d7=this.getWinInfoObj(this.beforeWindow).windowId;var _d8=this.getWinInfoObj(this.nowWindow).windowId;WebSquare.event.fireEvent(this,"onwindowchange",_d7,_d8);}return _d6.window.frame.getWindow();}}return null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.getWindowByWindowId=function(_d9,_da){["WebSquare.uiplugin.windowContainer.getWindowByWindowId"];try{var _da=WebSquare.util.getBoolean(_da);for(var i=0;i<this.windows.length;i++){var _dc=this.windows[i];if(_d9==_dc.windowId){if(_da==true){this.beforeWindow=this.nowWindow;this.nowWindow=_dc.id;this.selectWindow();if(this.beforeWindow!=this.nowWindow){var _dd=this.getWinInfoObj(this.beforeWindow).windowId;var _de=this.getWinInfoObj(this.nowWindow).windowId;WebSquare.event.fireEvent(this,"onwindowchange",_dd,_de);}}return _dc.window.frame.getWindow();}}return null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.showModal=function(){["WebSquare.uiplugin.windowContainer.showModal"];try{if(!this.modal){this.modal=document.createElement("div");this.modal.id=this.id+"_modal";this.modal.className="w2modal";this.render.appendChild(this.modal);}if(this.modal){this.modal.style.display="block";this.modal.style.zIndex=this.maxZIndex-1;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.hideModal=function(){["WebSquare.uiplugin.windowContainer.shideModal"];try{if(this.modal){this.modal.style.display="none";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.moveNameLayerScroll=function(_df){["WebSquare.uiplugin.windowContainer.moveNameLayerScroll"];try{if(this.options.nameScrollMode=="hide"){var _e0=0;for(var i=0;i<this.windows.length;i++){var _e2=this.windows[i].id;var _e3=document.getElementById(this.id+"_nameLayer_"+_e2);if(_e3.style.display!="none"){_e0+=_e3.offsetWidth;}}if(_df=="right"){if(this.dom.nameBar.offsetWidth>_e0){return;}for(var i=0;i<this.windows.length;i++){var _e2=this.windows[i].id;var _e3=document.getElementById(this.id+"_nameLayer_"+_e2);if(_e3.style.display=="none"||i==this.windows.length-1){continue;}else{_e3.style.display="none";break;}}}else{for(var i=this.windows.length-1;i>=0;i--){var _e2=this.windows[i].id;var _e3=document.getElementById(this.id+"_nameLayer_"+_e2);if(_e3.style.display!="none"){continue;}else{_e3.style.display="block";break;}}}}else{var _e4=110;if(_df=="right"){var _e5=this.windows[this.windows.length-1].id;var _e6=document.getElementById(this.id+"_nameLayer_"+_e5);var _e7=this.dom.rightScrollBtn.offsetLeft-this.dom.nameBar.offsetWidth;if(parseInt(this.dom.nameBar.style.left)-_e4<_e7){this.dom.nameBar.style.left=_e7+"px";}else{this.dom.nameBar.style.left=parseInt(this.dom.nameBar.style.left)-_e4+"px";}}else{if(parseInt(this.dom.nameBar.style.left)+_e4>(this.dom.control.offsetWidth+this.dom.leftScrollBtn.offsetWidth)){this.dom.nameBar.style.left=(this.dom.control.offsetWidth+this.dom.leftScrollBtn.offsetWidth)+"px";}else{this.dom.nameBar.style.left=parseInt(this.dom.nameBar.style.left)+_e4+"px";}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.setFocus=function(_e8){["WebSquare.uiplugin.windowContainer.setFocus"];try{if(!this.windows[_e8]){return;}if(this.windows[_e8].id!==this.nowWindow){this.selectNameLayer(this.windows[_e8].id);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.windowContainer.getSelectedIndex"];return this.selectedIndex;};WebSquare.uiplugin.windowContainer.prototype.getSelectedWindowId=function(){["WebSquare.uiplugin.windowContainer.getSelectedWindowId"];return this.windows[this.selectedIndex].windowId;};WebSquare.uiplugin.windowContainer.prototype.refreshSelectedIndex=function(_e9){["WebSquare.uiplugin.windowContainer.refreshSelectedIndex"];try{var _ea=_e9||this.nowWindow;for(var i=0;i<this.windows.length;i++){var _ec=this.windows[i];var _ed=this.nowWindow;if(_ec.id==_ea){this.selectedIndex=i;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.windowContainer.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2windowContainer_controlIcon_vertical")){this.doVerticalArrange();}if(it.match("w2windowContainer_controlIcon_horizontal")){this.doHorizontalArrange();}if(it.match("w2windowContainer_controlIcon_cascade")){this.doCascadeArrange();}if(it.match("w2windowContainer_controlIcon_sequential")){this.doSequentialArrange();}if(it.match("w2windowContainer_controlIcon_closeAll")){this.doCloseAll();}if(it.match("w2windowContainer_nameLayer")){var _f0=it.getElement().getAttribute("refId");this.clickNameLayer(_f0,this.options.stopMinimizeOnNameLayer);}if(it.match("w2windowContainer_nameLayer_close")){var _f0=it.getElement().getAttribute("refId");var _f1=this.getWinInfoObj(_f0);_f1.window.close();return;}if(it.match("w2window")){this.selectNameLayer(it.getElement().id);}if(it.match("w2window_restore")){if(this.options.windowMaximizeAll==true){this.doMaximizeAll();}}if(it.match("w2windowContainer_scrollLeftBtn")){this.moveNameLayerScroll("left");}if(it.match("w2windowContainer_scrollRightBtn")){this.moveNameLayerScroll("right");}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.handleMouseOverEvent=function(e){["WebSquare.uiplugin.windowContainer.handleMouseOverEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2windowContainer_nameLayer")){var _f4=it.getElement();var _f5=it.getElement().getAttribute("refId");var _f6="";for(var i=0;i<this.windows.length;i++){var _f8=this.windows[i];if(_f5==_f8.id){_f6=_f8.tooltip;break;}}if(it.getElement().id.indexOf(this.nowWindow)==-1){this.addClass(_f4,"w2windowContainer_selectedNameLayer");}if(this.options.tooltipDisplay){this.showTooltip(_f4,_f6);}}else{if(it.match("w2windowContainer_controlIcon_vertical")){this.addClass(this.dom.iconVertical,"w2windowContainer_controlIcon_vertical_over");}else{if(it.match("w2windowContainer_controlIcon_horizontal")){this.addClass(this.dom.iconHorizontal,"w2windowContainer_controlIcon_horizontal_over");}else{if(it.match("w2windowContainer_controlIcon_cascade")){this.addClass(this.dom.iconCascade,"w2windowContainer_controlIcon_cascade_over");}else{if(it.match("w2windowContainer_controlIcon_sequential")){this.addClass(this.dom.iconSequential,"w2windowContainer_controlIcon_sequential_over");}else{if(it.match("w2windowContainer_controlIcon_closeAll")){this.addClass(this.dom.iconCloseAll,"w2windowContainer_controlIcon_closeAll_over");}}}}}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.handleMouseOutEvent=function(e){["WebSquare.uiplugin.windowContainer.handleMouseOutEvent"];try{WebSquare.event.stopEvent(e);this.hideTooltip();var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2windowContainer_nameLayer")){if(it.getElement().id.indexOf(this.nowWindow)==-1){this.removeClass(it.getElement(),"w2windowContainer_selectedNameLayer");}}else{if(it.match("w2windowContainer_controlIcon_vertical")){this.removeClass(this.dom.iconVertical,"w2windowContainer_controlIcon_vertical_over");}else{if(it.match("w2windowContainer_controlIcon_horizontal")){this.removeClass(this.dom.iconHorizontal,"w2windowContainer_controlIcon_horizontal_over");}else{if(it.match("w2windowContainer_controlIcon_cascade")){this.removeClass(this.dom.iconCascade,"w2windowContainer_controlIcon_cascade_over");}else{if(it.match("w2windowContainer_controlIcon_sequential")){this.removeClass(this.dom.iconSequential,"w2windowContainer_controlIcon_sequential_over");}else{if(it.match("w2windowContainer_controlIcon_closeAll")){this.removeClass(this.dom.iconCloseAll,"w2windowContainer_controlIcon_closeAll_over");}}}}}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.handleDragStartEvent=function(){["WebSquare.uiplugin.windowContainer.handleDragStartEvent"];try{this.showModal();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.windowContainer.prototype.handleDragEndEvent=function(){["WebSquare.uiplugin.windowContainer.handleDragEndEvent"];try{this.hideModal();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController=function(){try{}catch(e){$l(e.message);WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.toHTML=function(){["WebSquare.uiplugin.grid.toHTML"];var _1=[];var _2=this.options.overflowY==="scroll";var _3=this.options.title?" title='"+this.options.title.wq_replaceAll("'","&#39;")+"'":"";var _4=this.options.focusMode=="none"||this.options.focusFlow=="linear"?"":" tabIndex='0'";_1.push("<div id='"+this.id+"' class='w2grid "+this.options.className+"' style='"+this.options.style+";overflow:hidden;' role='application' "+_3+_4+">");if(this.options.groupbyZone){_1.push("<div id='"+this.id+"_groupbyZone_div' class='w2grid_groupbyZone' style='width:0px; height:0px;'></div>");}_1.push("<div id='"+this.id+"_main_div' style='z-index:10;overflow:hidden;position:absolute;left:0px; right:"+(_2?this.scrollLayerWidthSize:"0")+"px; top:0px; bottom:"+this.scrollLayerWidthSize+"px;float:left;'>");_1.push(this.mainDataGridLayout());_1.push("</div>");_1.push("<div id='"+this.id+"_scrollX_div' style='z-index:20;overflow-x:hidden;overflow-y:hidden;position:absolute; height:0px; left:0px; right:",(_2?this.scrollWidthSize:"0"),"px; bottom:0px;'>");_1.push(this.getScrollX());_1.push("</div>");_1.push("<div id='"+this.id+"_scrollY_div' style='z-index:15;position:absolute; overflow-x:hidden;overflow-y:scroll;width:",(_2?this.scrollLayerWidthSize:"0"),"px; height:"+(this.options.groupbyZone?"0px":"100%")+";right:0px;'>");_1.push(this.getScrollY());_1.push("</div>");_1.push("<div id='"+this.id+"_iScrollX' class='w2grid_iScrollX' style='visibility:hidden;'></div>");_1.push("<div id='"+this.id+"_iScrollY' class='w2grid_iScrollY' style='visibility:hidden;'></div>");_1.push("<div id='"+this.id+"_resize_line' style='display:none;position:absolute;top:10px; bottom:0px;border:0px dashed #222222; border-left-width:1px;'></div>");_1.push("<div id='"+this.id+"_noresult' style='display:none;position:absolute;"+this.options.noResultMessageStyle+"' class='"+this.options.noResultMessageClass+"'>"+this.options.noResultMessage+"</div>");_1.push("</div>");return _1.join("");};WebSquare.uiplugin.layoutController.prototype.getScrollY=function(){var _5="<div id='"+this.id+"_size_y' style='height:0px; position:absolute; top:0px; left:0px; width:18px;"+this.test_border+"'></div>";return _5;};WebSquare.uiplugin.layoutController.prototype.getScrollX=function(){var _6=this.options.fixedColumn+this.defaultColCnt;var _7=0;for(var i=0;i<_6;i++){if(!this.hiddenList[i]){_7+=this.colWidthList[i];}}var _9=[];_9.push("<table id='"+this.id+"_scrollX_table' style='height:18px;table-layout:fixed; border-collapse:collapse; border-spacing:0px; width:100%'>");_9.push("<tr>");_9.push("<td id='"+this.id+"_scrollX_left' style='border:0px solid red;padding:0px 0px 0px 0px;height:"+this.scrollLayerWidthSize+"px;width:"+_7+"px;vertical-align:bottom;'>");_9.push("<div style='height:"+this.scrollLayerWidthSize+"px;overflow-x:scroll;overflow-y:hidden'></div>");_9.push("</td>");_9.push("<td style='border:0px solid orange;padding:0px 0px 0px 0px;height:18px;'>");_9.push("<div id='"+this.id+"_scrollX_right' style='height:18px;border:0px solid blue; overflow-x:scroll;overflow-y:hidden;padding:0px 0px 0px 0px;padding-top:-5px;' tabIndex='-1'>");_9.push("<div id='"+this.id+"_scroll_size' style='height:1px;width:"+parseInt(this.gridWidth-_7)+"px'></div>");_9.push("</div>");_9.push("</td>");_9.push("</tr>");_9.push("</table>");return _9.join("");};WebSquare.uiplugin.layoutController.prototype.mainDataGridLayout=function(){["WebSquare.uiplugin.layoutController.prototype.mainDataGridLayout"];this.setTableStruct();var _a=[];_a.push(this.getBodyTable());_a.push(this.getFooterTable());this.setInitialCSS();return _a.join("");};WebSquare.uiplugin.layoutController.prototype.setColArr=function(){this.colGroupArr=[];this.setColWidth();this.gridWidth=0;var _b=-1;if(this.options.rowStatusVisible){var _c=40;if(this.options.rowStatusWidth.length>0){if(this.options.rowStatusWidth.indexOf("*")>-1){_c=this.options.rowStatusWidth;_b++;}else{if((this.options.rowStatusWidth-0)>-1){_c=this.options.rowStatusWidth-0;}}}this.colWidthList.unshift(_c);this.hiddenList.unshift(false);}if(this.options.rowNumVisible){var _c=40;if(this.options.rowNumWidth.length>0){if(this.options.rowNumWidth.indexOf("*")>-1){_c=this.options.rowNumWidth;_b++;}else{if((this.options.rowNumWidth-0)>-1){_c=this.options.rowNumWidth-0;}}}this.colWidthList.unshift(_c);this.hiddenList.unshift(false);}if(_b>-1){this.autofitColumn=true;for(var i=0;i<2;i++){if(this.colWidthList[i]&&typeof this.colWidthList[i]=="string"){if(this.colWidthList[i].indexOf("*")>-1){this.autofitColumnIndexArr.push(i);this.autofitColumnWidthArr[i]=this.colWidthList[i];}}}}var _e;var _f;if(this.isIE6or7){_e=[];_f=this.colIndexes.bodyColInfo.colSpanArr;var len=this.colIndexes.bodyColInfo.colIndexArr.length;for(var i=0;i<len;i++){if(_f[i]){for(var j=0;j<_f[i];j++){_e[j]=true;}}}}this.colGroupArr.push("<colgroup>");for(var i=0;i<this.colWidthList.length;i++){if(this.colWidthList[i]==null){this.colWidthList[i]=70;}var _12=(isNaN(this.colWidthList[i]))?0:this.colWidthList[i];if(!this.hiddenList[i]){this.gridWidth+=_12;if(this.isIE6or7&&(i<this.defaultColCnt||!_e[i])){_12--;if(i==this.defaultColCnt){_12--;}}}else{_12=0;}this.colGroupArr.push("<col id='colGroupID_"+i+"' style='width:"+_12+"px;white-space:nowrap' />");}this.colGroupArr.push("</colgroup>");};WebSquare.uiplugin.layoutController.prototype.setCss=function(){this.options.headerTableClass=this.struct.head.attr["class"]||"gridHeaderTableDefault";this.options.headerTrClass=this.struct.head.attr.rowClass||"gridHeaderTRDefault";this.options.headerTdClass=this.struct.head.attr.columnClass||"gridHeaderTDDefault";this.options.bodyTableClass=this.struct.body.attr["class"]||"gridBodyTableDefault";this.options.bodyTrClass=this.struct.body.attr.rowClass||"gridBodyTRDefault";this.options.bodyTdClass=this.struct.body.attr.columnClass||"gridBodyDefault";if(this.hasFooter){this.options.footerTableClass=this.struct.foot.attr["class"]||"gridFooterTableDefault";this.options.footerTrClass=this.struct.foot.attr.rowClass||"gridFooterTRDefault";this.options.footerTdClass=this.struct.foot.attr.columnClass||"gridFooterTDDefault";}if(this.hasSubtotal){this.options.subtotalTrClass=this.struct.subtotalArr[this.struct.subtotalArr.length-1].attr.rowClass||"gridSubtotalTRDefault";this.options.subtotalTdClass=this.struct.subtotalArr[this.struct.subtotalArr.length-1].attr.columnClass||"gridSubtotalDefault";}};WebSquare.uiplugin.layoutController.prototype.setInitialCSS=function(){if(this.options.oddEvenColorDisplay){WebSquare.cssStyleSheet.addRule("#"+this.id+" .evenTd","background-color:"+this.options.evenRowBackgroundColor);WebSquare.cssStyleSheet.addRule("#"+this.id+" .oddTd","background-color:"+this.options.oddRowBackgroundColor);}this.rowStyleIndex=0;this.cellStyleIndex=0;this.readOnlyTdStyle="";this.disabledTdStyle="";this.rowOverStyle="";if(this.options.readOnlyBackgroundColor!=""){this.readOnlyTdStyle="background-color:"+this.options.readOnlyBackgroundColor;}if(this.options.disabledBackgroundColor!=""){this.disabledTdStyle="background-color:"+this.options.disabledBackgroundColor;}if(this.options.disabledFontColor!=""){this.disabledTdStyle=(this.disabledTdStyle!="")?this.disabledTdStyle+";":"";this.disabledTdStyle+="color:"+this.options.disabledFontColor;}if(this.options.rowNumBackgroundColor!=""){WebSquare.cssStyleSheet.addRule("#"+this.id+" ."+this.options.bodyTdClass+"_rowNumber","background-color:"+this.options.rowNumBackgroundColor);}if(this.options.rowMouseOver){this.rowOverStyle="background-color:"+this.options.rowMouseOverColor;}if(this.options.defaultCellHeight!=-1){WebSquare.cssStyleSheet.addRule("#"+this.id+" td."+this.options.bodyTdClass,"height:"+this.options.defaultCellHeight+"px");WebSquare.cssStyleSheet.addRule("#"+this.id+" th."+this.options.headerTdClass,"height:"+this.options.defaultCellHeight+"px");}};WebSquare.uiplugin.layoutController.prototype.getGridClassName=function(_13,_14){if(_13==null||_13==""){return _14;}return _13;};WebSquare.uiplugin.layoutController.prototype.grid2TableXml=function(_15){var _16=WebSquare.xml.getElementsByTagName(this.element,_15,WebSquare.core._XML_NAMESPACE.W2);if(_16.length>0){return this.oneGrid2TableXml(_16[0]);}else{return null;}};WebSquare.uiplugin.layoutController.prototype.xml2JSON=function(_17){var obj={attr:{},rowArr:[]};for(var i=0;i<_17.attributes.length;i++){obj.attr[_17.attributes[i].nodeName]=_17.attributes[i].nodeValue;}var _1a=WebSquare.xml.getElementsByTagName(_17,"row",WebSquare.core._XML_NAMESPACE.W2);for(var i=0;i<_1a.length;i++){var _1b=WebSquare.xml.getElementsByTagName(_1a[i],"column",WebSquare.core._XML_NAMESPACE.W2);var _1c=[];for(var j=0;j<_1b.length;j++){var _1e=_1b[j];var col={"@xml":_1e};for(var k=0;k<_1e.attributes.length;k++){col[_1e.attributes[k].nodeName]=_1e.attributes[k].nodeValue;}_1c.push(col);}obj.rowArr.push(_1c);}return obj;};WebSquare.uiplugin.layoutController.prototype.oneGrid2TableXml=function(_21){var _22=WebSquare.xml.serialize(_21);var _23=_22.indexOf("w2:header")>=0?"th":"td";_22=_22.wq_replaceAll("w2:header",this.options.fixPrint?"tbody":"thead");_22=_22.wq_replaceAll("w2:gBody","tbody");_22=_22.wq_replaceAll("w2:footer","tbody");_22=_22.wq_replaceAll("w2:row","tr");_22=_22.wq_replaceAll("w2:column",_23);var _24=WebSquare.xml.parse(_22);return _24;};WebSquare.uiplugin.layoutController.prototype.setColWidth=function(){var _25=this.getColCnt();this.colWidthList=[];this.autoFitColWidthList=null;this.hiddenList=[];for(var i=0;i<_25;i++){this.colWidthList[i]=null;this.hiddenList[i]=false;}this.initializeTableInfo();};WebSquare.uiplugin.layoutController.prototype.getColCnt=function(){["WebSquare.uiplugin.layoutController.prototype.getColCnt"];try{var _27=0;var row=this.htmlInfo?this.htmlInfo.head.rowArr[0]:this.struct.head.rowArr[0];for(var i=0;i<row.length;i++){var _2a=row[i];_27+=parseInt(_2a.colSpan,10)||1;}return _27;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.initializeTableInfo=function(){["WebSquare.uiplugin.layoutController.prototype.initializeTableInfo"];try{var _2b=this;var _2c=function(_2d){if(_2d==null){return null;}var _2e=[];var _2f=[];var _30=[];var _31=[];var _32=[];var _33=_2d.rowArr;var _34=[];for(var i=0;i<_33.length;i++){var _36=[];for(var j=0;j<_2b.colWidthList.length;j++){_36.push(false);}_34.push(_36);}var _38=0;if(_2b.options.rowNumVisible){_2e.push(0);_30.push(0);_31.push(_33.length);_32.push([_38++]);}if(_2b.options.rowStatusVisible){_2e.push((_2b.options.rowNumVisible===true)?1:0);_30.push(0);_31.push(_33.length);_32.push([_38++]);}for(var i=0;i<_33.length;i++){var _39=_33[i];var x=0;for(var j=0;j<_39.length;j++){var _3b=_39[j];var _3c=parseInt(_3b.colSpan||1);var _3d=parseInt(_3b.rowSpan||1);while(typeof _34[i][x]!="undefined"&&_34[i][x]){x++;}_3b.colIndex=x+_2b.defaultColCnt;_2e.push(x+_2b.defaultColCnt);_30.push(i);_31.push(_3d);var _3e=_3b.width||"";if(_3c>1){if(_3e.indexOf("*")>-1){_2b.autofitColumn=true;for(var _3f=0;_3f<_3c;_3f++){var _40=x+_3f;_2b.colWidthList[_40]=_3e;_2b.autofitColumnWidthArr[_40+_2b.defaultColCnt]=_3e;_2b.autofitColumnIndexArr.push(_40+_2b.defaultColCnt);}}_2f[_2e.length-1]=_3c;}if(_3c==1&&_2b.colWidthList[x]==null){if(_3e.indexOf("*")>-1){_2b.autofitColumn=true;var _40=x;_2b.colWidthList[_40]=_3e;_2b.autofitColumnIndexArr.push(_40+_2b.defaultColCnt);_2b.autofitColumnWidthArr[_40+_2b.defaultColCnt]=_3e;}else{_2b.colWidthList[x]=parseInt(_3e||0);}}for(var k=0;k<_3c;k++){if(!_32[x+_2b.defaultColCnt+k]){_32[x+_2b.defaultColCnt+k]=[];}_32[x+_2b.defaultColCnt+k].push(_38);_34[i][x+k]=true;if(_3b.hidden=="true"){_2b.hiddenList[x+k]=true;}for(var l=1;l<_3d;l++){_34[i+l][x+k]=true;}}_38++;delete _3b.hidden;}}return {colIndexArr:_2e,colSpanArr:_2f,trIndexArr:_30,rowSpanArr:_31,colIndexMatch:_32};};this.colIndexes={headerColInfo:_2c(this.struct.head),bodyColInfo:_2c(this.struct.body),footerColInfo:_2c(this.struct.foot)};if(this.hasSubtotal){this.colIndexes.subtotalColInfo=[];for(var i=0;i<this.struct.subtotalArr.length;i++){var obj=_2c(this.struct.subtotalArr[i]);this.colIndexes.subtotalColInfo.push(obj);this.colIndexes.subtotalColInfo[this.struct.subtotalArr[i].attr.targetColumnID]=obj;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.getFooterTable=function(){if(!this.hasFooter){return "";}this.hasFooter=true;var str="";str="<table id='"+this.id+"_foot_table' class='"+this.options.footerTableClass+"' style='position:absolute; bottom:0px; table-layout:fixed; border-collapse:collapse; border-spacing:0px; width:"+this.gridWidth+"px;'>";str+=this.getColGroup(this.id+"_col_footer");if(WebSquare.util.isSafari()||WebSquare.util.isChrome()){str+="<thead><tr></tr></thead>";}else{if(WebSquare.util.isIE()){var _46="";for(var i=0;i<this.getColCnt();i++){_46+="<td></td>";}str+="<thead style='visibility:collapse;'><tr>"+_46+"</tr></thead>";}}str+=this.getTableHtml(this.htmlInfo.foot,"tbody","td",this.options.footerTdClass);str+="</table>";str=str.wq_replaceAll("width=","or_wd=");str=str.wq_replaceAll("disabled=","dis=");return str;};WebSquare.uiplugin.layoutController.prototype.getBodyTable=function(){var _48="width:"+this.gridWidth+"px;";if(this.isIE6or7){_48="";}var _49=(this.element.getAttribute("summary")||"").wq_replaceAll("'","&#39;");var str="";str="<div id='"+this.id+"_dataLayer' style='position:absolute; width:100%; top:0px;bottom:0px;overflow:hidden;'>";str+=this.getGridHeaderFillerTable(this.headerXml,this.options.headerTdClass,this.options.headerTrClass,this.id+"_head_table",this.options.headerTableClass);str+="<table id='"+this.id+"_body_table' class='"+this.options.headerTableClass+"' style='position:absolute;left:0px;top:0px;table-layout:fixed; border-collapse:collapse; border-spacing:0px;"+_48+"' summary='"+_49+"' role='grid'>";str+=this.getColGroup(this.id+"_col_body");if(this.captionXml){var _4b=WebSquare.xml.parse("<caption/>");var _4c=null;for(var i=0;i<this.captionXml.attributes.length;i++){_4b.documentElement.setAttribute(this.captionXml.attributes[i].nodeName,this.captionXml.attributes[i].nodeValue);if(this.captionXml.attributes[i].nodeName=="value"){_4c=this.captionXml.attributes[i].nodeValue;}}if(_4c){_4b.documentElement.appendChild(_4b.createTextNode(_4c));}else{for(var i=0;i<this.captionXml.childNodes.length;i++){_4b.documentElement.appendChild(this.captionXml.childNodes[i].cloneNode(true));}}str+=WebSquare.xml.noNameSpaceSerialize(_4b);}if((WebSquare.util.isSafari()||WebSquare.util.isChrome())&&!this.options.hideHeader){if(!this.captionXml){var _4e="transparent";var _4f="0";for(var i=0;i<document.styleSheets.length;i++){var _50=document.styleSheets[i];for(var j=0;j<_50.cssRules.length;j++){var _52=_50.cssRules[j];if(_52.selectorText=="."+this.options.headerTableClass){_4e=_52.style["border-top-color"];_4f=parseInt(_52.style["border-top-width"])/2;i=document.styleSheets.length;break;}}}str+="<caption style='height:"+_4f+"px;background-color:"+_4e+";'></caption>";}str+="<thead><tr></tr></thead>";}str+=this.getTableHtml(this.htmlInfo.head,"thead","th",this.options.headerTdClass);str+="<tbody id='"+this.id+"_body_tbody'></tbody>";str+="</table>";str+="</div>";str=str.wq_replaceAll("width=","or_wd=");return str;};WebSquare.uiplugin.layoutController.prototype.getTableInfo=function(_53,_54,_55){var _56=WebSquare.extend({},_53.attr);var _57=[];var _58=[];var _59=_53.rowArr;_56.id=this.id+"_"+_54+"_tbody";_56.style="";for(var i=0;i<_59.length;i++){_58[i]={role:"row"};_57.push([]);for(var j=0;j<_59[i].length;j++){var _5c=WebSquare.extend({},_59[i][j]);_5c.role="gridcell";_5c["class"]=_54+" "+_54+"_data";if(this.isIE6or7){var _5d=parseInt(_5c.colSpan||"1");var _5e=parseInt(_5c.colIndex);if(_5d>1){for(var k=1;k<_5d;k++){if(this.hgap[_55+"_"+_5e]!=false){this.hgap[_55+"_"+(_5e+k)]=true;}}this.hgap[_55+"_"+_5e]=true;}else{this.hgap[_55+"_"+_5e]=false;}}var _60=_5c.textAlign;var _61=_5c.style;_61=_61+";text-align:"+(_60||"center");_5c.style=_61;_57[i].push(_5c);}}return {attr:_56,rowArr:_57,rowAttrArr:_58};};WebSquare.uiplugin.layoutController.prototype.getBodyHtmlInfo=function(){var _62=this.options.bodyTdClass;var _63=this.options.bodyTrClass;var _64=this.getTableInfo(this.struct.body,_62,_63);var _65=_64.attr;var _66=_64.rowArr;var _67=_64.rowAttrArr;this.oneRowLength=_66.length;this.oneRowDataLength=0;this.tdIdList=[];this.bodyIdColIndexMap=[];var _68=0;for(var i=0;i<_66.length;i++){_67[i].trIndex=i;this.oneRowDataLength+=_66[i].length;for(var j=0;j<_66[i].length;j++){var _6b=_66[i][j];var _6c=_6b.style;var _6d=_6c.split(";");if(_6d.length>0){var _6e=this.id+"_columnstyle_"+_68+"_";for(var k=0;k<_6d.length;k++){if(_6d[k].indexOf(":")>-1){try{var _70=_6d[k].split(":")[0].wq_trim();var _71=_6d[k].split(":")[1].wq_trim();this.setColumnStyle(_68,_70,_71);}catch(e){}break;}}}var _72=_6b.inputType;if(_72=="textarea"){if(_6b.displayType=="all"){_6b.style+=";word-break:break-all;white-space:normal;";}}var _73=_6b.id;if(_6b.col_id==null){_6b.col_id=_73;_6b.id=this.id+"_"+_73;_6b["@xml"].setAttribute("col_id",_73);_6b["@xml"].setAttribute("id",this.id+"_"+_73);}else{_73=_6b.col_id;}this._setCellInfo(_73,_6b["@xml"]);this.bodyIdColIndexMap[_73]=_68;this.tdIdList.push(_73);_68++;}}return {attr:_65,rowArr:_66,rowAttrArr:_67};};WebSquare.uiplugin.layoutController.prototype.getHeaderHtmlInfo=function(){var _74=this.options.headerTdClass;var _75=this.options.headerTrClass;var _76=this.getTableInfo(this.struct.head,_74,_75);var _77=_76.attr;var _78=_76.rowArr;var _79=_76.rowAttrArr;var _7a=[];var _7b=this.struct.head.rowArr;_77.id=this.id+"_head_table";_77["class"]=this.options.headerTableClass;var _7c=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/i;var _7d=_7c.exec(this.struct.head.attr.style);if(_7d&&_7d.length==2){this.headerHeight=parseInt(_7d[1]);}_77.style=this.options.hideHeader?"display:none":"";this.headCellInfoHash={};for(var i=0;i<_78.length;i++){_7a.push([]);for(var j=0;j<_78[i].length;j++){var _80=_78[i][j];var _81=null;var _82=_80.inputType;var _83=_80.dataType;var _84=_80.value;if(typeof _84=="undefined"||_84==null){_84=_80.defaultValue;if(typeof _84=="undefined"||_84==null){_84="";}}if(_82=="checkbox"){_81="<input type='checkbox' style='border:0px solid blue;background-color:transprent;' />";}else{if(_82=="select"){var _85="";var _86="";if(this.options.chooseOption){_85=WebSquare.util.getBoolean(this.options.useLocale)?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel;}else{if(this.options.allOption){_85="-\uc804\uccb4-";}else{var _87=WebSquare.xml.serialize(_80["@xml"]);var _88=(_87.match(/label\s*>[^<]+<\//)||"").toString();if(_88!==""){_85=_88.slice(_88.toString().indexOf(">")+1,-2);}}}_81="<div style='width:100%;height:20px;top:0px;left:0px;position:relative;background-color:#ffffff' class='w2selectbox "+this.options.headerTdClass+" "+this.options.headerTdClass+"_data'>"+"<span style='display:none'></span>"+"<table class='w2selectbox_table_main' cellSpacing='0' cellPadding='0'>"+"<tr class='w2selectbox_row w2selectbox_row_main'>"+"<td class='w2selectbox_col_label'>"+"<div class='w2selectbox_label'>"+_85+"</div></td>"+"<td class='w2selectbox_col_button'></td>"+"</tr></table></div>";}else{if(_82=="text"&&_83=="own"){_81="<input type='text' class='w2grid_head_input' style='width:95%; height:18px;' />";}else{var _89=_80.localeRef;if(_89!=null){_84=this.getLocaleValue(_89);}else{if(_84==null){_84="";}}_81="<nobr style='padding-top:0px; padding-left:4px;padding-right:4px' >"+_84+"</nobr>";}}}_7a[i].push(_81);this.headCellInfoHash[_80.id]=_80["@xml"];if(_80.col_id==null){_80.col_id=_80.id;}}}return {attr:_77,rowArr:_78,rowAttrArr:_79,headerTdHtml:_7a};};WebSquare.uiplugin.layoutController.prototype.getFooterHtmlInfo=function(){var _8a=this.options.footerTdClass;var _8b=this.options.footerTrClass;var _8c=this.getTableInfo(this.struct.foot,_8a,_8b);var _8d=_8c.attr;var _8e=_8c.rowArr;var _8f=_8c.rowAttrArr;var _90=/(?:^|;)\s*height\s*:\s*(\d*)px\s*(?:$|;)/i;var _91=_90.exec(this.struct.foot.attr.style);if(_91&&_91.length==2){this.footerHeight=parseInt(_91[1]);}return {attr:_8d,rowArr:_8e,rowAttrArr:_8f};};WebSquare.uiplugin.layoutController.prototype.getSubtotalHtmlInfo=function(_92){var _93=this.options.subtotalTdClass;var _94=this.options.subtotalTrClass;var _95=this.getTableInfo(_92,_93,_94);var _96=_95.attr;var _97=_95.rowArr;var _98=_95.rowAttrArr;for(var i=0;i<_97.length;i++){_98[i].trIndex=i;_98[i].targetColumnID=_96.targetColumnID;for(var j=0;j<_97[i].length;j++){_97[i][j]["class"]+=_97[i][j]["class"]+" "+this.id+"_subtotal__column"+i;delete _97[i][j].hidden;}}return {attr:_96,rowArr:_97,rowAttrArr:_98};};WebSquare.uiplugin.layoutController.prototype.getTableHtml=function(_9b,_9c,_9d,_9e){var _9f=_9b.attr;var _a0=_9b.rowArr;var _a1=_9b.rowAttrArr;var _a2=[];_a2.push("<"+_9c+this.getAttributesString(_9f)+">");var _a3="";if(_a0.length>=2){_a3=" rowSpan='"+_a0.length+"'";}for(var i=0;i<_a0.length;i++){_a2.push("<tr"+this.getAttributesString(_a1[i])+">");if(i==0){var _a5="";var _a6="";if(_9b==this.htmlInfo.head){_a5=this.options.rowNumHeaderValue;_a6=this.options.rowStatusHeaderValue;}if(this.options.rowNumVisible){_a2.push("<"+_9d+_a3+" class='"+_9e+" "+_9e+"_rowNumber' value='"+_a5+"' colIndex='0' id='_headerRowNumber'></"+_9d+">");}if(this.options.rowStatusVisible){_a2.push("<"+_9d+_a3+" class='"+_9e+" "+_9e+"_rowStatus' value='"+_a6+"' colIndex='"+(this.options.rowNumVisible?1:0)+"' id='_headerRowStatus'></"+_9d+">");}}for(var j=0;j<_a0[i].length;j++){_a2.push("<"+_9d+this.getAttributesString(_a0[i][j])+">");if(_9b.headerTdHtml&&_9b.headerTdHtml[i][j]){_a2.push(_9b.headerTdHtml[i][j]);}_a2.push("</"+_9d+">");}_a2.push("</tr>");}_a2.push("</"+_9c+">");return _a2.join("");};WebSquare.uiplugin.layoutController.prototype.getGridHeaderFillerTable=function(_a8,_a9,_aa,_ab,_ac){if(!this.options.headFiller){return "";}var _ad=[];var _ae="";if(this.options.hideHeader){_ae="display:none";}_ad.push("<table class='"+this.options.headerTableClass+"' style='z-index:-1;position:absolute;table-layout:fixed; border-collapse:collapse; border-spacing:0px; width:"+this.gridWidth+"px; '>");_ad.push("<tbody id='"+this.id+"_"+_a9+"_tbody_tmp"+"' style='"+_ae+"' class='"+_ac+"'>");_ad.push("<tr class='"+_aa+"'>");_ad.push("<td style='' id='"+this.id+"_header_bg_td' class='"+_a9+" "+_a9+"_rowNumber'>&nbsp;</td>");_ad.push("</tr>");_ad.push("</tbody>");_ad.push("</table>");return _ad.join("");};WebSquare.uiplugin.layoutController.prototype.getColGroup=function(id){return this.colGroupArr.join("").wq_replaceAll("colGroupID",id);};WebSquare.uiplugin.layoutController.prototype.initializeLayoutEvents=function(){["WebSquare.uiplugin.layoutController.prototype.initializeLayoutEvents"];try{this.event.addListener2(this.getElementById(this.id+"_scrollX_right"),"onscroll",this.handleScrollX,this);this.event.addListener2(this.getElementById(this.id+"_scrollY_div"),"onscroll",this.handleScrollY,this);this.event.addListener2(this.render,"onmousewheel",this.handleWheel,this);if(this.options.groupbyZone){this.event.addListener2(this.getElementById(this.id+"_groupbyZone_div"),"onclick",this.handleGroupbyZoneClick,this);this.event.addListener2(this.getElementById(this.id+"_groupbyZone_div"),"onmousedown",this.handleChangeGroupDepth,this);}if(this.options.resize&&!WebSquare.util.isMobile()){this.event.addListener(this.getElementById(this.id+"_head_table"),"onmousemove",this.event.bindAsEventListener(this,this.handleColumnResize));this.event.addListener(this.getElementById(this.id+"_head_table"),"onmousedown",this.event.bindAsEventListener(this,this.doColumnResize));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.endColumnResize));if(WebSquare.util.isIE()&&WebSquare.core.browserVersion()<=8){this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,function(e){if(this.resizeStarted||this.columnMoveTarget!=null){WebSquare.event.preventDefault(e);}}));}}this.handleScrollX();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.handleScrollX=function(e){["WebSquare.uiplugin.layoutController.handleScrollX"];try{if(typeof (CollectGarbage)=="function"){CollectGarbage();}var _b2=WebSquare.event.getTarget(e);if(_b2){if(!this._scrollXPrev){this._scrollXPrev={};}if(this._scrollXPrev.scrollLeft===_b2.scrollLeft&&this._scrollXPrev.scrollTop===_b2.scrollTop&&this._scrollXPrev.scrollWidth===_b2.scrollWidth&&this._scrollXPrev.scrollHeight===_b2.scrollHeight){this.scrollXPreventEndEdit=true;}this._scrollXPrev.scrollLeft=_b2.scrollLeft;this._scrollXPrev.scrollTop=_b2.scrollTop;this._scrollXPrev.scrollWidth=_b2.scrollWidth;this._scrollXPrev.scrollHeight=_b2.scrollHeight;}WebSquare.core.clearTimer(this.id+"_completiveDrawData",true);WebSquare.core.clearTimer(this.id+"_applyStyleOptions",true);if(this.editedCell!=null&&!this.scrollXPreventEndEdit){this.editedCell.handleEndEdit(e);}this._handleScrollX();if(this.scrollXPreventEndEdit&&this.editedCell&&this.editedCell.setPosition){this.editedCell.setPosition();}this.scrollXPreventEndEdit=false;WebSquare.event.fireEvent(this,"onscrollx",e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype._handleScrollX=function(){["WebSquare.uiplugin.layoutController._handleScrollX"];try{if(!this.body_table){this.head_table=this.getElementById(this.id+"_head_table");this.body_table=this.getElementById(this.id+"_body_table");if(this.hasFooter){this.foot_table=this.getElementById(this.id+"_foot_table");}this.scrollX_right=this.getElementById(this.id+"_scrollX_right");}if(typeof this.colGroup=="undefined"||this.colGroup==null){this.colGroup={};this.colGroup.bodyColList=this.body_table.getElementsByTagName("col");if(this.hasFooter){this.colGroup.footerColList=this.foot_table.getElementsByTagName("col");}else{this.colGroup.footerColList=null;}}var _b3=this.options.fixedColumn+this.defaultColCnt;var max=this.gridWidth-this.scrollX_right.scrollLeft-this.fixedWidth-1;var _b5=max;max=max>0?max:0;this.head_table.style.width=max+"px";this.body_table.style.width=max+"px";if(this.hasFooter){this.foot_table.style.width=max+"px";}var _b6=[];var _b7=[];var _b8=-1;var _b9=-1;var _ba=this.scrollWidthSize;var _bb=(this.resizeObj&&this.resizeObj.clientWidth)?this.resizeObj.clientWidth:this.render.clientWidth;var _bc=(_bb-1)-this.fixedWidth;if(_ba!=-1){_bc=_bc-_ba;}for(var i=this.colGroup.bodyColList.length-1;i>=0;i--){var _be=this.colWidthList[i];if(this.hiddenList[i]){_be=0;}if(max>_be){max-=_be;}else{_be=max;max=0;}if(i<_b3&&!this.hiddenList[i]){_be=this.colWidthList[i];}var _bf=0;var _c0=0;var _c1=0;if(this.isIE6or7&&_be!=0){if(this.hgap[this.options.headerTrClass+"_"+i]==true){_bf=0;}else{_bf=1;}if(this.hgap[this.options.bodyTrClass+"_"+i]==true){_c0=0;}else{_c0=1;}if(this.hasFooter){if(this.hgap[this.options.footerTrClass+"_"+i]==true){_c1=0;}else{_c1=1;}}}if(WebSquare.util.isIE(8)&&this.defaultColCnt==0&&i==0&&_be==0){_be=1;}if(this.options.scrollByColumn){if(_b8!=-1&&i==_b8){var _c2=this.colWidthList[_b9];var _c3=this.colWidthList[_b8];var _c4=0;for(var _c5=_b8;_c5<_b9+1;_c5++){if(this.hiddenList[_c5]){continue;}_c4+=this.colWidthList[_c5];}var _c6=_bc-(_c4-_c2);var _c7=_c2-_c6;var _c8=0;if(_c3<=_c2){if(_c6>_c7){_c8=_c3-_c7;}else{_c8=_c6;}}else{_c8=_c3-_c7;}this.colGroup.bodyColList[_b8].style.width=_c8-_c0+"px";_b6[_b8]=_c8-_c0;if(this.hasFooter){this.colGroup.footerColList[_b8].style.width=_c8-_c1+"px";_b7[_b8]=_c8-_c1;}}else{if(_b5<=_bc&&!this.hiddenList[i]&&_b8==-1){_b9=i;var _c9=_bc;for(var _c5=i;_c5>=0;_c5--){if(this.hiddenList[_c5]){continue;}else{_c9-=this.colWidthList[_c5];if(_c9<0&&_b8==-1){_b8=_c5;break;}}}_b6[i]=this.colWidthList[i];_b7[i]=this.colWidthList[i];}else{var _c8=this.colWidthList[i];if(_be==1&&WebSquare.util.isIE(8)&&this.defaultColCnt==0&&i==0){_c8=1;}if(_be==0){_c8=0;}if(_c8==0||_c8==1||_c8==this.colWidthList[i]){this.colGroup.bodyColList[i].style.width=(_c8-_c0)+"px";_b6[i]=_c8-_c0;if(this.hasFooter){this.colGroup.footerColList[i].style.width=(_c8-_c1)+"px";_b7[i]=_c8-_c1;}}}}}else{this.colGroup.bodyColList[i].style.width=(_be-_c0)+"px";_b6[i]=_be-_c0;if(this.hasFooter){this.colGroup.footerColList[i].style.width=(_be-_c1)+"px";_b7[i]=_be-_c1;}}}_b8=-1;this.setColIndexInfo(_b6,_b7);this._setGridBorder();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.setColIndexInfo=function(_ca,_cb){["WebSquare.uiplugin.layoutController.setColIndexInfo"];try{if(typeof this.colGroup=="undefined"||this.colGroup==null){this.colGroup={};this.colGroup.bodyColList=this.getElementById(this.id+"_body_table").getElementsByTagName("col");var _cc=this.getElementById(this.id+"_foot_table");if(_cc){this.colGroup.footerColList=_cc.getElementsByTagName("col");}else{this.colGroup.footerColList=null;}}this.colIndexInfo={};var _cd=this.getVisibleColRange(this.colGroup.bodyColList,_ca);var _ce=this.getVisibleTds(this.colIndexes.bodyColInfo,_cd);this.colIndexInfo.body={colInfo:this.colIndexes.bodyColInfo,visibleTds:_ce.visibleTds,invisibleTds:_ce.invisibleTds,visibilityArr:_ce.visibilityArr,firstCoveredColIndex:_cd.firstCoveredColIndex};if(this.isIE6or7){var _cf=this.getVisibleTds(this.colIndexes.headerColInfo,_cd);this.colIndexInfo.header={colInfo:this.colIndexes.headerColInfo,visibleTds:_cf.visibleTds,invisibleTds:_cf.invisibleTds,visibilityArr:_cf.visibilityArr,firstCoveredColIndex:_cd.firstCoveredColIndex};if(this.hasFooter){var _d0=this.getVisibleColRange(this.colGroup.footerColList,_cb);var _d1=this.getVisibleTds(this.colIndexes.footerColInfo,_d0);this.colIndexInfo.footer={colInfo:this.colIndexes.footerColInfo,visibleTds:_d1.visibleTds,invisibleTds:_d1.invisibleTds,visibilityArr:_d1.visibilityArr,firstCoveredColIndex:_d0.firstCoveredColIndex};}if(this.hasSubtotal){this.colIndexInfo.subtotal={};for(var _d2 in this.subtotalRowHash){var _d3=this.getVisibleTds(this.colIndexes.subtotalColInfo[_d2],_cd);this.colIndexInfo.subtotal[_d2]={colInfo:this.colIndexes.subtotalColInfo[_d2],visibleTds:_d3.visibleTds,invisibleTds:_d3.invisibleTds,visibilityArr:_d3.visibilityArr,firstCoveredColIndex:_cd.firstCoveredColIndex};}}}if(this.options.lazyDrawHiddenColumn){this.hideInvisibleTds();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.hideInvisibleTds=(function(){var _d4=true;return function(){if(_d4){_d4=false;if(this.groupbyStatus.grouped){this.options.lazyDrawHiddenColumn=false;$l(this.id+" groupby\uac00 \ud65c\uc131\ud654\ub418\uc5b4\uc11c lazyDrawHiddenColumn \uc18d\uc131\uc774 \ube44\ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.");return;}for(var i=this.defaultColCnt;i<this.colIndexes.bodyColInfo.rowSpanArr.length;i++){if(this.colIndexes.bodyColInfo.rowSpanArr[i]>=2){this.options.lazyDrawHiddenColumn=false;$l(this.id+" : rowSpan\uc774 \uc788\uae30 \ub54c\ubb38\uc5d0 lazyDrawHiddenColumn \uc18d\uc131\uc774 \ube44\ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.");return;}}}var _d6=this.colIndexInfo.body.visibilityArr;var _d7=[];for(var i=0;i<this.drawedRowLength;i++){if(this.dataRowList[i].style.display=="none"){continue;}var _d8=0;var cnt=0;for(var j=this.defaultColCnt;j<_d6.length;j++){if(this.colIndexes.bodyColInfo.trIndexArr[j]>_d8){cnt=0;_d8++;}var _db=parseInt((j-this.defaultColCnt)/this.columnOrder.length);var _dc=(j-this.defaultColCnt)%this.columnOrder.length;var _dd=this.columnOrder[_dc]+(_db*this.columnOrder.length);var td=this.data_td_list[_dd+(i*this.oneRowDataLength)];var _df=this.colIndexes.bodyColInfo.colSpanArr[j]||1;if(_d6[j]){if(!this.initVisibilityArr[j]){this.drawCellData(i,i+this.rowIndex,_dd);this.applyCellStyleOptions(i+this.rowIndex,_dd);_d7[j]=true;}td.style.display="";if(_df+cnt>1){td.setAttribute("colSpan",_df+cnt);}else{td.removeAttribute("colSpan");}cnt=0;}else{td.style.display="none";cnt+=_df;}}}for(var i=0;i<_d7.length;i++){if(_d7[i]){this.initVisibilityArr[i]=true;}}};})();WebSquare.uiplugin.layoutController.prototype.getVisibleColRange=function(_e0,_e1){["WebSquare.uiplugin.layoutController.prototype.getVisibleColRange"];try{var _e2=(this.resizeObj&&this.resizeObj.clientWidth)?this.resizeObj.clientWidth:this.render.clientWidth;var _e3=[];var _e4=0;var _e5=-1;var _e6=-1;var len=_e1?_e1.length:_e0.length;for(var i=0;i<len;i++){var _e9=_e1?_e1[i]:parseInt(_e0[i].style.width);_e4+=_e9;if(_e4>_e2){if(_e5>=0){if(_e9<3){_e3.push([_e5,i]);}else{_e3.push([_e5,i+1]);}_e6=i+1;_e5=-1;}else{_e3.push([i,i+1]);_e6=i+1;}break;}if(_e9<3){if(_e5!=-1){_e3.push([_e5,i]);_e5=-1;}}else{if(_e5==-1){_e5=i;}}}if(_e5!=-1&&_e5<i){_e3.push([_e5,i]);}_e3.firstCoveredColIndex=_e6!==-1?_e6:len;if(_e6==-1){_e6=len;}return _e3;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.getVisibleTds=function(_ea,_eb){["WebSquare.uiplugin.layoutController.prototype.getVisibleTds"];try{var _ec=[];var _ed=[];var _ee=[];for(var i=0;i<_ea.colIndexArr.length;i++){var _f0=_ea.colIndexArr[i];var _f1=_ea.colSpanArr[i]||1;for(var j=0;j<_eb.length;j++){if((_eb[j][0]<=_f0&&_f0<_eb[j][1])||(_eb[j][0]<=_f0+_f1-1&&_f0+_f1-1<_eb[j][1])||(_f0<=_eb[j][0]&&_eb[j][0]<_f0+_f1)||(_f0<=_eb[j][1]-1&&_eb[j][1]-1<_f0+_f1)){_ec[_ec.length]=i;_ee[_ee.length]=true;break;}}if(j==_eb.length){_ed[_ed.length]=i;_ee[_ee.length]=false;}}return {visibleTds:_ec,invisibleTds:_ed,visibilityArr:_ee};}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype._setGridBorder=function(){["WebSquare.uiplugin.layoutController.prototype._setGridBorder"];try{if(WebSquare.util.isIE(8)){if(this.defaultColCnt==0){var _f3=this.colGroup.bodyColList[0].style.width;var _f4=(_f3=="1px"||_f3=="0px")?"0px":"";if(!this.leftMostTds){this.leftMostTds=[];var _f5=this.getElementById(this.id+"_head_table").getElementsByTagName("th");var _f6=this.hasFooter?this.getElementById(this.id+"_foot_table").getElementsByTagName("td"):[];for(var i=0;i<_f5.length;i++){if(_f5[i].getAttribute("colIndex")==0){this.leftMostTds.push(_f5[i]);}}for(var i=0;i<_f6.length;i++){if(_f6[i].getAttribute("colIndex")==0){this.leftMostTds.push(_f6[i]);}}}for(var i=0;i<this.leftMostTds.length;i++){this.leftMostTds[i].style.borderLeftWidth=_f4;this.leftMostTds[i].style.borderRightWidth=_f4;}if(this.all_data_td_list.length>0){if(!this.leftMostIndexArr){this.leftMostIndexArr=[];for(var i=0;i<this.oneRowDataLength;i++){if(this.all_data_td_list[i].getAttribute("colIndex")==0){this.leftMostIndexArr.push(i);}}}for(var i=0;i<this.leftMostIndexArr.length;i++){for(j=0;j<this.drawedRowLength;j++){var td=this.all_data_td_list[this.leftMostIndexArr[i]+j*this.oneRowDataLength];td.style.borderLeftWidth=_f4;td.style.borderRightWidth=_f4;}}}if(this.hasSubtotal&&this.drawedSubtotal){for(var i=0;i<this.drawedSubtotal.length;i++){for(var j=0;j<this.drawedSubtotal[i].length;j++){var td=this.drawedSubtotal[i][j].cells[0];if(td.cellIndex==0){td.style.borderLeftWidth=_f4;td.style.borderRightWidth=_f4;}}}}}if(!this._setGridBorderNoRefresh){var _fa=this.getElementById(this.id+"_dataLayer");var _fb=_fa.style.display;var _fc=document.activeElement;_fa.style.display="none";_fa.offsetHeight;_fa.style.display=_fb;if(document.activeElement!=_fc&&this.hasClass(_fc,this.options.bodyTdClass)){_fc.focus();}}}if(this.isIE6or7){if(!this.colIndexInfo){this.setColIndexInfo();}if(this.colGroup){this._setBorderFolding(this.all_data_td_list,this.colIndexInfo.body,this.drawedRowLength);if(!this.headerTds){this.headerTds=this.getElementById(this.id+"_head_table").getElementsByTagName("th");}this._setBorderFolding(this.headerTds,this.colIndexInfo.header);}if(this.hasFooter){if(!this.footerTds){this.footerTds=this.getElementById(this.id+"_foot_table").getElementsByTagName("td");}this._setBorderFolding(this.footerTds,this.colIndexInfo.footer);}if(this.hasSubtotal){this._setSubtotalBorder();}if(!this._setGridBorderNoRefresh){var _fa=this.getElementById(this.id+"_dataLayer");var _fd=_fa.style.filter;var _fc=document.activeElement;_fa.style.filter="alpha(opacity=99)";_fa.style.filter=_fd;if(document.activeElement!=_fc&&this.hasClass(_fc,this.options.bodyTdClass)){_fc.focus();}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype._setBorderFolding=function(_fe,_ff,_100){["WebSquare.uiplugin.layoutController.prototype._setBorderFolding"];try{if(!_fe||_100==0){return;}var _100=_100||1;var _101=_ff.firstCoveredColIndex;var _102=this.oneRowDataLength+this.defaultColCnt;for(var i=0,len=_ff.visibilityArr.length;i<len;i++){var _104=_ff.colInfo.colIndexArr[i];var _105=_ff.visibilityArr[i];var _106=_fe[i].style.borderWidth==="0px";if(_100>1){_106=_106||_fe[i+_102].style.borderWidth==="0px";}if(_104<_101&&!_105&&!_106){for(var j=0;j<_100;j++){_fe[i+j*_102].style.borderWidth="0px";}}else{if((_104>=_101||_105)&&_106){for(var j=0;j<_100;j++){_fe[i+j*_102].style.borderWidth="";_fe[i+j*_102].style.borderStyle="";}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype._setSubtotalBorder=function(){["WebSquare.uiplugin.layoutController.prototype._setSubtotalBorder"];try{if(!this.drawedSubtotal){return;}var _108={};for(idx=0;idx<this.drawedSubtotal.length;idx++){var _109=this.drawedSubtotal[idx];if(_108[_109.targetID]){continue;}_108[_109.targetID]=true;var _10a=this.colIndexInfo.subtotal[_109.targetID];var _10b=_10a.firstCoveredColIndex;var col=0;for(var i=0;i<_109.length;i++){var row=_109[i];for(var j=0;j<row.cells.length;j++,col++){var _110=_10a.colInfo.colIndexArr[col];var _111=_10a.visibilityArr[col];var _112=row.cells[j].style.borderWidth==="0px";if(_110<_10b&&!_111&&!_112){for(var idx2=idx;idx2<this.drawedSubtotal.length;idx2++){if(this.drawedSubtotal[idx2].targetID==_109.targetID){this.drawedSubtotal[idx2][i].cells[j].style.borderWidth="0px";}}}else{if((_110>=_10b||_111)&&_112){for(var idx2=idx;idx2<this.drawedSubtotal.length;idx2++){if(this.drawedSubtotal[idx2].targetID==_109.targetID){this.drawedSubtotal[idx2][i].cells[j].style.borderWidth="";}}}}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.handleWheel=function(e){["WebSquare.uiplugin.layoutController.handleWheel"];if(this.options.groupbyZone){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2grid_groupbyZone_scrollView")){WebSquare.event.stopPropagation(e);return;}}}if(("wheelDeltaX" in e)&&Math.abs(e.wheelDeltaX)>Math.abs(e.wheelDeltaY)){var _116=this.getElementById(this.id+"_scrollX_right");_116.scrollLeft-=e.wheelDeltaX;WebSquare.event.stopEvent(e);return;}var _117=this.getElementById(this.id+"_scrollY_div");this.scrollEvent=true;if(e.wheelDelta>0||e.detail<0){if(_117.scrollTop==0){return;}_117.scrollTop=20*(this.rowIndex-this.options.wheelRows);}else{if(e.wheelDelta<0||e.detail>0){var _118=this.getElementById(this.id+"_scrollY_div");if(this.rowIndex<0||_118.clientHeight==0||_118.scrollTop==_118.scrollHeight-_118.clientHeight){return;}_117.scrollTop=20*(this.rowIndex+this.options.wheelRows);}}WebSquare.event.stopEvent(e);};WebSquare.uiplugin.layoutController.prototype.handleColumnResize=function(e){["WebSquare.uiplugin.layoutController.prototype.handleColumnResize"];try{this.handleResizeLine(e);if(this.columnMoveTarget!=null){return;}var it=this.event.getTargetIterator(e,this.render);var _11b=null;while(it.next()){var el=it.getElement();if(el.tagName=="TH"||el.tagName=="TD"){_11b=el;}if(el.tagName=="NOBR"){_11b=null;break;}}this.getElementById(this.id+"_head_table").style.cursor="";this.getElementById(this.id+"_head_table").cursor="";if(_11b==null){return;}var _11d=WebSquare.event.getMouseX(e);var _11e=WebSquare.style.getAbsoluteLeft(_11b);var _11f=parseInt(_11b.getAttribute("colSpan")||1,10);var _120=parseInt(_11b.getAttribute("colIndex"),0);var _121=_11e;if(_11d-_121<10&&_120!=0){this.getElementById(this.id+"_head_table").style.cursor="col-resize";this.getElementById(this.id+"_head_table").cursor="col-resize";return;}for(var i=0;i<_11f;i++){_121+=parseInt(this.colGroup.bodyColList[_120+i].style.width);if(_121-10<_11d&&_11d<_121+10){this.getElementById(this.id+"_head_table").style.cursor="col-resize";this.getElementById(this.id+"_head_table").cursor="col-resize";return;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.doColumnResize=function(e){["WebSquare.uiplugin.layoutController.prototype.doColumnResize"];try{var _124=WebSquare.event.getTarget(e);var it=this.event.getTargetIterator(e,this.render);var _126=null;this.resize_colIndex=null;while(it.next()){if(it.match(this.options.headerTdClass)){_126=it.getElement();}}if(_126==null){return;}this.startResizeX=WebSquare.event.getScreenX(e);if(this.getElementById(this.id+"_head_table").cursor=="col-resize"){WebSquare.event.preventDefault(e);this.resizeStarted=true;var _127=WebSquare.event.getMouseX(e);var _128=WebSquare.style.getAbsoluteLeft(_126);var _129=parseInt(_126.getAttribute("colSpan")||1,10);var _12a=_126.getAttribute("header_id");var _12b=this._getRealColIndex("head",_12a)+this.defaultColCnt;if(_12a=="_headerRowNumber"||_12a=="_headerRowStatus"){_12b=parseInt(_126.getAttribute("colindex"),10);}var _12c=_128;this.resizeColIndex=_12b;if(_127-_12c<10&&_12b!=0){this.resizeColIndex--;}else{for(var i=0;i<_129;i++){_12c+=parseInt(this.colGroup.bodyColList[_12b+i].style.width);if(_12c-10<_127&&_127<_12c+10){this.resizeColIndex+=i;break;}}}}else{if(this.options.columnMove){this.resizeStarted=false;var _12a=_126.getAttribute("header_id");if(_12a!="_headerRowNumber"&&_12a!="_headerRowStatus"){this.columnMoveTarget=this._getRealColIndex("head",_12a);this.getElementById(this.id+"_head_table").style.cursor="pointer";this.addClass("w2noselect");if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}}}else{if(this.options.groupbyZone){this.resizeStarted=false;var _12a=_126.getAttribute("header_id");if(_12a!="_headerRowNumber"&&_12a!="_headerRowStatus"){this.groupbyZoneStatus.clickedHeaderInfo={};this.groupbyZoneStatus.clickedHeaderInfo.index=this._getRealColIndex("head",_12a);this.groupbyZoneStatus.clickedHeaderInfo.value=_126.getAttribute("value");this.groupbyZoneStatus.clickedHeaderInfo.headerID=_12a;if(this.groupbyStatus.sortIndexArr!=null&&this.groupbyStatus.sortOrderArr!=null){var _12e=false;var _12f={};_12f.render=_126;_12f.parentRender=this.render.getElementsByTagName("div")[0];_12f.headerID=_126.getAttribute("header_id");_12f.headerIndex=this.getHeaderIndex(_12f.headerID);for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(_12f.headerIndex==this.groupbyStatus.sortIndexArr[i]){_12e=true;break;}}if(_12e){if(this.groupbyFilterScrollView){this.toggleGroupbyFilterList(_12f);}else{this.createGroupbyFilterList(_12f);}}else{this.hideGroupbyFilterList();}}this.getElementById(this.id+"_head_table").style.cursor="pointer";this.addClass("w2noselect");if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}}}}}this.handleResizeLine(e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.endColumnResize=function(e){["WebSquare.uiplugin.layoutController.prototype.endColumnResize"];try{if(this.resizeStarted){this.endResizeX=WebSquare.event.getScreenX(e);var _131=this.resizeColIndex||0;while(this.hiddenList[_131]==true){_131--;if(_131<0){break;}}if(_131>=0){var _132=this.colWidthList[_131];var _133=_132+this.endResizeX-this.startResizeX;_133=(_133<20)?20:_133;this.setColumnWidth(_131-this.defaultColCnt,_133);}this.resizeStarted=false;this.columnMoveTarget=null;this.handleResizeLine(e);this.getElementById(this.id+"_head_table").style.cursor="";if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}this.removeClass("w2noselect");}else{if(this.columnMoveTarget!=null){var _134=WebSquare.event.getTarget(e);var it=this.event.getTargetIterator(e,this.render);var _136=null;while(it.next()){if(it.match(this.options.headerTdClass)){_136=it.getElement();}}if(_136!=null){var _137=_136.getAttribute("header_id");var _131=this._getRealColIndex("head",_137);}else{var _131=this.resize_colIndex;}if(_131!=null&&this.columnMoveTarget!=_131){this.moveColumn(this.columnMoveTarget,_131);}this.resizeStarted=false;this.columnMoveTarget=null;this.handleResizeLine(e);this.getElementById(this.id+"_head_table").style.cursor="";if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}this.removeClass("w2noselect");}else{if(this.groupbyZoneStatus.clickedHeaderInfo!=null){var it=this.event.getTargetIterator(e,this.render);var _138=null;while(it.next()){if(it.match("w2grid_groupbyZone")){_138=it.getElement();if(this.groupbyStatus.sortIndexArr==null){this.groupbyStatus.sortIndexArr=[];}if(this.groupbyStatus.sortOrderArr==null){this.groupbyStatus.sortOrderArr=[];}for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyZoneStatus.clickedHeaderInfo.index==this.groupbyStatus.sortIndexArr[i]){return;}}this.groupbyStatus.sortIndexArr.push(this.groupbyZoneStatus.clickedHeaderInfo.index);this.groupbyStatus.sortOrderArr.push(1);var _13a={};_13a.sortIndex=this.groupbyStatus.sortIndexArr;_13a.sortOrder=this.groupbyStatus.sortOrderArr;if(this.groupbyStatus.filter!=null){_13a.filter=this.groupbyStatus.filter;}var _13b=WebSquare.event.fireEvent(this,"ongroupby",_13a);if(_13b===false){var _13c=this.getColCnt()+this.defaultColCnt;_13a.rowNumHeader={colSpan:_13c,inputType:"expression",expression:" toggle() + depthStr() + ' [ ' + count() + ' \uac74 ] ' ",align:"left"};_13a.footerVisible=false;_13a.rowNumFooter={colSpan:_13c};this.groupby(_13a);}if(this.groupbyFilterScrollView){this.hideGroupbyFilterList();}break;}}this.groupbyZoneStatus.clickedHeaderInfo=null;this.resizeStarted=false;this.handleResizeLine(e);this.getElementById(this.id+"_head_table").style.cursor="";if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}this.removeClass("w2noselect");}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.handleResizeLine=function(e){var _13e=this.getElementById(this.id+"_resize_line");if(!this.resize_ghost){this.resize_ghost=document.createElement("div");this.resize_ghost.className="w2grid_columnMove_ghost";this.resize_ghost.style.display="none";document.body.appendChild(this.resize_ghost);this.resize_arrow=document.createElement("div");this.resize_arrow.className="w2grid_columnMove_arrow";this.resize_arrow.style.display="none";document.body.appendChild(this.resize_arrow);}if(this.resizeStarted){_13e.style.cssText="position:absolute;top:10px; bottom:0px;border:0px dashed #222222; border-left-width:1px;";_13e.style.display="block";_13e.style.zIndex=100;_13e.style.top=0;_13e.style.height=this.render.offsetHeight+"px";if(this.getElementById(this.id+"foot_table")){_13e.style.height=(this.render.offsetHeight-this.getElementById(this.id+"_foot_table").offsetHeight-this.getElementById(this.id+"_scrollX_div").offsetHeight)+"px";}_13e.style.left=(WebSquare.event.getMouseX(e)-WebSquare.style.getAbsoluteLeft(this.render))+"px";this.resize_ghost.style.display="none";}else{if(this.columnMoveTarget!=null){var _13f=WebSquare.event.getTarget(e);var it=this.event.getTargetIterator(e,this.render);var _141=null;while(it.next()){if(it.match(this.options.headerTdClass)){_141=it.getElement();}}if(_141!=null){var _142=_141.getAttribute("header_id");var _143=this._getRealColIndex("head",_142);if(_142=="_headerRowNumber"||_142=="_headerRowStatus"||this.columnMoveTarget==_143){_13e.style.display="none";this.resize_ghost.style.display="none";this.resize_arrow.style.display="none";}else{this.resize_colIndex=_143;var _144=null;for(var i=0;i<this.htmlInfo.body.rowArr.length;i++){for(var j=0;j<this.htmlInfo.body.rowArr[i].length;j++){if(this.htmlInfo.body.rowArr[i][j]["@col"]==_143){_144=this.bodyIdColIndexMap[this.htmlInfo.body.rowArr[i][j]["col_id"]];break;}}if(_144!==null){break;}}var _147=this.getElementById(this.id+"_head_table");var _148=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));var _149=WebSquare.style.getAbsoluteTop(this.render);var _14a=WebSquare.style.getAbsoluteLeft(this.render);var _14b=this.getCellPosition(0,_144,"left");var _14c=this.getCellSize(0,_144,"width");var _14d=_14b+(this.columnMoveTarget<_143?_14c:0);this.resize_ghost.innerHTML=_148[this.columnMoveTarget+this.defaultColCnt].innerHTML;this.resize_ghost.style.display="block";this.resize_ghost.style.top=(_149+_148[this.columnMoveTarget].offsetHeight+5)+"px";this.resize_ghost.style.left=(_14a+_14d+5)+"px";this.resize_arrow.style.display="block";this.resize_arrow.style.top=(_149-this.resize_arrow.offsetHeight)+"px";this.resize_arrow.style.left=(_14a+_14d-parseInt(this.resize_arrow.offsetWidth/2,10)+1)+"px";_13e.style.display="block";_13e.style.zIndex=9999;_13e.style.border="1px solid #3a3f44";_13e.style.top=0;_13e.style.left=_14d+"px";_13e.style.height=this.render.offsetHeight+"px";if(this.getElementById(this.id+"foot_table")){_13e.style.height=(this.render.offsetHeight-this.getElementById(this.id+"_foot_table").offsetHeight-this.getElementById(this.id+"_scrollX_div").offsetHeight)+"px";}if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}}}}else{_13e.style.display="none";this.resize_ghost.style.display="none";this.resize_arrow.style.display="none";}}};WebSquare.uiplugin.layoutController.prototype._setColumnWidth=function(_14e,_14f){["WebSquare.uiplugin.layoutController.prototype._setColumnWidth"];try{this.autoFitColWidthList=null;if(this.hiddenList[_14e]){this.colWidthList[_14e]=_14f;}else{var _150=(isNaN(this.colWidthList[_14e]))?0:this.colWidthList[_14e];this.colWidthList[_14e]=_14f;this.gridWidth+=(_14f-_150);this.arrangeOverflowXScroll();this.setOverflowX();this.handleScrollX();var _151=_14e-this.defaultColCnt;if(_151>=0){var _152=this.getCellInfo(_151);if(_152.options.inputType=="textarea"){this.drawColumnData(_151);}}this.handlerResize_drawInitializer();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.setColumnVisible=function(_153,_154){["WebSquare.uiplugin.layoutController.prototype.setColumnVisible"];var _154=WebSquare.util.getBoolean(_154);var _155=this.getCellInfo(_153);var _156=this._getRealColIndex("body",_155.options.col_id)+this.defaultColCnt;for(var i=0;i<_155.options.colSpan;i++){this.hiddenList[_156+i]=!_154;}this.gridWidth=0;for(var i=0;i<this.colWidthList.length;i++){if(!this.hiddenList[i]){this.gridWidth+=this.colWidthList[i];}}if(this.options.lazyDrawHiddenColumn&&_154&&this.initVisibilityArr&&!this.initVisibilityArr[_156]){var _158=this.colIndexInfo.body.colInfo.colIndexArr;for(var i=0;i<_158.length;i++){if(_158[i]==_156){for(var j=0;j<=this.lastIndex;j++){this.drawCellData(j,j+this.rowIndex,i-this.defaultColCnt);this.applyCellStyleOptions(j+this.rowIndex,i-this.defaultColCnt);}}}this.initVisibilityArr[_156]=true;}WebSquare.core.setTimer(function(){this.arrangeOverflowXScroll();this.setOverflowX();this.handleScrollX();if(this.options.autoFit||this.autofitColumn){this._setAutoFit();}},{key:this.id+"_setColumnVisible",caller:this});};WebSquare.uiplugin.layoutController.prototype.setScrollLeft=function(left){["WebSquare.uiplugin.layoutController.prototype.setScrollLeft"];left=parseInt(left,10);try{var _15b=this.getElementById(this.id+"_scrollX_right");_15b.scrollLeft=left;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.setScrollTop=function(top){["WebSquare.uiplugin.layoutController.prototype.setScrollTop"];top=parseInt(top,10);try{this.scrollEvent=true;var _15d=this.getElementById(this.id+"_scrollY_div");_15d.scrollTop=top;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.getScrollLeft=function(){["WebSquare.uiplugin.layoutController.prototype.getScrollLeft"];try{var _15e=this.getElementById(this.id+"_scrollX_right");return _15e.scrollLeft;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.getScrollTop=function(){["WebSquare.uiplugin.layoutController.prototype.getScrollTop"];try{var _15f=this.getElementById(this.id+"_scrollY_div");return _15f.scrollTop;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.setGridStyle=function(doc){if(doc.nodeType==9){doc=doc.documentElement;}var _161=this.getParent();if(_161&&_161.parentControl&&_161.parentControl.options.pluginName=="wframe"){_161=_161.parentControl;}WebSquare.idCache[this.id]=null;WebSquare.renderCache["G_"+this.id+"___input"]=null;WebSquare.renderCache["G_"+this.id+"___inputCalendar"]=null;this.remove();this["__removed_object__"]=true;var _162=WebSquare.controlFactory.create(null,null,doc);_162.writeTo(_161);_162.activate();};WebSquare.uiplugin.layoutController.prototype.getGridStyle=function(){["WebSquare.uiplugin.grid.prototype.getGridStyle"];try{return WebSquare.xml.serialize(this.element);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.layoutController.prototype.setTableStruct=function(){this.headerXml=WebSquare.xml.getElementsByTagName(this.element,"header",WebSquare.core._XML_NAMESPACE.W2)[0];this.bodyXml=WebSquare.xml.getElementsByTagName(this.element,"gBody",WebSquare.core._XML_NAMESPACE.W2)[0];this.struct={head:this.xml2JSON(this.headerXml),body:this.xml2JSON(this.bodyXml)};this.updateStruct(this.struct.head.rowArr);this.updateStruct(this.struct.body.rowArr);this.footerXml=WebSquare.xml.getElementsByTagName(this.element,"footer",WebSquare.core._XML_NAMESPACE.W2)[0];if(this.footerXml){this.hasFooter=true;this.struct.foot=this.xml2JSON(this.footerXml);this.updateStruct(this.struct.foot.rowArr);}this.subtotalXmlArr=WebSquare.xml.getElementsByTagName(this.element,"subTotal",WebSquare.core._XML_NAMESPACE.W2);if(this.subtotalXmlArr.length>0){this.hasSubtotal=true;this.drawedSubtotal=[];this.struct.subtotalArr=[];for(var i=0;i<this.subtotalXmlArr.length;i++){var obj=this.xml2JSON(this.subtotalXmlArr[i]);this.struct.subtotalArr.push(obj);this.struct.subtotalArr[obj.attr.id]=obj;this.updateStruct(obj.rowArr);}}this.setCss();this.setColArr();this.htmlInfo={head:this.getHeaderHtmlInfo(),body:this.getBodyHtmlInfo()};if(this.footerXml){this.htmlInfo.foot=this.getFooterHtmlInfo();}if(this.subtotalXmlArr.length>0){this.htmlInfo.subtotalArr=[];this.subtotalStrList={};for(var i=0;i<this.struct.subtotalArr.length;i++){var obj=this.getSubtotalHtmlInfo(this.struct.subtotalArr[i]);this.htmlInfo.subtotalArr.push(obj);this.htmlInfo.subtotalArr[obj.attr.id]=obj;this.subtotalStrList[obj.attr.targetColumnID]=obj;}}this.captionXml=WebSquare.xml.getElementsByTagName(this.element,"caption",WebSquare.core._XML_NAMESPACE.W2)[0];var _165=this.getColCnt();this.columnOrder=[];for(var i=0;i<_165;i++){this.columnOrder.push(i);}};WebSquare.uiplugin.layoutController.prototype.updateStruct=function(_166){var cnt=0;var map=[];var _169=this.getColCnt();for(var i=0;i<_166.length;i++){var row=[];for(var j=0;j<_169;j++){row.push(null);}map.push(row);}for(var i=0;i<_166.length;i++){for(var j=0;j<_166[i].length;j++){var col;for(col=0;col<map[i].length;col++){if(map[i][col]===null){break;}}var cell=_166[i][j];cell["@col"]=col;var _16f=cell["colSpan"]||cell["colspan"]||1;var _170=cell["rowSpan"]||cell["rowspan"]||1;for(var k=0;k<_170;k++){for(var l=0;l<_16f;l++){map[i+k][col+l]=cnt;}}cnt++;}}};WebSquare.uiplugin.layoutController.prototype._getRealColIndex=function(type,id){for(var i=0;i<this.htmlInfo[type].rowArr.length;i++){for(var j=0;j<this.htmlInfo[type].rowArr[i].length;j++){if(this.htmlInfo[type].rowArr[i][j]["col_id"]==id){return this.htmlInfo[type].rowArr[i][j]["@col"];}}}return null;};WebSquare.uiplugin.layoutController.prototype._moveColumn=function(_177,_178,_179,_17a,_17b,_17c){var _178=_178||"td";var _17d=_177[_179].getElementsByTagName(_178);var _17e=_17d[_17a];_17e.parentNode.removeChild(_17e);var _17f=_177[_17b].getElementsByTagName(_178);if(_17c<_17f.length){var toTd=_17f[_17c];toTd.parentNode.insertBefore(_17e,toTd);}else{_177[_17b].appendChild(_17e);}};WebSquare.uiplugin.layoutController.prototype.moveBodyColumn=function(_181,_182,_183,_184){var tmp=this.htmlInfo.body.rowArr[_181].splice(_182,1);this.htmlInfo.body.rowArr[_183].splice(_184,0,tmp[0]);this.updateStruct(this.htmlInfo.body.rowArr);_182+=_181==0?this.defaultColCnt:0;_184+=_183==0?this.defaultColCnt:0;var _186=this.getElementById(this.id+"_body_tbody");for(var i=0;i<this.drawedRowLength;i++){var _188=[];for(var j=0;j<this.oneRowLength;j++){_188.push(_186.rows[i*this.oneRowLength+j]);}this._moveColumn(_188,"td",_181,_182,_183,_184);}};WebSquare.uiplugin.layoutController.prototype.moveHeadColumn=function(_18a,_18b,_18c,_18d){var tmp=this.htmlInfo.head.rowArr[_18a].splice(_18b,1);this.htmlInfo.head.rowArr[_18c].splice(_18d,0,tmp[0]);this.updateStruct(this.htmlInfo.head.rowArr);_18b+=_18a==0?this.defaultColCnt:0;_18d+=_18c==0?this.defaultColCnt:0;var _18f=this.getElementById(this.id+"_head_table");this._moveColumn(_18f.rows,"th",_18a,_18b,_18c,_18d);};WebSquare.uiplugin.layoutController.prototype.moveColumn=function(_190,_191){var _192=function(arr,from,to){var tmp=arr.splice(from,1);arr.splice(to,0,tmp[0]);};_192(this.columnOrder,_190,_191);_192(this.colIndexInfo.body.colInfo.colIndexMatch,_190+this.defaultColCnt,_191+this.defaultColCnt);_192(this.colWidthList,_190+this.defaultColCnt,_191+this.defaultColCnt);_192(this.hiddenList,_190+this.defaultColCnt,_191+this.defaultColCnt);var _197=[];for(var i=0;i<this.htmlInfo.body.rowArr.length;i++){for(var j=0;j<this.htmlInfo.body.rowArr[i].length;j++){if(this.htmlInfo.body.rowArr[i][j]["@col"]==_190){_197.push({row:i,col:j});}}}for(var i=0;i<_197.length;i++){var _19a=null;for(var j=0;j<this.htmlInfo.body.rowArr[_197[i].row].length;j++){if(this.htmlInfo.body.rowArr[_197[i].row][j]["@col"]==_191){_19a=j;break;}}if(_19a!==null){this.moveBodyColumn(_197[i].row,_197[i].col,_197[i].row,_19a);}}var _197=[];for(var i=0;i<this.htmlInfo.head.rowArr.length;i++){for(var j=0;j<this.htmlInfo.head.rowArr[i].length;j++){if(this.htmlInfo.head.rowArr[i][j]["@col"]==_190){_197.push({row:i,col:j});}}}for(var i=0;i<_197.length;i++){var _19a=null;for(var j=0;j<this.htmlInfo.head.rowArr[_197[i].row].length;j++){if(this.htmlInfo.head.rowArr[_197[i].row][j]["@col"]==_191){_19a=j;break;}}if(_19a!==null){this.moveHeadColumn(_197[i].row,_197[i].col,_197[i].row,_19a);}}this.arrangeOverflowXScroll();this._handleScrollX();};WebSquare.uiplugin.layoutController.prototype.setColumnOrder=function(_19b){var _19c=this.getColCnt();var _19d=[];if(typeof _19b=="string"){_19b=_19b.split(",");}for(var i=0;i<_19b.length;i++){if(this.bodyIdColIndexMap[_19b[i]]!=null){_19b[i]=this.bodyIdColIndexMap[_19b[i]];}_19b[i]=Number(_19b[i]);if(typeof _19b[i]!="number"){$l(this.id+".setColumnOrder : wrong column order array.");return;}_19d[_19b[i]]=true;}for(var i=0;i<_19c;i++){if(!_19d[i]){_19b.push(i);}}if(_19c!=_19b.length){$l(this.id+".setColumnOrder : wrong column order array.");return;}for(var i=0;i<_19c;i++){for(var j=i;j<_19c;j++){if(this.columnOrder[j]==_19b[i]){break;}}if(i!=j){this.moveColumn(j,i);}}};WebSquare.uiplugin.layoutController.prototype.getColumnOrder=function(_1a0){if(_1a0){var _1a1=[];var _1a2=this.colIndexInfo.body.colInfo.colIndexMatch;for(var i=this.defaultColCnt;i<_1a2.length;i++){if(_1a2[i].length==0){$l(this.id+".getColumnOrder : use getColumnOrder(false). cannot express column order by name.");return;}_1a1.push(this.tdIdList[_1a2[i][0]-this.defaultColCnt]);}return _1a1;}return this.columnOrder.slice(0);};WebSquare.uiplugin.layoutController.prototype.handleGroupbyZoneClick=function(e){["WebSquare.uiplugin.grid.handleGroupbyZoneClick"];var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2grid_groupbyZone_column")){var _1a6=it.getElement();var _1a7={};_1a7.render=_1a6;_1a7.parentRender=this.render.getElementsByTagName("div")[0];_1a7.headerID=_1a6.getAttribute("header_id");_1a7.headerIndex=this.getHeaderIndex(_1a7.headerID);this.toggleGroupbyFilterList(_1a7);WebSquare.event.stopEvent(e);break;}if(it.match("w2grid_groupbyZone_column_closeButtonImg")){var _1a6=it.getElement();this.hideGroupbyFilterList();this.ungroupColumn(_1a6.getAttribute("col_id"));break;}if(it.match("w2grid_groupbyZone")){this.hideGroupbyFilterList();WebSquare.event.stopEvent(e);break;}}};WebSquare.uiplugin.layoutController.prototype.toggleGroupbyFilterList=function(_1a8){["WebSquare.uiplugin.grid.toggleGroupbyFilterList"];var _1a9=_1a8.render;var _1aa=_1a9.tagName;var _1ab=_1a8.headerIndex;if(typeof this.groupbyZoneStatus.beforeOpenedColIndex=="number"){if(_1ab==this.groupbyZoneStatus.beforeOpenedColIndex&&_1aa==this.groupbyZoneStatus.beforeOpenedColTagName){if(this.groupbyFilterScrollView.render.style.display=="block"){this.hideGroupbyFilterList();}else{this.showGroupbyFilterList(_1a8,true);}}else{this.showGroupbyFilterList(_1a8,true);}}else{this.createGroupbyFilterList(_1a8);}};WebSquare.uiplugin.layoutController.prototype.createGroupbyFilterList=function(_1ac){["WebSquare.uiplugin.grid.createGroupbyFilterList"];var _1ad=_1ac.render;var _1ae=_1ac.parentRender;var _1af=_1ac.headerIndex;var _1b0=_1ac.headerID;this.groupbyStatus.filter={};if(!this.groupbyFilterList&&!this.groupbyFilterScrollView){var _1b1="";_1b1+="<w2:scrollView xmlns:w2=\"http://www.inswave.com/websquare\" style='position:absolute; z-index:11;' class='w2grid_groupbyZone_scrollView'>";_1b1+="</w2:scrollView>";var _1b2=WebSquare.xml.parse(_1b1,true);scrollViewXML=_1b2.documentElement;WebSquare.xml.setAttribute(scrollViewXML,"bounce",false);WebSquare.xml.setAttribute(scrollViewXML,"horizontalScroll",false);WebSquare.xml.setAttribute(scrollViewXML,"paging",false);WebSquare.xml.setAttribute(scrollViewXML,"scrollType","auto");WebSquare.xml.setAttribute(scrollViewXML,"showHorizontalScroll",false);WebSquare.xml.setAttribute(scrollViewXML,"showVerticalScroll",false);WebSquare.xml.setAttribute(scrollViewXML,"verticalScroll",false);this.groupbyFilterScrollView=new WebSquare.uiplugin.scrollView(this.id+"_groupbyZone_scrollView","",scrollViewXML);var _1b3="";_1b3+="<w2:list xmlns:w2=\"http://www.inswave.com/websquare\" tagName='div' style='position:absolute; z-index:11; padding:0px; display:block;' class='w2grid_groupbyZone_list'>";_1b3+="\t<w2:listRow tagName='div' style='height: 20px; display:block; border-top: 0px; border-left:0px; border-right:0px;' class='w2grid_groupbyZone_list_listRow'>";_1b3+="\t\t<w2:listColumn id='id1' inputType='checkbox' style='' class='w2grid_groupbyZone_list_listColumn_checkbox'/>";_1b3+="\t\t<w2:listColumn id='id2' inputType='text' style='' class='w2grid_groupbyZone_list_listColumn_text'/>";_1b3+="\t</w2:listRow>";_1b3+="</w2:list>";var _1b4=WebSquare.xml.parse(_1b3,true);var _1b5=_1b4.documentElement;this.groupbyFilterList=new WebSquare.uiplugin.list(this.id+"_groupbyZone_list","",_1b5);this.groupbyFilterScrollView.addControl(this.groupbyFilterList);this.groupbyFilterScrollView.writeTo(this);this.groupbyFilterScrollView.activate();var _1b6=this;this.groupbyFilterScrollView.event.addListener(this.groupbyFilterScrollView.render,"onclick",this.groupbyFilterScrollView.event.bindAsEventListener(this.groupbyFilterList,function(e){WebSquare.event.stopPropagation(e);var _1b8;if(WebSquare.util.isIE()){_1b8=e.srcElement;}else{_1b8=e.target;}var _1b9=_1b8.parentNode;var _1ba=_1b6.getHeaderID(this.headerIndex);var _1bb=_1b6.getColumnID(this.headerIndex);if(_1b8.className.match("w2grid_groupbyZone_list_listRow")){_1b9=_1b8;_1b8=_1b9.firstChild;for(var i=0;i<this.getLength();i++){if(_1b9==this.render.childNodes[i]){this.setCellData(i,"id1",!_1b8.checked);break;}}}if(_1b9==this.render.childNodes[0]){_1b6.hideGroupbyFilterList();if(_1b8.className.match("w2grid_groupbyZone_list_listColumn_checkbox")){if(_1b8.checked){if(_1b6.dataFilter.firstOpenCustomFilter[_1ba]){_1b6.dataFilter.headerID=_1ba;_1b6.dataFilter.targetColID=_1bb;_1b6.dataFilter.setCustomFilterExpression();return;}else{if(!_1b6.dataFilter.firstOpenCustomFilter[_1ba]){_1b6.dataFilter.firstOpenCustomFilter[_1ba]=true;}_1b6.dataFilter.showCustomFilter(_1ba);return;}}else{_1b6.dataFilter.customFilterStatusObj[_1ba]=false;_1b6.removeColumnFilter(_1bb);for(var key in _1b6.dataFilter.customFilterStatusObj){if(_1b6.dataFilter.customFilterStatusObj[key]){return;}}for(var i=1;i<this.getLength();i++){this.setCellData(i,"id1",true);}}}else{if(_1b8.className.match("w2grid_groupbyZone_list_listColumn_text")){_1b6.dataFilter.showCustomFilter(_1ba);return;}}}else{this.setCellData(0,"id1",false);_1b6.dataFilter.customFilterStatusObj[_1ba]=false;if(_1b9==this.render.childNodes[1]){var _1be=_1b8.checked;for(var i=1;i<this.getLength();i++){this.setCellData(i,"id1",_1be);}}}_1b6.groupbyStatus.filter[_1bb]=[];var data=this.getAllData();for(var i=2;i<data.length;i++){if(data[i]["id1"]){_1b6.groupbyStatus.filter[_1bb].push(data[i]["id2"]);}}var _1c0=this.getLength()-2;if(_1c0>_1b6.groupbyStatus.filter[_1bb].length&&_1b6.groupbyStatus.filter[_1bb].length>0){this.setCellData(1,"id1",false);}else{if(_1b6.groupbyStatus.filter[_1bb].length==_1c0){this.setCellData(1,"id1",true);}}var _1c1={};_1c1.sortIndex=_1b6.groupbyStatus.sortIndexArr;_1c1.sortOrder=_1b6.groupbyStatus.sortOrderArr;if(_1b6.groupbyStatus.filter!=null){_1c1.filter=_1b6.groupbyStatus.filter;}var _1c2=WebSquare.event.fireEvent(_1b6,"ongroupby",_1c1);if(_1c2===false){var _1c3=_1b6.getColCnt()+_1b6.defaultColCnt;_1c1.rowNumHeader={colSpan:_1c3,inputType:"expression",expression:" toggle() + depthStr() + ' [ ' + count() + ' \uac74 ] ' ",align:"left"};_1c1.footerVisible=false;_1c1.rowNumFooter={colSpan:_1c3};_1b6.groupby(_1c1);}}));}var _1c4=this.getGroupbyDepthInfo(_1ac);var _1c5=_1ad.clientWidth;var _1c6=_1c4.length*21;var _1c7=_1c5;this.groupbyFilterScrollViewRenderHeight=this.options.groupbyListVisibleRowNum*21;var _1c8=WebSquare.style.getRelativeTop(_1ad,_1ae)+_1ad.offsetHeight;var _1c9=WebSquare.style.getRelativeLeft(_1ad,_1ae);var _1ca;if(this.groupbyFilterScrollViewRenderHeight>_1c6){_1ca=_1c6;}else{_1ca=this.groupbyFilterScrollViewRenderHeight;_1c5-=this.getElementById(this.id+"_size_y").clientWidth;}this.groupbyFilterScrollView.setPosition(_1c9,_1c8);this.groupbyFilterScrollView.setSize(_1c7,_1ca);this.groupbyFilterList.setSize(_1c5,_1c6);this.groupbyFilterList.setJSON(_1c4);this.groupbyFilterList.headerIndex=_1af;WebSquare.style.show(this.groupbyFilterScrollView.render);this.groupbyZoneStatus.beforeOpenedColIndex=_1af;this.groupbyZoneStatus.beforeOpenedColTagName=_1ad.tagName;};WebSquare.uiplugin.layoutController.prototype.showGroupbyFilterList=function(_1cb,_1cc){["WebSquare.uiplugin.grid.showGroupbyFilterList"];var _1cd=_1cb.render;var _1ce=_1cb.headerIndex;this.groupbyFilterList.headerIndex=_1ce;this.groupbyZoneStatus.beforeOpenedColIndex=_1ce;this.groupbyZoneStatus.beforeOpenedColTagName=_1cd.tagName;WebSquare.style.show(this.groupbyFilterScrollView.render);if(_1cc){var _1cf=this.getGroupbyDepthInfo(_1cb);this.groupbyFilterList.setJSON(_1cf);var _1d0=_1cb.parentRender;var _1d1=_1cd.clientWidth;var _1d2=_1d1;var _1d3=_1cf.length*21;var _1d4;var _1d5=WebSquare.style.getRelativeTop(_1cd,_1d0)+_1cd.offsetHeight;var _1d6=WebSquare.style.getRelativeLeft(_1cd,_1d0);if(this.groupbyFilterScrollViewRenderHeight>_1d3){_1d4=_1d3;}else{_1d4=this.groupbyFilterScrollViewRenderHeight;_1d1-=this.getElementById(this.id+"_size_y").clientWidth;}this.groupbyFilterList.setSize(_1d1,_1d3);this.groupbyFilterScrollView.setPosition(_1d6,_1d5);this.groupbyFilterScrollView.setSize(_1d2,_1d4);}};WebSquare.uiplugin.layoutController.prototype.hideGroupbyFilterList=function(){["WebSquare.uiplugin.grid.hideGroupbyFilterList"];try{if(this.groupbyFilterScrollView){WebSquare.style.hide(this.groupbyFilterScrollView.render);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.getGroupbyDepthInfo=function(_1d7){["WebSquare.uiplugin.grid.getGroupbyDepthInfo"];var _1d8=_1d7.headerIndex;var _1d9=this.getColumnID(_1d8);var _1da=_1d7.headerID;var _1db;for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(_1d8==this.groupbyStatus.sortIndexArr[i]){_1db=i;}}var _1dd=[];this.groupbyStatus.groupbyDepthInfoObj=this.groupbyStatus.groupbyDepthInfoObj?this.groupbyStatus.groupbyDepthInfoObj:{};if(this.groupbyStatus.groupbyDepthInfoObj[_1d9]){_1dd=this.groupbyStatus.groupbyDepthInfoObj[_1d9];}else{_1dd=this.createGroupbDepthInfo(_1db);this.groupbyStatus.groupbyDepthInfoObj[_1d9]=_1dd;}var _1de=[];var _1df=this.groupbyStatus.filter[_1d9];if(_1df||_1df==""){if(_1df.length==0){_1df=[];}else{if(_1df.length>0){_1df=this.groupbyStatus.filter[_1d9];}}}_1de.push({id1:false,id2:"\uc0ac\uc6a9\uc790\ud544\ud130"});_1de.push({id1:false,id2:"\uc804\uccb4\uc120\ud0dd"});var _1e0=false;for(var key in this.dataFilter.customFilterStatusObj){if(this.dataFilter.customFilterStatusObj[key]){_1e0=true;break;}}for(var i=0;i<_1dd.length;i++){var _1e2={};var _1e3=_1dd[i];var _1e4=true;if(_1e0){_1e4=false;}else{if(_1df){_1e4=false;for(var j=0;j<_1df.length;j++){if(_1e3==_1df[j]){_1e4=true;}}}}_1e2["id1"]=_1e4;_1e2["id2"]=_1dd[i];_1de.push(_1e2);}if(_1e0){if(this.dataFilter.customFilterStatusObj[_1da]){_1de[0].id1=true;}}else{_1de[1].id1=true;if(_1df){if(_1df.length==_1dd.length){_1de[1].id1=true;}else{_1de[1].id1=false;}}}return _1de;};WebSquare.uiplugin.layoutController.prototype.showGroupbyZoneMessage=function(){["WebSquare.uiplugin.layoutController.prototype.showGroupbyZoneMessage"];try{if(this.options.groupbyZone&&this.options.groupbyZoneMessage){var _1e6=this.groupbyZoneStatus.groupbyZoneMessageRender;if(_1e6){WebSquare.style.show(_1e6);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.hideGroupbyZoneMessage=function(){["WebSquare.uiplugin.layoutController.prototype.hideGroupbyZoneMessage"];try{if(this.options.groupbyZone&&this.options.groupbyZoneMessage){var _1e7=this.groupbyZoneStatus.groupbyZoneMessageRender;if(_1e7){WebSquare.style.hide(_1e7);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.syncWithGroupbyZone=function(){["WebSquare.uiplugin.layoutController.prototype.syncWithGroupbyZone"];try{if(this.groupbyStatus.grouped&&this.options.groupbyZone){this.clearGroupbyZone();var _1e8=this.groupbyStatus.sortIndexArr;for(var i=0;i<_1e8.length;i++){var _1ea=_1e8[i];var id=this.getHeaderID(_1ea);var _1ec=this.getColumnID(_1ea);var _1ed=document.createElement("div");_1ed.setAttribute("header_id",id);_1ed.className="w2grid_groupbyZone_column";var _1ee=document.createElement("div");_1ee.className="w2grid_groupbyZone_column_closeButtonDiv";var _1ef=document.createElement("div");_1ef.className="w2grid_groupbyZone_column_closeButtonImg";_1ef.setAttribute("col_id",_1ec);var _1f0=document.createElement("div");_1f0.className="w2grid_groupbyZone_column_labelDiv";var _1f1=document.createElement("span");_1f1.className="w2grid_groupbyZone_column_value";_1f1.innerHTML=this.getHeaderValue(id);_1f0.appendChild(_1f1);_1ee.appendChild(_1ef);_1ed.appendChild(_1f0);_1ed.appendChild(_1ee);this.groupbyZoneStatus.groupbyZoneRender.appendChild(_1ed);_1f1.style.marginTop=-_1f1.offsetHeight/2+"px";_1f1.style.marginLeft=-_1f1.offsetWidth/2+(_1ee.offsetWidth/2-_1ef.offsetWidth/2)+"px";_1ef.style.marginTop=-_1ef.offsetHeight/2+"px";_1ef.style.marginLeft=-_1ef.offsetWidth/2+"px";}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.clearGroupbyZone=function(){["WebSquare.uiplugin.layoutController.prototype.syncWithGroupbyZone"];try{if(this.groupbyStatus.grouped&&this.options.groupbyZone){var _1f2=this.groupbyZoneStatus.groupbyZoneRender;var _1f3=_1f2.childNodes;var _1f4=[];for(var i=0;i<_1f3.length;i++){if(_1f3[i].className.match("w2grid_groupbyZone_column")!=null){_1f4.push(_1f3[i]);}}for(var i=0;i<_1f4.length;i++){_1f2.removeChild(_1f4[i]);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.layoutController.prototype.handleChangeGroupDepth=function(e){["WebSquare.uiplugin.layoutController.prototype.handleChangeGroupDepth"];var it=this.event.getTargetIterator(e);while(it.next()){if(it.match("w2grid_groupbyZone_column")){this.addClass("w2noselect");if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}var _1f8=it.getElement();var _1f9=_1f8.getAttribute("header_id");var _1fa=this.getHeaderIndex(_1f9);var _1fb=this.getHeaderValue(_1f9);var _1fc=this;WebSquare.dragdrop.gDragManager.activate(e,null,{id:this.id+"_drag",className:"w2grid_groupbyZone_column_drag",contents:_1fb,delay:15,applyMousePosition:true,onDrop:function(drag,drop,x,y,dx,dy,e){var _204=null;if(this.isMobile){_204=new WebSquare.targetIterator(document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY));e.preventDefault();}else{_204=_1fc.event.getTargetIterator(e);}var _205;while(_204.next()){if(_204.match("w2grid_groupbyZone_column")){_205=_1fc.getHeaderIndex(_204.getElement().getAttribute("header_id"));break;}if(_204.match("w2grid_groupbyZone")){var _206=_1fc.groupbyStatus.sortIndexArr;_205=_206[_206.length-1];break;}if(_204.match(null,null,"body")){return;}}if(_1fa==_205){return;}_1fc.removeClass("w2noselect");_1fc.hideGroupbyFilterList();_1fc.changeGroupDepth(_1fa,_205);}});return;}}};WebSquare.uiplugin.layoutController.prototype.createContextMenu=function(info){var _208="";_208+="<w2:list xmlns:w2=\"http://www.inswave.com/websquare\" tagName='div' style='' class='w2grid_contextMenu'>";_208+="\t<w2:listRow tagName='div' style='height: 20px; display:block; border-top: 0px; border-left:0px; border-right:0px;' class='w2grid_contextMenu_row'>";_208+="\t\t<w2:listColumn id='col1' inputType='text' style='padding-left: 10px' class='w2grid_contextMenu_column'/>";_208+="\t</w2:listRow>";_208+="</w2:list>";var _209=WebSquare.xml.parse(_208,true);var _20a=_209.documentElement;this.contextMenu=new WebSquare.uiplugin.list(this.id+"_contextMenu_list","",_20a);this.contextMenu.writeTo(WebSquare.getBody());this.contextMenu.activate();var _20b=this;this.contextMenu.event.addListener(this.contextMenu.render,"onclick",function(e){WebSquare.event.stopPropagation(e);var it=_20b.event.getTargetIterator(e,this.render);var list=_20b.contextMenu;var _20f;while(it.next()){if(it.match("w2grid_contextMenu_column")){_20f=it.getElement().parentNode;break;}if(it.match("w2grid_contextMenu_row")){_20f=it.getElement();break;}if(it.match("w2grid_contextMenu")){break;}}var _210;for(var i=0;i<list.getLength();i++){if(_20f==list.render.childNodes[i]){_210=i;break;}}_20b.callSelectedAPI(list.getRowData(i).col1,list.info);_20b.hideContextMenu();list.info=null;});var _212=this.getContextMenuData(info);var _213=_212.length*21;this.contextMenu.show();this.contextMenu.setSize(180,_213);this.contextMenu.setPosition(WebSquare.event.getMouseX(info.e),WebSquare.event.getMouseY(info.e));this.contextMenu.setJSON(_212);this.contextMenu.info=info;};WebSquare.uiplugin.layoutController.prototype.getContextMenuData=function(info){var _215=[];var _216=true;if(this.groupbyStatus.grouped){for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==info.colIndex){_215.push({"col1":"\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9 \ud574\uc81c"});_216=false;break;}}}if(_216){_215.push({"col1":"\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9"});}_215.push({"col1":"\uc120\ud0dd \uceec\ub7fc \uc228\uae30\uae30"});if(this.options.fixedColumn==0||this.options.fixedColumn-1<info.colIndex){_215.push({"col1":"\uc120\ud0dd \uceec\ub7fc \ud2c0\uace0\uc815"});}_215.push({"col1":"\uc120\ud0dd \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30"});for(var i=0;i<this.hiddenList.length;i++){if(this.hiddenList[i]){_215.push({"col1":"\uc804\uccb4 \uceec\ub7fc \uc228\uae30\uae30 \ud574\uc81c"});break;}}if(this.options.fixedColumn>0){_215.push({"col1":"\uc804\uccb4 \uceec\ub7fc \ud2c0\uace0\uc815 \ucde8\uc18c"});}_215.push({"col1":"\uc804\uccb4 \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30"});if(this.groupbyStatus.grouped){_215.push({"col1":"\uc804\uccb4 \uadf8\ub8f9 \uc811\uae30"});_215.push({"col1":"\uc804\uccb4 \uadf8\ub8f9 \ud3bc\uce58\uae30"});_215.push({"col1":"\uc804\uccb4 \uadf8\ub8f9 \ud574\uc81c"});}return _215;};WebSquare.uiplugin.layoutController.prototype.showContextMenu=function(info){var _219=this.getContextMenuData(info);var _21a=_219.length*21;this.contextMenu.show();this.contextMenu.setSize(180,_21a);this.contextMenu.setPosition(WebSquare.event.getMouseX(info.e),WebSquare.event.getMouseY(info.e));this.contextMenu.setJSON(_219);this.contextMenu.info=info;};WebSquare.uiplugin.layoutController.prototype.hideContextMenu=function(){if(this.contextMenu){this.contextMenu.hide();}};WebSquare.uiplugin.layoutController.prototype.callSelectedAPI=function(type,info){switch(type){case "\uc120\ud0dd \uceec\ub7fc \uc228\uae30\uae30":this.setColumnVisible(info.colIndex,false);if(this.groupbyStatus.grouped){this.ungroupColumn(info.colIndex);}break;case "\uc804\uccb4 \uceec\ub7fc \uc228\uae30\uae30 \ud574\uc81c":for(var i=0;i<this.hiddenList.length;i++){if(this.hiddenList[i]){this.setColumnVisible(i-this.defaultColCnt,true);}}break;case "\uc120\ud0dd \uceec\ub7fc \ud2c0\uace0\uc815":this.setFixedColumn(parseInt(info.colIndex,10)+1);break;case "\uc804\uccb4 \uceec\ub7fc \ud2c0\uace0\uc815 \ucde8\uc18c":this.setFixedColumn(0);break;case "\uc120\ud0dd \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30":if(!this.autofitColumn){var _21e={"type":"selectedColumn","colIndex":info.colIndex};this.setAutoFit(_21e);}break;case "\uc804\uccb4 \uceec\ub7fc \ud06c\uae30 \uc790\ub3d9 \ub9de\ucd94\uae30":var _21e={"type":"allColumn"};this.setAutoFit(_21e);break;case "\uc804\uccb4 \uadf8\ub8f9 \uc811\uae30":if(this.groupbyStatus.grouped){this.foldAll();}break;case "\uc804\uccb4 \uadf8\ub8f9 \ud3bc\uce58\uae30":if(this.groupbyStatus.grouped){this.unfoldAll();}break;case "\uc804\uccb4 \uadf8\ub8f9 \ud574\uc81c":if(this.groupbyStatus.grouped){this.clearGroupby();}break;case "\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9 \ud574\uc81c":this.ungroupColumn(info.colIndex);break;case "\uc120\ud0dd \uceec\ub7fc \uadf8\ub8f9":if(this.groupbyStatus.grouped){var _21e={};_21e.sortIndex=this.groupbyStatus.sortIndexArr;_21e.sortOrder=this.groupbyStatus.sortOrderArr;_21e.sortIndex.push(info.colIndex);_21e.sortOrder.push(1);var _21f=WebSquare.event.fireEvent(this,"ongroupby",_21e);if(_21f===false){_21e=WebSquare.extend({},this.groupbyDisplayOptions);_21e.sortIndex=this.groupbyStatus.sortIndexArr;_21e.sortOrder=this.groupbyStatus.sortOrderArr;this.groupby(_21e);}}else{var _21e={};_21e.sortIndex=[info.colIndex];_21e.sortOrder=[1];var _21f=WebSquare.event.fireEvent(this,"ongroupby",_21e);if(_21f===false){var _220=this.getColCnt()+this.defaultColCnt;_21e.rowNumHeader={colSpan:_220,inputType:"expression",expression:" toggle() + depthStr() + ' [ ' + count() + ' \uac74 ] ' ",align:"left"};_21e.rowNumFooter={colSpan:_220};this.groupby(_21e);}}break;}};WebSquare.uiplugin.drawInitializer=function(){try{}catch(e){$l(e.message);WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawInitializer.prototype.setTableLayout=function(){["WebSquare.uiplugin.drawInitializer.prototype.setTableLayout"];try{this.initializeHead();this.initializeFooter();this.setDataLayerPosition();this.arrangeOverflowXScroll();this.handlerResize_drawInitializer();this.setTrRowTable();this.setTrSubtotalRowTable();this._setAutoFit();this.realRowDataLength=this.oneRowDataLength+this.defaultColCnt;this.associateHeaderBody();this.lastDisplayedRow=-1;this.drawFooter();this.drawHeader();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawInitializer.prototype.setDataLayerPosition=function(){try{var _1=this.getElementById(this.id+"_dataLayer");if(this.hasFooter){var _2=this.getElementById(this.id+"_foot_table").offsetHeight;_2=(_2==0)?this.footerHeight:_2;_1.style.bottom=_2+"px";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawInitializer.prototype.arrangeOverflowXScroll=function(){["WebSquare.uiplugin.drawInitializer.arrangeOverflowXScroll"];try{var _3=this.options.fixedColumn+this.defaultColCnt;this.fixedWidth=0;for(var i=0;i<_3;i++){if(!this.hiddenList[i]){this.fixedWidth+=this.colWidthList[i];}}var _5=this.getElementById(this.id+"_scrollX_div");var _6=this.getElementById(this.id+"_scrollX_table");var _7=_5.offsetWidth-_6.offsetWidth;var _8=this.getElementById(this.id+"_scrollX_left");var _9=this.getElementById(this.id+"_scroll_size");_8.style.width=this.fixedWidth+"px";_9.style.width=(this.gridWidth-this.fixedWidth-_7)+"px";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawInitializer.prototype.handlerResize_drawInitializer=function(){["WebSquare.uiplugin.drawInitializer.prototype.handlerResize_drawInitializer"];try{if(this.render.offsetWidth==0||this.render.offsetHeight==0){return;}this.setOverflowY();this.setOverflowX();this.setIE6Fix();if(this.options.headFiller){var _a=this.getElementById(this.id+"_header_bg_td");var _b=this.getElementById(this.id+"_dataLayer").offsetWidth-1;var _c=this.getElementById(this.id+"_head_table").offsetHeight;var _d=_b;var _e=_c;_a.style.width=(_b)+"px";while(_a.offsetWidth!=_d){if(_a.offsetWidth>_d){_b--;}else{_b++;}_a.style.width=(_b)+"px";}_a.style.height=(_c)+"px";while(_a.offsetHeight!=_e){if(_a.offsetHeight>_e){_c--;}else{_c++;}_a.style.height=(_c)+"px";}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawInitializer.prototype.setIE6Fix=function(){["WebSquare.uiplugin.drawInitializer.prototype.setIE6Fix"];try{var _f=this.options.fixPrint&&(WebSquare.util.isIE(9)||WebSquare.util.isIE(10)||WebSquare.util.isFF());if(this.isIE6||WebSquare.util.isOpera()||_f){var _10=this.getElementById(this.id+"_scrollX_div");var _11=this.getElementById(this.id+"_scrollY_div");var _12=this.getElementById(this.id+"_main_div");var _13=(this.render.offsetHeight-_10.offsetHeight);var _14=(this.render.offsetWidth-_11.offsetWidth+2);_13=(_13<0)?0:_13;_14=(_14<0)?0:_14;_12.style.height=_13+"px";_12.style.width=_14+"px";var _15=0;if(this.hasFooter){_15=this.getElementById(this.id+"_foot_table").offsetHeight;_15=(_15==0)?this.footerHeight:_15;}var _16;if(this.options.visibleRowNum!==""){var _17=this.getElementById(this.id+"_body_table");if(!this.defaultDataLayerHeight||_17.offsetHeight>this.defaultDataLayerHeight){_16=_17.offsetHeight+_15;}else{_16=this.defaultDataLayerHeight+_15;}}else{_16=_13-_15-1;}_16=_16<0?0:_16;var _18=this.getElementById(this.id+"_dataLayer");_18.style.height=_16+"px";this.dataLayerHeight=_16;var _19=this.getElementById(this.id+"_scrollX_right");_19.style.width=_19.parentNode.offsetWidth+"px";if(_f){_12.style.position="relative";_12.style.bottom="";_12.style.right="";_18.style.position="relative";_18.style.bottom="";}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawInitializer.prototype.setOverflowX=function(_1a){var _1b=true;if(typeof _1a!="undefined"){if(_1a!="hidden"&&_1a!="auto"&&_1a!="scroll"){_1a="auto";}this.options.overflowX=_1a;}else{_1b=false;}_1a=this.isMobile?"hidden":this.options.overflowX;switch(_1a){case "auto":this.setOverflowXAuto();break;case "hidden":this.setOverflowXHidden();break;default:this.setOverflowXScroll();break;}if(this.isMobile){this.setIScrollX();}if(_1b){this.setIE6Fix();}};WebSquare.uiplugin.drawInitializer.prototype.setOverflowXAuto=function(){var _1c=this.getElementById(this.id+"_scrollX_div");var _1d=this.getElementById(this.id+"_scrollX_left");var _1e=this.getElementById(this.id+"_scrollX_right");if(_1e.firstChild.offsetWidth>_1c.offsetWidth-_1d.offsetWidth){this.setOverflowXScroll();}else{this.setOverflowXHidden();}};WebSquare.uiplugin.drawInitializer.prototype.setOverflowXScroll=function(){["WebSquare.uiplugin.drawInitializer.prototype.setOverflowXScroll"];try{var _1f=this.getElementById(this.id+"_scrollX_div");var _20=_1f.style.height;_1f.style.height=(this.scrollLayerWidthSize)+"px";if(this.rowIndex!==-1&&_20==="0px"){if(this.options.visibleRowNum!==""){var _21=parseInt(this.render.style.height,10);this.setSize(null,_21+this.scrollWidthSize);}else{this.dataLayerHeight-=this.scrollWidthSize;var _22=this.dataRowList[(this.lastIndex+1)*this.oneRowLength-1];if(_22&&_22.offsetTop+_22.offsetHeight>this.dataLayerHeight){this._setRowDisplay(this.lastIndex,"none");this.lastIndex=this.lastIndex-1;this.maxRowLength=this.maxRowLength-1;this.lastDisplayedRow=this.lastIndex;this.lastTopRowIndex=null;this.setScrollYHeight({noDraw:true});this.setOverflowYAuto();}}}if(!this.isIE6){var _23=this.getElementById(this.id+"_main_div");var _1f=this.getElementById(this.id+"_scrollX_div");var _24=parseInt(_1f.style.height,10);_23.style.bottom=_24+"px";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawInitializer.prototype.setOverflowXHidden=function(){["WebSquare.uiplugin.drawInitializer.prototype.setOverflowXHidden"];try{var _25=this.getElementById(this.id+"_scrollX_div");var _26=_25.style.height;_25.style.height="0px";if(_26!="0px"){this.handleScrollX();}if(this.rowIndex!==-1&&_26!=="0px"){if(this.options.visibleRowNum!==""){var _27=parseInt(this.render.style.height,10);this.setSize(null,_27-this.scrollWidthSize);}else{this.dataLayerHeight+=this.scrollWidthSize;this.maxRowLength=this.maxRowLength+1;var _28=this.getDataLength();if(this.maxRowLength>=_28){this.getElementById(this.id+"_size_y").style.height="0px";}this.setOverflowYAuto();this.drawData(this.rowIndex,this.lastIndex);this.lastTopRowIndex=null;}}var _29=this.getElementById(this.id+"_main_div");if(!this.isIE6){_29.style.bottom="0px";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawInitializer.prototype.setOverflowY=function(_2a){var _2b=true;if(typeof _2a!="undefined"){if(_2a!="hidden"&&_2a!="auto"&&_2a!="scroll"){_2a="auto";}this.options.overflowY=_2a;}else{_2b=false;}_2a=this.isMobile?"hidden":this.options.overflowY;switch(_2a){case "auto":this.setOverflowYAuto();break;case "hidden":this.setOverflowYHidden();break;default:this.setOverflowYScroll();break;}if(this.isMobile){this.setIScrollY();}if(_2b){this.setIE6Fix();}};WebSquare.uiplugin.drawInitializer.prototype.setOverflowYAuto=function(){var _2c=this.getElementById(this.id+"_scrollY_div");if(_2c.offsetHeight<_2c.scrollHeight){this.setOverflowYScroll();}else{this.setOverflowYHidden();}};WebSquare.uiplugin.drawInitializer.prototype.setOverflowYScroll=function(){var _2d=this.getElementById(this.id+"_scrollY_div");var _2e=this.getElementById(this.id+"_scrollX_div");var _2f=this.getElementById(this.id+"_main_div");var _30=parseInt(_2d.style.width,10);_2d.style.width=this.scrollLayerWidthSize+"px";_2d.style.overflowY="scroll";if(!this.isIE6){_2f.style.right=(this.scrollWidthSize-1)+"px";_2e.style.right=this.scrollWidthSize+"px";}else{var _31=this.render.offsetWidth-this.scrollWidthSize;_2e.style.width=(_31>0?_31:0)+"px";_2d.style.height=this.render.offsetHeight+"px";}if(_30==0){this._setAutoFit();}};WebSquare.uiplugin.drawInitializer.prototype.setOverflowYHidden=function(){var _32=this.getElementById(this.id+"_scrollY_div");var _33=parseInt(_32.style.width,10);_32.style.width="0px";_32.style.overflowY="hidden";if(!this.isIE6){var _34=this.getElementById(this.id+"_main_div");_34.style.right="0px";var _35=this.getElementById(this.id+"_scrollX_div");_35.style.right="0px";}if(_33!=0){this._setAutoFit();}};WebSquare.uiplugin.drawInitializer.prototype.setTrRowTable=function(){["WebSquare.uiplugin.drawInitializer.prototype.setTrRowTable"];try{this.tempDiv=document.createElement("div");this.tempDiv.style.width="0px";this.tempDiv.style.height="0px";this.tempDiv.style.overflow="hidden";this.tempDiv.innerHTML="<table id='tempTable' style='table-layout:fixed; border-collapse:collapse; border-spacing:0px;'>"+this.getTableHtml(this.htmlInfo.body,"tbody","td",this.options.bodyTdClass)+"</table>";this.tempTr=this.tempDiv.getElementsByTagName("table")[0];var tds=this.tempTr.getElementsByTagName("td");this.aria_labelledby=[];for(var i=0;i<tds.length;i++){if(this.options.autoScope&&i==0){tds[i].setAttribute("scope","row");}this.aria_labelledby[i]=tds[i].getAttribute("aria-labelledby");tds[i].innerHTML="";}this.tempDiv.id=this.id;this.tempDiv.className="w2grid";document.body.appendChild(this.tempDiv);var _38=this.tempDiv.getElementsByTagName("tbody")[0].offsetHeight;if(_38==0){if(this.options.defaultCellHeight!=-1){_38=this.options.defaultCellHeight;}else{_38=20;}}this.oneRowHeight=_38+(WebSquare.util.isIE(6)||WebSquare.util.isIE(7)?1:0);document.body.removeChild(this.tempDiv);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawInitializer.prototype.setTrSubtotalRowTable=function(){["WebSquare.uiplugin.drawInitializer.prototype.setTrSubtotalRowTable"];try{this.subtotalTableList={};for(var _39 in this.subtotalStrList){var _3a=document.createElement("div");_3a.style.width="0px";_3a.style.height="0px";_3a.style.overflow="hidden";_3a.innerHTML="<table id='tempTable' style='width:100%;table-layout:fixed; border-collapse:collapse; border-spacing:0px;'>"+this.getTableHtml(this.subtotalStrList[_39],"tbody","td",this.options.subtotalTdClass)+"</table>";var _3b=_3a.getElementsByTagName("table")[0];this.subtotalTableList[_39]=_3b;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawInitializer.prototype._setAutoFit=function(_3c){["WebSquare.uiplugin.drawInitializer.prototype._setAutoFit"];if(this.render.offsetWidth==0||this.render.offsetHeight==0){return;}var _3c=_3c||{};var _3d=_3c.type?_3c.type:this.options.autoFit;var _3e=_3c.exceptCol;var _3f=_3c.exceptWidth||0;var _40=this.options.autoFitFixYScroll?this.scrollLayerWidthSize:parseInt(this.getElementById(this.id+"_scrollY_div").style.width,10);var _41=this.render.clientWidth;this.autofit_clientWidth=_41;var _42=0;for(var i=this.colWidthList.length-1;i>=0;i--){if(this.hiddenList[i]==false){_42=i;break;}}if(_3d=="selectedColumn"&&!this.autofitColumn){this.autofitColumn=true;var _44=this.defaultColCnt+_3c.colIndex;this.gridWidth-=this.colWidthList[_44];this.autofitColumnIndexArr.push(_44);this.colWidthList[_44]="*";this.autofitColumnWidthArr[_44]="*";}if(this.autofitColumn){var _45=_41;var _46=this.autofitColumnIndexArr.slice();if(_40>0){_45-=_40;}for(var i=0;i<_46.length;i++){if(this.hiddenList[_46[i]]==true){var _47=_46.indexOf(_46[i]);_46.splice(_47,1);}}var _48=0;for(var i=0;i<this.colWidthList.length;i++){if(this.hiddenList[i]==true){continue;}if(i<this.autofitColumnWidthArr.length&&this.autofitColumnWidthArr[i]){var _49=this.autofitColumnWidthArr[i].substring(0,this.autofitColumnWidthArr[i].indexOf("*"));if(_49.length>0){_48+=(_49-0);}else{if(_49.length==0){_48+=1;}}}else{_45-=this.colWidthList[i];}}var _4a=Math.floor(_45/_48);var _4b=_45-(_4a*_48);for(var i=0;i<_46.length;i++){var _4c=_4a;var _4d=this.options.autoFitMinWidth||0;var _4e=_46[i];var _49=this.autofitColumnWidthArr[_4e].substring(0,this.autofitColumnWidthArr[_4e].indexOf("*"));if(_49.length>0){_49-=0;_4c*=_49;}if(_4c<_4d){this._setColumnWidth(_4e,_4d);}else{this._setColumnWidth(_4e,_4c);}}if(_4b>0){var _4f=this.colWidthList.slice();var _50=_4b;for(var i=0;i<_4b;i++){if(_50>0){var _51={};for(var j=0;j<this.colWidthList.length;j++){if(this.hiddenList[j]==true){continue;}var _53=Math.abs((_4f[j]-(this.colWidthList[j]+1))*(this.gridWidth/this.colWidthList[j]));if(_51.distortion==undefined||_51.distortion>_53){_51.distortion=_53;_51.index=j;}}this._setColumnWidth(_51.index,(this.colWidthList[_51.index]+1));}_50--;}}}if(_3d=="lastColumn"){if(!this.autoFitGridWidth){this.autoFitGridWidth=this.gridWidth;}if(typeof _3e=="number"&&_3e!=_42){this.autoFitGridWidth+=_3f-this.colWidthList[_3e];this._setColumnWidth(_3e,_3f);}var _54=_41-_40-this.gridWidth+this.colWidthList[_42];var _55=this.gridWidth+_54-this.colWidthList[_42];if(this.autoFitGridWidth<_55){this._setColumnWidth(_42,_54);}}else{if(_3d=="allColumn"){if(!this.autofitColumn){var _56=this.autoFitColWidthList||this.colWidthList;var _55=_41-_40;var _57=[];if(this.options.keepDefaultColumnWidth){for(var i=0;i<this.defaultColCnt;i++){_57.push(i);}}var _4d=parseInt(_3c.minWidth?_3c.minWidth:this.options.autoFitMinWidth,10);if(!isNaN(_4d)&&_4d>_55){_55=_4d;}_55-=_3f;for(var i=0;i<_57.length;i++){_55-=this.colWidthList[_57[i]];}var _58=0;for(var i=0;i<_56.length;i++){var _59=false;if(this.options.keepDefaultColumnWidth&&i==0||i==1){for(var _5a=0;_5a<_57.length;_5a++){if(_57[i]==i){_59=true;}}}_58+=(this.hiddenList[i]||i===_3e||_59)?0:_56[i];}var _5b=0;var _5c=_58?(_55/_58):0;var _5d=[];if(_5c){for(var i=0;i<_56.length;i++){var _59=false;if(this.options.keepDefaultColumnWidth&&i==0||i==1){for(var _5a=0;_5a<_57.length;_5a++){if(_57[i]==i){_59=true;}}}if(i==_3e){this.colWidthList[i]=_3f;}else{if(_59){this.colWidthList[i]=this.colWidthList[_57[i]];}else{_5d[i]=_5c*_56[i];var _5e=Math.round(_5d[i]);this.colWidthList[i]=_5e;_5b+=this.hiddenList[i]?0:_5e;}}}var _5f=_55-_5b;var _60=(_5f>0)?1:-1;for(i=0;i<_5f*_60;i++){var min={};for(j=0;j<_56.length;j++){var _59=false;if(this.options.keepDefaultColumnWidth&&j==0||j==1){for(var _5a=0;_5a<_57.length;_5a++){if(_57[j]==j){_59=true;}}}if(this.hiddenList[j]||j==_3e||_59){continue;}var _53=Math.abs(_5d[j]-(this.colWidthList[j]+_60))*(_5b/this.colWidthList[j]);if(min.value==undefined||min.value>_53){min.value=_53;min.index=j;}}this.colWidthList[min.index]+=_60;_5b+=_60;}if(this.hiddenList[0]&&WebSquare.util.isIE(8)){for(var i=0;i<this.colWidthList.length;i++){if(!this.hiddenList[i]){this.colWidthList[i]=this.colWidthList[i]-2;break;}}}}if(!this.autoFitColWidthList){this.autoFitColWidthList=this.colWidthList.slice(0);}this.gridWidth=_5b+_3f;if(this.options.keepDefaultColumnWidth){for(var i=0;i<_57.length;i++){this.gridWidth+=this.colWidthList[_57[i]];}}this.arrangeOverflowXScroll();this.setOverflowX();this.handleScrollX();this.handlerResize_drawInitializer();}}}};WebSquare.uiplugin.drawInitializer.prototype.setAutoFit=function(_62){["WebSquare.uiplugin.drawInitializer.prototype.setAutoFit"];try{this._setAutoFit(_62);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawInitializer.prototype.autoFitFunc=function(){if(this.autofit_clientWidth===this.render.clientWidth){WebSquare.core.clearTimer(this.id+"_autofit");}else{WebSquare.core.setTimer(this._setAutoFit,{key:this.id+"_autofit",caller:this,delay:100});}};WebSquare.uiplugin.drawInitializer.prototype.setIScrollX=function(){["WebSquare.uiplugin.drawInitializer.prototype.setIScrollX"];try{var _63=this.getElementById(this.id+"_iScrollX");if(!_63){return;}var _64=this.getElementById(this.id+"_scrollX_right");if(_64.offsetWidth>=_64.firstChild.offsetWidth){_63.style.visibility="hidden";return;}var _65=this.getElementById(this.id+"_dataLayer");var _66=parseInt(this.getElementById(this.id+"_scrollX_left").style.width,10);var _67=_64.firstChild.offsetWidth-_64.offsetWidth;var _68=parseInt(_64.offsetWidth*_64.offsetWidth/_64.firstChild.offsetWidth,10);_63.style.width=(_68<30?30:_68)+"px";_63.style.left=(_66+_64.scrollLeft/_67*(_65.offsetWidth-_66-_63.offsetWidth))+"px";_63.style.visibility="";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawInitializer.prototype.setIScrollY=function(){["WebSquare.uiplugin.drawInitializer.prototype.setIScrollY"];try{var _69=this.getElementById(this.id+"_iScrollY");if(!_69){return;}var _6a=this.getDataLength();var _6b=this.rowIndex;var _6c=this.getElementById(this.id+"_size_y").parentNode.offsetHeight;if(_6c==0){_6c=parseInt(this.getStyleValue("height"));}if(_6b==-1||(_6b==0&&_6b+this.lastIndex+1==_6a)){var _6d=!this.hasSubtotal;if(this.hasSubtotal){if(this.drawedSubtotal.length>0){var _6e=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_6e.rowIndex==dataLen-1){var _6f=_6e[_6e.length-1];if(_6f.style.display!="none"){_6d=true;}}}}if(_6d){_69.style.visibility="hidden";return;}}var _70=this.getElementById(this.id+"_scrollY_div");var _71=_70.firstChild.offsetHeight;var _72=this.getElementById(this.id+"_dataLayer");var _73=_71-_72.offsetHeight;var _74=parseInt(_72.offsetHeight*_72.offsetHeight/_71,10);_69.style.height=(_74<30?30:_74)+"px";_69.style.top=(_70.scrollTop/_73*(_72.offsetHeight-_69.offsetHeight))+"px";_69.style.visibility="";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.eventController=function(){["WebSquare.uiplugin.eventController"];};WebSquare.uiplugin.eventController.prototype.initializeEvent=function(){["WebSquare.uiplugin.eventController.prototype.initializeEvent"];try{this.otherClickEvent();this.checkResize();this.event.addListener(this.render,"ondblclick",this.event.bindAsEventListener(this,this.handleDblClickEvent));this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if(!this.isMobile){this.event.addListener(this.getElementById(this.id+"_head_table"),"onmouseover",this.event.bindAsEventListener(this,this.gridDataLayerOut));this.event.addListener(this.getElementById(this.id+"_scrollX_div"),"onmouseover",this.event.bindAsEventListener(this,this.gridDataLayerOut));this.event.addListener(this.getElementById(this.id+"_scrollY_div"),"onmouseover",this.event.bindAsEventListener(this,this.gridDataLayerOut));this.event.addListener(this.getElementById(this.id+"_dataLayer"),"onmouseover",this.event.bindAsEventListener(this,this.gridOver));}this.event.addListener(this.getElementById(this.id+"_dataLayer"),"oncontextmenu",this.event.bindAsEventListener(this,this.clickRightButtonCell));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.gridOut));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyDownEvent));if(WebSquare.util.isOpera()){this.event.addListener(this.render,"onkeypress",function(e){if(e.keyCode==9||e.keyCode==27){WebSquare.event.preventDefault(e);}});}if(this.options.dataDragDrop){if(this.isMobile==true){}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleDragEvent));}}WebSquare.core.setTimer(function(){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){var _3=WebSquare.getBody().getLayerListener();var _4=_3.layers[this.id].component;var _5={};while(_4.parentControl){_4=_4.parentControl;for(var id in _3.useOtherComponentId){if(_3.useOtherComponentId[id]==_4.id){_5[id]=true;}}}WebSquare.getBody().getLayerListener().hideAll(_5);WebSquare.event.stopPropagation(e);}));},{key:this.id+"initializeEvent",caller:this,delay:100});if(this.isMobile){this.iScroll={};this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}this.initializeLayoutEvents();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.eventController.prototype.handleTdFocus=function(e){var td=WebSquare.event.getTarget(e);var _9=this.getLastFocusedCell();if(td.tagName=="TD"&&_9.focusedTd!=td&&!this.focusedByApi){var _a=parseInt(td.getAttribute("tdIndex"));var _b=parseInt(_a/this.realRowDataLength);var _c=_b+this.rowIndex;var _d=td.getAttribute("col_id");this.setFocusedCell(_c,_d);}this.focusedByApi=false;};WebSquare.uiplugin.eventController.prototype.handleDragEvent=function(e){var it=this.event.getTargetIterator(e);while(it.next()){if(it.match(null,null,"td")){var _10=it.getElement();var _11=[];var _12=this.rowIndex+parseInt(parseInt(_10.getAttribute("tdIndex"))/(this.oneRowDataLength+this.defaultColCnt));if(this.options.dragDisplayColumn==""){_11.push(_10.getAttribute("col_id"));}else{_11=this.options.dragDisplayColumn.split(",");}var _13=[];for(var i=0;i<_11.length;i++){_13.push(this.getCellDisplayData(_12,_11[i].wq_trim()));}_13=_13.join(",");var _15=this;WebSquare.dragdrop.gDragManager.activate(e,_10,{id:this.id+"_drag",className:"w2grid_drag",contents:_13,delay:15,applyMousePosition:true,onDrop:function(_16,_17,x,y,dx,dy,e){var _1d=null;var _1e=null;var _1f=null;var it2=null;if(this.isMobile){it2=new WebSquare.targetIterator(document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY));e.preventDefault();}else{it2=_15.event.getTargetIterator(e);}while(it2.next()){if(it2.match(null,null,"body")){return;}if(it2.match("w2grid")){_1d=it2.getElement().id;break;}if(it2.match("w2grid_tooltip")){var _21=it2.getElement();_21.style.display="none";it2=new WebSquare.targetIterator(document.elementFromPoint(WebSquare.event.getClientX(e),WebSquare.event.getClientY(e)));}if(_1f==null&&it2.match(null,null,"td")){var _22=it2.getElement();_1f=parseInt(_22.getAttribute("tdIndex"));}if(_1f!=null){}}if(_1d!=null){_1d=window[_1d];_1e=_1d.getDataLength();if(_1f!=null){_1e=_1d.rowIndex+parseInt(_1f/(_1d.oneRowDataLength+_1d.defaultColCnt));}}var _23=_15.getRowXML(_12);if(_15.options.dragStartFunction!=""){var _24=eval(_15.options.dragStartFunction);if(typeof _24=="function"){_23=_24.call(_15,_12,_23);}}if(_1d.options.dragEndFunction!=""){var _25=eval(_1d.options.dragEndFunction);if(typeof _25=="function"){if(_25.call(_15,_1e,_23)){_15.removeRow(_12);}}}else{if(_15.id==_1d.id){if(_1e>_12){_1e++;}else{_12++;}}_1d.setRowXML(_1e,_23);_15.removeRow(_12);}}});return;}}};WebSquare.uiplugin.eventController.prototype.otherClickEvent=function(){["WebSquare.uiplugin.eventController.otherClickEvent"];try{var _26=this;var _27=window;this.otherClickHandler=function(e){var _29=e||_27.event;_29.otherClick=true;if(_26.editedCell){_26.editedCell.handleEndEdit();}};if(this.isMobile){this.event.addListener(document.documentElement,"ontouchstart",this.event.bindAsEventListener(this,this.handleClickEventDocument));}else{WebSquare.getBody().getLayerListener().addListener({component:this,event:{},otherClick:this.handleClickEventDocument});}if(!WebSquare.util.isFF()){var _2a=self;var cnt=0;while(_2a!=_2a.parent&&cnt++<10){var _2c=true;if(_2a.parent["__WebSquare_gridArr__"]){for(var i=0;i<_2a.parent["__WebSquare_gridArr__"].length;i++){if(_2a.parent["__WebSquare_gridArr__"][i]!=null){_2c=false;break;}}}if(_2c){if(_2a.parent.$l){_2a.parent.$l("[grid.otherClickEvent]initialize GridArray");}_2a.parent["__WebSquare_gridArr__"]=[];}_2a.parent["__WebSquare_gridArr__"].push(this);_2a=_2a.parent;}}}catch(e){}};WebSquare.uiplugin.eventController.prototype.handleClickEventDocument=function(e){["WebSquare.uiplugin.eventController.handleClickEventDocument"];this.lastEvent=e;if(!this.event.isMe(e,this.render)&&!this.isMine(e)){e.otherClick=true;if(this.editedCell){WebSquare.core.setTimer(function(){this.editedCell.handleEndEdit(e);},{key:this.id+"_handleClickEventDocument",caller:this});}}if(this.contextMenu){if(!e.srcElement.className.match("contextMenu")){this.hideContextMenu();}}if(this.groupbyFilterScrollView){var it=this.event.getTargetIterator(e,this.render);var _30=true;while(it.next()){if(it.match("gridHeaderTDDefault")||it.match("w2grid_groupbyZone_list")||it.match("w2grid_groupbyZone_column")){_30=false;break;}}if(_30){this.hideGroupbyFilterList();}}};WebSquare.uiplugin.eventController.prototype.isMine=function(e){["WebSquare.uiplugin.eventController.isMine"];try{var _32=WebSquare.event.getTarget(e);while(_32!=null){if(_32.id&&_32.id.indexOf("G_"+this.id+"__")>=0){return true;}_32=_32.parentNode;}return false;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.eventController.prototype.handleResize=function(){["WebSquare.uiplugin.eventController.prototype.handleResize"];try{var _33=this.render.offsetWidth;var _34=this.render.offsetHeight;if(_33>0&&_34>0){if(this.delayedDrawObj){this.setRedrawStatus("draw");}else{var _35=_33-this.resizeObj.width;var _36=_34-this.resizeObj.height;if(_36>0){var _37=this.getDataLength();var _38=this.drawedRowLength;this.lastTopRowIndex=null;this.setDataTable();if(_37<=0){}else{if(this.rowIndex+this.lastIndex+this.drawedRowLength-_38<_37){this.drawData(this.rowIndex,this.lastIndex+1);}else{var _39=_37-this.drawedRowLength>0?_37-this.drawedRowLength:0;if(_39==this.rowIndex){this.drawData(this.rowIndex,this.lastIndex+1);}else{this.scrollEvent=false;this.checkScrollEnd=true;var _3a=this.getElementById(this.id+"_scrollY_div");_3a.scrollTop=20*_39;this.drawData(_39);}}}}else{if(_36<0){var _3b=this.getElementById(this.id+"_body_table");this.dataLayerHeight=_3b.parentNode.offsetHeight;this.lastTopRowIndex=null;this.lastIndex=this.cutGridBottom(this.lastIndex);this.setScrollYHeight();}}if(_35!=0){this.resizeObj.clientWidth=this.render.clientWidth;this.setScrollYHeight();this._handleScrollX();if(this.options.autoFit){this.autoFitFunc();}}}}else{this.setRedrawStatus("stop");}this.resizeObj={width:_33,height:_34,scrollLeft:this.resizeObj.scrollLeft,scrollTop:this.resizeObj.scrollTop,clientWidth:this.resizeObj.clientWidth};if(this.resizeObj.width>0&&this.resizeObj.height>0){this.resizeObj.scrollLeft=this.getElementById(this.id+"_scrollX_right").scrollLeft;this.resizeObj.scrollTop=this.getElementById(this.id+"_scrollY_div").scrollTop;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.eventController.prototype.checkPercent=function(){["WebSquare.uiplugin.eventController.prototype.checkPercent"];var _3c=WebSquare.WebSquareparser.getAttribute(this.element,"style");if(_3c.indexOf("%")>0){var _3d=_3c.split(";");for(var i=0;i<_3c.length;i++){if((_3d[i].indexOf("%")&&_3d[i].indexOf("height"))||(_3d[i].indexOf("%")&&_3d[i].indexOf("width"))){this.checkResize();break;}}}};WebSquare.uiplugin.eventController.prototype.checkResize=function(){["WebSquare.uiplugin.eventController.prototype.checkResize"];try{if(this.render){var _3f=true;if(WebSquare.getBody().modalStack&&WebSquare.getBody().modalStack.length>0){var _40=this.parentControl;while(_40){if(_40.options&&_40.options.pluginName=="floatingLayer"){break;}_40=_40.parentControl;}if(_40==null){_3f=false;}}if(_3f){if(this.startedDisplayNone){if(this.render.offsetWidth>0&&this.render.offsetHeight>0){this.startedDisplayNone=false;this.resizeObj={width:0,height:0,scrollLeft:0,scrollTop:0,clientWidth:0};this.autofit_clientWidth=0;this.handleResize();}}else{this.handleResize();}}}WebSquare.core.setTimer(this.checkResize,{key:this.id+"_checkResize",caller:this,delay:70});}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.eventController.prototype.handleDblClickEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handleDblClickEvent"];var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(this.options.bodyTdClass)){this.bodyDblClick(e,it.getElement());break;}else{if(it.match(this.options.headerTdClass)){this.headerDdlClick(e,it.getElement());break;}else{if(this.footerXml!=null&&it.match(this.options.footerTdClass)){break;}}}}};WebSquare.uiplugin.eventController.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handleClickEvent"];this.lastEvent=e;WebSquare.event.fireEvent(this,"onclick",e);if(this.iScroll&&this.iScroll.moveDirection){return;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(this.options.bodyTdClass)){this.bodyClick(e,it.getElement());break;}else{if(it.match(this.options.headerTdClass)){this.headerClick(e,it.getElement());break;}else{if(this.hasFooter&&it.match(this.options.footerTdClass)){this.footerClick(e,it.getElement());break;}else{if(this.isMine(e)){}else{if(it.getElement().getAttribute("id")==this.id+"_dataLayer"){if(this.editedCell!=null){this.editedCell.handleEndEdit();}}}}}}}};WebSquare.uiplugin.eventController.prototype.gridDataLayerOut=function(e){["WebSquare.uiplugin.eventController.prototype.gridDataLayerOut"];if(this.overElem){if(this.options.rowMouseOver){this.removeRowOverStyle(this.overElem.parentNode);}this.bodyOut(e,this.overElem);this.overElem=null;}};WebSquare.uiplugin.eventController.prototype.gridHeaderOver=function(e){["WebSquare.uiplugin.eventController.prototype.gridHeaderOver"];if(this.overElem){if(this.options.rowMouseOver){this.removeRowOverStyle(this.overElem.parentNode);}this.bodyOut(e,this.overElem);this.overElem=null;}};WebSquare.uiplugin.eventController.prototype.gridOver=function(e){["WebSquare.uiplugin.eventController.prototype.gridOver"];var _48=WebSquare.event.getTarget(e);while(_48){if(_48.tagName=="TD"&&_48.getAttribute("colIndex")!=null){break;}if(_48.tagName=="DIV"){break;}_48=_48.parentNode;}if(_48.id==this.id+"_dataLayer"){if(this.overElem){this.removeRowOverStyle(this.overElem.parentNode);this.bodyOut(e,this.overElem);this.overElem=null;}}else{if(_48&&_48.tagName=="TD"){if(this.overElem!=_48&&_48.className.indexOf(this.options.headerTdClass)==-1){this.bodyOut(e,this.overElem);this.bodyOver(e,_48);if(this.options.rowMouseOver){var _49=this;if(this.overElem){this.removeRowOverStyle(this.overElem.parentNode);}if(!this.hasClass(_48,"w2grid_groupby")){this.addRowOverStyle(_48.parentNode);}}this.overElem=_48;}}}};WebSquare.uiplugin.eventController.prototype.gridOver1=function(e){["WebSquare.uiplugin.eventController.prototype.gridOver"];var _4b=WebSquare.event.getTarget(e);if(_4b.tagName=="NOBR"){_4b=_4b.parentNode;}if(typeof _4b.tagName=="undefined"||_4b.tagName!="TD"){return;}if(this.options.rowMouseOver){var _4c=this;if(this.overElem){this.removeRowOverStyle(this.overElem.parentNode);}this.addRowOverStyle(_4b.parentNode);}this.overElem=_4b;};WebSquare.uiplugin.eventController.prototype.gridOver2=function(e){["WebSquare.uiplugin.eventController.prototype.gridOver2"];input1.setValue(this.tmpCnt++);var _4e=WebSquare.event.getTarget(e);if(_4e.tagName=="NOBR"){_4e=_4e.parentNode;}if(typeof _4e.tagName=="undefined"||_4e.tagName!="TD"){return;}if(this.options.rowMouseOver){var _4f=this;if(this.overElem){}this.addRowOverStyle(_4e.parentNode);}this.overElem=_4e;};WebSquare.uiplugin.eventController.prototype.clickRightButtonCell=function(e){["WebSquare.uiplugin.eventController.prototype.clickRightButtonCell"];var _51=WebSquare.event.getTarget(e);while(_51){if(_51.tagName=="TD"||_51.tagName=="TH"||_51.tagName=="DIV"){break;}_51=_51.parentNode;}if(_51&&this.hasClass(_51,this.options.headerTdClass)){WebSquare.event.preventDefault(e);WebSquare.event.fireEvent(this,"onheaderrightbuttonclick",_51.getAttribute("header_id"));}else{if(_51&&_51.tagName=="TD"){var _52=this._setFocusedCell(e,_51);var _53;var _54;if(_52===false){if(this.focusedCell.length>0){for(var i=0;i<this.focusedCell.length;i++){this._applyFocusedCellOut(this.focusedCell[i]);}}var _56=_51.className;var _57=parseInt(_51.getAttribute("tdIndex"));var _58=parseInt(_57/this.realRowDataLength);if(_56.match("rowNum")!=null){_53=_58;_54="rowNum";}else{if(_56.match("rowStatus")!=null){_53=_58;_54="rowStatus";}else{if(_56.match("groupby")!=null){_53="groupby";_54=-1;}else{if(_56.match("Subtotal")!=null){_53="subtotal";_54=parseInt(_51.getAttribute("colIndex"),10);_54=typeof _54=="number"?_54:-1;}}}}}else{_53=this.getFocusedRowIndex();_54=this.getFocusedColumnIndex();}WebSquare.event.preventDefault(e);WebSquare.event.fireEvent(this,"onrightbuttonclick",_53,_54,e);if(this.options.contextMenu){var _59={};_59.result=_52;_59.rowIndex=_53;_59.colIndex=_54;_59.event=e;if(!this.contextMenu){this.createContextMenu(_59);}else{this.showContextMenu(_59);}}}}};WebSquare.uiplugin.eventController.prototype.fireImageClick=function(_5a,_5b){["WebSquare.uiplugin.eventController.prototype.fireImageClick"];var _5c=this.getCellInfo(_5b);var _5d=eval(_5c.options.imageClickFunction);if(typeof _5d=="function"){_5d.call(this,_5a,_5b,this.getCellData(_5a,_5b));}};WebSquare.uiplugin.eventController.prototype.gridOut=function(e){["WebSquare.uiplugin.eventController.prototype.gridOut"];var _5f=WebSquare.event.getTarget(e);var _60="";if(this.overElem&&(_5f.id==this.id+"_dataLayer"||_5f.id==this.overElem.id||_5f.id=="")){if(this.options.rowMouseOver){this.removeRowOverStyle(this.overElem.parentNode);}this.bodyOut(e,this.overElem);this.overElem=null;}};WebSquare.uiplugin.eventController.prototype.addRowOverStyle=function(_61){["WebSquare.uiplugin.eventController.prototype.addRowOverStyle"];while(_61!=null&&_61.getAttribute("trIndex")==null){_61=_61.parentNode;}if(_61==null){return;}var _62=parseInt(_61.getAttribute("trIndex"));while(_62>0){_62--;_61=WebSquare.util.prev(_61);}var cnt=0;var _64=WebSquare.util.first(_61);var _65=parseInt(_64.getAttribute("tdIndex"));if(isNaN(_65)){return;}_65=parseInt(_65/(this.oneRowDataLength+this.defaultColCnt),10)*(this.oneRowDataLength+this.defaultColCnt);var _66=this.options.rowMouseOverColor.wq_trim();var _67=(this.options.selectedCellOverColor=="")?"":this.options.selectedCellOverColor.wq_trim();var _68=(this.options.selectedRowOverColor=="")?"":this.options.selectedRowOverColor.wq_trim();for(var i=0;i<this.realRowDataLength;i++){var td=this.all_data_td_list[_65+i];var _6b=_66;if(_67!=""&&(this.options.focusMode=="cell"||this.options.focusMode=="both")){var _6c=parseInt(td.getAttribute("tdIndex"));var _6d=parseInt(_6c/this.realRowDataLength)+this.rowIndex;var _6e=_6c%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);for(var j=0;j<this.focusedCell.length;j++){if(_6d==this.focusedCell[j].focusedRowIndex&&_6e==this.focusedCell[j].focusedColIndex){_6b=_67;break;}}}else{if(_68!=""&&(this.options.focusMode=="row"||this.options.focusMode=="both")){var _6c=parseInt(td.getAttribute("tdIndex"));var _6d=parseInt(_6c/this.realRowDataLength)+this.rowIndex;var _6e=_6c%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);for(var j=0;j<this.focusedCell.length;j++){if(_6d==this.focusedCell[j].focusedRowIndex){_6b=_68;break;}}}}if(i<this.defaultColCnt){var _70=td.className;if(this.options.rowNumBackgroundColor==""&&_70.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){td.style.backgroundColor=_6b;}else{if(_70.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){td.style.backgroundColor=_6b;}}}else{td.style.backgroundColor=_6b;}td.removeAttribute("style_bak");}};WebSquare.uiplugin.eventController.prototype.removeRowOverStyle=function(_71){["WebSquare.uiplugin.eventController.prototype.removeRowOverStyle"];while(_71!=null&&_71.getAttribute("trIndex")==null){_71=_71.parentNode;}if(_71==null){return;}var _72=parseInt(_71.getAttribute("trIndex"));while(_72>0){_72--;_71=WebSquare.util.prev(_71);}var _73=WebSquare.util.first(_71);var _74=parseInt(_73.getAttribute("tdIndex"));if(isNaN(_74)){return;}_74=parseInt(_74/(this.oneRowDataLength+this.defaultColCnt),10)*(this.oneRowDataLength+this.defaultColCnt);for(var i=0;i<this.realRowDataLength;i++){var td=this.all_data_td_list[_74+i];if(i<this.defaultColCnt){var _77=td.className;if(this.options.rowNumBackgroundColor==""&&_77.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){if(this.options.focusMode=="row"||this.options.focusMode=="both"){var _78=parseInt(td.getAttribute("tdIndex"));var _79=parseInt(_78/this.realRowDataLength)+this.rowIndex;var _7a=false;for(var j=0;j<this.focusedCell.length;j++){if(_79==this.focusedCell[j].focusedRowIndex){_7a=true;break;}}if(_7a){td.style.backgroundColor=this.options.selectedRowColor.wq_trim();}else{td.style.backgroundColor="";}}else{td.style.backgroundColor="";}}else{if(_77.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){if(this.options.focusMode=="row"||this.options.focusMode=="both"){var _78=parseInt(td.getAttribute("tdIndex"));var _79=parseInt(_78/this.realRowDataLength)+this.rowIndex;var _7a=false;for(var j=0;j<this.focusedCell.length;j++){if(_79==this.focusedCell[j].focusedRowIndex){_7a=true;break;}}if(_7a){td.style.backgroundColor=this.options.selectedRowColor.wq_trim();}else{td.style.backgroundColor="";}}else{td.style.backgroundColor="";}}}}else{td.style.backgroundColor=td.getAttribute("or_bgColor");}td.removeAttribute("style_bak");}};WebSquare.uiplugin.eventController.prototype.handleKeyDownEvent=function(e){["WebSquare.uiplugin.eventController.prototype.handleKeyDownEvent"];var ret=WebSquare.event.fireEvent(this,"onkeydown",e);if(ret==false){return;}this.lastEvent=e;if(this.headerFocus){}else{this.handleBodyKeyDown(e);}};WebSquare.uiplugin.eventController.prototype.bodyOver=function(e,_7f){["WebSquare.uiplugin.eventController.prototype.bodyOver"];if(this.options.tooltipDisplay){if(_7f.className.indexOf(this.options.bodyTdClass+"_rowNumber")>=0||_7f.className.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){return;}if(_7f.offsetWidth<2||!_7f.firstChild){return;}var _80=_7f.getAttribute("col_id");if(!_80){var _81="text";}else{var _82=this.getCellInfo(_80);var _81=_82.options.inputType;var _83=_82.options.embeddedInput;}if(_81=="text"||_81=="textarea"||_81=="textImage"||_81=="link"||_81=="calendar"||_81=="expression"||(_81=="select"&&!_83)){var _84;if((_81=="textImage"&&_7f.firstChild.style.width==="100%")||_81=="textarea"){_84=_7f.cloneNode(true);_84.firstChild.style.width=_7f.firstChild.offsetWidth+"px";if(_81=="textarea"){_84.firstChild.style.width="";}else{_84.firstChild.style.width=_7f.firstChild.offsetWidth+"px";}}else{_84=_7f;}var _85=WebSquare.style.getStyle(_7f,"text-overflow");if(_85=="ellipsis"){if(!this.toolTipRuler){this.toolTipRuler=document.createElement("span");this.toolTipRuler.style.position="absolute";this.toolTipRuler.style.visibility="hidden";this.toolTipRuler.style.left="0px";this.toolTipRuler.style.top="0px";}document.body.appendChild(this.toolTipRuler);this.toolTipRuler.className=_84.className;this.toolTipRuler.innerHTML=_84.innerHTML;var _86=this.toolTipRuler.firstChild.offsetWidth;var _87=_7f.clientWidth;if(_84.firstChild.nodeType!=3){var _88=WebSquare.style.getStyle(this.toolTipRuler.firstChild,"padding-left");var _89=WebSquare.style.getStyle(this.toolTipRuler.firstChild,"padding-right");_86-=parseInt(_88?_88:"0",10);_86-=parseInt(_89?_89:"0",10);_87-=parseInt(WebSquare.style.getStyle(_7f.firstChild,"padding-left"),10);_87-=parseInt(WebSquare.style.getStyle(_7f.firstChild,"padding-right"),10);}if(_87<_86){var _8a=WebSquare.style.getAbsoluteLeft(_7f)+20;var top=WebSquare.style.getAbsoluteTop(_7f)+_7f.offsetHeight+3;var _8c=(_7f.firstChild.tagName=="NOBR")?_84.firstChild.innerHTML:_84.innerHTML;document.body.removeChild(this.toolTipRuler);this.showTooltip(_8a,top,_8c);}else{document.body.removeChild(this.toolTipRuler);}}else{if(_7f.offsetWidth+3<_7f.firstChild.offsetWidth){var _8a=WebSquare.style.getAbsoluteLeft(_7f)+20;var top=WebSquare.style.getAbsoluteTop(_7f)+_7f.offsetHeight+3;var _8c=(_7f.firstChild.tagName=="NOBR")?_84.firstChild.innerHTML:_84.innerHTML;this.showTooltip(_8a,top,_8c);}}}}};WebSquare.uiplugin.eventController.prototype.bodyOut=function(e,_8e){["WebSquare.uiplugin.eventController.prototype.bodyOut"];var _8f=this;if(_8f.options.tooltipDisplay){if(_8e){_8f.hideTooltip();}}};WebSquare.uiplugin.eventController.prototype.showTooltip=function(_90,top,_92){["WebSquare.uiplugin.eventController.prototype.showTooltip"];if(this.editedCell!=null){return;}var _93=document.body.scrollWidth;var _94=document.body.scrollHeight;if(!this.tooltip){requires("uiplugin.output");this.tooltip=new WebSquare.uiplugin.output(this.id+"_tooltip",{className:"w2grid_tooltip "+this.options.tooltipClass,style:"position:absolute;z-index:10000;"+this.options.tooltipStyle});this.tooltip.writeTo(WebSquare.getBody());this.tooltip.activate();if(this.options.tooltipHide==="click"){this.tooltip.render.onclick=function(){this.style.display="none";};}else{this.tooltip.render.onmouseover=function(){this.style.display="none";};}}if(this.options.tooltipHide==="click"){if(WebSquare.getBody().hasClass("w2drag_activate")==true){this.tooltip.render.onclick=null;this.tooltip.render.onmouseover=function(){this.style.display="none";};}else{this.tooltip.render.onclick=function(){this.style.display="none";};this.tooltip.render.onmouseover=null;}}this.tooltip.setStyle("display","block");this.tooltip.setStyle("left",_90+"px");this.tooltip.setStyle("top",top+"px");this.tooltip.render.innerHTML=_92;var _95=this.tooltip.render.offsetTop+this.tooltip.render.offsetHeight+20;if(_95>document.body.scrollHeight){tooltipTop=top-this.tooltip.render.offsetHeight;if(tooltipTop<0){tooltipTop=0;}this.tooltip.setStyle("top",tooltipTop+"px");}var _96=this.tooltip.render.offsetLeft+this.tooltip.render.offsetWidth;if(document.body.scrollWidth>_93){var _97=_90-(document.body.scrollWidth-_93);if(_97<0){_97=0;}this.tooltip.setStyle("left",_97+"px");}if(this.options.tooltipDisplayTime>0){WebSquare.core.setTimer(this.hideTooltip,{key:this.id+"_tooltip_hide_timer",caller:this,delay:this.options.tooltipDisplayTime});}};WebSquare.uiplugin.eventController.prototype.hideTooltip=function(){["WebSquare.uiplugin.eventController.prototype.hideTooltip"];if(this.tooltip){if(this.options.tooltipDisplayTime>0){WebSquare.core.clearTimer(this.id+"_tooltip_hide_timer");}this.tooltip.setStyle("display","none");}};WebSquare.uiplugin.eventController.prototype.bodyClick=function(e,_99){["WebSquare.uiplugin.eventController.prototype.bodyClick"];if(this.options.rowMouseOver){this.removeRowOverStyle(this.lastOverSrc,"grid_body_row_over","grid_body_row");}var _9a=parseInt(_99.getAttribute("tdIndex"));var _9b=parseInt(_9a/this.realRowDataLength);var _9c=_9b+this.rowIndex;var _9d=_99.getAttribute("col_id");var _9e=this.filteredRowIndexArr[_9c];if(typeof _9e!="number"){if(_9e&&_9e.type=="header"){this.toggleGroup(_9e.groupId);}return;}if(_9d==null){return;}this._setFocusedCell(e,_99);var _9f=false;if(!this.setCellClickEdit(_99)){var _a0=_99.getAttribute("editModeEvent")||"";if((_a0!=""&&_a0.toLowerCase()=="onclick")||(_a0==""&&this.options.editModeEvent.toLowerCase()=="onclick")){if(!this.getEditDisabled(_9c,_9d)){var _9a=parseInt(_99.getAttribute("tdIndex"));var _9b=parseInt(_9a/this.realRowDataLength);var _9d=parseInt(_99.getAttribute("colIndex"));var _a1=_9b+this.rowIndex;var _a2=_9a%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.hideTooltip();WebSquare.event.fireEvent(this,"oncellclick",_a1,_a2);_9f=true;}this.setEditMode(_99);}}if(!_9f&&!this.getEditDisabled(_9c,_9d)){var _9a=parseInt(_99.getAttribute("tdIndex"));var _9b=parseInt(_9a/this.realRowDataLength);var _9d=parseInt(_99.getAttribute("colIndex"));var _a1=_9b+this.rowIndex;var _a2=_9a%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.hideTooltip();WebSquare.event.fireEvent(this,"oncellclick",_a1,_a2);}};WebSquare.uiplugin.eventController.prototype.bodyDblClick=function(e,_a4){["WebSquare.uiplugin.eventController.prototype.bodyDblClick"];if(_a4.tagName=="INPUT"){var _a5=this.getLastFocusedCell();var _a6=_a5.focusedRowIndex;var _a7=_a5.focusedColIndex;}else{var _a8=parseInt(_a4.getAttribute("tdIndex"));var _a9=parseInt(_a8/this.realRowDataLength);var _a6=_a9+this.rowIndex;var _a7=_a4.getAttribute("col_id");}if(_a7==null){return;}var _aa=_a4.getAttribute("editModeEvent")||"";if((_aa!=""&&_aa.toLowerCase()=="ondblclick")||(_aa==""&&this.options.editModeEvent.toLowerCase()=="ondblclick")){this.setEditMode(_a4);}if(!this.getEditDisabled(_a6,_a7)){WebSquare.event.fireEvent(this,"oncelldblclick",this.getFocusedRowIndex(),this.getFocusedColumnIndex());}};WebSquare.uiplugin.eventController.prototype.headerClick=function(e,_ac){["WebSquare.uiplugin.eventController.prototype.headerClick"];WebSquare.event.fireEvent(this,"onheaderclick",_ac.getAttribute("header_id"));var _ad=WebSquare.event.getTarget(e);var _ae=_ac.getAttribute("inputType");if(this.editedCell!=null){this.editedCell.handleEndEdit();}if(this.noevent==true){}else{if(this.options.sortEvent=="onclick"&&this.options.sortable&&!this.groupbyStatus.grouped){this.fireSortEvent(e,_ac);}}this.noevent=false;};WebSquare.uiplugin.eventController.prototype.headerDdlClick=function(e,_b0){["WebSquare.uiplugin.eventController.prototype.headerDdlClick"];WebSquare.event.fireEvent(this,"onheaderdblclick",_b0.getAttribute("header_id"));if(this.options.sortEvent=="ondblclick"&&this.options.sortable&&!this.groupbyStatus.grouped){this.fireSortEvent(e,_b0);}if(this.groupbyStatus.grouped&&this.options.sortable){this.fireGroupByRangeSortEvent(e,_b0);}this.noevent=false;};WebSquare.uiplugin.eventController.prototype.fireGroupByRangeSortEvent=function(e,_b2){["WebSquare.uiplugin.eventController.prototype.fireGroupByRangeSortEvent"];try{var _b3=_b2.className;var _b4=parseInt(_b2.getAttribute("colIndex"),10)-this.defaultColCnt;if(_b3.indexOf(this.options.headerTdClass+"_rowNumber")>=0||_b3.indexOf(this.options.headerTdClass+"_rowStatus")>=0){return;}for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==_b4){return;}}var _b6=1;var _b7=_b2.getAttribute("header_id");var _b8=_b2.getAttribute("inputtype");if(this._sortArr.length>this.groupbyStatus.sortIndexArr.length){var _b9=this._sortArr[this._sortArr.length-1];var td=this.getElementById(this.id+"_"+_b9.headerId);if(_b7==_b9.headerId){_b6=(_b9.sortOrder===-1)?1:-1;}this._clearHeaderSortImage(td,"table");this._clearHeaderSortImage(td,"div");this._sortArr.pop();}this._sortArr.push({"dataType":_b8,"headerId":_b7,"id":this.headerToBodyRelation[_b7],"sortOrder":_b6});this.filteredRowIndexArr=this.recursiveRangeSort(this.filteredRowIndexArr,_b4,_b6);this.drawHeaderSortImages();this.drawData(0,null,"async");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.eventController.prototype.recursiveRangeSort=function(_bb,_bc,_bd){["WebSquare.uiplugin.eventController.prototype.recursiveRangeSort"];try{var _be=0;var _bf={};var _c0=[];var _c1=[_bc];var _c2=[_bd];for(var i=0;i<_bb.length;i++){if(typeof _bb[i]=="number"){if(!_bf[_be]){_bf[_be]=[];_c0.push(i);}_bf[_be].push(_bb[i]);}else{if(_bb[i].type=="header"){if(_bb[i].status=="open"){continue;}else{if(_bb[i].status=="closed"){var arr=_bb[i].closedChildArr.slice();var _c5=this.recursiveRangeSort(arr,_bc,_bd);_bb[i].closedChildArr=_c5;}}}else{if(_bb[i].type=="footer"){if(_bf[_be]){_be++;}}}}}for(var key in _bf){var _c7=_bf[key].slice();var _c5=this._rangeSort(_c7,[_bc],[_bd]);var _c8=_c0[parseInt(key,10)];_c5.unshift(_c8,_c5.length);[].splice.apply(_bb,_c5);}this.groupbyStatus.groupbyRowIndexArr=[];for(var i=0;i<_bb.length;i++){if(typeof _bb[i]=="number"){this.groupbyStatus.groupbyRowIndexArr.push(_bb[i]);}}return _bb;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.eventController.prototype.fireSortEvent=function(e,_ca){["WebSquare.uiplugin.eventController.prototype.fireSortEvent"];if(_ca.className.indexOf(this.options.headerTdClass+"_rowNumber")>=0||_ca.className.indexOf(this.options.headerTdClass+"_rowStatus")>=0){return;}if(_ca.getAttribute("sortable")=="false"){return;}var _cb=_ca.getAttribute("header_id");var _cc=this.headerToBodyRelation[_cb];if(this._sortArr==null){this._sortArr=[];}if(this._sortArr[_cb]){this._sortArr[_cb].sortOrder=(this._sortArr[_cb].sortOrder-3)%3+1;if(!e.ctrlKey){var _cd=this._sortArr[_cb];this.clearHeaderSort();this._sortArr.push(_cd);this._sortArr[_cb]=this._sortArr[0];}}else{var _cd={};_cd.headerId=_cb;_cd.id=_cc;_cd.sortOrder=1;var _ce=this.getCellInfo(_cc);_cd.dataType=(_ce.options.dataType!="number")?"text":"number";if(e.ctrlKey){this._sortArr.push(_cd);this._sortArr[_cb]=this._sortArr[this._sortArr.length-1];}else{this.clearHeaderSort();this._sortArr.push(_cd);this._sortArr[_cb]=this._sortArr[0];}}var _cf=[];var _d0=[];var _d1=[];var _d2={};_d2["headerId"]=_cb;_d2["bodyColId"]=_cc;_d2["sortOrder"]=this._sortArr[_cb].sortOrder;if(this._sortArr.length==0){this.clearSortFilter();}else{for(var i=this._sortArr.length-1;i>=0;i--){_cf.push(this._sortArr[i].id);_d0.push(this._sortArr[i].sortOrder);_d1.push(this._sortArr[i].dataType);if(this._sortArr[i].sortOrder==0){this.setHeaderSortImage(_cb,0,0);this._sortArr.splice(i,1);delete this._sortArr[_cb];if(this._sortArr.length==0){this.clearSort();WebSquare.event.fireEvent(this,"onsort",_d2);return;}}}_cf.reverse();_d0.reverse();_d1.reverse();this.setFilter({type:"sort",sortIndex:_cf.join(" "),sortOrder:_d0.join(" "),dataType:_d1.join(" ")});}this.drawHeaderSortImages();WebSquare.event.fireEvent(this,"onsort",_d2);};WebSquare.uiplugin.eventController.prototype.footerClick=function(e,_d5){["WebSquare.uiplugin.eventController.prototype.footerClick"];WebSquare.event.fireEvent(this,"onfooterclick",_d5.getAttribute("footer_id"));if(this.editedCell!=null){this.editedCell.handleEndEdit();}};WebSquare.uiplugin.eventController.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.eventController.prototype.handleTouchStart"];WebSquare.core.clearTimer(this.id+"_iScroll_slideX");if(e.touches.length==1){this.iScrollAddMoveClass();this.iScroll.moveDirection=null;this.iScroll.propagation=null;this.iScroll.prevTouches=[{x:e.touches[0].pageX,y:e.touches[0].pageY}];WebSquare.core.setTimer(function(){this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];this.iScroll.propagation="pass";},{key:this.id+"_iScroll",caller:this,delay:this.options.iScrollMoveEffectTime});}};WebSquare.uiplugin.eventController.prototype.handleTouchMove=function(e){["WebSquare.uiplugin.eventController.prototype.handleTouchMove"];if(this.iScroll.propagation=="pass"){return;}if(this.iScroll.addMoveClass){this.iScrollAddMoveClass();this.iScroll.addMoveClass=false;}if(e.touches.length==1){var _d8=this.scrollX_right;var _d9=this.getElementById(this.id+"_scrollY_div");var _da=this.getElementById(this.id+"_iScrollX");var _db=this.getElementById(this.id+"_iScrollY");this.iScroll.prevTouches.push({x:e.touches[0].pageX,y:e.touches[0].pageY});var _dc=this.iScroll.prevTouches=this.iScroll.prevTouches.splice(-2);var _dd=_dc[0].x-_dc[1].x;var _de=_dc[0].y-_dc[1].y;var _df=this.iScroll.moveDirection;if(!_df){_df=this.iScroll.moveDirection=Math.abs(_de)>=Math.abs(_dd)?"Y":"X";}var _e0=_df=="X"&&_dd<0&&_d8.scrollLeft==0||_df=="X"&&_dd>0&&_d8.scrollLeft>=_d8.firstChild.offsetWidth-_d8.offsetWidth||_df=="Y"&&_de<0&&_d9.scrollTop==0||_df=="Y"&&_de>0&&this.rowIndex+this.lastIndex+1==this.getDataLength();if(_e0){if(this.iScroll.propagation=="stop"){WebSquare.event.stopEvent(e);}else{this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];this.iScroll.propagation="pass";}return;}if(_df=="X"){this.moveXScroll(_dd);}else{this.moveYScroll(_de);}this.iScroll.propagation="stop";WebSquare.event.stopEvent(e);WebSquare.core.setTimer(function(){this.iScrollRemoveMoveClass();this.iScroll.addMoveClass=true;},{key:this.id+"_iScroll",caller:this,delay:this.options.iScrollMoveEffectTime});}};WebSquare.uiplugin.eventController.prototype.handleTouchEnd=function(e){["WebSquare.uiplugin.eventController.prototype.handleTouchEnd"];WebSquare.core.clearTimer(this.id+"_iScroll");this.iScroll.prevTouches=this.iScroll.prevTouches.splice(-2);var _e2=this.iScroll.prevTouches;if(_e2.length>=2){var _e3=_e2[0].x-_e2[1].x;var _e4=new Date();this.slideX(_e3,_e4);}else{this.iScrollRemoveMoveClass();}};WebSquare.uiplugin.eventController.prototype.iScrollAddMoveClass=function(){var _e5=this.getElementById(this.id+"_iScrollX");var _e6=this.getElementById(this.id+"_iScrollY");this.__addClass(_e5,"w2grid_iScrollX_move");this.__addClass(_e6,"w2grid_iScrollY_move");};WebSquare.uiplugin.eventController.prototype.iScrollRemoveMoveClass=function(){var _e7=this.getElementById(this.id+"_iScrollX");var _e8=this.getElementById(this.id+"_iScrollY");this.__removeClass(_e7,"w2grid_iScrollX_move");this.__removeClass(_e8,"w2grid_iScrollY_move");};WebSquare.uiplugin.eventController.prototype.moveXScroll=function(_e9){var _ea=this.getElementById(this.id+"_iScrollX");var _eb=this.getElementById(this.id+"_dataLayer");var _ec=this.getElementById(this.id+"_scrollX_left");var _ed=this.scrollX_right;_ed.scrollLeft+=_e9;var _ee=parseInt(_ec.style.width,10);var _ef=_ed.firstChild.offsetWidth-_ed.offsetWidth;var _f0=parseInt(_ed.offsetWidth*_ed.offsetWidth/_ed.firstChild.offsetWidth,10);_ea.style.width=(_f0<30?30:_f0)+"px";_ea.style.left=(_ee+_ed.scrollLeft/_ef*(_eb.offsetWidth-_ee-_ea.offsetWidth))+"px";};WebSquare.uiplugin.eventController.prototype.slideX=function(_f1,_f2){var _f3=new Date();var dx=parseInt(_f1/3,10);this.moveXScroll(dx);_f1-=dx;var _f5=_f1>0?"+":"-";if(Math.abs(_f1)>=0&&_f3-_f2<this.options.iScrollSlideTime){WebSquare.core.clearTimer(this.id+"_iScroll_slideX");WebSquare.core.setTimer(this.slideX,{key:this.id+"_iScroll_slideX",caller:this,delay:this.options.iScrollSlidePeriod,args:[_f1,_f2]});}else{this.iScrollRemoveMoveClass();}};WebSquare.uiplugin.eventController.prototype.moveYScroll=function(_f6){var _f7=this.getElementById(this.id+"_iScrollY");var _f8=this.getElementById(this.id+"_scrollY_div");_f8.scrollTop+=_f6;var _f9=_f8.firstChild.offsetHeight;var _fa=this.getElementById(this.id+"_dataLayer");var _fb=_f9-_fa.offsetHeight;var _fc=parseInt(_fa.offsetHeight*_fa.offsetHeight/_f9,10);_f7.style.height=(_fc<30?30:_fc)+"px";_f7.style.top=(_f8.scrollTop/_fb*(_fa.offsetHeight-_f7.offsetHeight))+"px";};WebSquare.uiplugin.keyEventController=function(){["WebSquare.uiplugin.keyEventController"];};WebSquare.uiplugin.keyEventController.prototype.nonCharKeys={4:"insert",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",9:"tab",13:"enter",46:"del",35:"end",16:"shift",17:"ctrl",18:"alt",21:"hanyoung",25:"hanja",91:"window",20:"capslock",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"numlock",145:"scrolllock"};WebSquare.uiplugin.keyEventController.prototype.handleBodyKeyDown=function(e){["WebSquare.uiplugin.keyEventController.prototype.handleBodyKeyDown"];if(!this.editMode){if(this.options.focusMode!="none"&&(this.getFocusedRowIndex()==-1||this.getFocusedColumnIndex()==null)){if(e.keyCode==13){this.setFocusedCell();WebSquare.event.stopEvent(e);}return;}var _2=false;switch(e.keyCode){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 9:case 13:_2=true;break;default:_2=false;break;}if(_2==true&&this.options.focusMove=="false"){return;}if(this.F2Mode){switch(e.keyCode){case 8:case 46:case 35:case 36:case 37:case 38:case 39:case 40:return;}}switch(e.keyCode){case 4:break;case 46:this.removeCellData(e);WebSquare.event.stopEvent(e);break;case 32:this.doDefaultAction(e);break;case 33:this.movePageUp(e);WebSquare.event.stopEvent(e);break;case 34:this.movePageDown(e);WebSquare.event.stopEvent(e);break;case 35:this.moveHorizontal(e,"end");WebSquare.event.stopEvent(e);break;case 36:this.moveHorizontal(e,"home");WebSquare.event.stopEvent(e);break;case 37:this.moveHorizontal(e,"left");WebSquare.event.stopEvent(e);break;case 38:this.moveVertical(e,"up");WebSquare.event.stopEvent(e);break;case 39:this.moveHorizontal(e,"right");WebSquare.event.stopEvent(e);break;case 40:this.moveVertical(e,"down");WebSquare.event.stopEvent(e);break;case 9:if(WebSquare.event.getTarget(e)==this.render){this.getLastFocusedCell().focusedTd.setAttribute("tabIndex",-1);}else{var _3=this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode);if(_3||this.options.focusFlow!="linear"){WebSquare.event.stopEvent(e);}}break;case 13:if(this.options.enterKeyMove=="edit"){this.setEditHtml(e);}else{if(this.options.enterKeyMove=="none"){}else{if(this.options.enterKeyMove=="right"){this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode);}else{this.moveVertical(e,e.shiftKey?"up":"down",this.options.keyMoveEditMode);}}}WebSquare.event.stopEvent(e);break;case 67:if(e.ctrlKey){if(WebSquare.util.isIE()&&document.selection.type=="None"){this.copyToClipboard();}}else{var _4=WebSquare.util.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_4){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}break;case 86:if(e.ctrlKey){this.pasteFromClipboard();}else{var _4=WebSquare.util.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_4){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}break;case 90:if(e.ctrlKey){}else{var _4=WebSquare.util.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_4){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}break;case 27:if(this.options.focusMode!="none"&&this.options.focusFlow!="linear"){this.getLastFocusedCell().focusedTd.setAttribute("tabIndex",-1);this.render.focus();}break;case 16:case 17:case 18:case 21:case 229:case 25:case 91:case 20:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:case 123:break;default:if(!e.ctrlKey){var _4=WebSquare.util.getBoolean(e.srcElement.getAttribute("directItemChoice"));if(_4){this.directItemChoiceKeyObj.select=e.keyCode;}this.setEditHtml(e);}}}else{switch(e.keyCode){case 9:WebSquare.event.stopEvent(e);if(!this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode)){this.setFocusedCell(this.editMode);}break;case 13:if(this.editedCell.options.inputType=="textarea"&&!e.ctrlKey){break;}var _5=false;if(this.options.enterKeyMove=="none"){this.editedCell.handleEndEdit(e);}else{if(this.options.enterKeyMove=="right"){_5=this.moveHorizontal(e,e.shiftKey?"left":"right",this.options.keyMoveEditMode);}else{_5=this.moveVertical(e,e.shiftKey?"up":"down",this.options.keyMoveEditMode);}}if(!_5){this.setFocusedCell(this.editMode);}break;case 27:this.editedCell.handleCancelEdit(e);this.setFocusedCell();WebSquare.event.stopEvent(e);break;}}};WebSquare.uiplugin.eventController.prototype.handleOnfocus=function(e){if(this.getDataLength()>0&&(this.getFocusedRowIndex()==-1||this.getFocusedColumnIndex()==null)){var _7=null;var _8=this.colIndexInfo.body.colInfo.colIndexMatch;var _9=this.colIndexes.bodyColInfo.trIndexArr;var _a=_9[this.defaultColCnt];var _b=0;for(var i=0;i<_8.length;i++){var _d=_8[i];if(this.hiddenList[i]){continue;}for(var j=_d.length-1;j>=0;j--){var _f=_d[j]-this.defaultColCnt;var _10=_9[_d[j]];if(_10<=_a){if(this.options.readOnlyTabIgnore&&this.getReadOnly("all",_b,_f)){break;}if(this.options.ignoreNonEditableCell&&(this.getReadOnly("all",_b,_f)||this.getDisabled("all",_b,_f))){break;}_7=_f;break;}}if(_7!==null){break;}}if(_7!==null){this.setFocusedCell(_b,_7);}}};WebSquare.uiplugin.keyEventController.prototype.removeCellData=function(e){var _12=this.getLastFocusedCell();var row=_12.focusedRowIndex;var col=_12.focusedColIndex;var _15=this.getCellInfo(col);if(!this.getReadOnly("all",row,col)&&!this.getDisabled("all",row,col)){_15.removeCellData(row,col);}};WebSquare.uiplugin.keyEventController.prototype.doDefaultAction=function(e){if(this.options.focusMode=="none"){var td=WebSquare.event.getTarget(e);while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){this.getCellInfo(td).doDefaultAction(e);}}else{this.getCellInfo(this.getLastFocusedCell().focusedColIndex).doDefaultAction(e);}};WebSquare.uiplugin.keyEventController.prototype.setEditHtml=function(e){["WebSquare.uiplugin.keyEventController.prototype.setEditHtml"];var _19=WebSquare.event.getTarget(e);if(!this.options.fastEditMode&&_19.tagName!="INPUT"){WebSquare.event.stopEvent(e);}if(this.focusedCell.length>0){var _1a=this.focusedCell[this.focusedCell.length-1];if(_1a.focusedTd!=null){this.setEditMode(_1a.focusedTd);}}};WebSquare.uiplugin.keyEventController.prototype.getFirstTdTrIndex=function(td){["WebSquare.uiplugin.keyEventController.prototype.getFirstTdTrIndex"];var _1c=0;var tr=td.parentNode;while(tr.getAttribute("trIndex")!="0"){tr=WebSquare.util.prev(tr);}return tr;};WebSquare.uiplugin.keyEventController.prototype.fixScrollRightDirection=function(){["WebSquare.uiplugin.keyEventController.prototype.fixScrollRightDirection"];var _1e=this.getLastFocusedCell();var _1f=this.getElementById(this.id+"_dataLayer").offsetWidth;var _20=this.getElementById(this.id+"_scrollX_right");var _21=_1e.focusedTd.offsetLeft;var _22=_1e.focusedTd.offsetWidth+1;if(WebSquare.util.isFF()){_22-=1;}if(WebSquare.util.isOpera()){_22+=2;}var gap=_21+_22-_1f;if(this.options.lazyDrawHiddenColumn){var td=this.focusedCell[0].focusedTd;if(td.style.display=="none"||gap>0){if(this.options.scrollByColumn){var _25=_1f-this.fixedWidth;var _26=_1e.focusedColIndex+this.defaultColCnt;var _27=-1;var _28=0;WebSquare.util.isOpera()&&(_28=2);for(var _29=_26;_29>=0;_29--){if(this.hiddenList[_29]){continue;}_25-=this.colWidthList[_29];if(_25<0){_27=_29;break;}}var _29=0;if(this.fixedWidth>0){_29=_29+this.defaultColCnt+this.options.fixedColumn;}for(_29;_29<=_27;_29++){if(this.hiddenList[_29]){continue;}else{_28+=this.colWidthList[_29];}}this.scrollXPreventEndEdit=true;_20.scrollLeft=_28;this._handleScrollX();}else{var _2a=parseInt(td.getAttribute("colIndex"),10);var _2b=0;WebSquare.util.isOpera()&&(_2b=2);for(var i=0;i<=_2a;i++){if(!this.hiddenList[i]){_2b+=this.colWidthList[i];}}this.scrollXPreventEndEdit=true;_20.scrollLeft=_2b-_1f;this._handleScrollX();}}}else{if(gap>0){if(this.options.scrollByColumn){var _25=_1f-this.fixedWidth;var _26=_1e.focusedColIndex+this.defaultColCnt;var _27=-1;var _28=0;for(var _29=_26;_29>=0;_29--){if(this.hiddenList[_29]){continue;}_25-=this.colWidthList[_29];if(_25<0){_27=_29;break;}}var _29=0;if(this.fixedWidth>0){_29=_29+this.defaultColCnt+this.options.fixedColumn;}for(_29;_29<=_27;_29++){if(this.hiddenList[_29]){continue;}else{_28+=this.colWidthList[_29];}}this.scrollXPreventEndEdit=true;_20.scrollLeft=_28;this._handleScrollX();}else{this.scrollXPreventEndEdit=true;_20.scrollLeft=_20.scrollLeft+gap;this._handleScrollX();}}}};WebSquare.uiplugin.keyEventController.prototype.fixScrollLeftDirection=function(){["WebSquare.uiplugin.keyEventController.prototype.fixScrollLeftDirection"];var _2d=this.getLastFocusedCell();var _2e=_2d.focusedTd.getAttribute("colIndex");_2e=parseInt(_2e);var _2f=this.getElementById(this.id+"_scrollX_right");var _30=0;var max=this.gridWidth-_30-this.fixedWidth;var _32=this.options.fixedColumn+this.defaultColCnt;for(var i=_32;i<_2e;i++){var _34=this.colWidthList[i];if(this.hiddenList[i]){_34=0;}_30+=_34;}if(_2f.scrollLeft>_30){this.scrollXPreventEndEdit=true;_2f.scrollLeft=_30;this._handleScrollX();}};WebSquare.uiplugin.keyEventController.prototype.getLeftMostFocusableColIndex=function(_35){var _36=this.colIndexInfo.body.colInfo.colIndexArr;var _37=null;for(var i=this.defaultColCnt;i<_36.length;i++){var _39=false;if(this.options.readOnlyTabIgnore){_39=this.getReadOnly("all",_35,i);}if(this.options.ignoreNonEditableCell){_39=this.getReadOnly("all",_35,i)||this.getDisabled("all",_35,i);}if(!this.hiddenList[i]&&!_39){_37=i-this.defaultColCnt;break;}}return _37;};WebSquare.uiplugin.keyEventController.prototype.getRightMostFocusableColIndex=function(_3a){var _3b=this.colIndexInfo.body.colInfo.colIndexArr;var _3c=null;for(var i=_3b.length-1;i>=this.defaultColCnt;i--){var _3e=false;if(this.options.readOnlyTabIgnore){_3e=this.getReadOnly("all",_3a,i);}if(this.options.ignoreNonEditableCell){_3e=this.getReadOnly("all",_3a,i)||this.getDisabled("all",_3a,i);}if(!this.hiddenList[i]&&!_3e){_3c=i-this.defaultColCnt;break;}}return _3c;};WebSquare.uiplugin.keyEventController.prototype.moveHorizontal=function(e,_40,_41){["WebSquare.uiplugin.keyEventController.prototype.moveHorizontal"];if(this.options.focusMove=="false"||this.options.focusMove=="vertical"){return false;}var _42=this.getLastFocusedCell();var row=_42.focusedRowIndex;var col=_42.focusedColIndex;var _45=this.colIndexInfo.body.colInfo.colIndexArr;var _46=this._getRealColIndex("body",this.tdIdList[col])+this.defaultColCnt;var _47=this.colIndexInfo.body.colInfo.colIndexMatch;var _48=this.colIndexes.bodyColInfo.trIndexArr;var _49=_48[col+this.defaultColCnt];var _4a=e?e.keyCode==9:false;var _4b=e?(e.keyCode==9||e.keyCode==13):false;var _4c=e?e.shiftKey:false;var _40=_40||"right";if(_42.bTrIndex){_49=_42.bTrIndex;}var _4d=null;if(_40=="left"){var _4e=_46-1;var end=this.defaultColCnt-1;var inc=-1;}else{if(_40=="right"){var _4e=_46+1;var end=_47.length;var inc=+1;}else{if(_40=="home"){var _4e=this.defaultColCnt;var end=_47.length;var inc=+1;}else{var _4e=_47.length-1;var end=this.defaultColCnt-1;var inc=-1;}}}for(var i=_4e;i!=end;i+=inc){var _52=_47[i];if(this.hiddenList[i]){continue;}for(var j=_52.length-1;j>=0;j--){var _54=_52[j]-this.defaultColCnt;var _55=_48[_52[j]];if(_55<=_49&&((_40=="left"||_40=="right")?_54!=col:true)){if(_4a&&this.options.readOnlyTabIgnore&&this.getReadOnly("all",row,_54)){break;}if(_4b&&this.options.ignoreNonEditableCell&&(this.getReadOnly("all",row,_54)||this.getDisabled("all",row,_54))){break;}_4d=_54;break;}}if(_4d!==null){break;}}if(_4d!==null){this.setFocusedCell(row,_4d,_41);_42=this.getLastFocusedCell();_42.bTrIndex=_49;return true;}else{if(this.options.focusFlow=="linear"){if(row>0&&_4b&&_4c){this.setFocusedCell(row-1,this.getRightMostFocusableColIndex(row-1),_41);return true;}else{if(row<this.getDataLength()-1&&_4b&&!_4c){if(row+1>this.rowIndex+this.lastIndex){this.addGridScroll(1);}this.setFocusedCell(row+1,this.getLeftMostFocusableColIndex(row+1),_41);return true;}}}}if(this.editedCell){this.editedCell.handleEndEdit(e);}return false;};WebSquare.uiplugin.keyEventController.prototype.moveVertical=function(e,_57,_58){["WebSquare.uiplugin.keyEventController.prototype.moveVertical"];if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){return false;}var _59=this.getLastFocusedCell();var row=_59.focusedRowIndex;var col=_59.focusedColIndex;var _5c=this.defaultColCnt;var _5d=this.colIndexInfo.body.colInfo.colIndexArr;var _5e=this.colIndexes.bodyColInfo.trIndexArr;var _5f=this.colIndexes.bodyColInfo.colSpanArr;var _60=this.colIndexes.bodyColInfo.rowSpanArr;var _61=_5d[col+_5c];var _62=_5e[col+_5c];var _63=_5f[col+_5c];var _64=_60[col+_5c];var _65=col;var _66=row;if(_63&&_59.bColIndex){_61=_59.bColIndex;}if(_57=="up"){var _67=_62==0?this.oneRowDataLength-1:col-1;var end=-1;var inc=-1;}else{var _67=_62+_64==this.oneRowLength?0:col+1;var end=this.oneRowDataLength;var inc=+1;}for(var i=_67;i!=end;i+=inc){var _6b=_5d[i+_5c];var _6c=_6b+(_5f[i+_5c]?_5f[i+_5c]:1)-1;if(_6b<=_61&&_61<=_6c&&!this.hiddenList[_5d[i+_5c]]){_65=i;if(_57=="up"){_66=_62==0?row-1:row;}else{_66=_62+_64==this.oneRowLength?row+1:row;}break;}}if(0<=_66&&_66<this.getDataLength()&&(row!=_66||col!=_65)){WebSquare.event.stopEvent(e);if(this.setFocusedCell2(_66,_65,_58)){_59=this.getLastFocusedCell();_59.bColIndex=_61;return true;}else{return false;}}if(this.options.focusFlow=="linear"){if(_66==-1||_66==this.getDataLength()){var td=this.getLastFocusedCell().focusedTd;var _6e=this.getCellInfo(td);if(_6e.options.inputType=="text"&&_6e.options.embeddedInput){var _6f=this.getInput(_6e,td);this.showFakeInput(_6f);this.fakeInput.setValue(_6f.getValue());this.F2Mode=false;_6f.select();}}}if(this.editedCell){this.editedCell.handleEndEdit(e);}return false;};WebSquare.uiplugin.keyEventController.prototype.moveEnd=function(e){["WebSquare.uiplugin.keyEventController.prototype.moveEnd"];if(this.options.focusMove=="false"||this.options.focusMove=="vertical"){return;}while(this._moveRight(e)){}var _71=false;while(!_71){var _72=true;var _73=this.getLastFocusedCell();var _74=parseInt(_73.focusedTd.getAttribute("colIndex"));var _75=parseInt(_73.focusedTd.getAttribute("colSpan")||1);for(var i=0;i<_75;i++){if(this.hiddenList[_74+i]==false){_72=false;break;}}if(_72==true){this._moveLeft(e);}else{_71=true;}}this.fixScrollRightDirection();};WebSquare.uiplugin.keyEventController.prototype.moveHome=function(e){["WebSquare.uiplugin.keyEventController.prototype.moveHome"];if(this.options.focusMove=="false"||this.options.focusMove=="vertical"){return;}while(this._moveLeft(e)){}var _78=false;while(!_78){var _79=true;var _7a=this.getLastFocusedCell();var _7b=parseInt(_7a.focusedTd.getAttribute("colIndex"));var _7c=parseInt(_7a.focusedTd.getAttribute("colSpan")||1);for(var i=0;i<_7c;i++){if(this.hiddenList[_7b+i]==false){_79=false;break;}}if(_79==true){this._moveRight(e);}else{_78=true;}}this.fixScrollLeftDirection();};WebSquare.uiplugin.keyEventController.prototype.movePageUp=function(e){["WebSquare.uiplugin.keyEventController.prototype.movePageUp"];if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){return;}if(this.rowIndex<=0){return;}var _7f=this.getLastFocusedCell();var _80=_7f.focusedRowIndex;if(_80<0){return;}_80-=this.rowIndex;var _81=_7f.focusedColIndex;this._applyFocusedCellOut(_7f);this.setBottomRowIndex(this.getBottomRowIndex()-this.lastIndex);this.setFocusedCell(_80+this.rowIndex,_81);return true;};WebSquare.uiplugin.keyEventController.prototype.movePageDown=function(e){["WebSquare.uiplugin.keyEventController.prototype.movePageDown"];if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){return;}if(this.lastTopRowIndex!=null&&this.rowIndex>=this.lastTopRowIndex){return;}var _83=this.getLastFocusedCell();var _84=_83.focusedRowIndex;if(_84<0){return;}_84-=this.rowIndex;var _85=_83.focusedColIndex;this._applyFocusedCellOut(_83);this.setTopRowIndex(this.rowIndex+this.lastIndex);this.setFocusedCell(_84+this.rowIndex,_85);return true;};WebSquare.uiplugin.keyEventController.prototype.findTd=function(_86,_87,_88){["WebSquare.uiplugin.keyEventController.prototype.findTd"];var pTd=null;var i=0;while(_86!=null){var _8b=WebSquare.util.first(_86);while(_8b!=null){var _8c=parseInt(_8b.getAttribute("colIndex"));if(_8c<=_87&&_87<=_8c+_8b.colSpan-1){if(i<=_88&&_88<=i+_8b.rowSpan-1){return _8b;}}if(_8c>_87){break;}_8b=WebSquare.util.next(_8b);}_86=WebSquare.util.next(_86);if(i>_88){break;}if(pTd!=null){break;}i++;}};WebSquare.uiplugin.keyEventController.prototype.pasteFromClipboard=function(){["WebSquare.uiplugin.keyEventController.prototype.pasteFromClipboard"];var _8d=this.parseClipboardExcel();var _8e=this.getFocusedRowIndex();var _8f=this.getFocusedColumnIndex();var _90=[];for(var row=0;row<_8d.length;row++){_90.push([]);for(var col=0;col<_8d[0].length;col++){_90[row][col]=this.getCellData(row+_8e,col+_8f);}}for(var row=0;row<_8d.length;row++){for(var col=0;col<_8d[0].length;col++){var _93=_8d[row][col];try{_93=_93.wq_trim();var _94=this.getCellInfo(col+_8f);var _95=_94.options.dataType;var _96=/[^(\-0-9)]/g;if(_95=="number"){_93=_93.replace(_96,"");}}catch(e){}if(this._getEditReadOnly(row+_8e,col+_8f)!=true&&this.getEditDisabled(row+_8e,col+_8f)!=true){this.setCellData(row+_8e,col+_8f,_93);}}}var _97=this;WebSquare.historyManager.set("grid","grid1",{focusRowIndex:_8e,focusColIndex:_8f,data2d:_90},{onRestore:function(_98){var _99=_98.data2d;for(var row=0;row<_99.length;row++){for(var col=0;col<_99[0].length;col++){var _9c=_99[row][col];_97.setCellData(row+_8e,col+_8f,_9c);}}}});};WebSquare.uiplugin.keyEventController.prototype.parseClipboardExcel=function(){["WebSquare.uiplugin.keyEventController.prototype.parseClipboardExcel"];var _9d=[];var str=window.clipboardData.getData("Text");var _9f=str.split("\n");for(var row=0;row<_9f.length-1;row++){var _a1=_9f[row].split("\t");_9d.push(_a1);}return _9d;};WebSquare.uiplugin.keyEventController.prototype.copyToClipboard=function(){["WebSquare.uiplugin.keyEventController.prototype.copyToClipboard"];var _a2=this.options.copyAmount;if(!_a2){if(this.options.focusMode=="cell"){_a2="cell";}else{if(this.options.focusMode=="both"||this.options.focusMode=="row"){_a2="row";}}}if(_a2=="cell"){var _a3=this.getDataLength();var _a4=0;var _a5=this.getTotalCol();var _a6=0;var _a7=[];for(var i=0;i<this.focusedCell.length;i++){var _a9=this.focusedCell[i];var _aa=_a9.focusedRowIndex;var _ab=_a9.focusedColIndex;if(_a7[_aa]==null){_a7[_aa]=[];}_a7[_aa][_ab]=_a9;if(_a3>_aa){_a3=_aa;}if(_a5>_ab){_a5=_ab;}}var _ac=[];for(var i=_a3;i<_a7.length;i++){var _ad=_a7[i];var _ae=[];if(typeof _ad!="undefined"){for(var j=_a5;j<_ad.length;j++){var _b0=_a7[i][j];if(_b0){_ae.push(this.getCellData(i,j));}else{_ae.push("");}}}_ac.push(_ae.join("\t"));}window.clipboardData.setData("Text",_ac.join("\n"));}else{if(_a2=="row"){var _b1=[];for(var i=0;i<this.focusedCell.length;i++){var _a9=this.focusedCell[i];_b1[_a9.focusedRowIndex]=1;}var _ad=[];for(var _aa in _b1){_ad.push(_aa);}function compare(a,b){if(parseInt(a)>parseInt(b)){return 1;}return -1;}_ad.sort(compare);var _a7=[];for(var i=0;i<_ad.length;i++){var _aa=_ad[i];var _b4=this.getRowData(_aa);_a7.push(_b4.join("\t"));}window.clipboardData.setData("Text",_a7.join("\n"));}}};WebSquare.uiplugin.dataController=function(_1){["WebSquare.uiplugin.dataController"];};WebSquare.uiplugin.dataController.prototype._getData=function(_2,_3){["WebSquare.uiplugin.dataController.prototype._getData"];this.editEndBeforeGetData();var _4=this.cellInfoHash[this.tdIdList[_3]];if(_4.options.inputType=="expression"){return _4.getExpressionValue(_2);}var _5=this.dataArr[_2*this.getColumnCount()+_3];if(_5==null){_5="";}return _5;};WebSquare.uiplugin.dataController.prototype.getCellDisplayData=function(_6,_7){["WebSquare.uiplugin.dataController.prototype.getCellDisplayData"];var _8=this.filteredRowIndexArr[_6];return this._getDisplayData(_8,_7);};WebSquare.uiplugin.dataController.prototype._getDisplayData=function(_9,_a){this.editEndBeforeGetData();_a=this.getColumnIndex(_a);var _b=this.cellInfoHash[this.tdIdList[_a]];var _c=this.dataArr[_9*this.getColumnCount()+_a];_c=_b.getDisplayData(_c,_9);if(_c==null){_c="";}return _c;};WebSquare.uiplugin.dataController.prototype._setData=function(_d,_e,_f){this.dataArr[_d*this.getColumnCount()+_e]=_f;};WebSquare.uiplugin.dataController.prototype.getTotalRow=function(){var _10=this.dataArr.length/this.oneRowDataLength;return _10;};WebSquare.uiplugin.dataController.prototype.getTotalCol=function(){var _11=this.oneRowDataLength;return _11;};WebSquare.uiplugin.dataController.prototype.setGridData=function(arr,_13){["WebSquare.uiplugin.dataController.prototype.setGridData"];var _14=arr.length/this.oneRowDataLength;for(var j=0;j<this.oneRowDataLength;j++){var _16=this.getCellInfo(this.tdIdList[j]);if(_16.formatter&&_16.options.applyFormat==="all"){for(var i=0;i<_14;i++){var _18=i*this.oneRowDataLength+j;var _19=_16.formatter.format(arr[_18]);var _1a=_16.options.displayFormat;var _1b=_16.options.dataType;if(_1b=="number"){retVal=WebSquare.text.unformatCurrency(_1a,_19);}else{if(_1b=="date"){retVal=WebSquare.text.unformatDate(_1a,_19);}else{if(_1b=="time"){retVal=WebSquare.text.unformatTime(_1a,_19);}else{retVal=WebSquare.text.unformatText(_1a,_19);}}}arr[_18]=retVal;}}if(_16.options.inputType=="radio"&&_16.options.groupName){var _1c=_16.options.trueValue;var _1d=_16.options.falseValue;switch(_16.options.valueType){case "binary":_1c="1";_1d="0";break;case "boolean":_1c="true";_1d="false";break;case "other":break;}for(var i=0;i<_14;i++){if(this.cellInfoHash[_16.options.groupName]){var _1e=arr[i*this.oneRowDataLength+this.bodyIdColIndexMap[_16.options.groupName]];if(_1e==_16.options.groupValue){arr[i*this.oneRowDataLength+j]=_1c;}else{arr[i*this.oneRowDataLength+j]=_1d;}}}}}_13=_13||false;var _1f=this.getTotalRow();if(_13){this.dataArr=this.dataArr.concat(arr);}else{this.dataArr=arr;this.rowStyleArr=[];this.cellStyleArr=[];this.rowReadOnlyArr=[];this.cellReadOnlyArr=[];this.rowDisabledArr=[];this.cellDisabledArr=[];this.filteredRowIndexArr=[];this.extraData={grid:{},row:[],col:[],cell:[]};_1f=0;}this.beforeDataLength=-1;if(_13){this.originalDataArr=this.originalDataArr.concat(arr);}else{this.originalDataArr=[];this.originalDataArr=this.dataArr.slice(0);}var _20=arr.length/this.oneRowDataLength;for(var i=0;i<_20;i++){this.filteredRowIndexArr.push(i+_1f);}if(this.isDrillDown==true){this.setCellInfo();this.initDrilldown();}this.initRowStatus(_1f);this.initStyleArr(_1f);if(this.dataFilter.useFilter()){var _21=this.getTotalCol();this.dataFilter.executeAllFilter(this.dataArr,this.getTotalRow(),_21);}if(this.loadFlag==false&&_13){this.loadFlag=false;}else{this.loadFlag=true;}this.lastTopRowIndex=null;this.notifyDataChanged(_13?{append:true,keepTop:true}:{});this.loadFlag=true;if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();};WebSquare.uiplugin.dataController.prototype.initDrilldown=function(_22){["WebSquare.uiplugin.dataController.prototype.initDrilldown"];try{var _22={showDepth:this.showDepth,depthColumn:this.depthColumn};if(typeof _22.depthColumn=="string"){_22.depthColumn=this.bodyIdColIndexMap[_22.depthColumn];}this.drilldown.initialize(this,_22);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.getRealRowIndex=function(_23){["WebSquare.uiplugin.dataController.prototype.getRealRowIndex"];if(this.filteredRowIndexArr[_23]==null){return _23;}return this.filteredRowIndexArr[_23];};WebSquare.uiplugin.dataController.prototype.getDisplayRowIndex=function(_24){["WebSquare.uiplugin.dataController.prototype.getDisplayRowIndex"];var _25=_24;if(this.dataFilter.useFilter()){_25=this.dataFilter.getDisplayRowIndex(_24);}if(this.isDrillDown){_25=this.drilldown.getDisplayRowIndex(_24);}return _25;};WebSquare.uiplugin.dataController.prototype.setCellData=function(_26,_27,_28){this._setCellData.call(this,_26,_27,_28);};WebSquare.uiplugin.dataController.prototype._setCellData=function(_29,_2a,_2b,_2c){["WebSquare.uiplugin.dataController.prototype._setCellData"];if(_2b===null||_2b===undefined){_2b="";}if(this.editedCell!=null){this.editedCell.handleCancelEdit();}var _2d=this.getTotalRow();var _2e=this.getTotalCol();var _2f=this.filteredRowIndexArr[_29];var _30="";_2a=this.getColumnIndex(_2a);if(this.isDrillDown&&this.options.drilldownRealRowIndex){_2f=_29;_29=this.drilldown.getDisplayRowIndex(_29);_30=this.getCellData(_2f,_2a,"3");}else{if(_29>=0&&_29<_2d&&_2a>=0&&_2a<_2e){_30=this.getCellData(_29,_2a);}}if(_29>=0&&_29<_2d&&_2a>=0&&_2a<_2e){var _31=_2b.toString().replace(/\r(\n)?/,"\n");var _32=_30.toString().replace(/\r(\n)?/,"\n");if(_31!==_32){var _33=this.cellInfoHash[this.tdIdList[_2a]];this._setData(_2f,_2a,_2b);if(!_33.options.ignoreStatus){this._updateRowStatus(_2f);}if(!_2c){this.notifyCellChanged(_29,_2a);}WebSquare.event.fireEvent(this,"onchange",_29,_2a,_2b,_30);if(_33.options.inputType=="radio"&&_33.options.groupName&&_33.options.trueValue==_2b){_33.resetOthers(_29);if(this.radioGroupRepChk[_33.options.groupName]){this.setCellData(_29,_33.options.groupName,_33.options.groupValue);}}if(this.radioGroupRepChk[_33.options.id]){var _34=this.getColumnCount();for(var _35=0;_35<_34;_35++){var _36=this.cellInfoHash[this.tdIdList[_35]];if(_36.options.inputType=="radio"&&_36.options.groupName==_33.options.id&&_36.options.groupValue==_2b){var _37=_29-this.rowIndex;this.setCellData(_29,_35,_36.options.trueValue);break;}}if(_35==_34){this._resetRadioGroup(_29,_33.id,false);}}if(this.isDrillDown){if(this.drilldown.options.depthColumn==_2a){this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();}else{if(_33.options.inputType=="checkbox"&&_33.options.setRecursive){var _38=this.drilldown.getChildRowArr(_29,true);for(var i=0;i<_38.length;i++){if(this._getData(_38[i],_2a)!=_2b){this._setCellData(_38[i],_2a,_2b);}}}}}}else{if(this.editedCell!=null&&!_2c){this.notifyCellChanged(_29,_2a);}}}};WebSquare.uiplugin.dataController.prototype.getCellData=function(_3a,_3b,_3c){["WebSquare.uiplugin.dataController.prototype.getCellData"];_3c=(_3c==null||typeof _3c=="undefined")?"0":_3c+"";if(_3c=="2"){return this.getCellDisplayData(_3a,_3b);}else{_3b=this.getColumnIndex(_3b);if(_3c!="3"&&this.filteredRowIndexArr[_3a]!=null){_3a=this.filteredRowIndexArr[_3a];}return this._getData(_3a,_3b);}};WebSquare.uiplugin.dataController.prototype.getOriginalCellData=function(_3d,_3e,_3f){["WebSquare.uiplugin.dataController.prototype.getCellData"];_3e=this.getColumnIndex(_3e);_3f=(_3f==null||typeof _3f=="undefined")?"0":_3f+"";if(_3f=="2"){this.editEndBeforeGetData();_3e=this.getColumnIndex(_3e);var _40=this.getCellInfo(_3e);var _41=this.originalDataArr[_3d*this.getColumnCount()+_3e];_41=_40.getDisplayData(_41,_3d);if(_41==null){_41="";}return _41;}else{this.editEndBeforeGetData();var _40=this.getCellInfo(_3e);if(_40.options.inputType=="expression"){return _40.getExpressionValue(_3d);}var _41=this.originalDataArr[_3d*this.getColumnCount()+_3e];if(WebSquare.util.isNull(_41)){_41="";}return _41;}};WebSquare.uiplugin.dataController.prototype.toggle=function(_42){["WebSquare.uiplugin.dataController.prototype.toggle"];_42=parseInt(_42);this.drilldown.toggle(_42);this.setScrollYHeight();this.notifyRowChanged(_42);if(this.options.autoFit){this.autoFitFunc();}};WebSquare.uiplugin.dataController.prototype.getParentRowIndex=function(_43){["WebSquare.uiplugin.dataController.prototype.getParentRowIndex"];_43=parseInt(_43);return this.drilldown.getParentRowIndex(_43);};WebSquare.uiplugin.dataController.prototype.getChildrenRowIndexArray=function(_44){["WebSquare.uiplugin.dataController.prototype.getChildrenRowIndexArray"];_44=parseInt(_44);return this.drilldown.getChildrenRowArr(_44);};WebSquare.uiplugin.dataController.prototype.getOpenStatus=function(_45){["WebSquare.uiplugin.dataController.prototype.getOpenStatus"];_45=parseInt(_45);return this.drilldown.isOpen(_45);};WebSquare.uiplugin.dataController.prototype.getDataLength=function(){["WebSquare.uiplugin.dataController.prototype.getDataLength"];return this.filteredRowIndexArr.length;};WebSquare.uiplugin.dataController.prototype.insertRow=function(_46){var _47=this.getDataLength();var _48=this.getTotalRow();if(isNaN(parseInt(_46))){_46=_47;}var _49=_46;if(this.dataFilter.useFilter()||_49>_48){_49=_48;}if(!this.isDrillDown&&_46>_47){_46=_47;}var _4a=this.getTotalCol();var _4b=[_49*_4a,0];var _4c=[_49*_4a,0];for(var i=0;i<_4a;i++){var _4e=this.getCellInfo(i).options.defaultValue;_4b.push(_4e);_4c.push(null);}[].splice.apply(this.dataArr,_4b);[].splice.apply(this.originalDataArr,_4b);[].splice.apply(this.cellStyleArr,_4c);[].splice.apply(this.cellReadOnlyArr,_4c);[].splice.apply(this.cellDisabledArr,_4c);this.extraData.row.splice(_49,0,null);this.extraData.cell.splice(_49,0,null);this._createRowStatus(_49);for(var i=0;i<this.filteredRowIndexArr.length;i++){if(this.filteredRowIndexArr[i]>=_49){this.filteredRowIndexArr[i]++;}}if(this.isDrillDown){var _4f=false;var _50=[];var _51=this.getTotalCol()*_49;this.dataArr[_51+this.drilldown.options.depthColumn]=this.drilldown.newRowDepth;var _52=this.drilldown.getParentRowIndex(_49);while(_52>-1){var _53=this.drilldown.getDisplayRowIndex(_52);if(!this.drilldown.isOpen(_53)){_4f=true;_50.push(_53);}_52=this.drilldown.getParentRowIndex(_52);}if(_4f){this.drilldown.statusArr.splice(_49,0,false);for(var i=_50.length-1;i>=0;i--){if(!this.drilldown.isOpen(_50[i])){this.toggle(_50[i]);}}}else{this.drilldown.statusArr.splice(_49,0,true);var _54=this.drilldown.getParentRowIndex(_49);var _55=this.drilldown.getDisplayRowIndex(_54);var _56=_55+(_49-_54);this.filteredRowIndexArr.splice(_56,0,_49);}_46=this.drilldown.getDisplayRowIndex(_49);}else{this.filteredRowIndexArr.splice(_46,0,_49);}this.notifyRowInserted(_46);return _46;};WebSquare.uiplugin.dataController.prototype.removeRow=function(_57,_58){this.removed=true;if(_57==null){_57=this.getTotalRow()-1;}_57=parseInt(_57);if(this.isDrillDown&&this.options.drilldownRealRowIndex){_57=this.drilldown.getDisplayRowIndex(_57);}if(typeof _58=="undefined"){_58=true;}else{notyfy=WebSquare.util.getBoolean(_58);}var _59=this.filteredRowIndexArr[_57];var _5a=this.getTotalCol();if(_59==null||_59>=this.getTotalRow()){return;}var _5b=this.dataArr.splice(_59*_5a,_5a);this.originalDataArr.splice(_59*_5a,_5a);this.cellStyleArr.splice(_59*_5a,_5a);this.cellReadOnlyArr.splice(_59*_5a,_5a);this.cellDisabledArr.splice(_59*_5a,_5a);this.extraData.row.splice(_59,1);this.extraData.cell.splice(_59,1);this.filteredRowIndexArr.splice(_57,1);for(var i=0;i<this.filteredRowIndexArr.length;i++){if(this.filteredRowIndexArr[i]>=_59){this.filteredRowIndexArr[i]--;}}if(this.isDrillDown){this.drilldown.statusArr.splice(_59,1);}this.removeRowFocus(this.getDataLength());this.removeRowStatus(_59);if(_58){this.notifyRowChanged(_57);}if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();return _5b;};WebSquare.uiplugin.dataController.prototype.rowMoveUp=function(_5d){["WebSquare.uiplugin.dataController.prototype.rowMoveUp"];if(_5d>=this.getDataLength()){_5d=this.getDataLength()-1;}if(_5d<=0){return;}else{var _5e=this.filteredRowIndexArr[_5d-1];var _5f=this.filteredRowIndexArr[_5d];var len=this.oneRowDataLength;var _61;for(var i=0;i<len;i++){_61=this.dataArr[len*_5e+i];this.dataArr[len*_5e+i]=this.dataArr[len*_5f+i];this.dataArr[len*_5f+i]=_61;_61=this.originalDataArr[len*_5e+i];this.originalDataArr[len*_5e+i]=this.originalDataArr[len*_5f+i];this.originalDataArr[len*_5f+i]=_61;}_61=this.extraData.row[_5e];this.extraData.row[_5e]=this.extraData.row[_5f];this.extraData.row[_5f]=_61;_61=this.extraData.cell[_5e];this.extraData.cell[_5e]=this.extraData.cell[_5f];this.extraData.cell[_5f]=_61;var _63=this.getRowStatus(_5d-1);var _64=this.getRowStatus(_5d);this._setRowStatus(_5e,_64);this._setRowStatus(_5f,_63);var _65=this.getFocusedRowIndex();if(_65==_5d){this.setFocusedCell(_5d-1,this.getFocusedColumnIndex());}this.notifyRowChanged(_5d-1);}};WebSquare.uiplugin.dataController.prototype.rowMoveDown=function(_66){["WebSquare.uiplugin.dataController.prototype.rowMoveUp"];if(_66<0){_66=0;}if(_66>=this.getDataLength()-1){return;}else{var _67=this.filteredRowIndexArr[_66+1];var _68=this.filteredRowIndexArr[_66];var len=this.oneRowDataLength;var _6a;for(var i=0;i<len;i++){_6a=this.dataArr[len*_67+i];this.dataArr[len*_67+i]=this.dataArr[len*_68+i];this.dataArr[len*_68+i]=_6a;_6a=this.originalDataArr[len*_67+i];this.originalDataArr[len*_67+i]=this.originalDataArr[len*_68+i];this.originalDataArr[len*_68+i]=_6a;}_6a=this.extraData.row[_67];this.extraData.row[_67]=this.extraData.row[_68];this.extraData.row[_68]=_6a;_6a=this.extraData.cell[_67];this.extraData.cell[_67]=this.extraData.cell[_68];this.extraData.cell[_68]=_6a;var _6c=this.getRowStatus(_66+1);var _6d=this.getRowStatus(_66);this._setRowStatus(_67,_6d);this._setRowStatus(_68,_6c);var _6e=this.getFocusedRowIndex();if(_6e==_66){this.setFocusedCell(_66+1,this.getFocusedColumnIndex());}this.notifyRowChanged(_66);}};WebSquare.uiplugin.dataController.prototype.focusedRowMoveUp=function(){["WebSquare.uiplugin.dataController.prototype.focusedRowMoveUp"];var _6f=this.getFocusedRowIndex();this.rowMoveUp(_6f);};WebSquare.uiplugin.dataController.prototype.focusedRowMoveDown=function(){["WebSquare.uiplugin.dataController.prototype.focusedRowMoveUp"];var _70=this.getFocusedRowIndex();this.rowMoveDown(_70);};WebSquare.uiplugin.dataController.prototype.removeRows=function(_71){this.removed=true;var _72=this.getTotalCol();function compare(a,b){if(parseInt(a)<parseInt(b)){return 1;}return -1;}_71=_71.sort(compare);var _75=[];for(var i=0;i<_71.length;i++){var _77=this.removeRow(_71[i],false);_75.push(_77);}this.notifyRowChanged(_71[_71.length-1]);return _75;};WebSquare.uiplugin.dataController.prototype.removeAll=function(){this.removed=true;this.loadFlag=true;var _78=this.dataArr.slice(0);this.dataArr=[];this.originalDataArr=[];this.rowStyleArr=[];this.rowReadOnlyArr=[];this.rowDisabledArr=[];this.cellStyleArr=[];this.cellReadOnlyArr=[];this.cellDisabledArr=[];this.filteredRowIndexArr=[];this.extraData={grid:{},row:[],col:[],cell:[]};this.initRowStatus(0);this.removeFocusedCell();for(var i=0;i<this.drawedRowLength;i++){this._setRowDisplay(i,"none");}this.lastDisplayedRow=-1;this.subtotalHidden();this.rowIndex=-1;this.maxRowLength=0;this.displayNoResultMessage();this.drawFooter();this.drawHeader();if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();return _78;};WebSquare.uiplugin.dataController.prototype.removeRange=function(_7a,_7b){this.removed=true;var _7c=this.getTotalCol();var _7d=[];for(var row=_7b;row>=_7a;row--){var _7f=this.removeRow(row,false);_7d.push(_7f);}this.notifyRowChanged(_7a);return _7d;};WebSquare.uiplugin.dataController.prototype.initRowStatus=function(_80){if(_80==null||typeof _80=="undefined"){_80=0;}if(_80==0){this.rowStatusArr=[];}var _81=this.getTotalRow();for(var i=_80;i<_81;i++){this.rowStatusArr.push("R");}};WebSquare.uiplugin.dataController.prototype.initStyleArr=function(_83){if(_83<=0){this.rowStyleArr=[];this.rowReadOnlyArr=[];this.rowDisabledArr=[];}var _84=this.getTotalRow();var len=_84*this.oneRowDataLength;if(_83<=0){this.rowStyleArr=new Array(_84);this.rowReadOnlyArr=new Array(_84);this.rowDisabledArr=new Array(_84);this.cellStyleArr=new Array(len);this.cellReadOnlyArr=new Array(len);this.cellDisabledArr=new Array(len);}else{[].push.apply(this.rowStyleArr,new Array(_84-this.rowStyleArr.length));[].push.apply(this.rowReadOnlyArr,new Array(_84-this.rowReadOnlyArr.length));[].push.apply(this.rowDisabledArr,new Array(_84-this.rowDisabledArr.length));[].push.apply(this.cellStyleArr,new Array(len-this.cellStyleArr.length));[].push.apply(this.cellReadOnlyArr,new Array(len-this.cellReadOnlyArr.length));[].push.apply(this.cellDisabledArr,new Array(len-this.cellDisabledArr.length));}};WebSquare.uiplugin.dataController.prototype._createRowStatus=function(_86){this.rowStatusArr=this.rowStatusArr.slice(0,_86).concat(["C"]).concat(this.rowStatusArr.slice(_86));this.rowStyleArr=this.rowStyleArr.slice(0,_86).concat([null]).concat(this.rowStyleArr.slice(_86));this.rowReadOnlyArr=this.rowReadOnlyArr.slice(0,_86).concat([null]).concat(this.rowReadOnlyArr.slice(_86));this.rowDisabledArr=this.rowDisabledArr.slice(0,_86).concat([null]).concat(this.rowDisabledArr.slice(_86));};WebSquare.uiplugin.dataController.prototype.removeRowStatus=function(_87){this.rowStatusArr.splice(_87,1);this.rowStyleArr.splice(_87,1);this.rowReadOnlyArr.splice(_87,1);this.rowDisabledArr.splice(_87,1);};WebSquare.uiplugin.dataController.prototype._setRowStatus=function(_88,_89){var _8a=this.rowStatusArr[_88];if(_89!=_8a){this.rowStatusArr[_88]=_89;}};WebSquare.uiplugin.dataController.prototype._updateRowStatus=function(_8b){var _8c=this.rowStatusArr[_8b];if(_8c=="C"||_8c=="D"){return;}var _8d=false;var _8e=this.getTotalCol();for(var col=0;col<_8e;col++){var _90=this.cellInfoHash[this.tdIdList[col]];var _91=_90.options.inputType;var _92=this.originalDataArr[_8b*_8e+col];var _93=this._getData(_8b,col);if(_91!="expression"&&this.ignoreStatusColArr[col]!=true&&_92!=_93){if(_92!==null||_93!==""){_8d=true;break;}}}if(_8c=="R"){if(_8d==true){_8c="U";}}else{if(_8c=="U"){if(_8d==false){_8c="R";}}}this._setRowStatus(_8b,_8c);};WebSquare.uiplugin.dataController.prototype.deleteRow=function(_94){if(this.isDrillDown&&this.options.drilldownRealRowIndex){_94=this.drilldown.getDisplayRowIndex(_94);}var _95=this.filteredRowIndexArr[_94];this._deleteRowStatus(_95);this._drawRowStatus(_94-this.rowIndex,_94);this.displayNoResultMessage();if(this.hasFooter){if(this.options.excludeDeletedRows){this.drawFooter();}}};WebSquare.uiplugin.dataController.prototype._deleteRowStatus=function(_96){var _97="";if(_97=="D"||_97=="V"){return;}if(this.rowStatusArr[_96]=="C"){_97="V";}else{_97="D";}this._setRowStatus(_96,_97);};WebSquare.uiplugin.dataController.prototype.undeleteRow=function(_98){if(this.isDrillDown&&this.options.drilldownRealRowIndex){_98=this.drilldown.getDisplayRowIndex(_98);}var _99=this.filteredRowIndexArr[_98];this._undeleteRowStatus(_99);this._drawRowStatus(_98-this.rowIndex,_98);this.displayNoResultMessage();if(this.hasFooter){if(this.options.excludeDeletedRows){this.drawFooter();}}};WebSquare.uiplugin.dataController.prototype._undeleteRowStatus=function(_9a){var _9b=this.rowStatusArr[_9a];if(_9b!="D"&&_9b!="V"){return;}if(_9b=="V"){_9b="C";}else{var _9c=false;var _9d=this.getTotalCol();for(var col=0;col<_9d;col++){var _9f=this.getCellInfo(col);var _a0=_9f.options.inputType;if(_a0!="expression"&&this.ignoreStatusColArr[col]!=true&&this.originalDataArr[_9a*_9d+col]!=this._getData(_9a,col)){_9c=true;break;}}if(_9c){_9b="U";}else{_9b="R";}}this._setRowStatus(_9a,_9b);};WebSquare.uiplugin.dataController.prototype.reform=function(){this.initRowStatus();this.originalDataArr=this.dataArr.slice(0);if(this.options.rowStatusVisible){for(var i=0;i<=this.lastIndex;i++){this._drawRowStatus(i,this.rowIndex+i);}}};WebSquare.uiplugin.dataController.prototype.undoRow=function(_a2){this._undoRow(_a2);this.notifyRowChanged(_a2);};WebSquare.uiplugin.dataController.prototype._undoRow=function(_a3){var _a4=this.filteredRowIndexArr[_a3];for(var j=0;j<this.oneRowDataLength;j++){this._setData(_a4,j,this.originalDataArr[_a4*this.oneRowDataLength+j]);}this._updateRowStatus(_a4);this._undeleteRowStatus(_a4);};WebSquare.uiplugin.dataController.prototype.undoAll=function(){var _a6=this.getRowIndexByStatus("UDV");for(var i=0;i<_a6.length;i++){var _a8=_a6[i];this._undoRow(_a8);}this.notifyDataChanged();};WebSquare.uiplugin.dataController.prototype.getRowStatusValue=function(_a9){["WebSquare.uiplugin.dataController.prototype.getRowStatusValue"];try{var _aa=this.filteredRowIndexArr[_a9];return this._getRowStatusValue(_aa);}catch(e){$l("dataController.getRowStatusValue :"+e.message);WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype._getRowStatusValue=function(_ab){["WebSquare.uiplugin.dataController.prototype._getRowStatusValue"];try{var _ac=this.rowStatusArr[_ab];switch(_ac){case "R":return 0;break;case "U":return 1;break;case "C":return 2;break;case "D":return 3;break;case "V":return 4;break;}}catch(e){$l("dataController.getRowStatusValue :"+e.message);WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.getRowStatus=function(_ad){["WebSquare.uiplugin.dataController.prototype.getRowStatus"];try{var _ae=this.filteredRowIndexArr[_ad];return this._getRowStatus(_ae);}catch(e){$l("dataController.getRowStatus :"+e.message);WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype._getRowStatus=function(_af){["WebSquare.uiplugin.dataController.prototype._getRowStatus"];try{return this.rowStatusArr[_af];}catch(e){$l("dataController.getRowStatus :"+e.message);WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.modifyAllStatus=function(_b0){for(var i=0;i<this.rowStatusArr.length;i++){this._setRowStatus(i,_b0);this._drawRowStatus(i-this.rowIndex,i);}this.displayNoResultMessage();};WebSquare.uiplugin.dataController.prototype.modifyRangeStatus=function(_b2,to,_b4){for(var i=_b2;i<to;i++){this.modifyRowStatus(i,_b4);}};WebSquare.uiplugin.dataController.prototype.modifyRowStatus=function(_b6,_b7){if(_b6>-1&&_b6<this.getDataLength()){var _b8=this.filteredRowIndexArr[_b6];this._setRowStatus(_b8,_b7);this._drawRowStatus(_b6-this.rowIndex,_b6);this.displayNoResultMessage();}};WebSquare.uiplugin.dataController.prototype.modifyCheckedStatus=function(col,_ba){var _bb=this.getCheckedIndex(col);for(var i=0;i<_bb.length;i++){this.modifyRowStatus(_bb[i],_ba);}};WebSquare.uiplugin.dataController.prototype.modifyUncheckStatus=function(col,_be){var _bf=this.getUnCheckedIndex(col);for(var i=0;i<_bf.length;i++){this.modifyRowStatus(_bf[i],_be);}};WebSquare.uiplugin.dataController.prototype.modifyMatchedStatus=function(_c1,_c2,_c3){var _c4=this.getDataLength();for(var row=0;row<_c4;row++){if(this.getCellData(row,_c1)+""==_c2+""){this.modifyRowStatus(row,_c3);}}};WebSquare.uiplugin.dataController.prototype.getRowIndexByStatus=function(_c6){["WebSquare.uiplugin.dataController.prototype.getRowIndexByStatus"];var _c7=[];for(var i=0;i<this.getDataLength();i++){var _c9=this.filteredRowIndexArr[i];if(_c6.indexOf(this.rowStatusArr[_c9])>-1){_c7.push(i);}}return _c7;};WebSquare.uiplugin.dataController.prototype.getUpdatedIndex=function(){["WebSquare.uiplugin.dataController.prototype.getUpdatedIndex"];return this.getRowIndexByStatus("U");};WebSquare.uiplugin.dataController.prototype.getInsertedIndex=function(){["WebSquare.uiplugin.dataController.prototype.getInsertedIndex"];return this.getRowIndexByStatus("C");};WebSquare.uiplugin.dataController.prototype.getDeletedIndex=function(){return this.getRowIndexByStatus("DV");};WebSquare.uiplugin.dataController.prototype.getModifiedIndex=function(){["WebSquare.uiplugin.dataController.prototype.getModifiedIndex"];return this.getRowIndexByStatus("CUD");};WebSquare.uiplugin.dataController.prototype.getColData=function(_ca){["WebSquare.uiplugin.dataController.prototype.getColData"];var _cb=[];_ca=this.getColumnIndex(_ca);for(var row=0;row<this.getTotalRow();row++){_cb.push(this._getData(row,_ca));}return _cb;};WebSquare.uiplugin.dataController.prototype.getVisibleColData=function(_cd){["WebSquare.uiplugin.dataController.prototype.getColData"];var _ce=[];_cd=this.getColumnIndex(_cd);for(var row=0;row<this.getDataLength();row++){_ce.push(this.getCellData(row,_cd));}return _ce;};WebSquare.uiplugin.dataController.prototype.getRowData=function(_d0,_d1){["WebSquare.uiplugin.dataController.prototype.getRowData"];var _d2=[];for(var col=0;col<this.getColumnCount();col++){if(_d1!="displayData"){_d2.push(this.getCellData(_d0,col));}else{_d2.push(this.getCellDisplayData(_d0,col));}}return _d2;};WebSquare.uiplugin.dataController.prototype._getRowData=function(_d4,_d5){["WebSquare.uiplugin.dataController.prototype.getRowData"];var _d6=[];for(var col=0;col<this.getColumnCount();col++){if(_d5!="displayData"){_d6.push(this._getData(_d4,col));}else{_d6.push(this._getDisplayData(_d4,col));}}return _d6;};WebSquare.uiplugin.dataController.prototype.getDataRow=function(_d8){["WebSquare.uiplugin.dataController.prototype.getDataRow"];try{var _d9=[];for(var col=0;col<this.getColumnCount();col++){var _db=this.getColumnID(col);_d9[_db]=this.getCellData(_d8,col);}return _d9;}catch(e){$l("dataController.getDataRow :"+e.message);WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.getRangeXML=function(_dc,to){["WebSquare.uiplugin.dataController.prototype.getRangeXML"];if(_dc>to){var tmp=to;to=_dc;_dc=tmp;}if(_dc<0){_dc=0;}if(to>this.getDataLength()){to=this.getDataLength();}var _df=[];for(var i=_dc;i<to;i++){_df.push(i);}var _e1=this.getArrXML(_df);return _e1;};WebSquare.uiplugin.dataController.prototype.getRangeData=function(_e2,to,_e4){["WebSquare.uiplugin.dataController.prototype.getRangeData"];var _e5=[];if(_e2>to){var tmp=to;to=_e2;_e2=tmp;}if(_e2<0){_e2=0;}if(to>this.getDataLength()){to=this.getDataLength();}for(var i=_e2;i<to;i++){_e5=_e5.concat(this.getRowData(i,_e4));}return _e5;};WebSquare.uiplugin.dataController.prototype.getRowXML=function(_e8){["WebSquare.uiplugin.dataController.prototype.getRowXML"];var _e9=this.getRangeXML(_e8,_e8+1);_e9=WebSquare.xml.findNode(_e9,this.options.baseNode+"/"+this.options.repeatNode);_e9=WebSquare.xml.parse(WebSquare.xml.serialize(_e9));return _e9;};WebSquare.uiplugin.dataController.prototype.getMatchedIndex=function(_ea,_eb,_ec,_ed,_ee){["WebSquare.uiplugin.dataController.prototype.getMatchedIndex"];_ec=(typeof _ec=="undefined"||_ec==null)?true:_ec;_ec=WebSquare.util.getBoolean(_ec);if(_ec!=false){_ec=true;}_ea=this.getColumnIndex(_ea);var _ef=this.getVisibleColData(_ea);var _f0=[];if(typeof _ed!="number"){_ed=0;}if(typeof _ee!="number"){_ee=_ef.length;}if(_ee>_ef.length){_ee=_ef.length;}for(var i=_ed;i<_ee;i++){var _f2=_ef[i];if(_ec==true){if(_f2==_eb){_f0.push(i);}}else{if(_f2.indexOf(_eb)>-1){_f0.push(i);}}}return _f0;};WebSquare.uiplugin.dataController.prototype.getUnmatchedIndex=function(_f3,_f4,_f5,_f6,_f7){["WebSquare.uiplugin.dataController.prototype.getUnmatchedIndex"];if(_f5!=false){_f5=true;}_f3=this.getColumnIndex(_f3);var _f8=this.getVisibleColData(_f3);var _f9=[];if(typeof _f6!="number"){_f6=0;}if(typeof _f7!="number"){_f7=_f8.length;}if(_f7>_f8.length){_f7=_f8.length;}for(var i=_f6;i<_f7;i++){var _fb=_f8[i];if(_f5==true){if(_fb!=_f4){_f9.push(i);}}else{if(_fb.indexOf(_f4)<=-1){_f9.push(i);}}}return _f9;};WebSquare.uiplugin.dataController.prototype.getCheckedIndex=function(_fc){["WebSquare.uiplugin.dataController.prototype.getCheckedIndex"];var _fd=[];var _fe=this.cellInfoHash[this.getColumnID(_fc)];if(_fe.options.inputType=="checkbox"||_fe.options.inputType=="radio"){if(this.isDrillDown&&this.options.drilldownRealRowIndex){colDataArr=this.getColData(_fc);}else{colDataArr=this.getVisibleColData(_fc);}for(var i=0;i<colDataArr.length;i++){if(colDataArr[i]==_fe.options.trueValue){_fd.push(i);}}}return _fd;};WebSquare.uiplugin.dataController.prototype.getUnCheckedIndex=function(_100){return this.getUncheckedIndex(_100);};WebSquare.uiplugin.dataController.prototype.getUncheckedIndex=function(_101){["WebSquare.uiplugin.dataController.prototype.getUncheckedIndex"];var _102=[];var _103=this.cellInfoHash[this.getColumnID(_101)];if(_103.options.inputType=="checkbox"||_103.options.inputType=="radio"){var _104=[];if(this.isDrillDown&&this.options.drilldownRealRowIndex){_104=this.getColData(_101);}else{_104=this.getVisibleColData(_101);}for(var i=0;i<_104.length;i++){if(_104[i]!=_103.options.trueValue){_102.push(i);}}}return _102;};WebSquare.uiplugin.dataController.prototype.getAllXML=function(){["WebSquare.uiplugin.dataController.prototype.getAllXML"];this._endEdit();if(this.getTotalRow()!=this.getDataLength()){return this.getAllArrXML();}else{return this.getAllVisibleXML();}};WebSquare.uiplugin.dataController.prototype.getAllData=function(){["WebSquare.uiplugin.dataController.prototype.getAllData"];this._endEdit();if(this.getTotalRow()!=this.getDataLength()){var _106=[];for(var i=0;i<this.getTotalRow();i++){_106=_106.concat(this._getRowData(i));}return _106;}else{var _106=[];for(var i=0;i<this.getDataLength();i++){_106=_106.concat(this.getRowData(i));}return _106;}};WebSquare.uiplugin.dataController.prototype.getAllDisplayData=function(){["WebSquare.uiplugin.dataController.prototype.getAllData"];this._endEdit();if(this.getTotalRow()!=this.getDataLength()){var _108=[];for(var i=0;i<this.getTotalRow();i++){_108=_108.concat(this._getRowData(i,"displayData"));}return _108;}else{var _108=[];for(var i=0;i<this.getDataLength();i++){_108=_108.concat(this.getRowData(i,"displayData"));}return _108;}};WebSquare.uiplugin.dataController.prototype.getAllDisplayXML=function(){["WebSquare.uiplugin.dataController.prototype.getAllDisplayXML"];this._endEdit();if(this.getTotalRow()!=this.getDataLength()){return this.getAllArrXML("displayData");}else{return this.getAllVisibleXML("displayData");}};WebSquare.uiplugin.dataController.prototype.getAllVisibleXML=function(_10a){["WebSquare.uiplugin.dataController.prototype.getAllVisibleXML"];this._endEdit();var _10b=this.getDataLength();var _10c=[];for(var i=0;i<_10b;i++){_10c.push(i);}var _10e=this.getArrXML(_10c,_10a);return _10e;};WebSquare.uiplugin.dataController.prototype.getAllVisibleData=function(_10f){["WebSquare.uiplugin.dataController.prototype.getAllData"];this._endEdit();var _110=this.getRangeData(0,this.getDataLength(),_10f);return _110;};WebSquare.uiplugin.dataController.prototype.getInsertedData=function(){["WebSquare.uiplugin.dataController.prototype.getDeletedData"];this._endEdit();var _111=[];var _112=this.getInsertedIndex();for(var i=0;i<_112.length;i++){_111.push(this.getRowData(_112[i]));}return _111;};WebSquare.uiplugin.dataController.prototype.changeToRealRowIndexArr=function(_114){["WebSquare.uiplugin.dataController.prototype.getDeletedXML"];var _115=[];for(var i=0;i<_114.length;i++){_115.push(this.filteredRowIndexArr[_114[i]]);}return _115;};WebSquare.uiplugin.dataController.prototype.getInsertedXML=function(){["WebSquare.uiplugin.dataController.prototype.getDeletedXML"];this._endEdit();var _117=this.getInsertedIndex();var _118=this.getArrXML(_117);return _118;};WebSquare.uiplugin.dataController.prototype.getDeletedData=function(){["WebSquare.uiplugin.dataController.prototype.getDeletedData"];this._endEdit();var _119=[];var _11a=this.getDeletedIndex();for(var i=0;i<_11a.length;i++){_119.push(this.getRowData(_11a[i]));}return _119;};WebSquare.uiplugin.dataController.prototype.getDeletedXML=function(){["WebSquare.uiplugin.dataController.prototype.getDeletedXML"];this._endEdit();var _11c=this.getDeletedIndex();var _11d=this.getArrXML(_11c);return _11d;};WebSquare.uiplugin.dataController.prototype.getUpdatedData=function(){["WebSquare.uiplugin.dataController.prototype.getDeletedData"];this._endEdit();var _11e=[];var _11f=this.getUpdatedIndex();for(var i=0;i<_11f.length;i++){_11e.push(this.getRowData(_11f[i]));}return _11e;};WebSquare.uiplugin.dataController.prototype.getUpdatedXML=function(){["WebSquare.uiplugin.dataController.prototype.getDeletedXML"];this._endEdit();var _121=this.getUpdatedIndex();var _122=this.getArrXML(_121);return _122;};WebSquare.uiplugin.dataController.prototype.getModifiedData=function(){["WebSquare.uiplugin.dataController.prototype.getDeletedData"];this._endEdit();var _123=[];var _124=this.getModifiedIndex();for(var i=0;i<_124.length;i++){_123.push(this.getRowData(_124[i]));}return _123;};WebSquare.uiplugin.dataController.prototype.getModifiedXML=function(){["WebSquare.uiplugin.dataController.prototype.getDeletedXML"];this._endEdit();var _126=this.getModifiedIndex();var _127=this.getArrXML(_126);return _127;};WebSquare.uiplugin.dataController.prototype.getCheckedData=function(_128){["WebSquare.uiplugin.dataController.prototype.getCheckedData"];this._endEdit();var _129=[];var _12a=this.getCheckedIndex(_128);for(var i=0;i<_12a.length;i++){_129.push(this.getRowData(_12a[i]));}return _129;};WebSquare.uiplugin.dataController.prototype.getCheckedXML=function(_12c){["WebSquare.uiplugin.dataController.prototype.getCheckedXML"];this._endEdit();var _12d=this.getCheckedIndex(_12c);var _12e=this.getArrXML(_12d);return _12e;};WebSquare.uiplugin.dataController.prototype.getUncheckedData=function(_12f){["WebSquare.uiplugin.dataController.prototype.getUncheckedData"];this._endEdit();var _130=[];var _131=this.getUncheckedIndex(_12f);for(var i=0;i<_131.length;i++){_130.push(this.getRowData(_131[i]));}return _130;};WebSquare.uiplugin.dataController.prototype.getUncheckedXML=function(_133){["WebSquare.uiplugin.dataController.prototype.getUncheckedXML"];this._endEdit();var _134=this.getUncheckedIndex(_133);var _135=this.getArrXML(_134);return _135;};WebSquare.uiplugin.dataController.prototype.getMatchedData=function(_136,_137,_138,_139,_13a){["WebSquare.uiplugin.dataController.prototype.getMatchedData"];this._endEdit();var _13b=[];var _13c=this.getMatchedIndex(_136,_137,_138,_139,_13a);for(var i=0;i<_13c.length;i++){_13b.push(this.getRowData(_13c[i]));}return _13b;};WebSquare.uiplugin.dataController.prototype.getMatchedXML=function(_13e,_13f,_140,_141,_142){["WebSquare.uiplugin.dataController.prototype.getMatchedXML"];this._endEdit();var _143=this.getMatchedIndex(_13e,_13f,_140,_141,_142);var _144=this.getArrXML(_143);return _144;};WebSquare.uiplugin.dataController.prototype.getUnmatchedXML=function(_145,_146,_147,_148,_149){["WebSquare.uiplugin.dataController.prototype.getUnmatchedXML"];this._endEdit();var _14a=this.getUnmatchedIndex(_145,_146,_147,_148,_149);var _14b=this.getArrXML(_14a);return _14b;};WebSquare.uiplugin.dataController.prototype.getUnmatchedData=function(_14c,_14d,_14e,_14f,_150){["WebSquare.uiplugin.dataController.prototype.getUnmatchedData"];this._endEdit();var _151=[];var _152=this.getUnmatchedIndex(_14c,_14d,_14e,_14f,_150);for(var i=0;i<_152.length;i++){_151.push(this.getRowData(_152[i]));}return _151;};WebSquare.uiplugin.dataController.prototype.getCellChecked=function(_154,_155){["WebSquare.uiplugin.dataController.prototype.getCellChecked"];var _156=[];var _157=this.cellInfoHash[this.getColumnID(_155)];if(_157.options.inputType!="checkbox"&&_157.options.inputType!="radio"){return false;}var _158=this.getCellData(_154,_155);_158=(_158==_157.options.trueValue)?true:false;return _158;};WebSquare.uiplugin.dataController.prototype.hasChild=function(_159){return this.drilldown.hasChild(_159);};WebSquare.uiplugin.dataController.prototype.getMatchedColumnData=function(_15a,_15b,_15c,_15d,_15e,_15f){["WebSquare.uiplugin.dataController.prototype.getMatchedColumnData"];this._endEdit();var _160=[];var _161=this.getMatchedIndex(_15a,_15b,_15d,_15e,_15f);for(var i=0;i<_161.length;i++){_160.push(this.getCellData(_161[i],_15c));}return _160;};WebSquare.uiplugin.dataController.prototype.getUnmatchedColumnData=function(_163,_164,_165,_166,_167,_168){["WebSquare.uiplugin.dataController.prototype.getUnmatchedColumnData"];this._endEdit();var _169=[];var _16a=this.getUnmatchedIndex(_163,_164,_166,_167,_168);for(var i=0;i<_16a.length;i++){_169.push(this.getCellData(_16a[i],_165));}return _169;};WebSquare.uiplugin.dataController.prototype.getColumnDistinctDataArray=function(_16c){["WebSquare.uiplugin.dataController.prototype.getColumnDistinctDataArray"];this._endEdit();var _16d=[];var _16e=[];if(typeof _16c=="string"){_16c=this.bodyIdColIndexMap[_16c];}var _16f=this.getCellInfo(_16c);var _170=this.getColData(_16c);for(var i=0;i<_170.length;i++){var _172=_170[i];_16e[_172]=1;}for(var _173 in _16e){_16d.push(_173);}if(_16f.options.dataType=="text"){_16d=_16d.sort();}else{_16d=_16d.sort(this.comparator);}return _16d;};WebSquare.uiplugin.dataController.prototype.comparator=function(a,b){["WebSquare.uiplugin.dataController.prototype.comparator"];var _176=(parseInt(b)==parseInt(a))?0:(parseInt(b)>parseInt(a))?1:-1;return _176;};WebSquare.uiplugin.dataController.prototype.setRowXML=function(_177,_178,_179){["WebSquare.uiplugin.dataController.prototype.setRowXML"];if(_178==null){$l("data is null");return;}if(!_179){_177=this.insertRow(_177);}var _17a;if(typeof _178.documentElement=="undefined"){_17a=_178;}else{_17a=_178.documentElement;}for(var col=0;col<this.getColumnCount();col++){var _17c=this.getColumnID(col);var _17d=null;if(_17a.selectSingleNode(_17c)!=null){if(this.options.valueNode==""){_17d=this.getTextNodeValue(_17a.selectSingleNode(_17c));}else{_17d=_17a.selectSingleNode(_17c).getAttribute(this.options.valueNode);}}if(_17d==null){_17d=this.getCellInfo(_17c).options.defaultValue;}this.setCellData(_177,col,_17d);}if(_179){this.notifyRowChanged(_177);}else{this.notifyRowInserted(_177);}};WebSquare.uiplugin.dataController.prototype.setRowData=function(_17e,_17f,_180){["WebSquare.uiplugin.dataController.prototype.setRowData"];if(_17f==null){$l("data is null");return;}if(!_180){if(this.isDrillDown){this.drilldown.newRowDepth=_17f[this.drilldown.options.depthColumn]+"";}_17e=this.insertRow(_17e);}var _181=this.getColumnCount();for(var col=0;col<_181;col++){var _183=_17f[col];if(_183==null){_183=this.getCellInfo(col).options.defaultValue;}this.setCellData(_17e,col,_183);}};WebSquare.uiplugin.dataController.prototype.getTextNodeValue=function(_184){["WebSquare.uiplugin.dataController.prototype.getTextNodeValue"];var _185=null;for(var _186=_184.firstChild;_186!=null;_186=_186.nextSibling){if(_186.nodeType=="3"){_185=_186.nodeValue;}}return _185;};WebSquare.uiplugin.dataController.prototype.setColumnFilter=function(_187,_188,_189,_18a){["WebSquare.uiplugin.dataController.prototype.setColumnFilter"];try{this.lastTopRowIndex=null;this.scrollEvent=false;var _18b=this.getElementById(this.id+"_scrollY_div");var _18c=_18b.scrollTop;this.scrollEvent=false;this.rowIndex=0;if(typeof arguments[0]==="object"&&!WebSquare.util.isString(arguments[0])){if(arguments[0].type!=="row"&&arguments[0].type!=="func"&&arguments[0].type!=="regExp"){throw new Error("type does not support.[type:"+arguments[0].type+"]");}this.setFilter({type:arguments[0].type,colIndex:arguments[0].colIndex,key:arguments[0].key,condition:arguments[0].condition,param:arguments[0].param});}else{this.setFilter({type:"row",colIndex:_187,key:_188,condition:_189,exactMatch:_18a});}this.bScrollTop=-1;this.scrollEvent=true;_18b.scrollTop=_18c;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.removeColumnFilter=function(_18d){["WebSquare.uiplugin.dataController.prototype.removeColumnFilter"];try{this.lastTopRowIndex=null;this.scrollEvent=false;var _18e=this.getElementById(this.id+"_scrollY_div");var _18f=_18e.scrollTop;this.scrollEvent=false;this.rowIndex=0;this.removeFilter({type:"row",colIndex:_18d,key:""},false);this.removeFilter({type:"func",colIndex:_18d,key:""},false);this.removeFilter({type:"regExp",colIndex:_18d,key:""},true);this.bScrollTop=-1;this.scrollEvent=true;_18e.scrollTop=_18f;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.removeColumnFilterAll=function(){["WebSquare.uiplugin.dataController.prototype.removeColumnFilter"];try{this.clearFilter();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.sort=function(_190,_191){["WebSquare.uiplugin.grid.prototype.sort"];switch(_191){case 0:this.setFilter({type:"sort",sortIndex:_190,sortOrder:"1",dataType:"text"});break;case 1:this.setFilter({type:"sort",sortIndex:_190,sortOrder:"-1",dataType:"text"});break;case 2:this.clearSortFilter();break;}};WebSquare.uiplugin.dataController.prototype.clearSort=function(){["WebSquare.uiplugin.dataController.prototype.removeColumnFilter"];try{var _192=!!(this.focusedCell.length!=0);var _193;var _194;if(_192){_193=this.filteredRowIndexArr[this.focusedCell[0].focusedRowIndex];_194=this.focusedCell[0].focusedColIndex;}this.clearHeaderSort();this.clearSortFilter();if(_192){for(var i=0;i<this.filteredRowIndexArr.length;i++){if(this.filteredRowIndexArr[i]==_193){this.setFocusedCell(i,_194);break;}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.multisort=function(_196){["WebSquare.uiplugin.dataController.prototype.multisort"];try{_196.type="sort";_196.sortOrder=_196.sortOrder||[];var _197;var _198;var _199=typeof _196.sortIndex;var _19a=typeof _196.sortOrder;if(_199=="object"){_197=_196.sortIndex;}else{if(_199=="string"){_197=_196.sortIndex.split(" ");}}if(_19a=="object"){_198=_196.sortOrder;}else{if(_19a=="string"){_198=_196.sortOrder.split(" ");}}for(var i=0;i<_197.length-_198.length;i++){_198.push(1);}var _19c=[];this._sortArr=[];for(var i=0;i<_197.length;i++){var _19d={};var _199=typeof _197[i];var _19e;if(_199=="string"){_19d.headerId=this._getMatchedHeaderId(_197[i]);_19e=this.getCellInfo(_197[i]);}else{if(_199=="number"){_19d.headerId=this.getHeaderID(_197[i]);_19e=this.getCellInfo(this.getColumnID(_197[i]));}}_19d.id=_197[i];_19d.sortOrder=parseInt(_198[i]);_19d.dataType=(_19e.options.dataType!="number")?"text":"number";_19c.push(_19d.dataType);this._sortArr.push(_19d);this._sortArr[_19d.headerId]=this._sortArr[this._sortArr.length-1];}_196.dataType=_19c.join(" ");this.setFilter(_196);this.drawHeaderSortImages();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype._getMatchedHeaderId=function(_19f){["WebSquare.uiplugin.dataController.prototype._getMatchedHeaderId"];try{return this.bodyToHeaderRelation[_19f];}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.setFilter=function(_1a0){["WebSquare.uiplugin.dataController.prototype.setFilter"];try{var _1a1=!!(this.focusedCell.length!=0);var _1a2;var _1a3;if(_1a1){_1a2=this.filteredRowIndexArr[this.focusedCell[0].focusedRowIndex];_1a3=this.focusedCell[0].focusedColIndex;}_1a0=WebSquare.extend({type:"",colIndex:-1,key:"",condition:"and",bodyIdColIndexMap:this.bodyIdColIndexMap},_1a0||{});if(typeof _1a0.colIndex=="string"){_1a0.colIndex=this.bodyIdColIndexMap[_1a0.colIndex];}var _1a4=this.getCellInfo(_1a0.colIndex);var _1a5=_1a4.options.dataType;_1a0.columnDataType=_1a5;if(_1a0.sortIndex){var _1a6=[];var _1a7=[];var _1a8=[];if(typeof _1a0.sortIndex=="string"){_1a6=_1a0.sortIndex.wq_trim().split(" ");}else{_1a6=_1a0.sortIndex;}if(_1a0.sortOrder&&typeof _1a0.sortOrder=="string"){_1a7=_1a0.sortOrder.wq_trim().split(" ");}if(_1a0.dataType){_1a8=_1a0.dataType.wq_trim().split(" ");}_1a0.sortIndexArr=[];_1a0.sortOrderArr=[];_1a0.dataTypeArr=[];for(var i=0;i<_1a6.length;i++){if(isNaN(_1a6[i])){_1a0.sortIndexArr.push(this.bodyIdColIndexMap[_1a6[i]]);}else{_1a0.sortIndexArr.push(parseInt(_1a6[i],10));}_1a0.sortOrderArr.push(parseInt(_1a7[i])||1);_1a0.dataTypeArr.push(_1a8[i]||"text");}}var _1aa=_1a0.type+"^@"+_1a0.colIndex+"^@"+_1a0.key;this.dataFilter.addFilter(_1aa,this.dataArr,this.getTotalRow(),this.getTotalCol(),_1a0);this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();if(_1a1){for(var i=0;i<this.filteredRowIndexArr.length;i++){if(this.filteredRowIndexArr[i]==_1a2){this.setFocusedCell(i,_1a3);break;}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.removeFilter=function(_1ab,_1ac){_1ab=WebSquare.extend({type:"",colIndex:-1,key:"",condition:"and"},_1ab||{});_1ac=(typeof _1ac=="undefined")?true:_1ac;if(typeof _1ab.colIndex=="string"){_1ab.colIndex=this.bodyIdColIndexMap[_1ab.colIndex];}var _1ad=_1ab.type+"^@"+_1ab.colIndex+"^@"+_1ab.key;this.dataFilter.deleteFilter(_1ad,this.dataArr,this.getTotalRow(),this.getTotalCol(),_1ab,_1ac);this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();};WebSquare.uiplugin.dataController.prototype.clearFilter=function(){this.dataFilter.clear();this.clearHeaderSort();this.rowNumArr=null;this.filteredRowIndexArr=[];var len=this.getTotalRow();for(var i=0;i<len;i++){this.filteredRowIndexArr.push(i);}this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.lastTopRowIndex=null;this.setScrollYHeight();};WebSquare.uiplugin.dataController.prototype.clearSortFilter=function(){var _1b0="sort^@";this.dataFilter.deleteFilterById(_1b0,false);this.dataFilter.executeAllFilter(this.dataArr,this.getTotalRow(),this.getColumnCount());this.rowNumArr=null;this.removeFocusedCell();this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();};WebSquare.uiplugin.dataController.prototype.getExcelAllXML=function(_1b1){["WebSquare.uiplugin.dataController.prototype.getExcelAllXML"];try{var _1b2=new Array();_1b2.push("<array><![CDATA[");_1b2.push("[\"");for(var i=0;i<this.getDataLength();i++){for(var j=0;j<this.getTotalCol();j++){_1b2.push(this.getCellData(i,j));_1b2.push("\",\"");}}_1b2[_1b2.length-1]="\"]";_1b2.push("]]></array>");return (_1b2.join(""));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.getExcelAllXMLDisplay=function(){["WebSquare.uiplugin.dataController.prototype.getExcelAllXMLDisplay"];try{var _1b5=new Array();_1b5.push("<array><![CDATA[");_1b5.push("[\"");for(var i=0;i<this.getDataLength();i++){for(var j=0;j<this.getTotalCol();j++){var _1b8=this.getCellInfo(j);var _1b9=_1b8.getDisplayData(this.getCellData(i,j),i);_1b5.push(_1b9);_1b5.push("\",\"");}}_1b5[_1b5.length-1]="\"]";_1b5.push("]]></array>");return (_1b5.join(""));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.getExcelAllXMLRaw=function(_1ba){["WebSquare.uiplugin.dataController.prototype.getExcelAllXML"];try{var len=this.dataArr.length;var _1bc=this.dataArr[0];var _1bd=this.dataArr[len-1];this.dataArr[0]="<array><![CDATA[[\""+_1bc;this.dataArr[len-1]=_1bd+"\"]]]></array>";var _1be=this.dataArr.join("\",\"");this.dataArr[0]=_1bc;this.dataArr[len-1]=_1bd;return _1be;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.makeExcelData=function(_1bf,_1c0,_1c1,_1c2){["WebSquare.uiplugin.dataController.prototype.makeExcelData"];try{var len=_1c0.length;var to=_1bf+_1c1.rowsByN;to=(to<_1c1.dataLength)?to:_1c1.dataLength;var _1c5=this.oneRowDataLength;var _1c6=_1c1.cellInfo;var _1c7=_1c1.isPlainDataCol;var _1c8=_1c1.isSelectCol;var _1c9=_1c1.isBasicCol;var _1ca=_1c1.isExpCol;var _1cb=_1c1.separator||",";if(_1c1.type===0){for(var i=_1bf;i<to;i++){var _1cd=this.filteredRowIndexArr[i];for(var j=0;j<_1c5;j++){if(_1ca[j]){_1c0[len++]=_1c6[j].getExpressionValue(_1cd);}else{var _1cf=this.dataArr[_1cd*_1c5+j];_1c0[len++]=(_1cf!==null&&_1cf!==undefined)?_1cf:"";}}}}else{if(_1c1.type===1){for(var i=_1bf;i<to;i++){var _1cd=this.filteredRowIndexArr[i];for(var j=0;j<_1c5;j++){var _1cf;if(_1ca[j]){_1cf=_1c6[j].getExpressionValue(_1cd);}else{_1cf=this.dataArr[_1cd*_1c5+j];_1cf=(_1cf!==null&&_1cf!==undefined)?_1cf:"";}if(_1c9[j]||_1ca[j]){_1cf=_1c6[j].formatter?_1c6[j].formatter.format(_1cf):_1cf;}else{if(_1c8[j]){var ret=_1c6[j].getData(_1cf,_1cd);if(ret==null){ret="";}_1cf=ret;}}_1c0[len++]=_1cf;}}}else{to=_1c1.dataLength;_1c0=this.dataArr;len=_1c0.length;}}var _1d1=this;if(to<_1c1.dataLength){if(_1c1.massStorage!==false){this.excelTime=setTimeout(function(){try{if(_1c1.showConfirm===true){window["gridExceldownloadIframe"].contentWindow.checkUpload(_1c0.length/_1d1.dataArr.length);}}catch(e){}_1d1.makeExcelData(to,_1c0,_1c1,_1c2);},10);}else{this.makeExcelData(to,_1c0,_1c1,_1c2);}}else{var _1d2;if(_1c0.length>=2){if(_1c1.groupby&&this.groupbyStatus.grouped){if(this.defaultColCnt>0){var _1cd=0;var _1d3=1;var _1d4=[];var _1d5=false;for(var i=0;i<_1c0.length;i++){if(i%this.getColCnt()==0||i==0){if(this.options.rowNumVisible){var _1d6="";if(typeof this.filteredRowIndexArr[_1cd]!="number"){_1d5=true;}else{_1d5=false;_1d6=_1d3;_1d4.push(_1d6);}}if(this.options.rowStatusVisible){var _1d7="";if(typeof this.filteredRowIndexArr[_1cd]!="number"){_1d5=true;}else{_1d5=false;_1d7=this.getRowStatus(_1cd);_1d4.push(_1d7);}}_1cd++;if(!_1d5){_1d3++;}}if(!_1d5){_1d4.push(_1c0[i]);}}_1c0=_1d4;len=_1c0.length;}}if(len>0){var _1d8=_1c0[0];var _1d9=_1c0[len-1];_1c0[0]="<array><![CDATA[[\""+_1d8;_1c0[len-1]=_1d9+"\"]]]></array>";_1d2=_1c0.join("\""+_1cb+"\"");_1c0[0]=_1d8;_1c0[len-1]=_1d9;}else{_1d2="<array><![CDATA[["+_1c0+"]]]></array>";}}else{var data=(_1c0.length===1)?("\""+_1c0[0]+"\""):"";_1d2="<array><![CDATA[["+data+"]]]></array>";}if(_1c1.showConfirm===true){this.excelOptions=_1c1;this.excelInfoArr=_1c2;this.excelFinalStr=_1d2;this.checkUpload();}else{this.sendExcelData(_1c1,_1c2,_1d2);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.getRowStyleClassName=function(_1db){["WebSquare.uiplugin.dataController.prototype.getRowStyleClassName"];try{var _1dc=this.filteredRowIndexArr[_1db];if(_1dc==null){return null;}else{if(typeof _1dc!="number"){_1dc=_1dc.type+"_"+_1dc.groupId;}}return this.rowStyleArr[_1dc];}catch(e){$l("getRowStyleClassName :"+e.message);WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.setRowStyleClassName=function(_1dd,_1de){["WebSquare.uiplugin.dataController.prototype.setRowStyleClassName"];try{var _1df=this.filteredRowIndexArr[_1dd];if(_1df==null){return;}else{if(typeof _1df!="number"){_1df=_1df.type+"_"+_1df.groupId;}}this.rowStyleArr[_1df]=_1de;}catch(e){$l("setRowStyleClassName :"+e.message);WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.getCellStyleClassName=function(_1e0,_1e1){["WebSquare.uiplugin.dataController.prototype.getCellStyleClassName"];try{_1e1=this.getColumnIndex(_1e1);var _1e2=this.filteredRowIndexArr[_1e0];if(_1e2==null){return null;}else{if(typeof _1e2=="number"){return this.cellStyleArr[_1e2*this.oneRowDataLength+_1e1];}else{return this.cellStyleArr[_1e2.type+"_"+_1e2.groupId+"_"+_1e1];}}}catch(e){$l("getCellStyleClassName :"+e.message);WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.setCellStyleClassName=function(_1e3,_1e4,_1e5){["WebSquare.uiplugin.dataController.prototype.setCellStyleClassName"];try{_1e4=this.getColumnIndex(_1e4);var _1e6=this.filteredRowIndexArr[_1e3];if(_1e6==null){return;}else{if(typeof _1e6=="number"){this.cellStyleArr[_1e6*this.oneRowDataLength+_1e4]=_1e5;}else{this.cellStyleArr[_1e6.type+"_"+_1e6.groupId+"_"+_1e4]=_1e5;}}}catch(e){$l("setCellStyleClassName :"+e.message);WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.refreshColumnItemset=function(_1e7){["WebSquare.uiplugin.dataController.prototype.refreshColumnItemset"];try{var _1e8=this.getCellInfo(_1e7);_1e8.resetMatchInfo=true;if(_1e8.options.embeddedInput){_1e7=this.getColumnIndex(_1e8.options.col_id);for(var i=0;i<this.drawedRowLength;i++){var td=this.data_td_list[_1e7+i*this.oneRowDataLength];if(td){var _1eb=this.dom[td.getAttribute("id")+"_select"];if(_1eb){_1eb.refreshItemset();}}}}else{if(_1e8.options.inputType=="select"){if(_1e8.hasRef){_1e8.refHash=[];}if(_1e8.select){_1e8.select.refreshItemset();}}else{if(_1e8.options.inputType=="checkcombobox"){_1e8.refreshItemArr();if(_1e8.checkcombobox){}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.refreshRadioGroup=function(_1ec){["WebSquare.uiplugin.dataController.prototype.refreshRadioGroup"];try{var _1ed={};var _1ee=[];for(var i=0;i<this.oneRowDataLength;i++){var _1f0=this.getCellInfo(i);if(_1f0.options.inputType=="radio"&&_1f0.options.groupName==_1ec){if(_1f0.options.groupRef){_1f0.options.groupValue=WebSquare.ModelUtil.getInstanceValue(_1f0.options.groupRef);}_1ed[_1f0.options.groupValue]=_1f0;_1ee.push(_1f0);}}if(_1ee.length==0){return;}var len=this.getDataLength();for(var i=0;i<len;i++){var _1f2=this.getCellData(i,_1ec);var _1f3=_1ed[_1f2];if(_1f3){this.setCellData(i,_1f3.id,_1f3.options.trueValue);}else{for(var j=0;j<_1ee.length;j++){var _1f0=_1ee[j];this.setCellData(i,_1f0.id,_1f0.options.defaultValue);}var _1f5=this.getCellInfo(_1ec);if(_1f5){this.setCellData(i,_1ec,_1f5.options.defaultValue);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.resetRadioGroup=function(_1f6,_1f7){return this._resetRadioGroup.call(this,_1f6,_1f7,true);};WebSquare.uiplugin.dataController.prototype._resetRadioGroup=function(_1f8,_1f9,_1fa){["WebSquare.uiplugin.dataController.prototype.refreshRadioGroup"];try{var _1fb=[];for(var i=0;i<this.oneRowDataLength;i++){var _1fd=this.getCellInfo(i);if(_1fd.options.inputType=="radio"&&_1fd.options.groupName==_1f9){_1fb.push(_1fd);}}if(_1fb.length==0){return;}if(typeof _1f8=="number"){var _1fe=_1f8;var end=_1f8+1;}else{var _1fe=0;var end=this.getDataLength();}for(var i=_1fe;i<end;i++){for(var j=0;j<_1fb.length;j++){var _1fd=_1fb[j];this.setCellData(i,_1fd.id,_1fd.options.defaultValue);}if(_1fa){var _201=this.getCellInfo(_1f9);if(_201){this.setCellData(i,_1f9,_201.options.defaultValue);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype.editEndBeforeGetData=function(){if(this.editedCell&&this.rollbackCommitFlag&&this.options.rollbackCommit==true){this.rollbackCommitFlag=false;this.editedCell.handleEndEdit();this.rollbackCommitFlag=true;}};WebSquare.uiplugin.dataController.prototype.getExtraDataObj=function(_202,_203,_204){var data=this.extraData;if(_202=="grid"){return data.grid;}else{if(_202=="row"){if(!data.row[_203]){data.row[_203]={};}return data.row[_203];}else{if(_202=="col"){if(!data.col[_203]){data.col[_203]={};}return data.col[_203];}else{if(_202=="cell"){if(!data.cell[_203]){data.cell[_203]=[];}if(!data.cell[_203][_204]){data.cell[_203][_204]={};}return data.cell[_203][_204];}}}}return null;};WebSquare.uiplugin.dataController.prototype._rangeSort=function(_206,_207,_208){["WebSquare.uiplugin.dataController.prototype._rangeSort"];try{_206=_206||[];_207=_207||[];_208=_208||[];var _209={};_209.sortIndexArr=_207;_209.sortOrderArr=_208;_209.sortFuncArr=[];_209.dataTypeArr=[];for(var i=0;i<_207.length;i++){var _20b=this.getCellInfo(_207[i]).options.dataType;_209.dataTypeArr.push(_20b);}var _20c=this._rangeSortExecute(this.dataArr,_206.length,this.getColumnCount(),_206,_209);return _20c;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataController.prototype._rangeSortExecute=function(_20d,_20e,_20f,_210,_211){["WebSquare.uiplugin.dataController.prototype._rangeSortExecute"];try{var _212=_210.slice(0);var func=function(_214,_215){return function(a,b){if(_214=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_215;}else{if(a<b){return -1*_215;}else{return 0;}}};};for(var i=0;i<_211.sortIndexArr.length;i++){if(!_211.sortFuncArr[i]){_211.sortFuncArr[i]=func(_211.dataTypeArr[i],_211.sortOrderArr[i]);}}_212.sort(function(lhs,rhs){for(var i=0;i<_211.sortIndexArr.length;i++){var _21c=_211.sortFuncArr[i](_20d[lhs*_20f+_211.sortIndexArr[i]],_20d[rhs*_20f+_211.sortIndexArr[i]],lhs,rhs);if(_21c!=0){return _21c;}}return 0;});return _212;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.mainDrawController=function(_1){["WebSquare.uiplugin.mainDrawController"];};WebSquare.uiplugin.mainDrawController.prototype.initializeDrawController=function(){["WebSquare.uiplugin.mainDrawController.prototype.initializeDrawController"];this.data_td_list=[];this.data_num_td_list=[];this.data_status_td_list=[];this.all_data_td_list=[];};WebSquare.uiplugin.mainDrawController.prototype.setScrollYHeight=function(){["WebSquare.uiplugin.mainDrawController.prototype.setScrollYHeight"];};WebSquare.uiplugin.mainDrawController.prototype.handleScrollY=function(){["WebSquare.uiplugin.layoutController.handleScrollY"];};WebSquare.uiplugin.mainDrawController.prototype.drawDataTable=function(_2){["WebSquare.uiplugin.mainDrawController.prototype.drawDataTable"];};WebSquare.uiplugin.mainDrawController.prototype.showAllBodyTR=function(_3){["WebSquare.uiplugin.mainDrawController.prototype.showAllBodyTR"];var _3=_3||"";for(var i=0;i<this.drawedRowLength;i++){this._setRowDisplay(i,_3);}this.lastDisplayedRow=_3==="none"?-1:this.drawedRowLength-1;};WebSquare.uiplugin.mainDrawController.prototype._setRowDisplay=function(_5,_6){["WebSquare.uiplugin.mainDrawController.prototype._setRowDisplay"];var _7=null;for(var i=0;i<this.oneRowLength;i++){_7=this.dataRowList[this.oneRowLength*_5+i];if(_7){_7.style.display=_6;if(_6=="none"){this.__addClass(_7,"w2grid_hidedRow");}else{this.__removeClass(_7,"w2grid_hidedRow");}}}return _7;};WebSquare.uiplugin.mainDrawController.prototype.setDataTable=function(){["WebSquare.uiplugin.mainDrawController.prototype.setDataTable"];};WebSquare.uiplugin.mainDrawController.prototype.drawData=function(_9){["WebSquare.uiplugin.mainDrawController.prototype.drawData"];var _a=0;if(_9+this.maxRowLength>this.getDataLength()){_a=_9+this.getDataLength()-this.maxRowLength;}this.setEvenOddBackground(_9);if(this.rowIndex!=_9){this.changeFocusedCellPosition(_9);}if(this.rowIndex!=_9||this.drawSizeAdded){this.rowIndex=_9;this.showAllBodyTR("");for(var i=0;i<this.maxRowLength-_a;i++){if(i+this.rowIndex<this.getDataLength()){this.drawRowData(i,_9+i);}else{this.hideRow(i);}}}if(_a>0){this.maxRowLength+=_a;this.handleBodyResize();}};WebSquare.uiplugin.mainDrawController.prototype.drawRowData=function(_c,_d){["WebSquare.uiplugin.mainDrawController.prototype.drawRowData"];for(var i=0;i<this.oneRowDataLength;i++){this.drawCellData(_c,_d,i);}this._drawRowNumData(_c,_d);this._drawRowStatus(_c,_d);};WebSquare.uiplugin.mainDrawController.prototype.drawColumnData=function(_f,_10){["WebSquare.uiplugin.mainDrawController.prototype.drawColumnData"];_f=this.getColumnIndex(_f);for(var i=0;i<=this.lastIndex;i++){var _12=i+this.rowIndex;var _13=this.getCellInfo(_f);if(_10&&_13.select&&_13.hasRef){_13.select.itemArr=_13.getRefItemArr(_12);_13.select.setSelectOptions();if(!_13.select.setValueNM(_13.mainGrid._getData(_12,_f))){_13.mainGrid._setData(_12,_f,"");}}this.drawCellData(i,_12,_f);}};WebSquare.uiplugin.mainDrawController.prototype.addGridScroll=function(gap){["WebSquare.uiplugin.drawController2.prototype.addGridScroll"];};WebSquare.uiplugin.mainDrawController.prototype.setFocusedCellPosition=function(){["WebSquare.uiplugin.mainDrawController.prototype.setFocusedCellPosition"];};WebSquare.uiplugin.mainDrawController.prototype._setMouseOverTr=function(e,_16){["WebSquare.uiplugin.mainDrawController.prototype._setMouseOverTr"];this.setOverClass(_16,"overTd",true);};WebSquare.uiplugin.mainDrawController.prototype._setMouseOutTr=function(e,_18){["WebSquare.uiplugin.mainDrawController.prototype._setMouseOutTr"];this.setOverClass(_18,"overTd",false);};WebSquare.uiplugin.mainDrawController.prototype.setOverClass=function(_19,_1a,_1b){["WebSquare.uiplugin.mainDrawController.prototype.setOverClass"];var _1c=_19.parentNode;var _1d=parseInt(_1c.getAttribute("trIndex"));while(_1d>0){_1d--;_1c=WebSquare.util.prev(_1c);}do{var _1e=WebSquare.util.first(_1c);while(_1e!=null){if(_1e.offsetLeft>this.render.offsetWidth){break;}if(_1e.offsetWidth>0){var _1f="";if(_1b){_1e.setAttribute("row_out_style",_1e.style.cssText);_1e.style.cssText=_1e.style.cssText+";background-color:"+this.options.rowMouseOverColor;}else{_1e.style.cssText=_1e.getAttribute("row_out_style");}}_1e=WebSquare.util.next(_1e);}_1c=WebSquare.util.next(_1c);}while(_1c!=null&&_1c.getAttribute("trIndex")!="0");};WebSquare.uiplugin.mainDrawController.prototype.changeFocusedCellPosition=function(_20,_21){["WebSquare.uiplugin.mainDrawController.prototype.changeFocusedCellPosition"];if(this.focusedCell.length==0){return;}this.applyFocusedCellOut();for(var i=0;i<this.focusedCell.length;i++){targetRowIndex=this.focusedCell[i].focusedRowIndex-_20;targetColIndex=this.focusedCell[i].focusedColIndex;var _23=null;if(targetRowIndex<0||targetRowIndex>this.maxRowLength){_23=null;}else{_23=this.data_td_list[targetColIndex+targetRowIndex*this.oneRowDataLength];this.applyFocusedCellIn(_23,_21);}this.focusedCell[i].focusedTd=_23;}};WebSquare.uiplugin.mainDrawController.prototype.setTRClass=function(_24,_25,_26){["WebSquare.uiplugin.mainDrawController.prototype.setTRClass"];var _27=_24.parentNode;var _28=parseInt(_27.getAttribute("trIndex"));while(_28>0){_28--;_27=WebSquare.util.prev(_27);}do{var _29=WebSquare.util.first(_27);while(_29!=null){if(_26){this.addClass(_29,_25);}else{this.removeClass(_29,_25);}_29=WebSquare.util.next(_29);}_27=WebSquare.util.next(_27);}while(_27!=null&&_27.getAttribute("trIndex")!="0");};WebSquare.uiplugin.mainDrawController.prototype.setEditMode=function(_2a){var _2b=_2a.getAttribute("col_id");if(_2b==null||_2b.wq_trim()==""){return;}if(_2a.getAttribute("colMerged")=="1"){return;}var _2c=parseInt(_2a.getAttribute("tdIndex"));var _2d=parseInt(_2c/this.realRowDataLength);var _2e=_2d+this.rowIndex;var _2f=_2a.getAttribute("col_id");var _30=this.getCellInfo(_2f);if(_30.options.embeddedInput||_30.options.inputType=="drilldown"||this.groupbyStatus.grouped){return;}if(this.getEditReadOnly(_2a,_2e)){this.editMode=false;if(_30.options.showReadOnly){this.editMode=true;_30.showReadonly(_2a,_2e);}return;}if(this.getEditDisabled(_2e,_2f)){this.editMode=false;if(_30.options.showReadOnly){this.editMode=true;_30.showReadonly(_2a,_2e);}return;}var _31=WebSquare.event.fireEvent(this,"onbeforeedit",_2e,_2f,this.getCellData(_2e,_2f));if(_31!=false){if(this.editedCell==null){this.editMode=true;this.setCellEditMode(_2a,_2e);}}};WebSquare.uiplugin.mainDrawController.prototype.getEditReadOnly=function(_32,_33){var _34=_32.getAttribute("col_id");return this._getEditReadOnly(_33,_34);};WebSquare.uiplugin.mainDrawController.prototype.getReadOnly=function(){var _35=WebSquare.util.getBoolean;var _36=arguments[0];if(_36=="grid"||arguments.length==0){return _35(this.options.readOnly);}else{if(_36=="row"){return _35(this.getRowReadOnly(arguments[1]));}else{if(_36=="column"){var _37=this.getColumnID(arguments[1]);return _35(this.getColumnReadOnly(_37));}else{if(_36=="cell"){var _38=arguments[1];var _37=this.getColumnID(arguments[2]);return _35(this.getCellReadOnly(_38,_37));}else{if(_36=="all"){var _38=arguments[1];var _37=this.getColumnID(arguments[2]);return this._getEditReadOnly(_38,_37);}}}}}};WebSquare.uiplugin.mainDrawController.prototype.setReadOnly=function(){try{var _39=arguments[0];if(arguments.length==1||_39=="grid"){var _3a=arguments[arguments.length-1];this.options.readOnly=WebSquare.util.getBoolean(_3a);var _3b=this.getDataLength();if(_3b!=0){this.notifyDataChanged();}}else{if(_39=="row"){this.setRowReadOnly(arguments[1],arguments[2]);}else{if(_39=="column"){this.setColumnReadOnly(arguments[1],arguments[2]);}else{if(_39=="cell"){this.setCellReadOnly(arguments[1],arguments[2],arguments[3]);}}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.mainDrawController.prototype._getEditReadOnly=function(_3c,_3d){var _3d=this.getColumnID(_3d);var _3e=this.getCellReadOnly(_3c,_3d);var _3f=this.cellInfoHash[_3d];var _40=WebSquare.util.getBoolean;if(_3e+""!=""){return _40(_3e);}var _41=this.options.readOnlyPriority;var _42=_3f.options.readOnly;var _43=this.getRowReadOnly(_3c);if(_41=="column"&&_42!==""){return _40(_42);}else{if(_41=="row"&&_43!==""){return _40(_43);}else{if(_42+""=="true"||_43+""=="true"){return true;}else{if(_42+""=="false"||_43+""=="false"){return false;}}}}if(this.options.readOnly+""!=""){return _40(this.options.readOnly);}return false;};WebSquare.uiplugin.mainDrawController.prototype.getDisabled=function(){var _44=WebSquare.util.getBoolean;var _45=arguments[0];if(_45=="grid"||_45==undefined){return _44(this.options.disabled);}else{if(_45=="row"){return _44(this.getRowDisabled(arguments[1]));}else{if(_45=="column"){var _46=this.getColumnID(arguments[1]);return _44(this.getColumnDisabled(_46));}else{if(_45=="cell"){var _47=arguments[1];var _46=this.getColumnID(arguments[2]);return _44(this.getCellDisabled(_47,_46));}else{if(_45=="all"){var _47=arguments[1];var _46=this.getColumnID(arguments[2]);return this.getEditDisabled(_47,_46);}}}}}};WebSquare.uiplugin.mainDrawController.prototype.setDisabled=function(){try{var _48=arguments[0];if(arguments.length==1||_48=="grid"){var _49=arguments[arguments.length-1];_49=WebSquare.util.getBoolean(_49);if(_49!=this.options.disabled){this.options.disabled=_49;var _4a=this.getElementById(this.id+"_dataLayer");_4a.disabled=_49;if(_49){this.addClass(_4a,"w2grid_disabled");}else{this.removeClass(_4a,"w2grid_disabled");}this.drawData(this.rowIndex);var _4b=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_4b.length;i++){var _4d=_4b[i].getAttribute("header_id");var _4e=this.headerObj[_4d];if(_4e){if(_4e.setDisabled){_4e.setDisabled(_49);}else{if(_4e.render){_4e.render.disabled=_49;}else{_4e.disabled=_49;}}}else{_4b[i].disabled=_49;}}}return _49;}else{if(_48=="row"){this.setRowDisabled(arguments[1],arguments[2]);}else{if(_48=="column"){this.setColumnDisabled(arguments[1],arguments[2]);}else{if(_48=="cell"){this.setCellDisabled(arguments[1],arguments[2],arguments[3]);}}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.mainDrawController.prototype.getEditDisabled=function(_4f,_50){try{var _50=this.getColumnID(_50);var _51=this.getCellDisabled(_4f,_50);var _52=WebSquare.util.getBoolean;var _53=this.cellInfoHash[_50];var _54=this.filteredRowIndexArr[_4f];if(_51+""!=""){return _52(_51);}var _55=this.options.disabledPriority;var _56=_53.options.disabled;if(_56!==""){_56=WebSquare.util.getBoolean(_56);}var _57=this.rowDisabledArr[_54];if(_57!=true&&_57!=false){_57="";}if(_55=="column"&&_56!==""){return _52(_56);}else{if(_55=="row"&&_57!==""){return _52(_57);}else{if(_56+""=="true"||_57+""=="true"){return true;}else{if(_56+""=="false"||_57+""=="false"){return false;}}}}if(this.options.disabled+""!=""){return _52(this.options.disabled);}return false;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.mainDrawController.prototype.getElemRowIndex=function(_58){var _59=parseInt(_58.getAttribute("tdIndex"));var _5a=parseInt(_59/this.realRowDataLength);var _5b=_5a+this.rowIndex;return _5b;};WebSquare.uiplugin.mainDrawController.prototype.notifyDataChanged=function(_5c){var _5d=_5c?(_5c.append||false):false;var _5e=_5c?(_5c.keepTop||false):false;var _5f=_5e&&this.rowIndex>=0?this.rowIndex:0;if(this.delayedDraw({rowIndex:_5f})){return;}var _60=this._setGridBorderNoRefresh||false;this._setGridBorderNoRefresh=true;if(this.options.senseReader&&this.rowIndex<=0){this.senseReaderMode=true;this.setDataTable();this.drawData(0);this.senseReaderMode=false;this.displayNoResultMessage();this._setGridBorderNoRefresh=_60;return;}if(_5d&&!this.loadFlag){this.drawFooter();this.drawHeader();return;}var _61=this.drawDataTable(0);if(_61==0){if(_5d){this.setScrollYHeight();}this.drawData(_5f);}this.displayNoResultMessage();this.drawFooter();this.drawHeader();this._setGridBorderNoRefresh=_60;};WebSquare.uiplugin.mainDrawController.prototype.notifyCellChanged=function(_62,_63){if(this.delayedDraw({})){return;}this._drawRowStatus(_62-this.rowIndex,_62);this.drawCellData(_62-this.rowIndex,_62,_63);var _64=this.getColumnID(_63);var _65=this.expressionAssArr[_64];if(_65!=null){for(var i=0;i<_65.length;i++){var _67=this.getColumnIndex(_65[i]);this.drawCellData(_62-this.rowIndex,_62,_67);}}this.displayNoResultMessage();if(this.hasSubtotal){this.refreshSubtotalRow(_62);}this.drawFooter(_64);this.drawHeader(_64);};WebSquare.uiplugin.mainDrawController.prototype.notifyRowChanged=function(_68){if(this.delayedDraw({rowIndex:_68})){return;}if(this.options.senseReader&&this.rowIndex<=0){this.senseReaderMode=true;this.setDataTable();this.drawData(0);this.senseReaderMode=false;this.displayNoResultMessage();return;}if(this.rowIndex==-1){this.drawDataTable(0);}else{this.lastTopRowIndex=null;var _69=this.getDataLength();var _68=_68||this.rowIndex;var _6a=_68-this.rowIndex;if(0<=_6a&&_6a<=this.lastIndex&&(this.rowIndex<=0||this.rowIndex+this.lastIndex<_69)){this.drawData(this.rowIndex,0);}else{if((0<=_6a&&_6a<=this.lastIndex)||_6a<0){var _6b=this.rowIndex-1;if(_6b+this.lastIndex>=_69){_6b=_69-this.lastIndex-1;}_6b=_6b>0?_6b:0;this.drawData(_6b,0);}}}this.displayNoResultMessage();if(this.hasSubtotal){this.refreshSubtotalRow(_68);}this.drawFooter();this.drawHeader();};WebSquare.uiplugin.mainDrawController.prototype.notifyRowInserted=function(_6c){_6c=parseInt(_6c,10);if(this.delayedDraw({rowIndex:_6c})){return;}if(this.options.senseReader&&this.rowIndex<=0){this.senseReaderMode=true;this.setDataTable();this.drawData(0);this.senseReaderMode=false;this.displayNoResultMessage();return;}this.lastTopRowIndex=null;if(this.rowIndex==-1){if(this.drawDataTable(0)==0){this.drawData(0,0);}}else{if(this.options.visibleRowNum!==""){this.setDataTable();this.drawData(0);}else{var _6d=_6c-this.rowIndex;var _6e=this.getElementById(this.id+"_scrollY_div");if(_6d<0){var _6f=this.getElementById(this.id+"_scrollY_div");this.scrollEvent=false;_6f.scrollTop=20*_6c;this.drawData(_6c,0);}else{if(_6e.offsetHeight>=_6e.scrollHeight||_6d<=this.lastIndex){this.drawData(this.rowIndex,_6d);}}}}if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();var _70=this.rowIndex+this.lastIndex;if(_70<_6c){this.scrollEvent=false;var _6f=this.getElementById(this.id+"_scrollY_div");_6f.scrollTop=20*_6c;var _71=parseInt(_6f.scrollTop/20);this.drawData(_71);}this.displayNoResultMessage();this.drawFooter();this.drawHeader();};WebSquare.uiplugin.mainDrawController.prototype.displayNoResultMessage=function(){var _72=this.getElementById(this.id+"_noresult");if(this.options.noResultMessageVisible&&this.removed==false&&this.initFlag==false&&this.getDataLength()==0){_72.innerHTML=this.options.noResultMessage;_72.style.display="block";var _73=this.getStyle("height").replace("px","");var _74=parseInt(_73,10);var _75=this.getElementById(this.id+"_head_table").offsetHeight;var _76=this.getElementById(this.id+"_foot_table");var _77=0;if(_76){_77=_76.offsetHeight;}var _78=this.getElementById(this.id+"_noresult").offsetHeight-this.getElementById(this.id+"_noresult").clientHeight;var _79=this.getElementById(this.id+"_noresult").offsetHeight;var _7a=_74-_75-_77;if(_7a<=_79){this.getElementById(this.id+"_noresult").style.top=(_75+_78)+"px";this.setGridHeight(_75+_77+_79+_78);}}else{_72.style.display="none";}this.removed=false;if(!this.delayedDrawObj&&!this.removeAllFinish){this.initFlag=false;}};WebSquare.uiplugin.mainDrawController.prototype.delayedDraw=function(_7b){if(this.resizeObj.width==0||this.resizeObj.height==0){if(!this.delayedDrawObj){this.delayedDrawObj={};}this.delayedDrawObj.redraw=true;if(_7b.hasOwnProperty("rowIndex")){this.delayedDrawObj.rowIndex=_7b.rowIndex;}return true;}return false;};WebSquare.uiplugin.mainDrawController.prototype.setRedrawStatus=function(_7c){if(_7c=="stop"){if(!this.delayedDrawObj){this.delayedDrawObj={};}}else{this.setDataLayerPosition();this.scrollX_right.scrollLeft=this.resizeObj.scrollLeft;this.getElementById(this.id+"_scrollY_div").scrollTop=this.resizeObj.scrollTop;this.handlerResize_drawInitializer();this._handleScrollX();if(this.options.autoFit){this.autoFitFunc();}if(this.delayedDrawObj.redraw){this.setDataTable();this.setColIndexInfo();var _7d=this.delayedDrawObj.rowIndex||0;var _7e=_7d;var _7f=this.getDataLength();if(_7f-this.drawedRowLength<_7e){_7e=_7f-this.drawedRowLength;(_7e<0)&&(_7e=0);}this.drawData(_7e);this.setScrollYHeight();var _80=this.rowIndex+this.lastIndex;if(_80<_7d){this.scrollEvent=false;var _81=this.getElementById(this.id+"_scrollY_div");_81.scrollTop=20*_7d;var _82=parseInt(_81.scrollTop/20);this.drawData(_82);}this.drawFooter();this.drawHeader();this.displayNoResultMessage();}this.delayedDrawObj=null;}};WebSquare.uiplugin.drawController=function(_1){["WebSquare.uiplugin.drawController"];};WebSquare.uiplugin.drawController.prototype.setScrollYHeight=function(_2){["WebSquare.uiplugin.drawController.prototype.setScrollYHeight"];var _3=this.getDataLength();var _4=this.rowIndex;var _5=_2?(_2.noDraw||false):false;var _6=this.getElementById(this.id+"_size_y");var _7=this.getElementById(this.id+"_scrollY_div");var _8=_6.parentNode.offsetHeight;if(_8==0){_8=parseInt(this.getStyle("height"));}if(_4==-1||(_4==0&&_4+this.lastIndex+1==_3)){var _9=true;if(this.hasSubtotal&&this.drawedSubtotal.length>0){var _a=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_a.rowIndex+1!=_3){_9=false;}}if(_9){if(_6.tagName.toLowerCase()=="table"){_7.innerHTML=this.getScrollY();this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");}_6.style.height="0px";this.handlerResize_drawInitializer();return;}}var _b;if(this.options.visibleRowNum!==""){if(this.options.senseReader){_b=_3-(this.lastIndex+1);}else{_b=_3-this.drawedRowLength;}if(_b<0){_b=0;}}else{if(this.lastTopRowIndex&&this.lastTopRowIndex>0){_b=Math.ceil(this.lastTopRowIndex);}else{var _c=this.getElementById(this.id+"_head_table");var _d=this.dataLayerHeight-_c.offsetHeight;var _e=parseInt(_d/this.oneRowHeight);if(this.options.fixHeight||this.hasSubtotal){_b=_3-_e>1?_3-_e:1;}else{if(this.options.senseReader){_b=_3-(this.lastIndex+1)>0?_3-(this.lastIndex+1):1;}else{_b=_3-this.drawedRowLength+1>1?_3-this.drawedRowLength+(this.isMobile?0:1):1;}}}}var _f=_7.scrollTop;var _10=_8+20*_b;if(_10<=1000000&&_6.tagName.toLowerCase()!="table"){_6.style.height=_10+"px";}else{if(_10<=1000000){_7.innerHTML=this.getScrollY();this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");_6.style.height=_10+"px";}else{if(WebSquare.core.browserCheck.ie&&!this.isIE6or7){var _11=[];_11.push("<table id='"+this.id+"_size_y' style='border-collapse:collapse; border-spacing:0px;height:0px; position:absolute; top:0px; left:0px; width:18px'><tbody>");while(_10>1000000){_11.push("<tr style='height:1000000px'><td></td></tr>");_10-=1000000;}_11.push("<tr style='height:"+_10+"px'><td></td></tr></tbody></table>");_7.innerHTML=_11.join("");this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");}else{if(_6.tagName.toLowerCase()=="table"){_7.innerHTML=this.getScrollY();this.dom[this.id+"_size_y"]=null;_6=this.getElementById(this.id+"_size_y");}if(WebSquare.core.browserCheck.moz){_6.style.height=(_10+1)+"px";}else{_6.style.height=_10+"px";}}}}if(Math.floor(_f/20)!=_4){if(this.lastTopRowIndex&&this.lastTopRowIndex==_4){_4=this.lastTopRowIndex+1;}if(_5&&_7.scrollTop!=20*_4){this.scrollEvent=false;}_7.scrollTop=20*_4;this.bScrollTop=parseInt(_7.scrollTop/20);}var _8=_7.offsetHeight;var _12=parseInt(_6.style.height,10)-_8;if(_12>0&&_12==_7.scrollTop){var _13=this.getDataLength();var _9=false;if(this.hasSubtotal){if(this.drawedSubtotal.length>0){var _14=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_14.rowIndex==_13-1){lastTr=_14[_14.length-1];if(lastTr.style.display!="none"){_9=true;}}}}else{_9=true;}if(this.rowIndex+this.lastIndex+1!=_13||!_9){_6.style.height=(parseInt(_6.style.height,10)+20)+"px";}}this.lastScrollYTop=_7.scrollTop;this.handlerResize_drawInitializer();};WebSquare.uiplugin.drawController.prototype.addGridScroll=function(gap){["WebSquare.uiplugin.drawController.prototype.addGridScroll"];var _16=this.rowIndex+gap;_16=(_16<0)?0:_16;_16=(_16>=this.getDataLength()-this.lastIndex)?this.getDataLength()-this.lastIndex:_16;this.scrollEvent=false;this.checkScrollEnd=true;this.drawData(_16,0);};WebSquare.uiplugin.drawController.prototype.handleScrollY=function(e){["WebSquare.uiplugin.drawController.handleScrollY"];var _18=this.getElementById(this.id+"_scrollY_div");var _19=parseInt(_18.scrollTop/20);if(this.scrollEvent){if(this.editedCell!=null){this.editedCell.handleScrollY(e);}if(this.bScrollTop!=_19){if(this.hasClass(document.activeElement,this.options.bodyTdClass)&&document.activeElement.blur){document.activeElement.blur();}this.drawData(_19,null,"async");}this.bScrollTop=_19;}if((this.scrollEvent||this.checkScrollEnd)&&this.options.loadCount>0&&this.loadFlag){var _1a=this.getDataLength();var _1b=_19+this.lastIndex;if(_1a-this.options.loadCount-1<=_1b&&this.loadCheck[_1a]==null){this.loadCheck[_1a]=true;this.loadFlag=false;this.scrollEvent=true;WebSquare.event.fireEvent(this,"onscrollend");WebSquare.event.stopEvent(e);}}this.scrollEvent=true;this.checkScrollEnd=false;WebSquare.event.fireEvent(this,"onscrolly",e);};WebSquare.uiplugin.drawController.prototype.drawDataTable=function(_1c){["WebSquare.uiplugin.drawController.prototype.drawDataTable"];try{if(_1c==null){_1c=this.rowIndex;}if(_1c==-1){_1c=0;}var _1d=this.drawedRowLength;this.setDataTable();this.headerTds=null;this.footerTds=null;if(this.drawedRowLength!=_1d){this.setColIndexInfo();this.drawData(_1c,0);}return this.drawedRowLength-_1d;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.drawData=function(_1e,_1f,_20,_21){["WebSquare.uiplugin.drawController.prototype.drawData"];try{if(typeof (CollectGarbage)=="function"){CollectGarbage();}var _20=_20||"sync";var _22=(_20=="async")&&(this.options.fastScroll=="true");this.changeFocusedCellPosition(_1e,true);this.rowIndex=_1e;if(this.editedCell!=null){this.editedCell.handleEndEdit(null,_21);}this.subtotalHidden(_1f?{startRowIndex:_1f+this.rowIndex}:null);if(this.rowIndex==-1||_20=="sync"||this.options.visibleRowNum==="all"){var _23=this.completiveDrawData(_1f,true);this.adjustDraw(_23);this._setGridBorder();}else{WebSquare.core.clearTimer(this.id+"_drawData");WebSquare.core.clearTimer(this.id+"_completiveDrawData");WebSquare.core.clearTimer(this.id+"_adjustDraw");var _1f=this.fastDrawData(_1f,_22);WebSquare.core.setTimer(function(_24){WebSquare.core.setTimer(this.completiveDrawData,{key:this.id+"_completiveDrawData",caller:this,delay:120,args:[_24],callback:function(_25){WebSquare.core.setTimer(function(){this.adjustDraw(_25);this._setGridBorder();},{key:this.id+"_adjustDraw",caller:this});}});},{key:this.id+"_drawData",caller:this,delay:1,args:[_1f]});}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.fastDrawData=function(_26,_27){["WebSquare.uiplugin.drawController.prototype.fastDrawData"];try{if(this.options.measureTime){WebSquare.core.measureTime(function(_28){var _29=_28.aver;var fps=parseInt(1000/_29*10,10)/10;WebSquare.logger.printLog("Id : "+this.id+", time : "+_29+"ms   ,fps : "+fps);},{key:this.id+"_measureDrawTime",caller:this});}var _2b=this.rowIndex;var _2c=this.getDataLength();var _26=_26||0;if(_2c>0){if(_26==0&&_2b!=this.lastTopRowIndex&&this.options.visibleRowNum===""){this.drawSubtotalRow(0,_2b-1);}var _2d=new Date();for(var i=_26;i<this.drawedRowLength&&(i+_2b)<_2c;i++){if(_27&&new Date()-_2d>this.options.drawLimitTime&&i>=this.options.drawLimitRow){this.hideNochangeDataLayer(i);return i;}this.fastDrawRowData(i,i+_2b);if(this.options.backgroundColorMode.toLowerCase()=="always"){if(typeof this.getRealRowIndex()!="object"){this.applyRowStyleOptions(_2b+i);}}if(this.lastDisplayedRow<i){this._setRowDisplay(i,"");this.lastDisplayedRow=i;}}}if(this.hideDataLayer){this.hideDataLayer.style.display="none";}if(this.lastTopRowIndex!==null&&_2b>=this.lastTopRowIndex){for(var j=i;j<=this.lastDisplayedRow;j++){this._setRowDisplay(j,"none");}this.lastDisplayedRow=i-1;}return i;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.completiveDrawData=function(_30,_31){["WebSquare.uiplugin.drawController.prototype.completiveDrawData"];try{var _32=this.getDataLength();var _30=_30||0;var _33=this.rowIndex;var _34=_30-1;var _35=this.dataLayerHeight;if(_32>0){if(_30==0&&_33!=this.lastTopRowIndex&&this.options.visibleRowNum===""){this.drawSubtotalRow(0,_33-1);}for(var i=_30;i<this.drawedRowLength&&(i+_33)<_32;i++){this.fastDrawRowData(i,_33+i);_34=i;}for(var i=_34+1;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}for(var i=this.lastDisplayedRow+1;i<=_34;i++){this._setRowDisplay(i,"");}if(_31){for(var i=_30;i<=_34;i++){if(this.groupbyStatus.grouped){if(typeof this.getRealRowIndex(_33+i)=="object"){continue;}}this.applyRowStyleOptions(_33+i);}}this.lastDisplayedRow=_34;if(this.options.visibleRowNum===""){_34=this.cutGridBottom(_34);}for(var i=0;i<=_34;i++){this.setEvenOddBackground(i,_33+i);}if(_34+1<this.drawedRowLength){this._setRowDisplay(_34+1,"");this.setEvenOddBackground(_34+1,_33+_34+1);this.applyRowStyleOptions(_33+_34+1);this._setRowDisplay(_34+1,"none");}}else{for(var i=0;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}_34=this.lastDisplayedRow=-1;}if(this.hideDataLayer){this.hideDataLayer.style.display="none";}if(this.focusedCell.length>0&&!this.editedCell){var _37=this.focusedCell[this.focusedCell.length-1].focusedRowIndex-this.rowIndex;var _38=this.focusedCell[this.focusedCell.length-1].focusedColIndex;if(0<=_37&&_37<=_34){var td=this.data_td_list[_38+_37*this.oneRowDataLength];this.applyFocusedCellIn(td);}}return _34;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.setSpan=function(_3a){var _3b=this.filteredRowIndexArr[this.rowIndex+_3a];var td=this.all_data_td_list[_3a*this.realRowDataLength];if(typeof _3b=="number"){var _3d=this.colIndexes.bodyColInfo.colSpanArr[0]||"";td.setAttribute("colSpan",_3d);td.style.cssText="";}else{this.drawGroupData(td,_3b,_3a);}};WebSquare.uiplugin.drawController.prototype.adjustDraw=function(_3e){["WebSquare.uiplugin.drawController.prototype.adjustDraw"];try{var _3f=this.getDataLength();var _40=this.rowIndex;var _41=this.dataLayerHeight;var _42=this.scrollEvent;if(this.options.lazyDrawHiddenColumn){this.initVisibilityArr=this.colIndexInfo.body.visibilityArr.slice(0);this.hideInvisibleTds();}else{this.rollbackCommitFlag=false;for(var i=0;i<=this.lastDisplayedRow;i++){if(this.groupbyStatus.grouped){if(typeof this.getRealRowIndex(i+_40)=="object"){continue;}}this.lazyDrawRowData(i,i+_40);}this.rollbackCommitFlag=true;}if(this.options.visibleRowNum!==""){this.setDataTable();this.setScrollYHeight({noDraw:true});var _44=this.options.visibleRowNum=="all"?_3f:_44=parseInt(this.options.visibleRowNum,10);for(var i=_3e+1;i+_40<_3f&&i<_44;i++){this.drawRowData(i,i+_40);_3e=i+_40;}for(var i=this.lastDisplayedRow+1;i<=_3e;i++){this._setRowDisplay(i,"");}this.applyStyleOptions(_3e);for(var i=_3e+1;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}this.lastDisplayedRow=_3e;var _45=this.getElementById(this.id+"_scrollX_div");var _46=parseInt(_45.style.height,10);var _47=this.getElementById(this.id+"_body_table");var _48=0;if(this.hasFooter){_48=this.getElementById(this.id+"_foot_table").offsetHeight;_48=(_48==0)?this.footerHeight:_48;}var _49=_47.offsetHeight;if(WebSquare.util.isIE(9)){_49=_47.getBoundingClientRect().height;}this.lastIndex=_3e;if(this.options.senseReader){var _4a=_3f;if(this.options.visibleRowNum!="all"&&parseInt(this.options.visibleRowNum,10)<_3f){_4a=parseInt(this.options.visibleRowNum,10);if(_4a==0){_49=this.defaultDataLayerHeight;}else{var tr=this.dataRowList[this.oneRowLength*_4a-1];_49=tr.offsetTop+tr.offsetHeight+this.gridLastTrBottomFix;}}this.lastIndex=_4a-1;}if(_49<this.defaultDataLayerHeight){_49=this.defaultDataLayerHeight;}this.setSize(null,_49+_46+_48);if(this.options.autoFit){this._setAutoFit();}this.resizeObj={width:this.render.offsetWidth,height:this.render.offsetHeight,clientWidth:this.render.clientWidth};this.dataLayerHeight=_47.parentNode.offsetHeight;this.setScrollYHeight({noDraw:true});}else{var _4c=this.getElementById(this.id+"_size_y").parentNode.offsetHeight;var _4d=parseInt(this.getElementById(this.id+"_size_y").style.height,10)-_4c;var _4e=this.getElementById(this.id+"_scrollY_div").scrollTop;var _4f=_3f-(_40+_3e+1);var _50=false;if(this.hasSubtotal){if(this.drawedSubtotal.length>0){var _51=this.drawedSubtotal[this.drawedSubtotal.length-1];if(_51.rowIndex==_3f-1){var _52=_51[_51.length-1];if(_52.style.display!="none"){_50=true;}}}}else{_50=true;}if(this.adjustDraw_keepTop&&_4d>0&&_4d<=_4e&&!_50){var _53=this.getElementById(this.id+"_size_y");_53.style.height=parseInt(_53.style.height,10)+20+"px";_4d=_4e-20;}if(!this.lastTopRowIndex&&_4d>0&&_4d<=_4e){if(_4f>0||!_50){if(_3e+_4f<this.drawedRowLength){this.drawSubtotalRow(_3e+1,_40+_3e);for(var i=_3e+1;i<=_3e+_4f;i++){this.drawRowData(i,i+_40);}if(_4f==0&&!_50){this.drawRowData(_3e+_4f,_3e+_4f+_40);}for(var i=this.lastDisplayedRow+1;i<=_3e+_4f;i++){this._setRowDisplay(i,"");}this.lastDisplayedRow=_3e+_4f;var _52=this.dataRowList[(_3e+_4f+1)*this.oneRowLength-1];if(this.hasSubtotal&&this.drawedSubtotal.length>0){var _54=this.drawedSubtotal[this.drawedSubtotal.length-1];_52=_54[_54.length-1];}var _55=0;var _56=_40;if(this.hasSubtotal&&this.drawedSubtotal.length>0&&this.drawedSubtotal[0].rowIndex!=_40){_56=_40-0.5;}var _57=_52.offsetTop+_52.offsetHeight;while(_57>_41&&_55<_3e+_4f){this.subtotalHidden({rowIndex:_40+_55-1});_57=_52.offsetTop+_52.offsetHeight;if(_57<=_41){_56=_40+_55;break;}this._setRowDisplay(_55,"none");_57=_52.offsetTop+_52.offsetHeight;_56=_40+_55+0.5;_55++;}if(this.hasSubtotal&&this.drawedSubtotal.length>0&&_56+0.5==this.drawedSubtotal[0].rowIndex){_56+=0.5;}if(_40!=Math.ceil(_56)){_40=Math.ceil(_56);this.bScrollTop=_40;var _58=_40-this.rowIndex;var _59=_3e+_4f;_3e=_59-_58;this.rowIndex=_40;this.lastTopRowIndex=_56;this.subtotalHidden();if(_40!=this.lastTopRowIndex&&this.options.visibleRowNum===""){this.drawSubtotalRow(0,_40-1);}for(var i=0;i<=_3e;i++){this.drawRowData(i,i+_40);}for(var i=0;i<=_55;i++){this._setRowDisplay(i,"");}for(var i=_3e+1;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}this.changeFocusedCellPosition(_40);this.lastDisplayedRow=_3e;if(this.scrollEvent){this.checkScrollEnd=true;}}}}if(!this.lastTopRowIndex){this.lastTopRowIndex=this.rowIndex;if(this.hasSubtotal&&this.drawedSubtotal.length>0&&this.drawedSubtotal[0].rowIndex==this.rowIndex-1){this.lastTopRowIndex-=0.5;}}}this.applyStyleOptions(_3e);_3e=this.cutGridBottom(_3e);this.lastIndex=_3e;if(this.adjustDraw_keepTop){this.adjustDraw_keepTop=null;}else{this.setScrollYHeight();}}this.maxRowLength=_3e;if(this.isIE6or7){this._setRowDisplay(_3e+1,"");if(this.dataRowList[(_3e+1)*this.oneRowLength]){this.dataRowList[(_3e+1)*this.oneRowLength].offsetHeight;}this._setRowDisplay(_3e+1,"none");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.drawBottomData=function(_5a){if(this.rowIndex<0||this.rowIndex==0&&_5a<=this.lastIndex||this.rowIndex>=0&&this.rowIndex+this.lastIndex==_5a){return;}var _5b=this.getDataLength();(_5a>=_5b)&&(_5a=_5b-1);this.subtotalHidden();for(var i=0;i<=this.lastDisplayedRow;i++){this._setRowDisplay(i,"none");}var _5d=_5a+1-this.drawedRowLength;(_5d<0)&&(_5d=0);var _5e=((_5b<this.drawedRowLength)?_5b:this.drawedRowLength)-1;for(var i=0;i<=_5e;i++){this.drawRowData(i,i+_5d);this._setRowDisplay(i,"");}var _5f=_5a-_5d;var _60=this.dataRowList[(_5a-_5d+1)*this.oneRowLength-1];if(this.hasSubtotal&&this.drawedSubtotal.length>0){for(var i=0;i<this.drawedSubtotal.length;i++){var _61=this.drawedSubtotal[i];if(_61.rowIndex==_5a){_60=_61[_61.length-1];break;}}}var _62=_60.offsetTop+_60.offsetHeight;var _63=this.dataLayerHeight;if(_62<=_63){this.rowIndex=_5d;this.lastIndex=this.cutGridBottom(_5e);for(var i=this.rowIndex;i<=this.rowIndex+this.lastIndex;i++){this.applyRowStyleOptions(i);}this.setScrollYHeight({noDraw:true});return;}else{this.subtotalHidden({startRowIndex:_5a+1});for(var i=_5f+1;i<=_5e;i++){this._setRowDisplay(i,"none");}}var _64=_5d-(this.hasSubtotal?0.5:0);var _65=0;var _66=0;if(this.hasSubtotal){for(var _67 in this.subtotalTableList){_66+=this.subtotalTableList[_67].rows.length;}}while(_64<_5b){if(this.hasSubtotal){for(var i=0;i<this.drawedSubtotal.length;i++){if(this.drawedSubtotal[i].rowIndex==_64-0.5){for(var j=0;j<this.drawedSubtotal[i].length;j++){_62-=this.drawedSubtotal[i][j].offsetHeight;}}}_64+=0.5;if(_62<=_63){this.subtotalHidden({endRowIndex:_64-1});break;}_65+=_66;}for(var i=0;i<this.oneRowLength;i++){_62-=this.dataRowList[this.oneRowLength*(_64-_5d)+i].offsetHeight;}_65+=this.oneRowLength;_64+=(this.hasSubtotal?0.5:1);if(_62<=_63){if(this.hasSubtotal){_64+=0.5;for(var i=0;i<this.drawedSubtotal.length;i++){if(this.drawedSubtotal[i].rowIndex==_64-1){_64-=0.5;break;}}}break;}}var _69=[];var _6a=this.getElementById(this.id+"_body_tbody");for(var i=0;i<_65;i++){var tr=_6a.removeChild(_6a.rows[0]);tr.style.cssText="display:none";_69.push(tr);}for(var i=_66;i<_69.length;i++){_6a.appendChild(_69[i]);}for(var i=0;i<_66;i++){_6a.appendChild(_69[i]);}this.dataRowList=[];this.all_data_td_list=[];this.data_num_td_list=[];this.data_status_td_list=[];this.data_td_list=[];for(var _67 in this.subtotalRowHash){this.subtotalRowHash[_67]=[];}var _6c=0;for(var i=0;i<_66;i++){var row=_6a.rows[_6c++];var _67=row.getAttribute("targetcolumnid");this.subtotalRowHash[_67].push(row);}for(var i=0;i<this.drawedRowLength;i++){var _6e=[];for(var j=0;j<this.oneRowLength;j++){_6e.push(_6a.rows[_6c++]);}this.addBodyRow2(i,_6e);for(var j=0;j<_66;j++){var row=_6a.rows[_6c++];var _67=row.getAttribute("targetcolumnid");this.subtotalRowHash[_67].push(row);}}if(this.hideDataLayer){this.hideDataLayer.style.display="none";}this.rowIndex=parseInt(_64+0.5,10);this.lastIndex=_5e=_5a-this.rowIndex;if(_5a>=_5b-1){this.lastTopRowIndex=_64;}for(var i=0;i<=_5e;i++){this.setEvenOddBackground(i,this.rowIndex+i);}for(var i=_5a;i>=_64;i--){this.applyRowStyleOptions(i);}if(_5e+1<this.drawedRowLength){this._setRowDisplay(_5e+1,"");this.setEvenOddBackground(_5e+1,this.rowIndex+_5e);this.rowIndex--;this.applyRowStyleOptions(this.rowIndex+_5e+1);this.rowIndex++;this._setRowDisplay(_5e+1,"none");}this.setScrollYHeight({noDraw:true});if(this.options.lazyDrawHiddenColumn){this.hideInvisibleTds();}};WebSquare.uiplugin.drawController.prototype.cutGridBottom=function(_6f){try{var _70=this.rowIndex;var _71=this.dataLayerHeight;if(_6f<0){this.lastDisplayedRow=-1;return -1;}var _72=this.getElementById(this.id+"_head_table");var _73=this.getElementById(this.id+"_body_tbody");var _74=WebSquare.style.getStyle(_72,"border-top-width");if(_74=="thin"){if(WebSquare.util.isIE(6)||WebSquare.util.isIE(7)){_74=2;}else{_74=1;}}else{if(_74=="medium"){if(WebSquare.util.isIE(6)||WebSquare.util.isIE(7)){_74=4;}else{_74=3;}}else{if(_74=="thick"){if(WebSquare.util.isIE(6)||WebSquare.util.isIE(7)||WebSquare.util.isOpera()){_74=6;}else{_74=5;}}else{_74=parseInt(_74,10);}}}var _75=parseInt(_74/2+0.5,10)-_72.offsetTop;if(_73.getBoundingClientRect){var _76=_73.getBoundingClientRect();var _77=_76.bottom-_76.top;_75+=_77-parseInt(_77,10)>0?1:0;}while(true){if(this.hasSubtotal&&this.drawedSubtotal.length>0){for(var i=this.drawedSubtotal.length-1;i>=0;i--){var _79=this.drawedSubtotal[i];if(_79.rowIndex==_70+_6f){var _7a=_79[_79.length-1];if(_71<_7a.offsetTop+_7a.offsetHeight){this.subtotalHidden({index:i});}else{break;}}else{break;}}}var _7b=this.dataRowList[(_6f+1)*this.oneRowLength-1];if(_6f>0&&_7b.offsetTop+_7b.offsetHeight+_75>_71){_6f--;}else{break;}}if(!this.senseReaderMode){for(var i=_6f+1;i<=this.drawedRowLength;i++){this._setRowDisplay(i,"none");}if(this.options.showLastRow){var _7c=this.getDataLength();if(this.rowIndex+_6f+1<_7c){this._setRowDisplay(_6f+1,"");}}this.lastDisplayedRow=_6f;}return _6f;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.getLastIndex=function(_7d){try{var _7e=this.rowIndex;var _7f=this.dataLayerHeight;if(_7d<0){this.lastDisplayedRow=-1;return -1;}while(true){var _80=this.dataRowList[(_7d+1)*this.oneRowLength-1];if(_7d>0&&_80.offsetTop+_80.offsetHeight>_7f){_7d--;}else{break;}}return _7d;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.lazyDrawRowData=function(_81,_82){["WebSquare.uiplugin.drawController.prototype.lazyDrawRowData"];try{for(var i=0;i<this.colIndexInfo.body.invisibleTds.length;i++){var _84=this.colIndexInfo.body.invisibleTds[i]-this.defaultColCnt;if(_84>=0){this.drawCellData(_81,_82,_84,true);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.fastDrawRowData=function(_85,_86){["WebSquare.uiplugin.drawController.prototype.fastDrawRowData"];try{var _87=this.filteredRowIndexArr[this.rowIndex+_85];var td=this.all_data_td_list[_85*this.realRowDataLength];if(typeof _87=="number"){if(this.groupbyStatus.grouped){if(this.defaultColCnt>0){var _89=td;var _8a=true;for(var i=0;i<this.defaultColCnt;i++){var _8c=this.colIndexes.bodyColInfo.colSpanArr[i]||1;_89.setAttribute("colSpan",_8c);_89.style.display="";_89.innerText="";_89.textContent="";if(_89.className.match("w2grid_groupby")){_89.className=td.className.split(" ").splice(0,1);if(this.options.rowNumVisible&&_8a){_89.className+=" gridBodyDefault_rowNumber";_8a=false;}else{_89.className+=" gridBodyDefault_rowStatus";}}_89=_89.nextSibling;}}}this._drawRowNumData(_85,_86);this._drawRowStatus(_85,_86);var _8d=this.colIndexInfo.body.visibleTds;var len=_8d.length;for(var i=0;i<len;i++){var _8f=_8d[i]-this.defaultColCnt;if(_8f>=0){this.drawCellData(_85,_86,_8f);}}this.drawSubtotalRow(_85+1,_86);}else{this.drawGroupData(td,_87,_85);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.drawRowData=function(_90,_91){["WebSquare.uiplugin.drawController.prototype.drawRowData"];try{this._drawRowNumData(_90,_91);this._drawRowStatus(_90,_91);for(var i=0;i<this.oneRowDataLength;i++){this.drawCellData(_90,_91,i);}this.drawSubtotalRow(_90+1,_91);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.hideNochangeDataLayer=function(_93){if(this.hideDataLayer==null){this.hideDataLayer=document.createElement("div");this.hideDataLayer.className="w2grid_fastScroll_layer";var _94=document.createElement("div");_94.innerHTML=this.options.scrollMsg;_94.className="w2grid_fastScroll_msg";this.hideDataLayer.appendChild(_94);var _95=this.getElementById(this.id+"_dataLayer");_95.appendChild(this.hideDataLayer);}var _96=this.all_data_td_list[(_93-1)*this.realRowDataLength];var _97=_96.offsetHeight;if(_97!=0){this.hideDataLayer.style.display="block";this.hideDataLayer.style.top=(_96.offsetTop+_97+1)+"px";}else{this.hideDataLayer.style.display="none";}};WebSquare.uiplugin.drawController.prototype.setEvenOddBackground=function(_98,_99){if(this.options.oddEvenColorDisplay){var td=this.data_td_list[_98*this.oneRowDataLength];var tr=null;if(td){tr=td.parentNode;do{if(_99%2==1){tr.style.backgroundColor=this.options.evenRowBackgroundColor;}else{tr.style.backgroundColor=this.options.oddRowBackgroundColor;}tr=WebSquare.util.next(tr);}while(tr!=null&&tr.getAttribute("trIndex")!="0");}}};WebSquare.uiplugin.drawController.prototype._drawRowNumData=function(_9c,_9d){["WebSquare.uiplugin.drawController.prototype._drawRowNumData"];if(this.options.rowNumVisible){var _9e=this.data_num_td_list[_9c];if(this.rowNumArr){if(typeof this.rowNumArr[_9d]=="number"){_9e.innerHTML=1+this.rowNumArr[_9d];}}else{if(_9e){_9e.innerHTML=1+_9d+this.startRowNumber;}}}};WebSquare.uiplugin.drawController.prototype._drawRowStatus=function(_9f,_a0){["WebSquare.uiplugin.drawController.prototype._drawRowStatus"];if(this.options.rowStatusVisible){var _a1=this.data_status_td_list[_9f];if(_a1){var _a2=this.getRowStatusValue(_a0);var _a3="";switch(_a2){case 0:_a3="R";break;case 1:_a3="U";break;case 2:_a3="C";break;case 3:_a3="D";break;case 4:_a3="V";break;}if(typeof _a1.imageName=="undefined"){_a1.imageName="";}if(_a1.imageName!=_a3){switch(_a1.imageName){case "":case "R":break;case "C":this.removeClass(_a1,"w2grid_rowStatus_C");break;case "U":this.removeClass(_a1,"w2grid_rowStatus_U");break;case "D":this.removeClass(_a1,"w2grid_rowStatus_D");break;case "V":this.removeClass(_a1,"w2grid_rowStatus_V");break;}if(_a3!="R"&&_a3!=""){this.addClass(_a1,"w2grid_rowStatus_"+_a3);}_a1.imageName=_a3;}}}};WebSquare.uiplugin.drawController.prototype.drawCellData=function(_a4,_a5,_a6,_a7){["WebSquare.uiplugin.drawController.prototype.drawCellData"];try{if(!_a7&&this.editedCell!=null&&this.editedCell.options.colIndex+""==_a6+""){this.editedCell.handleCancelEdit();}var td=this.data_td_list[_a6+_a4*this.oneRowDataLength];if(td){if(this.groupbyStatus.grouped){var _a9=this.colIndexes.bodyColInfo.colSpanArr[_a6+this.defaultColCnt]||1;td.setAttribute("colSpan",_a9);td.style.display="";}var _aa=this.getCellInfo(td);if(!_aa){td.innerText="";td.textContent="";}if(this.groupbyStatus.grouped&&this.hasClass(td,"w2grid_groupby")){td.className="gridBodyDefault";}var _ab=this.aria_labelledby[_a6];if(_ab){var row=_a4+_a5+1;td.setAttribute("aria-labelledby",_ab+" r"+row);}if(this.isColMerge&&this.cellInfoHash[this.tdIdList[_a6]].options.colMerge){this.setColMergeCellData(_a4,_a5,_a6);}else{this.setInnerHTML(td,_a5,_a6);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.setColMergeCellData=function(_ad,_ae,_af){["WebSquare.uiplugin.drawController.prototype.setColMergeCellData"];var td=this.data_td_list[_af+_ad*this.oneRowDataLength];if(_ad==0){this.setInnerHTML(td,_ae,_af);return;}var _b1=_ae-1;var _b2=this.getCellData(_ae-1,_af);var _b3=this.data_td_list[_af+(_ad-1)*this.oneRowDataLength];var _b4=this.upperGroupingTest(_ae,_af);var _b5=this.getCellData(_ae,_af);if(_b2==_b5&&_b4){td.style.borderTopWidth="0px";td.style.borderBottomWidth="0px";td.innerHTML="";}else{this.setInnerHTML(td,_ae,_af);}return;};WebSquare.uiplugin.drawController.prototype.drawColMergeCellData=function(_b6,_b7,_b8){["WebSquare.uiplugin.drawController.prototype.drawColMergeCellData"];var td=this.data_td_list[_b8+_b6*this.oneRowDataLength];td.style.borderBottomWidth="0px";if(_b6==0){return;}var _ba=_b7-1;var _bb=this.getCellData(_b7-1,_b8);var _bc=this.data_td_list[_b8+(_b6-1)*this.oneRowDataLength];td.style.borderTopWidth="0px";var _bd=this.upperGroupingTest(_b7,_b8);var _be=this.getCellData(_b7,_b8);if(_bb==_be&&_bd){_bc.style.borderBottomWidth="0px";td.style.borderTopWidth="0px";td.setAttribute("colMerged","1");td.innerHTML="";}else{td.style.borderTopWidth="1px";}return;};WebSquare.uiplugin.drawController.prototype.upperGroupingTest=function(_bf,_c0){["WebSquare.uiplugin.drawController.prototype.upperGroupingTest"];var _c1=this.getCellInfo(_c0);var _c2=_c1.options.upperColumn;if(this.hasSubtotal&&this.hasUpperSubtotalRow(_bf)){return false;}if(_c2!=""){var _c3=this.getCellData(_bf,_c2);var _c4=this.getCellData(_bf-1,_c2);if(_c3!=_c4){return false;}var _c5=this.getCellInfo(_c2);if(_c5.options.upperColumn!=""){return this.upperGroupingTest(_bf,_c5.options.upperColumn);}}return true;};WebSquare.uiplugin.drawController.prototype.setDataTable=function(){["WebSquare.uiplugin.drawController.prototype.setDataTable"];try{var _c6=this.getElementById(this.id+"_head_table");var _c7=this.getElementById(this.id+"_body_table");var _c8=this.getElementById(this.id+"_body_tbody");this.dataLayerHeight=_c7.parentNode.offsetHeight;if(this.dataLayerHeight==0){this.resizeObj={width:0,height:0,scrollLeft:0,scrollTop:0,clientWidth:0};this.setRedrawStatus("stop");this.delayedDraw({rowIndex:this.rowIndex==-1?0:this.rowIndex});return;}if(!this.defaultDataLayerHeight){if(this.isIE6||WebSquare.util.isOpera()){this.defaultDataLayerHeight=this.getElementById(this.id+"_main_div").offsetHeight;}else{this.defaultDataLayerHeight=this.dataLayerHeight;}}var _c9=0;if(this.options.senseReader){_c9=this.getDataLength();}else{if(this.options.visibleRowNum===""){_c9=parseInt((this.dataLayerHeight-_c6.offsetHeight)/this.oneRowHeight)+1;}else{if(this.options.visibleRowNum==="all"){_c9=this.getDataLength();}else{_c9=parseInt(this.options.visibleRowNum,10);}}}if(_c9>this.drawedRowLength){var _ca=this.drawedRowLength;this.drawedRowLength=_c9;var _cb=[];if(_ca==0&&this.hasSubtotal){_cb=_cb.concat(this.createSubtotalRows());}for(var k=_ca;k<this.drawedRowLength;k++){var _cd=[];for(var i=0;i<this.oneRowLength;i++){var _cf=this.tempTr.rows[i].cloneNode(true);_cd[i]=_cf;_cb.push(_cf);}this.addBodyRow(k,_cd);if(this.hasSubtotal){_cb=_cb.concat(this.createSubtotalRows());}}if(this.drawedRowLength==0){_c7.style.borderWidth="0px";}else{_c7.style.borderWidth="";}for(var i=0;i<_cb.length;i++){_c8.appendChild(_cb[i]);}for(var k=_ca;k<this.drawedRowLength;k++){this._setRowDisplay(k,"none");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.applyStyleOptions=function(_d0){["WebSquare.uiplugin.drawController.prototype.applyStyleOptions"];try{var _d1=this.rowIndex>=0?this.rowIndex:0;for(var i=0;i<=_d0+1&&i<this.drawedRowLength;i++){if(typeof this.getRealRowIndex(i+_d1)=="object"){continue;}this.applyRowStyleOptions(i+_d1);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.applyColumnStyleOptions=function(_d3){["WebSquare.uiplugin.drawController.prototype.applyColumnStyleOptions"];try{for(var i=0;i<this.drawedRowLength;i++){this.applyCellStyleOptions(i+this.rowIndex,_d3);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.applyRowStyleOptions=function(_d5){["WebSquare.uiplugin.drawController.prototype.applyRowStyleOptions"];try{var _d6=_d5;if(this.rowIndex>=0){_d6-=this.rowIndex;}if(_d6<0||_d6>=this.drawedRowLength){return;}var tr=this.dataRowList[this.oneRowLength*_d6];if(!tr||tr.style.display=="none"){return;}if(this.options.lazyDrawHiddenColumn){var _d8=this.colIndexInfo.body.visibleTds;for(var i=this.defaultColCnt;i<_d8.length;i++){var _da=_d8[i]-this.defaultColCnt;var td=this.all_data_td_list[_d6*this.oneRowDataLength+_da];if(td){this.applyCellStyleOptions(_d5,_da);}}}else{for(var i=0;i<this.oneRowDataLength;i++){var td=this.data_td_list[_d6*this.oneRowDataLength+i];if(td){this.applyCellStyleOptions(_d5,i);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.applyCellStyleOptions=function(_dc,_dd,_de){["WebSquare.uiplugin.drawController.prototype.applyCellStyleOptions"];try{var _df=_dc;if(this.rowIndex>=0){_df-=this.rowIndex;}if(_df<0||_df>=this.drawedRowLength){return;}var td=this.data_td_list[_df*this.oneRowDataLength+_dd];if(td){var _e1=[];if(this.getCellInfo(_dd).options.textAlign!=""){_e1.push("text-align:"+this.getCellInfo(_dd).options.textAlign);}var _e2=this.getRowStyleClassName(_dc);if(_e2!=null){_e1.push(this._getRowStyleStr(_e2));}var _e3=this.columnStyleValueObj[_dd];if(_e3!=null){_e1.push(this._getColumnStyleStr(_dd));}var _e4=this.getCellStyleClassName(_dc,_dd);if(_e4!=null){_e1.push(this._getCellStyleStr(_e4));}if(this.options.readOnlyBackgroundColor!=""){var _e5=this._getEditReadOnly(_dc,_dd);if(_e5==true){_e1.push(this.readOnlyTdStyle);td.readOnly=true;}else{td.readOnly=false;}}td.disabled=false;if(this.getEditDisabled(_dc,_dd)){_e1.push(this.disabledTdStyle);}if(!_de&&this.options.selectedRowColor!="transparent"){if(this.options.focusMode=="row"||this.options.focusMode=="both"){for(var j=0;j<this.focusedCell.length;j++){if(_dc==this.focusedCell[j].focusedRowIndex){_e1.push("background-color:"+this.options.selectedRowColor);break;}}}}if(!_de&&this.options.selectedCellColor!="transparent"){if(this.options.focusMode=="cell"||this.options.focusMode=="both"){for(var j=0;j<this.focusedCell.length;j++){if(_dc==this.focusedCell[j].focusedRowIndex&&_dd==this.focusedCell[j].focusedColIndex){_e1.push("background-color:"+this.options.selectedCellColor);break;}}}}if(td.style.display=="none"){_e1.push("display:none");}var _e7=_e1.join(";");if(_e7!=td.getAttribute("style_bak")){td.style.cssText=_e7;}td.setAttribute("style_bak",_e7);td.setAttribute("or_bgColor",td.style.backgroundColor);if(this.isColMerge&&this.getCellInfo(_dd).options.colMerge){td.setAttribute("colMerged","0");this.drawColMergeCellData(_df,_dc,_dd);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.drawController.prototype.createSubtotalRows=function(){["WebSquare.uiplugin.drawController.prototype.createSubtotalRows"];var _e8=[];for(var _e9 in this.subtotalTableList){var _ea=this.subtotalRowHash[_e9];if(_ea==null){_ea=[];}var _eb=this.subtotalTableList[_e9];for(var i=0;i<_eb.rows.length;i++){var _ed=_eb.rows[i].cloneNode(true);_ed.style.display="none";_ea.push(_ed);_e8.push(_ed);}this.subtotalRowHash[_e9]=_ea;}return _e8;};WebSquare.uiplugin.drawController.prototype.addBodyRow=function(_ee,_ef){["WebSquare.uiplugin.drawController.prototype.addBodyRow"];var _f0=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowNumber(\\s|$)");var _f1=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowStatus(\\s|$)");var _f2=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_data(\\s|$)");var idx=0;var _f4=0;for(var i=0;i<_ef.length;i++){this.dataRowList.push(_ef[i]);_ef[i].className="grid_body_row";var _f6=_ef[i].getElementsByTagName("td");for(var j=0;j<_f6.length;j++){var _f8=_f6[j];var _f9=_f8.className;_f8.setAttribute("tdIndex",_ee*this.realRowDataLength+idx);idx++;this.all_data_td_list.push(_f8);if(_f0.test(_f9)){this.data_num_td_list.push(_f8);}else{if(_f1.test(_f9)){this.data_status_td_list.push(_f8);}else{if(!this.hasSubtotal||_f2.test(_f9)){this.data_td_list.push(_f8);var _fa=this.id+"_columnstyle_"+_f4+"_";this.addClass(_f8,_fa);_f8.style.cssText="";_f8.setAttribute("id",this.id+"_cell_"+_ee+"_"+_f4);_f4++;if(this.options.focusFlow=="linear"&&this.options.focusMode!="none"){var _fb=_f8.getAttribute("col_id");var _fc=this.getCellInfo(_fb);if(!_fc.options.embeddedInput){_f8.setAttribute("tabIndex","0");this.event.addListener(_f8,"onfocus",this.event.bindAsEventListener(this,this.handleTdFocus));}}}}}}}var _fd=[];for(var i=0;i<_ef.length;i++){var _f6=_ef[i].getElementsByTagName("td");var _fe=[];for(var j=0;j<_f6.length;j++){_fe[j]=_f6[j];}for(var j=0;j<_fe.length;j++){var _f9=_fe[j].className;if(!_f0.test(_f9)&&!_f1.test(_f9)){_fd.push(_fe[j].parentNode.removeChild(_fe[j]));}}}for(var i=0;i<this.htmlInfo.body.rowArr.length;i++){for(var j=0;j<this.htmlInfo.body.rowArr[i].length;j++){var _ff=this.htmlInfo.body.rowArr[i][j].col_id;for(var k=0;k<_fd.length;k++){if(_fd[k].getAttribute("col_id")==_ff){_ef[i].appendChild(_fd[k]);break;}}}}};WebSquare.uiplugin.drawController.prototype.addBodyRow2=function(_101,_102){["WebSquare.uiplugin.drawController.prototype.addBodyRow"];var _103=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowNumber(\\s|$)");var _104=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_rowStatus(\\s|$)");var _105=new RegExp("(^|\\s)"+this.options.bodyTdClass+"_data(\\s|$)");var _106=[];for(var i=0;i<_102.length;i++){this.dataRowList.push(_102[i]);_102[i].className="grid_body_row";var _108=_102[i].getElementsByTagName("td");for(var j=0;j<_108.length;j++){var _10a=_108[j];var _10b=_10a.className;var _10c=parseInt(_10a.getAttribute("tdIndex"),10);var _10d=_10c%this.realRowDataLength;_10a.setAttribute("tdIndex",_101*this.realRowDataLength+_10d);if(_103.test(_10b)){this.data_num_td_list.push(_10a);this.all_data_td_list.push(_10a);}else{if(_104.test(_10b)){this.data_status_td_list.push(_10a);this.all_data_td_list.push(_10a);}else{if(!this.hasSubtotal||_105.test(_10b)){var _10e=_10d-this.defaultColCnt;_106[_10e]=_10a;var _10f=this.id+"_columnstyle_"+_10e+"_";this.addClass(_10a,_10f);_10a.style.cssText="";_10a.setAttribute("id",this.id+"_cell_"+_101+"_"+_10e);_10e++;if(this.options.focusFlow=="linear"&&this.options.focusMode!="none"){var _110=_10a.getAttribute("col_id");var _111=this.getCellInfo(_110);if(!_111.options.embeddedInput){_10a.setAttribute("tabIndex","0");this.event.addListener(_10a,"onfocus",this.event.bindAsEventListener(this,this.handleTdFocus));}}}}}}}[].push.apply(this.all_data_td_list,_106);[].push.apply(this.data_td_list,_106);};WebSquare.uiplugin.drawController.prototype.addRows=function(_112){["WebSquare.uiplugin.drawController.prototype.addRows"];var _113=this.drawedRowLength;var rows=[];for(var i=0;i<_112;i++){var _116=[];for(var j=0;j<this.oneRowLength;j++){var _118=this.tempTr.rows[j].cloneNode(true);rows.push(_118);}this.addBodyRow(_113+i,_116);if(this.hasSubtotal){rows=rows.concat(this.createSubtotalRows());}}var _119=this.getElementById(this.id+"_body_tbody");for(var i=0;i<rows.length;i++){_119.appendChild(rows[i]);}};WebSquare.uiplugin.cellController=function(){["WebSquare.uiplugin.cellController"];};WebSquare.uiplugin.cellController.prototype.setCellInfo=function(){["WebSquare.uiplugin.cellController.prototype.setCellInfo"];var _1=this.tempDiv.getElementsByTagName("td");for(var i=0;i<_1.length;i++){var _3=_1[i].getAttribute("inputType");if(_3=="drilldown"){this.isDrillDown=true;this.depthColumn=_1[i].getAttribute("depthColumn");this.showDepth=_1[i].getAttribute("showDepth");}}};WebSquare.uiplugin.cellController.prototype.setInnerHTML=function(td,_5,_6){["WebSquare.uiplugin.cellController.prototype.setInnerHTML"];var _7=this.getCellData(_5,_6);var _8=this.cellInfoHash[this.tdIdList[_6]];_8.setInnerHTML(td,_7,_5,_6);};WebSquare.uiplugin.cellController.prototype.getCellInfo=function(td){["WebSquare.uiplugin.cellController.prototype.getCellInfo"];var _a="";if(typeof td=="string"){_a=td;}else{if(typeof td=="number"){_a=this.tdIdList[td];}else{_a=td.getAttribute("col_id");}}return this.cellInfoHash[_a]||{options:{}};};WebSquare.uiplugin.cellController.prototype._endEdit=function(){["WebSquare.uiplugin.cellController.prototype._endEdit"];if(this.editedCell!=null){this.editedCell.handleEndEdit();}};WebSquare.uiplugin.cellController.prototype.initColumns=function(){["WebSquare.uiplugin.cellController.prototype.initColumns"];for(var _b in this.cellInfoHash){var _c=this.cellInfoHash[_b];if(_c.options.inputType=="select"){_c.initializeCellInfo(_c.element);_c.style="";}}};WebSquare.uiplugin.cellController.prototype._setCellInfo=function(_d,td){["WebSquare.uiplugin.cellController.prototype._setCellInfo"];this.cellInfoHash2[_d]=td;};WebSquare.uiplugin.cellController.prototype.getColumnCount=function(){return this.tdIdList.length;};WebSquare.uiplugin.cellController.prototype.getColumnID=function(_f){if(typeof _f=="string"){return _f;}var _10=this.tdIdList[_f];if(_10){return _10;}else{return null;}};WebSquare.uiplugin.cellController.prototype.getColumnIndex=function(_11){if(typeof _11=="number"){return _11;}return this.bodyIdColIndexMap[_11];};WebSquare.uiplugin.cellController.prototype.setExpressionAssociation=function(_12,_13){["WebSquare.uiplugin.cellController.prototype.setExpressionAssociation"];try{if(this.expressionAssArr[_12]==null){this.expressionAssArr[_12]=[];}this.expressionAssArr[_12].push(_13);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellController.prototype.setCellEditMode=function(td,_15){["WebSquare.uiplugin.cellController.prototype.setCellEditMode"];this.hideTooltip();var _16=this.getCellInfo(td);this.editedCell=_16;this.rollbackCommitFlag=false;var _17=this.render.offsetWidth;var _18=this.render.offsetHeight;_16.setEditMode(td,_15);if(_17!==this.render.offsetWidth||_18!==this.render.offsetHeight){this.handleResize();_16.setEditMode(td,_15);}this.rollbackCommitFlag=true;};WebSquare.uiplugin.cellController.prototype.setCellClickEdit=function(td){["WebSquare.uiplugin.cellController.prototype.setCellClickEdit"];var _1a=this.getElemRowIndex(td);var _1b=this.getCellInfo(td);var ret=false;switch(_1b.options.inputType){case "checkbox":case "radio":case "drilldown":ret=_1b.handleClick(td,_1a);}return ret;};WebSquare.uiplugin.cellController.prototype.getInput=function(_1d,_1e){var _1f=_1d.options.inputType||"text";var _20=_1d.options.embeddedInput;if(_20){var _21=_1e.getAttribute("id")+"_"+_1f;}else{var _21=_1d.mainGridId+_1d.id;}var _22=this.dom[_21];var _23=this;if(!_22){if(_1f=="text"&&_20){_22=new WebSquare.uiplugin.input(_21,{className:"w2grid_embedded_input",style:"$blank",ioFormat:"$blank",ioFormatter:"$blank",displayFormat:"$blank",displayFormatter:"$blank",readOnly:"$blank",disabled:"$blank",hidden:"$blank",useKeyupBlur:false,xmlEvents:[{name:"onmousedown",action:"script",param:{handler:function(e){var row=parseInt(this.render.getAttribute("rowIndex"),10);var col=this.render.parentNode.getAttribute("col_id");if(row-_23.rowIndex>=_23.lastIndex+1){WebSquare.event.stopEvent(e);_23.addGridScroll(1);_23.setFocusedCell(row,col);return;}}}},{name:"onclick",action:"script",param:{handler:function(e){WebSquare.event.stopPropagation(e);}}}]},_1d.xml);_1e.innerHTML="";_22.writeTo(_1e);if(WebSquare.util.isIE()){_22.setVerticalAlign();}_22.setVerticalAlign=function(){};var _28=WebSquare.uiplugin.input.prototype.handleBlurEventBasic;_22.handleBlurEventBasic=function(e){var _2a=this.render.getAttribute("rowindex");var _2b=this.render.parentNode.getAttribute("col_id");var _2c=_23.getColumnIndex(_2b);var _2d=this.getValue();if(!_23.fakeInput.render.parentNode){var ret=WebSquare.event.fireEvent(_23,"oneditend",_2a,_2c,_2d,e);if(ret+""=="false"){var _2f=this;setTimeout(function(){_2f.reFocus=true;_2f.focus();},1);WebSquare.event.stopEvent(e);return false;}}_28.call(this,e);var _30=_23.getCellInfo(_2b);_23._setCellData(_2a,_2b,_2d,true);this.setValue(_30.getDisplayData(_2d));if(!_23.fakeInput.render.parentNode){var ret=WebSquare.event.fireEvent(_23,"onafteredit",_2a,_2c,_2d,_23.lastEvent);}_23.hideFakeInput(_22);_23.F2Mode=false;};var _31=WebSquare.uiplugin.input.prototype.handleFocusEventBasic;_22.handleFocusEventBasic=function(e){var _33=this.render.getAttribute("rowindex");var _34=this.render.parentNode.getAttribute("col_id");_23.lastEvent=e;_31.call(this,e);var _35=_23.getLastFocusedCell();if(_35.focusedTd!=this.render.parentNode&&!_23.focusedByApi){_23.setFocusedCell(_33,_34);}_23.focusedByApi=false;if(!this.reFocus){this.setValue(_23.getCellData(_33,_34));_23.showFakeInput(this);_23.fakeInput.setValue(this.getValue());this.select();var _36=this;setTimeout(function(){_36.focus();},1);}_23.F2Mode=false;this.reFocus=false;};var _37=WebSquare.uiplugin.input.prototype.handleKeydownEvent;_22.handleKeydownEvent=function(e){_23.lastEvent=e;_37.call(this,e);switch(e.keyCode){case 46:if(!_23.F2Mode&&_23.fakeInput.render.parentNode){this.setValue("");_23.fakeInput.setValue("");}WebSquare.event.stopPropagation(e);return;case 27:_23.F2Mode=false;_23.showFakeInput(this);this.setValue(_23.getCellData(_23.getFocusedRowIndex(),_23.getFocusedColumnIndex()));this.select();WebSquare.event.stopPropagation(e);return;case 113:_23.F2Mode=true;WebSquare.text.setCaretPos(this.render,this.render.value.length);_23.hideFakeInput(this);WebSquare.event.stopPropagation(e);return;}var _39=e.which||e.keyCode;if(_23.nonCharKeys[_39]){return;}if(_23.fakeInput.render.parentNode){var _3a=this.render.getAttribute("rowindex");var _3b=this.render.parentNode.getAttribute("col_id");var _3c=_23.getColumnIndex(_3b);var _3d=WebSquare.event.fireEvent(_23,"onbeforeedit",_3a,_3c,_23.getCellData(_3a,_3c));_23.hideFakeInput(this);if(WebSquare.util.isChrome()||WebSquare.util.isSafari()||WebSquare.util.isOpera()){this.setValue("");}}WebSquare.event.stopPropagation(e);};_22.activate();if(!this.fakeInput){this.fakeInput=new WebSquare.uiplugin.input(this.id+"_fakeInput",{style:"position:absolute;z-index:100;background-color:"+this.options.selectedCellColor,className:"w2grid_embedded_input",ioFormat:"$blank",ioFormatter:"$blank",displayFormat:"$blank",displayFormatter:"$blank",readOnly:"$blank",disabled:"$blank",useKeyupBlur:false,xmlEvents:[{name:"onmousedown",action:"script",param:{handler:function(e){_23.lastEvent=e;WebSquare.event.stopEvent(e);var _3f=this;setTimeout(function(){_3f.lastInput.focus();},1);}}},{name:"oncontextmenu",action:"script",param:{handler:function(e){_23.lastEvent=e;}}},{name:"ondblclick",action:"script",param:{handler:function(e){_23.lastEvent=e;_23.hideFakeInput(this);WebSquare.event.stopPropagation(e);_23.F2Mode=true;WebSquare.text.setCaretPos(this.lastInput.render,this.lastInput.render.value.length);}}}]});this.fakeInput.setAction=function(){};this.fakeInput.writeTo(this.render);this.fakeInput.activate();this.fakeInput.render.parentNode.removeChild(this.fakeInput.render);var _42=null;this.showFakeInput=function(_43){var td=_43.render.parentNode;this.render.appendChild(this.fakeInput.render);if(!_42){var td0=this.all_data_td_list[0];_42=1-td0.offsetLeft;}var _46=this.getElementById(this.id+"_dataLayer");this.fakeInput.setPosition(td.offsetLeft+_42-_46.scrollLeft,td.offsetTop+_42-_46.scrollTop);this.fakeInput.setSize(td.clientWidth,td.clientHeight);if(WebSquare.util.isIE()){this.fakeInput.setVerticalAlign();}this.fakeInput.lastInput=_43;var _47=_43.getStyle("text-align");if(_47){this.fakeInput.setStyle("text-align",_47);}else{this.fakeInput.setStyle("text-align","");}};this.hideFakeInput=function(_48){if(this.fakeInput.render.parentNode){this.fakeInput.render.parentNode.removeChild(this.fakeInput.render);}};}}else{if(_1f=="select"&&_20){_22=new WebSquare.uiplugin.selectbox_native(_21,{className:"w2grid_embedded_select",style:"$blank",pluginName:"selectbox",renderType:"native",xmlEvents:[{name:"onmousedown",action:"script",param:{handler:function(e){WebSquare.event.stopPropagation(e);}}},{name:"onclick",action:"script",param:{handler:function(e){WebSquare.event.stopEvent(e);}}},{name:"onkeydown",action:"script",param:{handler:function(e){switch(e.keyCode){case 38:case 40:case 27:WebSquare.event.stopPropagation(e);return;}}}},{name:"onfocusin",action:"script",param:{handler:function(e){_23.lastEvent=e;var _4d=_23.getLastFocusedCell();if(_4d.focusedTd!=this.render.parentNode&&!_23.focusedByApi){_23.setFocusedCell(this.render.getAttribute("rowindex"),this.render.parentNode.getAttribute("col_id"));}_23.focusedByApi=false;}}}]},_1d.xml);_1e.innerHTML=_22.toHTML();var _4e=WebSquare.uiplugin.selectbox_native.prototype.handleOnchange;_22.handleOnchange=function(e){_4e.call(this,e);_23.setCellData(this.render.getAttribute("rowindex"),this.render.parentNode.getAttribute("col_id"),this.getValue());};_22.activate();}else{if(_1f=="checkbox"&&_20){_1e.innerHTML="<INPUT style='border-width:0px;' type='checkbox' />";var _22=_1e.firstChild;if(_1d.options.title){_22.title=_1d.options.title;}this.event.addListener(_22,"onfocus",this.event.bindAsEventListener(this,function(e){var _51=WebSquare.event.getTarget(e);this.lastEvent=e;var _52=this.getLastFocusedCell();if(_52.focusedTd!=_51.parentNode&&!this.focusedByApi){this.setFocusedCell(_51.getAttribute("rowindex"),_51.parentNode.getAttribute("col_id"));}this.focusedByApi=false;}));}else{if(_1f=="radio"&&_20){var _53=_1d.mainGridId+"_radio_"+_1d.id;_1e.innerHTML="<INPUT style='border-width:0px;' type='radio' name='"+_53+"' />";var _22=_1e.firstChild;if(_1d.options.title){_22.title=_1d.options.title;}this.event.addListener(_22,"onfocus",this.event.bindAsEventListener(this,function(e){var _55=WebSquare.event.getTarget(e);this.lastEvent=e;var _56=this.getLastFocusedCell();if(_56.focusedTd!=_55.parentNode&&!this.focusedByApi){this.setFocusedCell(_55.getAttribute("rowindex"),_55.parentNode.getAttribute("col_id"));}this.focusedByApi=false;}));}else{if(_1f=="text"||_1f=="textImage"){_22=new WebSquare.uiplugin.input(_21,{style:"position:absolute;display:none;border:1px solid "+this.options.selectedCellColor+";outline:none;z-index:10;",ioFormat:"$blank",ioFormatter:"$blank",displayFormat:_1d.options.applyFormat=="all"?"":"$blank",displayFormatter:"$blank",readOnly:"$blank",disabled:"$blank",useKeyupBlur:false},_1d.element);_22.writeTo(this);_22.activate();_22.setVerticalAlign=function(){};}else{if(_1f=="textarea"){_22=new WebSquare.uiplugin.textarea(_21,{style:"position:absolute;display:none;width:150px;height:60px;z-index:1000;resize:none;",className:"$blank",readOnly:"$blank",disabled:"$blank",maxlength:_1d.options.maxLength||-1},_1d.element);_22.writeTo(this);_22.activate();}else{if(_1f=="calendar"){var _57=_1d.options.ioFormat?_1d.options.ioFormat:"$blank";var _22=new WebSquare.uiplugin.inputCalendar(_21,{style:"position:absolute;display:none;border:1px solid "+this.options.selectedCellColor+";outline:none;",delimiter:"$blank",calendarValueType:_1d.options.calendarValueType,calendarClass:_1d.options.calendarClass||"class1",ioFormat:_57,ioFormatter:"$blank",displayFormat:_57,displayFormatter:"$blank",readOnly:"$blank",disabled:"$blank",validCheck:false},_1d.element);_22.writeTo(this);_22.activate();_22.setVerticalAlign=function(){};_22.handleKeyupEvent=function(){};_22.setStyle("z-index","10");}}}}}}}this.dom[_21]=_22;}return _22;};WebSquare.uiplugin.cellInfo=function(_58,_59){["WebSquare.uiplugin.cellInfo"];this.options={id:"",col_id:"",colIndex:"",colSpan:0,rowSpan:0,defaultValue:"",value:"",inputType:"text",useFilter:false,dataType:"text",valueType:"binary",viewType:"",trueValue:null,falseValue:null,editType:"",applyFormat:"display",displayFormat:"",displayFormatter:"",chooseOptionLabel:"-\uc120\ud0dd-",chooseOption:false,allOption:false,depthColumn:"",showDepth:0,importExp:"",importFormatter:"",expression:"",colMerge:false,upperColumn:"",readOnly:"",imageWidth:"",imageHeight:"",imageClickFunction:"",imageSrc:"",alt:"",calendarValueType:"yearMonthDate",disabled:"",textAlign:"",exportFormatter:"",imeMode:"",selectSetter:"",ignoreStatus:false,dateValidCheck:"true",embeddedInput:false,groupName:"",escape:"",setRecursive:false,showReadOnly:false,customFormatter:"",depthType:"nbsp",moveFocusByChoice:"",directItemChoice:""};this.mainGrid=_59;this.mainGridId="G_"+this.mainGrid.id+"__";if(_58){this.setOptions(_58);}if(this.options.value!=""&&this.options.defaultValue==""){this.options.defaultValue=this.options.value;}if(this.options.value==""&&this.options.defaultValue!=""){this.options.value=this.options.defaultValue;}this.id=this.options.col_id;this.options.id=this.options.col_id;this.setController();this.initFormatter(_58);this.initializeCellInfo(_58);this.expressionStr=null;this.style="";this.heightGap=0;var _5a=WebSquare.core.browserVersion();if(WebSquare.core.browserCheck.ie&&_5a!="8"){this.heightGap=2;}if(this.options.importExp!=""){this.options.importExp=this.options.importExp.replace(/[cC][oO][lL][\s]*[(]/g,"this.columnValue(obfuscator_rowXml, ");this.options.importExp=this.options.importExp.replace(/[xX][pP][aA][tT][hH][\s]*[(]/g,"this.xpathValue(obfuscator_rowXml, ");this.options.importExp=this.options.importExp.replace(/[rR][oO][wW][iI][nN][dD][eE][xX][\s]*[(]/g,"this.rowIndexValue(obfuscator_i");}if(this.options.colSpan==0){this.options.colSpan=1;}if(this.options.rowSpan==0){this.options.rowSpan=1;}var _5b=this.mainGrid.getColumnIndex(this.id);this.mainGrid.ignoreStatusColArr[_5b]=this.options.ignoreStatus;if(this.options.inputType=="radio"&&this.options.groupName){this.mainGrid.radioGroupRepChk[this.options.groupName]=true;}};WebSquare.uiplugin.cellInfo.prototype.setOptions=function(_5c){var _5d=_5c.getAttribute("inputType")||"text";this.configOptions=WebSquare.configManager.getConfig("grid/column[@inputType='"+_5d+"']");this.options=WebSquare.extendKeepingType(this.options,this.configOptions);var _5e=[];for(var _5f in this.options){_5e[_5f.toLowerCase()]=_5f;}var _60=_5c.attributes;var _61=WebSquare.xml.parse("<w2:td xmlns:w2=\"http://www.inswave.com/websquare\"></w2:td>",true);this.xml=_61.documentElement;for(var i=0;i<_60.length;i++){var _63=_60[i];var _64=_63.name;var _65=_63.value;this.xml.setAttribute(_64,_65);if(_64=="class"){this.options["className"]=_65;}else{if((_65).wq_trim()!=""){if(_5e[_64]){_64=_5e[_64];}if(typeof this.options[_64]=="boolean"){_65=WebSquare.util.getBoolean(_65);}else{if(typeof this.options[_64]=="Number"){_65=WebSquare.util.getNumber(_65);}}this.options[_64]=_65;}}}if(this.options.applyFormat=="display"){this.xml.setAttribute("displayFormat","");this.xml.setAttribute("displayFormatter","");}if(this.options.dataType=="date"&&!this.options.displayFormat){this.options.displayFormat=WebSquare.core.getConfiguration("/WebSquare/grid/dataType/date/@displayFormat");}if(this.mainGrid.options.senseReader){switch(this.options.inputType||"text"){case "text":if(this.mainGrid.options.focusMode=="none"&&this.xml.getAttribute("readOnly")!="false"){this.options.readOnly=true;}case "select":case "checkbox":case "radio":this.options.embeddedInput=true;}}if(this.options.inputType=="textarea"){this.options.showReadOnly=true;}this.xml.setAttribute("maxlength",this.options["maxLength"]||"");this.xml.setAttribute("readOnly","false");this.xml.setAttribute("disabled","false");this.element=_5c;};WebSquare.uiplugin.cellInfo.prototype.setController=function(){switch(this.options.inputType){case "text":WebSquare.extend(this,WebSquare.uiplugin.cellInfo.text.prototype);break;case "link":WebSquare.extend(this,WebSquare.uiplugin.cellInfo.link.prototype);break;case "checkbox":WebSquare.extend(this,WebSquare.uiplugin.cellInfo.checkbox.prototype);break;case "button":WebSquare.extend(this,WebSquare.uiplugin.cellInfo.button.prototype);break;case "image":WebSquare.extend(this,WebSquare.uiplugin.cellInfo.image.prototype);break;case "radio":WebSquare.extend(this,WebSquare.uiplugin.cellInfo.radio.prototype);break;case "select":WebSquare.extend(this,WebSquare.uiplugin.cellInfo.select.prototype);break;case "calendar":WebSquare.extend(this,WebSquare.uiplugin.cellInfo.calendar.prototype);break;case "textarea":WebSquare.extend(this,WebSquare.uiplugin.cellInfo.textarea.prototype);break;case "expression":WebSquare.extend(this,WebSquare.uiplugin.cellInfo.expression.prototype);break;case "drilldown":WebSquare.extend(this,WebSquare.uiplugin.cellInfo.text.prototype);WebSquare.extend(this,WebSquare.uiplugin.cellInfo.drilldown.prototype);break;case "textImage":WebSquare.extend(this,WebSquare.uiplugin.cellInfo.textImage.prototype);break;case "checkcombobox":WebSquare.extend(this,WebSquare.uiplugin.cellInfo.checkcombobox.prototype);break;case "autoComplete":WebSquare.extend(this,WebSquare.uiplugin.cellInfo.autoComplete.prototype);break;default:WebSquare.extend(this,WebSquare.uiplugin.cellInfo.text.prototype);break;}};WebSquare.uiplugin.cellInfo.prototype.setInnerHTML=function(td,_67,_68,_69){td.innerHTML="<nobr>"+this.getDisplayData(_67)+"</nobr>";};WebSquare.uiplugin.cellInfo.prototype.setEditMode=function(td,_6b){this.mainGrid.editedCell=null;this.mainGrid.editMode=false;};WebSquare.uiplugin.cellInfo.prototype.initFormatter=function(_6c){this.formatter=WebSquare.format.createFormatter(this.options.dataType,this.options.displayFormat,this.options.displayFormatter,this.options.ioFormat);this.emptyFormatter=WebSquare.format.createFormatter(this.options.dataType,"",null);};WebSquare.uiplugin.cellInfo.prototype.getDisplayData=function(_6d){if(this.formatter){return this.formatter.format(_6d);}return _6d;};WebSquare.uiplugin.cellInfo.prototype.initializeCellInfo=function(){};WebSquare.uiplugin.cellInfo.prototype.handleEndEdit=function(e,_6f){["WebSquare.uiplugin.cellInfo.prototype.handleEndEdit"];try{e=e||{};if(this.options.embeddedInput){return true;}this.mainGrid.rollbackCommitFlag=false;var _70=this.mainGrid.editedCell;if(_70._getEditedValue){var _71=this.mainGrid.getColumnIndex(this.mainGrid.editedCell.id);var _72=this.editRowIndex;var _73=_70._getEditedValue();var ret=WebSquare.event.fireEvent(this.mainGrid,"oneditend",_72,_71,_73,e);if(ret+""=="false"){this.mainGrid.getInput(this).focus();WebSquare.event.stopEvent(e);return false;}}if(!_70.validate()){WebSquare.event.stopEvent(e);return false;}var _75=this.mainGrid.getCellData(this.editRowIndex,_70.options.id);this.mainGrid.editedCell=null;this.mainGrid.editMode=false;if(this.editTd!=null){this._handleEndEdit(e,_6f);}var _76=this.mainGrid.getCellData(this.editRowIndex,_70.options.id);var _72=this.editRowIndex;var _71=_70.options.id;var _77=_72;var _78=this.mainGrid.getColumnIndex(_71);if(this.editTd.getAttribute("colMerged")=="0"){var _79=_72;while(_72<this.mainGrid.getDataLength()){_72=_72+1;var _7a=this.mainGrid.upperGroupingTest(_72,_71);if(_7a){var _7b=this.mainGrid.getCellData(_72,_71);if(_7b==_75){this.mainGrid.setCellData(_72,_71,_76);}else{break;}}else{break;}}var _72=_79;while(_72>0){var _7a=this.mainGrid.upperGroupingTest(_72,_71);_72=_72-1;if(_7a){var _7b=this.mainGrid.getCellData(_72,_71);if(_7b==_75){this.mainGrid.setCellData(_72,_71,_76);}else{break;}}else{break;}}var _71=this.mainGrid.getColumnIndex(_71);this.mainGrid.applyColumnStyleOptions(_71);}var _7c=this.mainGrid.getCellData(_77,_78);var _7d=WebSquare.event.fireEvent(this.mainGrid,"onafteredit",_77,_78,_7c,this.mainGrid.lastEvent);this.mainGrid.lastEvent=null;if(_7d==false){_7d=false;}else{_7d=true;}this.mainGrid.rollbackCommitFlag=true;return _7d;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.prototype.handleScrollY=function(e){return this.handleEndEdit(e);};WebSquare.uiplugin.cellInfo.prototype.validate=function(){return true;};WebSquare.uiplugin.cellInfo.prototype._handleEndEdit=function(e){};WebSquare.uiplugin.cellInfo.prototype.handleCancelEdit=function(e){if(this.options.embeddedInput){return;}this.mainGrid.editedCell=null;this.mainGrid.editMode=false;this._handleCancelEdit(e);};WebSquare.uiplugin.cellInfo.prototype._handleCancelEdit=function(e){};WebSquare.uiplugin.cellInfo.prototype.removeCellData=function(_82,_83){};WebSquare.uiplugin.cellInfo.prototype.doDefaultAction=function(e){};WebSquare.uiplugin.cellInfo.prototype.setMergedCol=function(_85,_86,_87,_88){var _89=_85;var _8a=new Array();_8a[_85]=true;while(_85<this.mainGrid.getDataLength()){_85=_85+1;var _8b=this.mainGrid.upperGroupingTest(_85,_86);if(_8b){var _8c=this.mainGrid.getCellData(_85,_86);if(_8c==_87){this.mainGrid.setCellData(_85,_86,_88);_8a[_85]=true;}else{break;}}else{break;}}var _85=_89;while(_85>0){var _8b=this.mainGrid.upperGroupingTest(_85,_86);_85=_85-1;if(_8b){var _8c=this.mainGrid.getCellData(_85,_86);if(_8c==_87){this.mainGrid.setCellData(_85,_86,_88);_8a[_85]=true;}else{break;}}else{break;}}var _86=this.mainGrid.getColumnIndex(_86);this.mainGrid.applyColumnStyleOptions(_86);return _8a;};WebSquare.uiplugin.cellInfo.prototype.getEscape=function(){return (this.options.escape!="")?this.options.escape:this.mainGrid.options.escape;};WebSquare.uiplugin.cellInfo.text=function(){["WebSquare.uiplugin.cellInfo.text"];};WebSquare.uiplugin.cellInfo.text.prototype.setInnerHTML=function(td,_8e,_8f,_90){if(this.options.embeddedInput&&!this.mainGrid.getEditDisabled(_8f,_90)&&!this.mainGrid._getEditReadOnly(_8f,_90)){var _91=this.mainGrid.getInput(this,td);if(_91.render.parentNode==null){td.innerHTML="";td.appendChild(_91.render);}_91.blur();_91.render.setAttribute("rowindex",_8f);_91.setValue(this.getDisplayData(_8e));if(this.options.textAlign){_91.setStyle("text-align",this.options.textAlign);}else{_91.setStyle("text-align","");}td.removeAttribute("tabIndex");}else{var _92=WebSquare.util.getGlobalFunction(this.options.customFormatter);var _93=(this.getEscape()==="true"?this.getDisplayData(WebSquare.xml._encode(_8e+"")):this.getDisplayData(_8e));var _94;if(typeof _92=="function"){_94=_92.call(this.mainGrid,_8e,_93,_8f,_90);}else{_94=_93;}if(this.mainGrid.options.plainText&&td.firstChild&&td.firstChild.firstChild){td.firstChild.firstChild.data=_94;}else{td.innerHTML="<nobr>"+_94+"</nobr>";}}};WebSquare.uiplugin.cellInfo.text.prototype.setEditMode=function(td,_96){["WebSquare.uiplugin.cellInfo.text.prototype.setEditMode"];try{if(this.options.embeddedInput){return;}this.editRowIndex=_96;this.editTd=td;this.setPosition();var _97=this.mainGrid.getInput(this);_97.formatter=this.options.applyFormat=="all"?this.formatter:this.emptyFormatter;_97.options.applyFormat=this.options.applyFormat;if(this.options.maxLength){_97.render.setAttribute("maxLength",this.options.maxLength);}else{_97.render.removeAttribute("maxLength");}_97.setValue(this.mainGrid.getCellData(_96,this.id));if(document.activeElement!=_97.render){_97.focus();}this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(_97.options.editType=="select"){_97.select();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.text.prototype.setPosition=function(){var _98={top:0,left:0,width:0,height:0};if(WebSquare.util.isFF()){_98={top:-1,left:-1,width:0,height:0};}else{if(WebSquare.util.isOpera()){_98={top:0,left:0,width:0,height:1};}else{if(WebSquare.util.isIE(9)){_98={top:-1,left:-1,width:0,height:0};}}}var td=this.editTd;var _9a=td.offsetTop+1+_98.top;var _9b=td.offsetLeft+1+_98.left;var _9c=td.clientWidth-6+_98.width;var _9d=td.clientHeight-2+_98.height;var _9e=this.mainGrid.getInput(this);if(this.options.imeMode!=""){_9e.render.style.imeMode=this.options.imeMode;}else{_9e.render.style.imeMode=this.options.dataType=="number"?"disabled":"";}_9e.show();if(this.mainGrid.options.groupbyZone){var _9f=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;_9a=_9a+_9f;}_9e.render.style.top=_9a+"px";_9e.render.style.left=_9b+"px";_9e.render.style.width=_9c+"px";_9e.render.style.height=_9d+"px";if(WebSquare.util.isIE()){_9e.render.style.lineHeight=_9d+"px";}_9e.render.style.textAlign=td.style.textAlign==""?"center":td.style.textAlign;};WebSquare.uiplugin.cellInfo.text.prototype.removeCellData=function(_a0,_a1){this.mainGrid.setCellData(_a0,_a1,"");};WebSquare.uiplugin.cellInfo.text.prototype._handleEndEdit=function(e,_a3){["WebSquare.uiplugin.cellInfo.text.prototype._handleEndEdit"];try{var _a4=this.mainGrid.getInput(this);this.setEditData(_a4);if(this.mainGrid.isMobile||!_a3){_a4.hide();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.text.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.text.prototype._getEditedValue"];var _a6=this.mainGrid.getInput(this).getValue();return _a6;};WebSquare.uiplugin.cellInfo.text.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.text.prototype._handleCancelEdit"];try{var _a8=this.mainGrid.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_a8,this.editRowIndex,this.id);var _a9=this.mainGrid.getInput(this);_a9.hide();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.text.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};WebSquare.uiplugin.cellInfo.text.prototype.setEditData=function(_ab){try{var _ac=_ab.getValue();_ac=_ab.validator.validateString(_ac);_ab.setValueNM(_ac,true);this.setInnerHTML(this.editTd,_ac,this.editRowIndex,this.id);if(this.mainGrid.options.numberCasting&&this.options.dataType=="number"){_ac=Number(_ac);}this.mainGrid.setCellData(this.editRowIndex,this.id,_ac);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.link=function(){["WebSquare.uiplugin.cellInfo.link"];};WebSquare.uiplugin.cellInfo.link.prototype.setInnerHTML=function(td,_ae){var _af=this.mainGrid.options.focusMode=="none"?0:-1;td.innerHTML="<nobr><a href='' onclick='event.returnValue=false; return false;' tabIndex='"+_af+"'>"+this.getDisplayData(_ae)+"</a></nobr>";};WebSquare.uiplugin.cellInfo.link.prototype.doDefaultAction=function(e){if(this.mainGrid.options.focusMode=="none"){var td=WebSquare.event.getTarget(e);while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _b2=this.mainGrid.getElemRowIndex(td);var _b3=this.mainGrid.rowIndex+_b2;var _b4=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));}else{return;}}else{var _b5=this.mainGrid.getLastFocusedCell();var _b3=_b5.focusedRowIndex;var _b4=_b5.focusedColIndex;}if(!this.mainGrid.getEditDisabled(_b3,_b4)&&!this.mainGrid._getEditReadOnly(_b3,_b4)){WebSquare.event.fireEvent(this.mainGrid,"oncellclick",_b3,_b4);}};WebSquare.uiplugin.cellInfo.checkbox=function(){["WebSquare.uiplugin.cellInfo.checkbox"];};WebSquare.uiplugin.cellInfo.checkbox.prototype.initializeCellInfo=function(_b6){["WebSquare.uiplugin.cellInfo.checkbox.prototype.initializeCellInfo"];switch(this.options.valueType){case "binary":this.setBooleanValue("1","0");break;case "boolean":this.setBooleanValue("true","false");break;case "other":if(this.options.trueValue=="$blank"){this.options.trueValue="";}if(this.options.falseValue=="$blank"){this.options.falseValue="";}this.setBooleanValue(this.options.trueValue,this.options.falseValue);break;}};WebSquare.uiplugin.cellInfo.checkbox.prototype.setBooleanValue=function(_b7,_b8){this.options.trueValue=_b7+"";this.options.falseValue=_b8+"";};WebSquare.uiplugin.cellInfo.checkbox.prototype.setInnerHTML=function(td,_ba,_bb){var _bc=_ba+""==this.options.trueValue;var _bd=this.mainGrid.getEditReadOnly(td,_bb)||this.mainGrid.getEditDisabled(_bb,td.getAttribute("col_id"));if(this.options.embeddedInput){var _be=this.mainGrid.getInput(this,td);_be.setAttribute("rowindex",_bb);_be.checked=_bc;_be.disabled=_bd;}else{var _bf=this.options.title?" title='"+this.options.title+"'":"";var _c0=this.mainGrid.options.focusMode=="none"?"":" tabIndex='-1'";var _c1=_bc?" checked":"";var _c2=_bd?" disabled='true'":"";td.innerHTML="<INPUT style='border-width:0px;' type='checkbox' "+_bf+_c0+_c1+_c2+" />";}};WebSquare.uiplugin.cellInfo.checkbox.prototype.getDisplayData=function(_c3){return _c3;};WebSquare.uiplugin.cellInfo.checkbox.prototype.handleClick=function(td,_c5){var _c6=this.mainGrid.getEditReadOnly(td,_c5)||this.mainGrid.getEditDisabled(_c5,td.getAttribute("col_id"));if(_c6){return true;}if(this.mainGrid.isDrillDown&&this.mainGrid.options.drilldownRealRowIndex){_c5=this.mainGrid.filteredRowIndexArr[_c5];}if(td.firstChild){var _c7=this.options.id;var _c8=td.firstChild.checked;var _c9=this.options.falseValue;if(_c8){_c9=this.options.trueValue;}var _ca=this.mainGrid.getCellData(_c5,_c7);this.mainGrid.setCellData(_c5,this.id,_c9);if(td.getAttribute("colMerged")=="0"){this.setMergedCol(_c5,_c7,_ca,_c9);}}return true;};WebSquare.uiplugin.cellInfo.checkbox.prototype.doDefaultAction=function(e){if(this.options.embeddedInput){return;}if(this.mainGrid.options.focusMode=="none"){var td=WebSquare.event.getTarget(e);td.focus();while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _cd=this.mainGrid.getElemRowIndex(td);var _ce=this.mainGrid.rowIndex+_cd;var _cf=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));var _d0=true;}else{return;}}else{var _d1=this.mainGrid.getLastFocusedCell();var _ce=_d1.focusedRowIndex;var _cf=_d1.focusedColIndex;var _d0=false;}if(!this.mainGrid.getEditDisabled(_ce,_cf)&&!this.mainGrid._getEditReadOnly(_ce,_cf)){var _d2=this.mainGrid.getCellData(_ce,_cf);this.mainGrid._setCellData(_ce,_cf,_d2==this.options.trueValue?this.options.falseValue:this.options.trueValue,_d0);}};WebSquare.uiplugin.cellInfo.button=function(){["WebSquare.uiplugin.cellInfo.button"];};WebSquare.uiplugin.cellInfo.button.prototype.setInnerHTML=function(td,_d4,_d5){var _d6=this.mainGrid.getEditDisabled(_d5,td.getAttribute("col_id"));var _d7="";if(_d6){_d7=" disabled='true' ";}var _d8=this.mainGrid.options.focusMode=="none"?0:-1;td.innerHTML="<button type='button' style='width:100%;height:100%' "+_d7+" tabIndex='"+_d8+"'>"+this.getDisplayData(_d4)+"</button>";};WebSquare.uiplugin.cellInfo.button.prototype.doDefaultAction=function(e){if(this.mainGrid.options.focusMode=="none"){var td=WebSquare.event.getTarget(e);while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _db=this.mainGrid.getElemRowIndex(td);var _dc=this.mainGrid.rowIndex+_db;var _dd=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));}else{return;}}else{var _de=this.mainGrid.getLastFocusedCell();var _dc=_de.focusedRowIndex;var _dd=_de.focusedColIndex;}if(!this.mainGrid.getEditDisabled(_dc,_dd)&&!this.mainGrid._getEditReadOnly(_dc,_dd)){WebSquare.event.fireEvent(this.mainGrid,"oncellclick",_dc,_dd);}};WebSquare.uiplugin.cellInfo.image=function(){["WebSquare.uiplugin.cellInfo.image"];};WebSquare.uiplugin.cellInfo.image.prototype.setInnerHTML=function(td,_e0,_e1){var _e2="";if(this.options.imageWidth!=""){_e2+=";width:"+parseInt(this.options.imageWidth)+"px";}if(this.options.imageHeight!=""){_e2+=";height:"+parseInt(this.options.imageHeight)+"px";}var _e3="";if(this.options.alt!=""){_e3="alt='"+this.options.alt+"' ";}var _e4=this.mainGrid.getEditDisabled(_e1,td.getAttribute("col_id"));var _e5="";if(_e4){_e5=" disabled='true' ";}if(_e0==null||_e0==""){_e0=this.options.imageSrc;}var _e6="";if(this.options.imageClickFunction!=""&&this.options.imageClickFunction!=null){_e6=" onclick='WebSquare.event.stopPropagation(event);"+this.mainGrid.id+".fireImageClick("+_e1+",\""+this.id+"\")' ";}var _e7=this.options.imageTabIndex?" tabIndex='"+this.options.imageTabIndex+"'":"";td.innerHTML="<IMG src='"+_e0+"' class='w2grid_image"+(_e4?" w2grid_image_disabled":"")+"' style='"+_e2+"' "+_e3+_e5+_e6+_e7+" />";};WebSquare.uiplugin.cellInfo.image.prototype.getDisplayData=function(_e8){return _e8;};WebSquare.uiplugin.cellInfo.radio=function(){["WebSquare.uiplugin.cellInfo.radio"];};WebSquare.uiplugin.cellInfo.radio.prototype.initializeCellInfo=function(_e9){["WebSquare.uiplugin.cellInfo.radio.prototype.initializeCellInfo"];switch(this.options.valueType){case "binary":this.setBooleanValue("1","0");break;case "boolean":this.setBooleanValue("true","false");break;case "other":this.setBooleanValue(this.options.trueValue,this.options.falseValue);break;}if(this.options.groupRef){this.options.groupValue=WebSquare.ModelUtil.getInstanceValue(this.options.groupRef);}};WebSquare.uiplugin.cellInfo.radio.prototype.setBooleanValue=function(_ea,_eb){this.options.trueValue=_ea+"";this.options.falseValue=_eb+"";};WebSquare.uiplugin.cellInfo.radio.prototype.setInnerHTML=function(td,_ed,_ee){var _ef=this.mainGridId+"_radio_"+(this.options.groupName?this.options.groupName+"_"+_ee:this.id);var _f0=_ed+""==this.options.trueValue;var _f1=this.mainGrid.getEditReadOnly(td,_ee)||this.mainGrid.getEditDisabled(_ee,td.getAttribute("col_id"));if(this.options.embeddedInput){var _f2=this.mainGrid.getInput(this,td);_f2.setAttribute("rowindex",_ee);_f2.checked=false;_f2.name=_ef;_f2.checked=_f0;_f2.disabled=_f1;}else{var _f3=this.options.title?" title='"+this.options.title+"'":"";var _f4=this.mainGrid.options.focusMode=="none"?"":" tabIndex='-1'";var _f5=_f0?" checked":"";var _f6=_f1?" disabled='true'":"";td.innerHTML="<INPUT style='border-width:0px;' type='radio' name='"+_ef+"'"+_f3+_f4+_f5+_f6+" />";}};WebSquare.uiplugin.cellInfo.radio.prototype.getDisplayData=function(_f7){return _f7;};WebSquare.uiplugin.cellInfo.radio.prototype.handleClick=function(td,_f9){if(!td.firstChild){return true;}if(this.mainGrid.isDrillDown&&this.mainGrid.options.drilldownRealRowIndex){_f9=this.mainGrid.filteredRowIndexArr[_f9];}var _fa=this.mainGrid.getCellData(_f9,this.id);var _fb=_fa;if(_fa==this.options.trueValue){return true;}if(td.firstChild.checked){_fb=this.options.trueValue;this.resetOthers(_f9);if(this.options.groupName){if(this.mainGrid.radioGroupRepChk[this.options.groupName]){this.mainGrid.setCellData(_f9,this.options.groupName,this.options.groupValue);}}}this.mainGrid.setCellData(_f9,this.id,_fb);if(td.getAttribute("colMerged")=="0"){var _fc=this.setMergedCol(_f9,this.id,_fa,_fb);}return true;};WebSquare.uiplugin.cellInfo.radio.prototype.resetOthers=function(_fd){if(this.options.groupName){var _fe=this.mainGrid.getColumnCount();for(var _ff=0;_ff<_fe;_ff++){var _100=this.mainGrid.getCellInfo(_ff);if(_100!=this&&_100.options.inputType=="radio"&&_100.options.groupName==this.options.groupName){this.mainGrid.setCellData(_fd,_ff,_100.options.falseValue);}}}else{if(this.mainGrid.isDrillDown&&this.mainGrid.options.drilldownRealRowIndex){for(var i=0;i<this.mainGrid.getTotalRow();i++){if(this.mainGrid.getCellData(i,this.id,"3")+""==this.options.trueValue){this.mainGrid.setCellData(i,this.id,this.options.falseValue);}}}else{for(var i=0;i<this.mainGrid.getDataLength();i++){if(this.mainGrid.getCellData(i,this.id)+""==this.options.trueValue){this.mainGrid.setCellData(i,this.id,this.options.falseValue);}}}}};WebSquare.uiplugin.cellInfo.radio.prototype.doDefaultAction=function(e){var td=WebSquare.event.getTarget(e);if(this.mainGrid.options.focusMode=="none"){while(td&&td.tagName!="TD"){td=td.parentNode;}if(td){var _104=this.mainGrid.getElemRowIndex(td);var _105=this.mainGrid.rowIndex+_104;var _106=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));}else{return;}}else{var _107=this.mainGrid.getLastFocusedCell();var _105=_107.focusedRowIndex;var _106=_107.focusedColIndex;}if(!this.mainGrid.getEditDisabled(_105,_106)&&!this.mainGrid._getEditReadOnly(_105,_106)){var _108=this.mainGrid.getCellData(_105,_106);td.firstChild.checked=(_108==this.options.trueValue?this.options.falseValue:this.options.trueValue);this.handleClick(td,_105);}};WebSquare.uiplugin.cellInfo.select=function(){["WebSquare.uiplugin.cellInfo.select"];};WebSquare.uiplugin.cellInfo.select.prototype.setInnerHTML=function(td,data,_10b,_10c){if(this.options.embeddedInput){var _10d=this.mainGrid.getInput(this,td);_10d.render.setAttribute("rowindex",_10b);if(this.options.selectSetter!=""){this.initSelectSetter();_10d.itemArr=this.itemArr;_10d.setSelectOptions();}if(this.hasRef){var _10e=this.mainGrid.getElemRowIndex(td);_10d.itemArr=this.getRefItemArr(_10e);_10d.setSelectOptions();}_10d.setValue(data);if(!_10d.setValueNM(data)){this.mainGrid.setCellData(_10d.render.getAttribute("rowindex"),_10d.render.parentNode.getAttribute("col_id"),_10d.getValue());}if(this.mainGrid.getEditReadOnly(td,_10b)||this.mainGrid.getEditDisabled(_10b,_10c)){_10d.dom.select.disabled=true;}else{_10d.dom.select.disabled=false;}td.removeAttribute("tabIndex");}else{this.initSelectSetter();var _10e=_10b;if(data==null){data="";}var _10f=WebSquare.util.getGlobalFunction(this.options.customFormatter);var _110;if(typeof _10f=="function"){var _111=this.getDisplayData(data,_10e);_110=_10f.call(this.mainGrid,data,_111,_10b,_10c);}else{_110=this.getData(data,_10e);}if(WebSquare.util.isSafari()&&navigator.userAgent.indexOf("Windows")!=-1){td.innerHTML="";var noBR=document.createElement("nobr");noBR.style.cssText="overflow : hidden; text-overflow:ellipsis; display:block; width:100%;";noBR.textContent=_110;td.appendChild(noBR);}else{if(this.mainGrid.options.plainText&&td.firstChild&&td.firstChild.firstChild){td.firstChild.firstChild.data=_110;}else{td.innerHTML="<nobr>"+_110+"</nobr>";}}if(this.mainGrid.options.plainText&&td.firstChild&&td.firstChild.firstChild){td.firstChild.firstChild.data=_110;}else{td.innerHTML="<nobr>"+_110+"</nobr>";}var _113=this.mainGrid.filteredRowIndexArr[_10b];var _114=this.mainGrid.getCellOption(_113,_10c,"viewType");if(_114=="icon"||(_114==""&&this.options.dataType=="own")){this.mainGrid.addClass(td,this.mainGrid.options.bodyTdClass+"_select");td.setAttribute("editModeEvent","onclick");}else{if(this.options.editModeEvent=="onclick"){td.setAttribute("editModeEvent","onclick");}else{this.mainGrid.removeClass(td,this.mainGrid.options.bodyTdClass+"_select");td.setAttribute("editModeEvent","");}}}};WebSquare.uiplugin.cellInfo.select.prototype.initializeCellInfo=function(_115){["WebSquare.uiplugin.cellInfo.select.prototype.initializeCellInfo"];if(this.options.selectSetter!=""){this.selectSetted=false;this.resetMatchInfo=true;}else{var _116=WebSquare.xml.serialize(_115);var _117=_116.indexOf("xmlns:w2")<0?" xmlns:w2=\"http://www.inswave.com/websquare\"":"";_116=_116.wq_replaceAll("<w2:column","<w2:select"+_117);_116=_116.wq_replaceAll("</w2:column","</w2:select");var elem=WebSquare.xml.parse(_116,true);this.xml=elem.documentElement;WebSquare.extend(this,WebSquare.itemsetControl.prototype);this.hasRef=false;this.itemsetObj=WebSquare.WebSquareparser.parseItemset(this.xml);this.resetMatchInfo=true;var _119=this.itemsetObj.nodeset.wq_replaceAll(" ","");if(this.itemsetObj.nodeset!=""&&_119.indexOf("ref(")>=0){this.hasRef=true;var _11a=this.itemsetObj.nodeset;this.refStr="\""+this.refReplace(_11a)+"\"";var _11b=_11a.match(/ref\('([^']*)'\)/g);for(var i=0;i<_11b.length;i++){var _11d=_11b[i].slice(5,-2);var _11e=this.mainGrid.getCellInfo(_11d);if(!_11e.refArr){_11e.refArr=[];}_11e.refArr.push(this.id);}this.refHash=[];this.refItemArr=[];if(this.options.embeddedInput){var _11f=WebSquare.xml.getElementsByTagName(this.xml,"w2:itemset");_11f[0].setAttribute("nodeset","");}}else{this.matchInfo=this.setMatchInfo();}}if(!this.refArr){this.refArr=[];}};WebSquare.uiplugin.cellInfo.select.prototype.refReplace=function(_120){["WebSquare.uiplugin.cellInfo.select.prototype.refReplace"];var _121=_120.replace(/ref\('([^']*)'\)/,"\"+this.getRefValue('$1')+\"");if(_121!=_120){return this.refReplace(_121);}return _121;};WebSquare.uiplugin.cellInfo.select.prototype.refXmlReplace=function(_122){["WebSquare.uiplugin.cellInfo.select.prototype.refXmlReplace"];var _123=_122.replace(/ref\('([^']*)'\)/,"'+this.getRefValue('$1')+'");if(_123!=_122){return this.refXmlReplace(_123);}return _123;};WebSquare.uiplugin.cellInfo.select.prototype.setMatchInfo=function(){["WebSquare.uiplugin.cellInfo.select.prototype.setMatchInfo"];this.modelControl=new WebSquare.modelControl(this.id,this.options.model,this.options.ref,this.itemsetObj,this.options.bind);this.initializeItemArr(this.xml);if(this.itemArr.length==0){this.resetMatchInfo=true;}else{this.resetMatchInfo=false;}var _124={};if(this.options.allOption==true){this.itemArr=[{label:"-\uc804\uccb4-",value:"all"}].concat(this.itemArr);}if(this.options.chooseOption==true){var _125=this.options.chooseOptionLabel;if(_125=="$blank"){_125="";}this.itemArr=[{label:_125,value:""}].concat(this.itemArr);}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}for(var i=0;i<this.itemArr.length;i++){var _127=this.itemArr[i];_124["SELECT_"+_127.value]=_127.label;}if(this.hasRef){this.refItemArr[this.itemsetObj.nodeset]=this.itemArr;}return _124;};WebSquare.uiplugin.cellInfo.select.prototype.getItemText=function(idx){["WebSquare.uiplugin.selectbox.getItemText"];try{var text="";if(idx>-1&&idx<this.itemArr.length){text=this.itemArr[idx].label;switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}switch(this.options.displayMode){case "0":break;case "1":text=this.itemArr[idx].value+this.options.delimiter+text;break;case "2":text=text+this.options.delimiter+this.itemArr[idx].value;break;}}return text;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.select.prototype.getMatchInfo=function(_12a){["WebSquare.uiplugin.cellInfo.select.prototype.getMatchInfo"];var _12b=[];if(this.options.selectSetter!=""){_12b=this.matchInfo;}else{if(this.hasRef){_12b=this.getRefMatchInfo(_12a);}else{if(!this.hasRef){if(this.resetMatchInfo){this.matchInfo=this.setMatchInfo();}_12b=this.matchInfo;}}}return _12b;};WebSquare.uiplugin.cellInfo.select.prototype.getRefMatchInfo=function(_12c){["WebSquare.uiplugin.cellInfo.select.prototype.getRefMatchInfo"];this.targetRowIndex=_12c;var _12d=eval(this.refStr);if(this.refHash[_12d]!=null&&!this.resetMatchInfo){return this.refHash[_12d];}else{this.itemsetObj.nodeset=_12d;var _12e=WebSquare.xml.getElementsByTagName(this.xml,"w2:itemset");_12e[0].setAttribute("nodeset",_12d);var _12f=this.setMatchInfo();this.refHash[_12d]=_12f;return _12f;}return [];};WebSquare.uiplugin.cellInfo.select.prototype.getRefItemArr=function(_130){["WebSquare.uiplugin.cellInfo.select.prototype.getRefItemArr"];this.getRefMatchInfo(_130);var _131=eval(this.refStr);return this.refItemArr[_131];};WebSquare.uiplugin.cellInfo.select.prototype.getRefValue=function(_132){["WebSquare.uiplugin.cellInfo.select.prototype.getRefValue"];var _133="\""+this.mainGrid.getCellData(this.targetRowIndex,_132)+"\"";return _133;};WebSquare.uiplugin.cellInfo.select.prototype.getData=function(data,_135){["WebSquare.uiplugin.cellInfo.select.prototype.getData"];try{var _136=this.getMatchInfo(_135);var ret=_136["SELECT_"+data];if(typeof ret=="undefined"){return "";}return ret;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}return data;};WebSquare.uiplugin.cellInfo.select.prototype.getDisplayData=function(data,_139){["WebSquare.uiplugin.cellInfo.select.prototype.getDisplayData"];var ret=this.getData(data,_139);if(ret==null){ret="";}if(ret!=data&&ret==""){ret=data;}return ret;};WebSquare.uiplugin.cellInfo.select.prototype.initSelectSetter=function(){["WebSquare.uiplugin.drawController.Select.prototype.initSelectSetter"];if(this.selectSetted==false&&this.options.selectSetter!=""){this.selectSetted=true;var _13b=[];try{this.options.selectSetter=this.options.selectSetter.wq_trim();if(this.options.selectSetter.indexOf("(")<0){this.options.selectSetter+="()";}_13b=eval(this.options.selectSetter);}catch(e){WebSquare.exception.printStackTrace(e);}this.itemArr=_13b;this.matchInfo=[];for(var i=0;i<_13b.length;i++){var _13d=_13b[i];if(_13d.value==null){_13d.value="";}this.matchInfo["SELECT_"+_13d.value]=_13d.label;}}};WebSquare.uiplugin.cellInfo.select.prototype.setEditMode=function(td,_13f){["WebSquare.uiplugin.cellInfo.select.prototype.setEditMode"];if(this.options.embeddedInput){return;}if(this.style==""){this.createSelectbox(td,_13f);}else{td.innerHTML="";td.appendChild(this.select.render);}if(this.mainGrid.directItemChoiceKeyObj.select){this.editTd=td;this.editRowIndex=_13f;this.select.setValue(this.mainGrid.getCellData(_13f,this.id));var _140=this.select.findItemStartedWithKeyChar(this.mainGrid.directItemChoiceKeyObj.select);this.mainGrid.setCellData(_13f,this.id,this.select.getValue());this.mainGrid.directItemChoiceKeyObj.select=null;if(this.options.moveFocusByChoice){if(_140){this.moveFocus(this.editRowIndex,this.id);}}if(_140){return;}else{this.mainGrid.editedCell=this.mainGrid.getCellInfo(td);td.innerHTML="";td.appendChild(this.select.render);}}if(!this.select.itemTable&&!this.mainGrid.directItemChoiceKeyObj.select){this.createItemTable(td,_13f);}if(this.hasRef){var _141=this.mainGrid.getElemRowIndex(td);this.select.itemArr=this.getRefItemArr(_141);this.select.itemTable.show();this.select.setSelectOptions();}this.editRowIndex=_13f;this.editTd=td;this.select.setValue(this.mainGrid.getCellData(_13f,this.id));if(this.select.getItemCount()==0){this.select.selectedIndex=-1;this.select.dom.label.innerHTML="";}this.select.openSubLayer();var _142=this.select.itemTable.render.firstChild.clientWidth;if(_142<td.clientWidth-2){_142=td.clientWidth-2;}if(_142<this.select.itemTable.render.offsetWidth-2){_142=this.select.itemTable.render.offsetWidth-2;}this.select.setSize(td.clientWidth-2,td.clientHeight-2);this.select.itemTable.setStyle("width",_142+"px");td.style.textOverflow="ellipsis";};WebSquare.uiplugin.cellInfo.select.prototype._handleEndEdit=function(e){["WebSquare.uiplugin.cellInfo.select.prototype._handleEndEdit"];try{this.select.closeSubLayer();var _144=this.select.getValue();var _145=this.mainGrid.getCellData(this.editRowIndex,this.id);try{this.editTd.removeChild(this.select.render);}catch(e){return;}this.setInnerHTML(this.editTd,_144,this.editRowIndex,this.id);this.mainGrid.setCellData(this.editRowIndex,this.id,_144);if(this.options.moveFocusByChoice){this.moveFocus(this.editRowIndex,this.id);}}catch(e){WebSquare.exception.printStackTrace(e,null,this.mainGrid);}};WebSquare.uiplugin.cellInfo.select.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.select.prototype._getEditedValue"];var _147=this.select.getValue();return _147;};WebSquare.uiplugin.cellInfo.select.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.select.prototype._handleCancelEdit"];this.select.closeSubLayer();var _149=this.mainGrid.getCellData(this.editRowIndex,this.id);this.editTd.removeChild(this.select.render);this.setInnerHTML(this.editTd,_149,this.editRowIndex,this.id);};WebSquare.uiplugin.cellInfo.select.prototype.doDefaultAction=function(e){["WebSquare.uiplugin.cellInfo.select.prototype.doDefaultAction"];if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};WebSquare.uiplugin.cellInfo.select.prototype.moveFocus=function(_14b,_14c){["WebSquare.uiplugin.cellInfo.select.prototype.moveFocus"];if(this.options.moveFocusByChoice){var _14d=this.options.moveFocusByChoice;switch(_14d){case "down":this.mainGrid.setFocusedCell(_14b+1,_14c,false);break;case "right":var _14e=this.mainGrid.getColumnIndex(_14c)+1;this.mainGrid.setFocusedCell(_14b,_14e,false);break;case "none":break;}}};WebSquare.uiplugin.cellInfo.select.prototype.createSelectbox=function(td,_150){["WebSquare.uiplugin.cellInfo.select.prototype.createSelectbox"];this.style="position:relative;left:0px;top:0px;background-color:#ffffff;";this.xml.setAttribute("class",this.mainGridId+"_select_"+this.id);this.xml.setAttribute("chooseOption",this.options.chooseOption+"");this.xml.setAttribute("chooseOptionLabel",this.options.chooseOptionLabel);this.xml.setAttribute("allOption",this.options.allOption+"");this.xml.setAttribute("submenuSize","auto");this.xml.setAttribute("style",this.style);this.setFirst=true;if(this.hasRef){var _151=WebSquare.xml.getElementsByTagName(this.xml,"w2:itemset");_151[0].setAttribute("nodeset",eval(this.refStr));}this.setFirst=false;this.configOptions.chooseOptionLabel=this.options.chooseOptionLabel;this.configOptions.labelWidthAuto=false;this.select=new WebSquare.uiplugin.selectbox(this.mainGridId+"_selectbox_"+this.id,this.configOptions,this.xml);var _152=this;var _153=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));if(this.options.selectSetter!=""){for(var i=0;i<this.itemArr.length;i++){this.select.addItem(this.itemArr[i].value,this.itemArr[i].label);}}this.select.setSelectedIndex1=function(idx){this.setSelectedIndex(idx);this.closeSubLayer();_152.handleEndEdit();};this.select.__openSubLayer=this.select.openSubLayer;this.select.openSubLayer=function(){this.__openSubLayer();var _156=this.itemTable.render.offsetLeft+this.itemTable.render.offsetWidth-WebSquare.style.getAbsoluteLeft(_152.mainGrid.render);var _157=parseInt(_152.mainGrid.getElementById(_152.mainGrid.id+"_scrollY_div").style.width);var _158=_152.mainGrid.render.offsetWidth-_157;if(_156>_158){this.itemTable.setPosition(this.itemTable.render.offsetLeft-(_156-_158),null);}};this.select.__closeSubLayer=this.select.closeSubLayer;this.select.closeSubLayer=function(_159){this.__closeSubLayer(_159);_152.mainGrid.setFocusedCell();};this.select._handleClickEvent=this.select.handleClickEvent;this.select.handleClickEvent=function(e){this._handleClickEvent(e);WebSquare.event.stopEvent(e);_152.handleEndEdit();};td.innerHTML=this.select.toHTML();this.select.activate();this.select.setSize(td.clientWidth-2,td.clientHeight-2);this.select.render.style.border="1px solid "+this.mainGrid.options.selectedCellColor;};WebSquare.uiplugin.cellInfo.select.prototype.createItemTable=function(td,_15c){["WebSquare.uiplugin.cellInfo.select.prototype.createItemTable"];var _15d=this;var _15e=this.mainGrid.getColumnIndex(td.getAttribute("col_id"));this.select.setSubLayer();var _15f=this.select.itemTable;_15f.addClickEventListener(function(_160){_15d.select.setSelectedIndex1(_160);var fc=_15d.mainGrid.getLastFocusedCell();if(_15d.editRowIndex==fc.focusedRowIndex&&_15e==fc.focusedColIndex&&!_15d.options.moveEditModeByChoice){_15d.mainGrid.setFocusedCell();}if(_15d.options.moveEditModeByChoice){var _162=true;var _163=_15d.options.moveEditModeByChoice;switch(_163){case "down":_15d.mainGrid.moveVertical(false,_163,_162);break;case "right":_15d.mainGrid.moveHorizontal(false,_163,_162);break;case "none":break;}}});_15f.addKeyDownEventListener(function(e){switch(e.keyCode){case 9:this.fireClick(e);var fc=_15d.mainGrid.getLastFocusedCell();if(_15d.editRowIndex==fc.focusedRowIndex&&_15e==fc.focusedColIndex){_15d.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_15d.mainGrid.options.keyMoveEditMode);}break;case 13:var fc=_15d.mainGrid.getLastFocusedCell();if(_15d.editRowIndex==fc.focusedRowIndex&&_15e==fc.focusedColIndex&&!_15d.options.moveEditModeByChoice){if(_15d.mainGrid.options.fastEditMode){if(_15d.mainGrid.options.enterKeyMove=="none"){}else{if(_15d.mainGrid.options.enterKeyMove=="right"){_15d.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_15d.mainGrid.options.keyMoveEditMode);}else{_15d.mainGrid.moveVertical(e,e.shiftKey?"up":"down",_15d.mainGrid.options.keyMoveEditMode);}}}else{_15d.mainGrid.setFocusedCell();}}break;case 27:_15d.mainGrid.editedCell.handleCancelEdit(e);_15d.mainGrid.setFocusedCell();break;}});if(WebSquare.util.isOpera()){_15f.event.addListener(_15f.render,"onkeypress",function(e){if(e.keyCode==9||e.keyCode==27){WebSquare.event.preventDefault(e);}});}if(WebSquare.WebSquaredoc.itemsetElement.length>0&&WebSquare.WebSquaredoc.itemsetElement[WebSquare.WebSquaredoc.itemsetElement.length-1].id==this.mainGridId+"_selectbox_"+this.id){WebSquare.WebSquaredoc.itemsetElement.pop();}};WebSquare.uiplugin.cellInfo.checkcombobox=function(){["WebSquare.uiplugin.cellInfo.checkcombobox"];};WebSquare.uiplugin.cellInfo.checkcombobox.prototype.initializeCellInfo=function(_167){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.initializeCellInfo"];var _168=WebSquare.xml.serialize(_167);var _169=_168.indexOf("xmlns:w2")<0?" xmlns:w2=\"http://www.inswave.com/websquare\"":"";_168=_168.wq_replaceAll("<w2:column","<w2:checkcombobox"+_169);_168=_168.wq_replaceAll("</w2:column","</w2:checkcombobox");var elem=WebSquare.xml.parse(_168,true);this.xml=elem.documentElement;this.modelControl=new WebSquare.modelControl(this.id,this.options.model,this.options.ref,this.itemsetObj,this.options.bind);var _16b=WebSquare.WebSquareparser.parseItemset(this.xml);this.modelControl.setItemset(_16b.nodeset,_16b.label,_16b.value);this.itemsetObj=_16b;this.itemArr=[];var _16c=WebSquare.WebSquareparser.parseChoices(this.xml,"");if(_16c.length>0){this.itemArr=_16c;}else{this.itemArr=this.modelControl.getItemsetData();}if(this.options.allOption==true){this.itemArr=[{label:"-\uc804\uccb4-",value:"all"}].concat(this.itemArr);}if(this.options.chooseOption==true){var _16d=this.options.chooseOptionLabel;if(_16d=="$blank"){_16d="";}this.itemArr=[{label:_16d,value:""}].concat(this.itemArr);}this.separator=this.options.separator||" ";};WebSquare.uiplugin.cellInfo.checkcombobox.prototype.setInnerHTML=function(td,data,_170,_171){if(data==null){data="";}td.innerHTML="<nobr>"+this.getData(data,_170)+"</nobr>";};WebSquare.uiplugin.cellInfo.checkcombobox.prototype.getData=function(data,_173){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.getData"];try{data=data.split(this.separator);var _174=[];for(var i=0;i<this.itemArr.length;i++){for(var j=0;j<data.length;j++){if(this.itemArr[i].value==data[j]){_174.push(this.itemArr[i].label);}}}return _174.join(this.separator);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.checkcombobox.prototype.setEditMode=function(td,_178){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.setEditMode"];try{if(this.style==""){this.style="position:relative;left:0px;top:0px;background-color:#ffffff;";this.xml.setAttribute("class",this.mainGridId+"_checkcombobox_"+this.id);this.xml.setAttribute("chooseOption",this.options.chooseOption+"");this.xml.setAttribute("chooseOptionLabel",this.options.chooseOptionLabel);this.xml.setAttribute("allOption",this.options.allOption+"");this.xml.setAttribute("submenuSize","auto");this.xml.setAttribute("style",this.style);this.configOptions.separator=this.separator;this.checkcombobox=new WebSquare.uiplugin.checkcombobox(this.mainGridId+"_checkcombobox_"+this.id,this.configOptions,this.xml);var _179=this;this.checkcombobox.__closeSubLayer=this.checkcombobox.closeSubLayer;this.checkcombobox.closeSubLayer=function(){this.__closeSubLayer();_179.handleEndEdit();};td.innerHTML=this.checkcombobox.toHTML();this.checkcombobox.activate();this.checkcombobox.setSize(td.clientWidth-2,td.clientHeight-2);this.checkcombobox.setSubLayer();var _17a=this.checkcombobox.itemTable;_17a.addKeyDownEventListener(function(e){switch(e.keyCode){case 9:this.fireClick(e);_179.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_179.mainGrid.options.keyMoveEditMode);break;case 13:if(_179.mainGrid.options.fastEditMode){if(_179.mainGrid.options.enterKeyMove=="none"){}else{if(_179.mainGrid.options.enterKeyMove=="right"){_179.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_179.mainGrid.options.keyMoveEditMode);}else{_179.mainGrid.moveVertical(e,e.shiftKey?"up":"down",_179.mainGrid.options.keyMoveEditMode);}}}else{_179.checkcombobox.closeSubLayer();}break;case 27:_179.mainGrid.editedCell.handleCancelEdit(e);break;}});}else{td.innerHTML="";td.appendChild(this.checkcombobox.render);}this.checkcombobox.setValue(this.mainGrid.getCellData(_178,this.id));this.checkcombobox.openSubLayer();this.editRowIndex=_178;this.editTd=td;}catch(e){WebSquare.exception.printStackTrace(e,null,this.mainGrid);}};WebSquare.uiplugin.cellInfo.checkcombobox.prototype._handleEndEdit=function(e){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype._handleEndEdit"];try{var _17d=this.checkcombobox.getValue();var _17e=this.mainGrid.getCellData(this.editRowIndex,this.id);try{this.editTd.removeChild(this.checkcombobox.render);}catch(e){return;}this.setInnerHTML(this.editTd,_17d,this.editRowIndex,this.id);this.mainGrid.setCellData(this.editRowIndex,this.id,_17d);this.mainGrid.setFocusedCell();}catch(e){WebSquare.exception.printStackTrace(e,null,this.mainGrid);}};WebSquare.uiplugin.cellInfo.checkcombobox.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};WebSquare.uiplugin.cellInfo.checkcombobox.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype._handleCancelEdit"];this.checkcombobox.__closeSubLayer();var _181=this.mainGrid.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_181,this.editRowIndex,this.id);this.mainGrid.setFocusedCell();};WebSquare.uiplugin.cellInfo.checkcombobox.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype._getEditedValue"];var _183=this.checkcombobox.getValue();return _183;};WebSquare.uiplugin.cellInfo.checkcombobox.prototype.refreshItemArr=function(e){["WebSquare.uiplugin.cellInfo.checkcombobox.prototype.refreshItemArr"];var _185=WebSquare.WebSquareparser.parseChoices(this.xml,"");if(_185.length>0){this.itemArr=_185;}else{this.itemArr=this.modelControl.getItemsetData();}if(this.options.allOption==true){this.itemArr=[{label:"-\uc804\uccb4-",value:"all"}].concat(this.itemArr);}if(this.options.chooseOption==true){var _186=this.options.chooseOptionLabel;if(_186=="$blank"){_186="";}this.itemArr=[{label:_186,value:""}].concat(this.itemArr);}};WebSquare.uiplugin.cellInfo.autoComplete=function(){["WebSquare.uiplugin.cellInfo.autoComplete"];};WebSquare.uiplugin.cellInfo.autoComplete.prototype.setInnerHTML=function(td,data,_189,_18a){if(data==null){data="";}td.innerHTML="<nobr>"+this.getData(data,_189)+"</nobr>";};WebSquare.uiplugin.cellInfo.autoComplete.prototype.initializeCellInfo=function(_18b){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.initializeCellInfo"];var _18c=WebSquare.xml.serialize(_18b);var _18d=_18c.indexOf("xmlns:w2")<0?" xmlns:w2=\"http://www.inswave.com/websquare\"":"";_18c=_18c.wq_replaceAll("<w2:column","<w2:autoComplete"+_18d);_18c=_18c.wq_replaceAll("</w2:column","</w2:autoComplete");var elem=WebSquare.xml.parse(_18c,true);this.xml=elem.documentElement;WebSquare.extend(this,WebSquare.itemsetControl.prototype);this.hasRef=false;this.resetMatchInfo=true;this.itemsetObj=WebSquare.WebSquareparser.parseItemset(this.xml);var _18f=this.itemsetObj.nodeset.wq_replaceAll(" ","");if(this.itemsetObj.nodeset!=""&&_18f.indexOf("ref(")>=0){this.hasRef=true;this.refHash=[];this.refItemArr=[];this.refStr="\""+this.refReplace(this.itemsetObj.nodeset)+"\"";var _190=this.itemsetObj.nodeset.match(/ref\('([^']*)'\)/g);for(var i=0;i<_190.length;i++){var _192=_190[i].slice(5,-2);var _193=this.mainGrid.getCellInfo(_192);if(!_193.refArr){_193.refArr=[];}_193.refArr.push(this.id);}}else{this.matchInfo=this.setMatchInfo();}if(!this.refArr){this.refArr=[];}if(this.options.noResult=="useData"){this.useDataInfo={};}};WebSquare.uiplugin.cellInfo.autoComplete.prototype.getRefValue=function(_194){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getRefValue"];var _195="\""+this.mainGrid.getCellData(this.targetRowIndex,_194)+"\"";return _195;};WebSquare.uiplugin.cellInfo.autoComplete.prototype.refReplace=function(_196){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.refReplace"];var _197=_196.replace(/ref\('([^']*)'\)/,"\"+this.getRefValue('$1')+\"");if(_197!=_196){return this.refReplace(_197);}return _197;};WebSquare.uiplugin.cellInfo.autoComplete.prototype.getData=function(data,_199){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getData"];try{var _19a=this.getMatchInfo(_199);if(this.options.noResult=="useData"){if(!this.useDataInfo["AUTOCOMPLETE_"+data]){this.useDataInfo["AUTOCOMPLETE_"+data]=data;}if(!_19a["AUTOCOMPLETE_"+data]){this.matchInfo["AUTOCOMPLETE_"+data]=data;this.itemArr=[{label:data,value:""}].concat(this.itemArr);}}var ret=_19a["AUTOCOMPLETE_"+data];if(typeof ret=="undefined"){return "";}return ret;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}return data;};WebSquare.uiplugin.cellInfo.autoComplete.prototype.getMatchInfo=function(_19c){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getMatchInfo"];var _19d=[];if(this.hasRef){_19d=this.getRefMatchInfo(_19c);}else{if(!this.hasRef){if(this.resetMatchInfo){this.matchInfo=this.setMatchInfo();}_19d=this.matchInfo;}}return _19d;};WebSquare.uiplugin.cellInfo.autoComplete.prototype.getRefMatchInfo=function(_19e){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getRefMatchInfo"];this.targetRowIndex=_19e;var _19f=eval(this.refStr);if(this.refHash[_19f]!=null&&!this.resetMatchInfo){return this.refHash[_19f];}else{this.itemsetObj.nodeset=_19f;var _1a0=WebSquare.xml.getElementsByTagName(this.xml,"w2:itemset");_1a0[0].setAttribute("nodeset",_19f);var _1a1=this.setMatchInfo();this.refHash[_19f]=_1a1;return _1a1;}return [];};WebSquare.uiplugin.cellInfo.autoComplete.prototype.setMatchInfo=function(){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.setMatchInfo"];this.modelControl=new WebSquare.modelControl(this.id,this.options.model,this.options.ref,this.itemsetObj,this.options.bind);this.initializeItemArr(this.xml);if(this.itemArr.length==0){this.resetMatchInfo=true;}else{this.resetMatchInfo=false;}var _1a2={};if(this.options.allOption==true){this.itemArr=[{label:"-\uc804\uccb4-",value:"all"}].concat(this.itemArr);}if(this.options.chooseOption==true){var _1a3=this.options.chooseOptionLabel;if(_1a3=="$blank"){_1a3="";}this.itemArr=[{label:_1a3,value:""}].concat(this.itemArr);}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}for(var i=0;i<this.itemArr.length;i++){var _1a5=this.itemArr[i];_1a2["AUTOCOMPLETE_"+_1a5.value]=_1a5.label;}if(this.hasRef){this.refItemArr[this.itemsetObj.nodeset]=this.itemArr;}return _1a2;};WebSquare.uiplugin.cellInfo.autoComplete.prototype.getItemText=function(idx){["WebSquare.uiplugin.autoComplete.getItemText"];try{var text="";if(idx>-1&&idx<this.itemArr.length){text=this.itemArr[idx].label;switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}switch(this.options.displayMode){case "0":break;case "1":text=this.itemArr[idx].value+this.options.delimiter+text;break;case "2":text=text+this.options.delimiter+this.itemArr[idx].value;break;}}return text;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.autoComplete.prototype.getRefItemArr=function(_1a8){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getRefItemArr"];this.getRefMatchInfo(_1a8);var _1a9=eval(this.refStr);return this.refItemArr[_1a9];};WebSquare.uiplugin.cellInfo.autoComplete.prototype.getDisplayData=function(data,_1ab){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.getDisplayData"];var ret=this.getData(data,_1ab);if(ret==null){ret="";}if(ret!=data&&ret==""){ret=data;}return ret;};WebSquare.uiplugin.cellInfo.autoComplete.prototype.setEditMode=function(td,_1ae){["WebSquare.uiplugin.cellInfo.autoComplete.prototype.setEditMode"];try{if(this.style==""){this.style="position:relative;left:0px;top:0px;background-color:#ffffff;";this.xml.setAttribute("class",this.mainGridId+"_autoComplete_"+this.id);this.xml.setAttribute("style",this.style);this.configOptions={};this.options.interactionMode?this.configOptions.interactionMode=this.options.interactionMode:"";this.options.submission?this.configOptions.submission=this.options.submission:"";this.options.sortOption?this.configOptions.sortOption=this.options.sortOption:"";this.options.displayMode?this.configOptions.displayMode=this.options.displayMode:"";this.options.search?this.configOptions.search=this.options.search:"";this.options.submenuSize?this.configOptions.submenuSize=this.options.submenuSize:"";this.options.allOption?this.configOptions.allOption=this.options.allOption:"";this.options.chooseOptionLabel?this.configOptions.chooseOptionLabel=this.options.chooseOptionLabel:"";this.options.noResult?this.configOptions.noResult=this.options.noResult:"";if(this.hasRef){this.targetRowIndex=_1ae;var _1af=WebSquare.xml.getElementsByTagName(this.xml,"w2:itemset");_1af[0].setAttribute("nodeset",eval(this.refStr));}this.autoComplete=new WebSquare.uiplugin.autoComplete(this.mainGridId+"_autoComplete_"+this.id,this.configOptions,this.xml);var _1b0=this;this.autoComplete._handleClickEvent=this.autoComplete.handleClickEvent;this.autoComplete.handleClickEvent=function(e){this._handleClickEvent(e);WebSquare.event.stopEvent(e);};this.autoComplete._setSubLayer=this.autoComplete.setSubLayer;this.autoComplete.setSubLayer=function(e){this._setSubLayer(e);var _1b3=this.itemTable;_1b3.addKeyDownEventListener(function(e){switch(e.keyCode){case 9:this.fireClick(e);_1b0.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_1b0.mainGrid.options.keyMoveEditMode);break;case 13:if(_1b0.mainGrid.options.fastEditMode){if(_1b0.mainGrid.options.enterKeyMove=="none"){}else{if(_1b0.mainGrid.options.enterKeyMove=="right"){_1b0.mainGrid.moveHorizontal(e,e.shiftKey?"left":"right",_1b0.mainGrid.options.keyMoveEditMode);}else{_1b0.mainGrid.moveVertical(e,e.shiftKey?"up":"down",_1b0.mainGrid.options.keyMoveEditMode);}}}break;case 27:_1b0.handleCancelEdit(e);break;}});_1b3.addClickEventListener(function(idx){_1b0.autoComplete.dom.input.value=_1b0.autoComplete.viewArr[idx].label;_1b0.autoComplete.selectedText=_1b0.autoComplete.viewArr[idx].label;_1b0.autoComplete.selectedValue=_1b0.autoComplete.viewArr[idx].value;var _1b6=_1b0.autoComplete.selectedText+"|"+_1b0.autoComplete.selectedValue;var idx=_1b0.autoComplete.findinItemArr(_1b6,"all");_1b0.autoComplete.setSelectedIndex1(idx);_1b0.handleEndEdit();});};this.autoComplete._inputKeyDown=this.autoComplete.inputKeyDown;this.autoComplete.inputKeyDown=function(e,_1b8){if(e.keyCode==27){}else{_1b0.autoComplete._inputKeyDown(e,_1b8);}};td.innerHTML=this.autoComplete.toHTML();this.autoComplete.activate();this.autoComplete.setSize(td.clientWidth-2,td.clientHeight-2);}else{td.innerHTML="";td.appendChild(this.autoComplete.render);}if(this.hasRef){var _1b9=this.mainGrid.getElemRowIndex(td);this.autoComplete.itemArr=this.getRefItemArr(_1b9);}if(this.autoComplete.itemArr.length>0){var _1ba=this.mainGrid.getCellData(_1ae,this.id);this.autoComplete.setValue(_1ba);this.autoComplete.setInputFocus();}else{this.autoComplete.setInputFocus();this.autoComplete.dom.input.value="";}this.editRowIndex=_1ae;this.editTd=td;}catch(e){WebSquare.exception.printStackTrace(e,null,this.mainGrid);}};WebSquare.uiplugin.cellInfo.autoComplete.prototype._handleEndEdit=function(e){["WebSquare.uiplugin.cellInfo.autoComplete.prototype._handleEndEdit"];try{this.autoComplete.closeSubLayer();var _1bc=this.autoComplete.getValue();var _1bd=this.mainGrid.getCellData(this.editRowIndex,this.id);try{this.editTd.removeChild(this.autoComplete.render);}catch(e){return;}this.setInnerHTML(this.editTd,_1bc,this.editRowIndex,this.id);this.mainGrid.setCellData(this.editRowIndex,this.id,_1bc);this.mainGrid.setFocusedCell();}catch(e){WebSquare.exception.printStackTrace(e,null,this.mainGrid);}};WebSquare.uiplugin.cellInfo.autoComplete.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.autoComplete.prototype._handleCancelEdit"];this.autoComplete.closeSubLayer();var _1bf=this.mainGrid.getCellData(this.editRowIndex,this.id);this.editTd.removeChild(this.autoComplete.render);this.setInnerHTML(this.editTd,_1bf,this.editRowIndex,this.id);this.mainGrid.setFocusedCell();};WebSquare.uiplugin.cellInfo.autoComplete.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.autoComplete.prototype._getEditedValue"];var _1c1=this.autoComplete.getValue();return _1c1;};WebSquare.uiplugin.cellInfo.autoComplete.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};WebSquare.uiplugin.cellInfo.calendar=function(){["WebSquare.uiplugin.cellInfo.calendar"];};WebSquare.uiplugin.cellInfo.calendar.prototype.setInnerHTML=function(td,data,_1c5){td.innerHTML="<nobr>"+this.getDisplayData(data)+"</nobr>";};WebSquare.uiplugin.cellInfo.calendar.prototype.setEditMode=function(td,_1c7){["WebSquare.uiplugin.cellInfo.calendar.prototype.setEditMode"];try{this.editRowIndex=_1c7;this.editTd=td;this.setPosition();var _1c8=this.mainGrid.getInput(this);_1c8.setValue(this.mainGrid.getCellData(_1c7,this.id));_1c8.focus();this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(_1c8.options.editType=="select"){_1c8.select();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.calendar.prototype.setPosition=function(){["WebSquare.uiplugin.cellInfo.calendar.prototype.setEditMode"];try{var _1c9={top:0,left:0,width:0,height:0};if(WebSquare.util.isIE(8)){_1c9={top:1,left:0,width:0,height:0};}else{if(WebSquare.util.isFF()){_1c9={top:0,left:-1,width:0,height:0};}else{if(WebSquare.util.isChrome()||WebSquare.util.isSafari()){_1c9={top:1,left:0,width:0,height:0};}else{if(WebSquare.util.isOpera()){_1c9={top:1,left:0,width:0,height:1};}}}}var td=this.editTd;var _1cb=td.offsetTop+_1c9.top;var _1cc=td.offsetLeft+1+_1c9.left;var _1cd=td.clientWidth-5+_1c9.width;var _1ce=td.clientHeight-3+_1c9.height;var _1cf=_1ce-1;if(this.mainGrid.options.groupbyZone){var _1d0=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;_1cb=_1cb+_1d0;}var _1d1=this.mainGrid.getInput(this);_1d1.show();_1d1.render.style.top=_1cb+"px";_1d1.render.style.left=_1cc+"px";_1d1.render.style.width=_1cd+"px";_1d1.render.style.height=_1ce+"px";_1d1.render.firstChild.style.height=_1ce+"px";_1d1.dom.input.style.height=_1cf+"px";_1d1.dom.input.style.textAlign=td.style.textAlign==""?"center":td.style.textAlign;if(WebSquare.util.isIE()){_1d1.dom.input.style.lineHeight=_1ce+"px";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.calendar.prototype.removeCellData=function(_1d2,_1d3){this.mainGrid.setCellData(_1d2,_1d3,"");};WebSquare.uiplugin.cellInfo.prototype.handleScrollY=function(e){var _1d5=this.validate();if(_1d5){return this.handleEndEdit(e);}else{return this.handleCancelEdit(e);}};WebSquare.uiplugin.cellInfo.calendar.prototype._handleEndEdit=function(e){["WebSquare.uiplugi.cellInfo.calendar.prototype._handleEndEdit"];try{var _1d7=this.mainGrid.getInput(this);_1d7.hideCalendar();var _1d8=_1d7.getValue();this.setInnerHTML(this.editTd,_1d8,this.editRowIndex,this.id);this.mainGrid.setCellData(this.editRowIndex,this.id,_1d8);_1d7.hide();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.calendar.prototype.validate=function(e){["WebSquare.uiplugi.cellInfo.calendar.prototype.validate"];var _1da=this.mainGrid.getInput(this);if(_1da.validate()){return true;}if(_1da.getValue()==""){return true;}this.mainGrid.getInput(this).blur();var _1db=WebSquare.language.getMessage("IC_invalidCalendarSelect")||"\ub0a0\uc9dc \ud615\uc2dd\uc774 \uc798\ubabb \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";alert(_1db);this.mainGrid.getInput(this).focus();return false;};WebSquare.uiplugin.cellInfo.calendar.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.calendar.prototype._getEditedValue"];var _1dd=this.mainGrid.getInput(this).getValue();return _1dd;};WebSquare.uiplugin.cellInfo.calendar.prototype._handleCancelEdit=function(e){["WebSquare.uiplugi.cellInfo.calendar.prototype._handleCancelEdit"];try{var _1df=this.mainGrid.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_1df,this.editRowIndex,this.id);var _1e0=this.mainGrid.getInput(this);_1e0.hide();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.calendar.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};WebSquare.uiplugin.cellInfo.expression=function(){["WebSquare.uiplugin.cellInfo.expression"];};WebSquare.uiplugin.cellInfo.expression.prototype.initializeCellInfo=function(){var str=this.options.expression;this.expIdArr=[];if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.getExpressionTarget(");str=str.replace(/[dD][iI][sS][pP][lL][aA][yY][\s]*[(]/g,"this.getExpressionTarget(");}try{eval(str);}catch(e){}};WebSquare.uiplugin.cellInfo.expression.prototype.getExpressionTarget=function(){for(var i=0;i<arguments.length;i++){if(this.expIdArr[arguments[i]]==null){this.expIdArr[arguments[i]]=arguments[i];this.mainGrid.setExpressionAssociation(arguments[i],this.id);}}return 1;};WebSquare.uiplugin.cellInfo.expression.prototype.setInnerHTML=function(td,data,_1e6,_1e7){try{var _1e8=this.mainGrid.filteredRowIndexArr[_1e6];var _1e9=WebSquare.util.getGlobalFunction(this.options.customFormatter);var _1ea=this.getDisplayData(null,_1e8);var _1eb;if(typeof _1e9=="function"){_1eb=_1e9.call(this.mainGrid,data,_1ea,_1e6,_1e7);}else{_1eb=_1ea;}var _1ec=td.innerHTML.replace(/\r(\n)?/,"\n");var _1ed="<nobr>"+_1eb+"</nobr>";if(_1ec!==_1ed){td.innerHTML=_1ed;this.mainGrid.drawFooter(this.id);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.expression.prototype.getDisplayData=function(_1ee,_1ef){_1ee=this.getExpressionValue(_1ef);if(this.formatter){return this.formatter.format(_1ee);}return _1ee;};WebSquare.uiplugin.cellInfo.expression.prototype.getExpressionValue=function(_1f0){this.rowIndex=_1f0;var _1f1="";var str=this.options.expression;if(this.expressionStr==null){if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.colsum(");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.colavg(");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.colmax(");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.colmin(");str=str.replace(/[dD][iI][sS][pP][lL][aA][yY][\s]*[(]/g,"this.display(");str=str.replace(/[rR][oO][wW][iI][nN][dD][eE][xX][\s]*[(]/g,"this.getRowIndex(");}this.expressionStr=str;}_1f1=eval(this.expressionStr);return _1f1;};WebSquare.uiplugin.cellInfo.expression.prototype.colsum=function(){var ret=0;for(var i=0;i<arguments.length;i++){var _1f5=this.mainGrid.getColumnIndex(arguments[i]);ret+=parseFloat(this.mainGrid._getData(this.rowIndex,_1f5));}return ret;};WebSquare.uiplugin.cellInfo.expression.prototype.colavg=function(){var ret=0;for(var i=0;i<arguments.length;i++){var _1f8=this.mainGrid.getColumnIndex(arguments[i]);ret+=parseFloat(this.mainGrid._getData(this.rowIndex,_1f8));}ret=ret/arguments.length;return ret;};WebSquare.uiplugin.cellInfo.expression.prototype.colmax=function(){var ret=0;for(var i=0;i<arguments.length;i++){var _1fb=this.mainGrid.getColumnIndex(arguments[i]);var tmp=parseFloat(this.mainGrid._getData(this.rowIndex,_1fb));if(i==0||tmp>ret){ret=tmp;}}return ret;};WebSquare.uiplugin.cellInfo.expression.prototype.colmin=function(){var ret=0;for(var i=0;i<arguments.length;i++){var _1ff=this.mainGrid.getColumnIndex(arguments[i]);var tmp=parseFloat(this.mainGrid._getData(this.rowIndex,_1ff));if(i==0||tmp<ret){ret=tmp;}}return ret;};WebSquare.uiplugin.cellInfo.expression.prototype.display=function(){var _201=this.mainGrid.getColumnIndex(arguments[0]);var ret=this.mainGrid._getData(this.rowIndex,_201);return ret;};WebSquare.uiplugin.cellInfo.expression.prototype.getRowIndex=function(){return this.mainGrid.getDisplayRowIndex(this.rowIndex);};WebSquare.uiplugin.cellInfo.textarea=function(){["WebSquare.uiplugin.cellInfo.textarea"];};WebSquare.uiplugin.cellInfo.textarea.prototype.setInnerHTML=function(td,data){var _205=(td.clientWidth-8)+"";td.innerHTML="<div class='w2grid_textarea' style='text-align:"+this.options.textAlign+"; width:"+_205+"px'>"+(this.getEscape()==="true"?this.getDisplayData(WebSquare.xml._encode(data+"")):this.getDisplayData(data))+"</div>";};WebSquare.uiplugin.cellInfo.textarea.prototype.setEditMode=function(td,_207){this._setEditMode(td,_207);};WebSquare.uiplugin.cellInfo.textarea.prototype._setEditMode=function(td,_209){try{this.editRowIndex=_209;this.editTd=td;this.setPosition();var _20a=this.mainGrid.getInput(this);_20a.setValue(this.mainGrid.getCellData(_209,this.id));_20a.focus();this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(this.options.editType=="select"||this.mainGrid.options.editType=="select"){_20a.select();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.textarea.prototype.setPosition=function(){try{var _20b={top:0,left:0,width:0,height:0};if(WebSquare.util.isIE(8)){_20b={top:-1,left:-1,width:0,height:0};}else{if(WebSquare.util.isFF()){_20b={top:-2,left:-1,width:0,height:0};}else{if(WebSquare.util.isOpera()){_20b={top:0,left:0,width:0,height:1};}}}var td=this.editTd;var _20d=td.offsetTop+1+_20b.top;var _20e=td.offsetLeft+1+_20b.left;var _20f=td.clientWidth>150?td.clientWidth-5+_20b.width:150;var _210=td.clientHeight>60?td.clientHeight-2+_20b.height:60;if(this.mainGrid.options.groupbyZone){var _211=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;_20d=_20d+_211;}if(this.mainGrid.gridWidth<_20e+_20f){var _212=(td.clientWidth>150?0:5+_20b.width)-2;_20e-=(_20e+_20f)-(td.offsetLeft+td.clientWidth)+_212;}var _213=this.mainGrid.scrollX_right;if(this.mainGrid.render.offsetHeight-_213.offsetHeight<_20d+_210){var _214=(td.clientHeight>60?0:2-_20b.top);_20d-=(_20d+_210)-(td.offsetTop+td.clientHeight)+_214;if(_20d<0){_20d=1+_20b.top;}if(_210>this.mainGrid.render.offsetHeight){_210=this.mainGrid.render.offsetHeight-6+_20b.height;}}var _215=this.mainGrid.getInput(this);_215.show();_215.render.style.top=_20d+"px";_215.render.style.left=_20e+"px";_215.render.style.width=_20f+"px";_215.render.style.height=_210+"px";_215.render.style.imeMode=this.options.imeMode;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.textarea.prototype.removeCellData=function(_216,_217){this.mainGrid.setCellData(_216,_217,"");};WebSquare.uiplugin.cellInfo.textarea.prototype.showReadonly=function(td,_219){this._setEditMode(td,_219);var _21a=this.mainGrid.getInput(this);_21a.setDisabled(true);_21a.setReadOnly(true);this.mainGrid.editedCell=this;};WebSquare.uiplugin.cellInfo.textarea.prototype._handleEndEdit=function(e){["WebSquare.uiplugin.cellInfo.textarea.prototype._handleEndEdit"];try{var _21c=this.mainGrid.getInput(this);var _21d=_21c.getValue();if(this.options.dataType=="number"){_21d=Number(_21d);}this.setInnerHTML(this.editTd,_21d,this.editRowIndex,this.id);this.mainGrid.setCellData(this.editRowIndex,this.id,_21d);_21c.hide();_21c.setDisabled(false);_21c.setReadOnly(false);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.textarea.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.textarea.prototype._getEditedValue"];var _21f=this.mainGrid.getInput(this).value;return _21f;};WebSquare.uiplugin.cellInfo.textarea.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.textarea.prototype._handleCancelEdit"];try{var _221=this.mainGrid.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_221,this.editRowIndex,this.id);var _222=this.mainGrid.getInput(this);_222.hide();_222.setDisabled(false);_222.setReadOnly(false);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.textarea.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};WebSquare.uiplugin.cellInfo.drilldown=function(){["WebSquare.uiplugin.cellInfo.drilldown"];};WebSquare.uiplugin.cellInfo.drilldown.prototype.setInnerHTML=function(td,data,_226){var _227=_226;var _228=100;var _229=this.options.depthColumn;if(this.mainGrid.filteredRowIndexArr!=undefined&&this.mainGrid.filteredRowIndexArr.length>0){_227=this.mainGrid.filteredRowIndexArr[_226];if(_227<this.mainGrid.filteredRowIndexArr[this.mainGrid.filteredRowIndexArr.length-1]){_228=this.mainGrid.getCellData(_226+1,_229);}else{_228=null;}}var _22a=this.mainGrid.getCellData(_226,_229);var _22b="";var _22c=_227;var type="";for(var i=1;i<_22a;i++){if(this.options.depthType=="div"){_22b+="<div class='w2grid_depthBlank'></div>";}else{if(this.options.depthType=="line"){if(i===1){if(this.mainGrid.drilldown.isLastChild(_22c)){type="_line_L";}else{type="_line_T";}}else{if(this.mainGrid.drilldown.isLastChild(_22c)){type="Blank";}else{type="_line_I";}}_22b="<div class='w2grid_depth"+type+"'></div>"+_22b;_22c=this.mainGrid.drilldown.getParentRowIndex(_22c);}else{_22b+="&nbsp;&nbsp;";}}}var _22f=0;var _230="w2grid_plus";if(_228!=null&&_22a<_228){_22f=1;_230="w2grid_minus";}else{if(!this.mainGrid.hasChild(_226)){_22f=2;_230="w2grid_leaf";}}var icon="<span class='"+_230+"' style='display:inline-block;' openStatus='"+(_22f)+"' onclick='this.clicked=true'></span>";if(this.options.depthType=="div"){icon="<div class='w2grid_depthBlank'>"+icon+"</div>";td.innerHTML="<nobr class='w2grid_drilldown_nobr'>"+_22b+icon+this.getDisplayData(data)+"</nobr>";}else{if(this.options.depthType=="line"){icon="<div class='w2grid_depthBlank'>"+icon+"</div>";td.innerHTML=_22b+icon+"<nobr class='w2grid_drilldown_nobr'>"+this.getDisplayData(data)+"</nobr>";}else{td.innerHTML="<nobr>"+_22b+icon+this.getDisplayData(data)+"</nobr>";}}};WebSquare.uiplugin.cellInfo.drilldown.prototype.handleClick=function(td,_233){var imgs=td.getElementsByTagName("span");var img=imgs[0];if(img.clicked==true){img.clicked=false;if(img.getAttribute("openStatus")!="2"){this.mainGrid.toggle(_233);}return true;}return false;};WebSquare.uiplugin.cellInfo.textImage=function(){["WebSquare.uiplugin.cellInfo.textImage"];};WebSquare.uiplugin.cellInfo.textImage.prototype.setInnerHTML=function(td,data){var row=this.mainGrid.getElemRowIndex(td);var _239=this.mainGrid.filteredRowIndexArr[row];var col=this.mainGrid.getColumnIndex(this.id);var _23b=this.mainGrid.getCellOption(_239,col,"viewType");if(_23b=="icon"||(_23b==""&&this.options.dataType=="own")){td.innerHTML=["<table style='border-collapse:collapse; border-spacing:0px; width:100%;'>","<td width='100%;'>","<nobr>"+this.getDisplayData(data)+"</nobr>","</td>","<td>","<img src='"+this.options.imageSrc+"' style='",this.options.imageWidth!=""?"width:"+parseInt(this.options.imageWidth)+"px;":"",this.options.imageHeight!=""?"height:"+parseInt(this.options.imageHeight)+"px;":"","' />","</td>","</table>"].join("");var _23c=this;var _23d=_239;var img=td.getElementsByTagName("img")[0];var _23f=function(e){WebSquare.event.stopPropagation(e);var _241=_23c.getDisplayData(data);var _242=eval(_23c.options.imageClickFunction);if(typeof _242=="function"){_242.call(_23c.mainGrid,_23d,_23c.id,_241);}};WebSquare.event.addListener(img,"onclick",_23f);}else{td.innerHTML="<nobr>"+this.getDisplayData(data)+"</nobr>";}};WebSquare.uiplugin.cellInfo.textImage.prototype.setEditMode=function(td,_244){try{td.innerHTML=["<table style='border-collapse:collapse; border-spacing:0px;'><td></td><td>","<img src='"+this.options.imageSrc+"' style='",this.options.imageWidth!=""?"width:"+parseInt(this.options.imageWidth)+"px;":"",this.options.imageHeight!=""?"height:"+parseInt(this.options.imageHeight)+"px;":"","' />","</td></table>"].join("");var tds=td.getElementsByTagName("td");var img=tds[1].firstChild;var _247=this;var _248=function(e){WebSquare.event.stopPropagation(e);var _24a=_247.mainGrid.getInput(_247).getValue();var _24b=eval(_247.options.imageClickFunction);if(typeof _24b=="function"){_24b.call(_247.mainGrid,_244,_247.id,_24a);}};WebSquare.event.addListener(img,"onclick",_248);this.editRowIndex=_244;this.editTd=td;this.setPosition();var _24c=this.mainGrid.getInput(this);_24c.formatter=this.options.applyFormat=="all"?this.formatter:this.emptyFormatter;_24c.options.applyFormat=this.options.applyFormat;if(this.options.maxLength){_24c.render.setAttribute("maxLength",this.options.maxLength);}else{_24c.render.removeAttribute("maxLength");}_24c.setValue(this.mainGrid.getCellData(_244,this.id));_24c.focus();this.mainGrid.render.scrollLeft=0;this.mainGrid.render.scrollTop=0;if(_24c.options.editType=="select"){_24c.select();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.textImage.prototype.setPosition=function(){try{var _24d={top:0,left:0,width:0,height:0,tdWidth:0};if(WebSquare.util.isFF()){_24d={top:-1,left:-1,width:0,height:0,tdWidth:0};}else{if(WebSquare.util.isOpera()){_24d={top:0,left:0,width:0,height:1,tdWidth:0};}}var td=this.editTd;var tds=td.getElementsByTagName("td");var img=tds[1].firstChild;var _251=td.clientWidth-img.offsetWidth-1+_24d.tdWidth;var _252=td.offsetTop+1+_24d.top;var _253=td.offsetLeft+1+_24d.left;var _254=td.clientWidth-img.offsetWidth-6+_24d.width;var _255=td.clientHeight-2+_24d.height;if(this.mainGrid.options.groupbyZone){var _256=this.mainGrid.groupbyZoneStatus.groupbyZoneRender.offsetHeight;_252=_252+_256;}tds[0].style.width=_251+"px";var _257=this.mainGrid.getInput(this);if(this.options.imeMode!=""){_257.render.style.imeMode=this.options.imeMode;}else{_257.render.style.imeMode=this.options.dataType=="number"?"disabled":"";}_257.show();_257.render.style.top=_252+"px";_257.render.style.left=_253+"px";_257.render.style.width=_254+"px";_257.render.style.height=_255+"px";_257.render.style.lineHeight=_255+"px";_257.render.style.textAlign=td.style.textAlign==""?"center":td.style.textAlign;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.textImage.prototype.removeCellData=function(_258,_259){this.mainGrid.setCellData(_258,_259,"");};WebSquare.uiplugin.cellInfo.textImage.prototype._handleEndEdit=function(e){["WebSquare.uiplugin.cellInfo.textImage.prototype._handleEndEdit"];try{var _25b=this.mainGrid.getInput(this);var _25c=_25b.getValue();this.setInnerHTML(this.editTd,_25c,this.editRowIndex,this.id);this.mainGrid.setCellData(this.editRowIndex,this.id,_25c);_25b.setDisabled(false);_25b.setReadOnly(false);_25b.hide();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.textImage.prototype._getEditedValue=function(e){["WebSquare.uiplugin.cellInfo.textImage.prototype._getEditedValue"];var _25e=this.mainGrid.getInput(this).getValue();return _25e;};WebSquare.uiplugin.cellInfo.textImage.prototype._handleCancelEdit=function(e){["WebSquare.uiplugin.cellInfo.textImage.prototype._handleCancelEdit"];try{var _260=this.mainGrid.getInput(this);var _261=this.mainGrid.getCellData(this.editRowIndex,this.id);this.setInnerHTML(this.editTd,_261,this.editRowIndex,this.id);_260.hide();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.cellInfo.textImage.prototype.doDefaultAction=function(e){if(!e.ctrlKey){this.mainGrid.setEditHtml(e);}};WebSquare.uiplugin.cellInfo.textImage.prototype.showReadonly=function(td,_264){this.setEditMode(td,_264);var _265=this.mainGrid.getInput(this);_265.setDisabled(true);_265.setReadOnly(true);this.mainGrid.editedCell=this;};WebSquare.uiplugin.xmlDataController=function(){["WebSquare.uiplugin.xmlDataController"];};WebSquare.uiplugin.xmlDataController.prototype.setXMLLayout=function(_1,_2,_3){["WebSquare.uiplugin.xmlDataController.prototype.setXMLLayout"];try{if(_1!="undefined"&&_1!=null&&_1!=""){if(_1.endsWith("/")){this.options.baseNode=_1.substring(0,_1.length-1);}else{this.options.baseNode=_1;}}else{this.options.baseNode="";}if(_2!="undefined"&&_2!=null){if(_2.startsWith("/")){_2=_2.substring(1);}if(_2.endsWith("/")){_2=_2.substring(0,_2.length-1);}this.options.repeatNode=_2;}if(_3!="undefined"&&_3!=null){this.options.valueNode=_3;}else{this.options.valueNode="";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.xmlDataController.prototype.xmlData2ArrData=function(_4){["WebSquare.uiplugin.xmlDataController.prototype.xmlData2ArrData"];try{if(_4==null){return;}if(_4.nodeType==9){var _5=_4.selectNodes("/"+this.options.baseNode+"/"+this.options.repeatNode);}else{var _6=this.options.baseNode;if(_6.startsWith(_4.tagName)){var _6=_6.replace(_4.tagName,".");var _5=_4.selectNodes(_6+"/"+this.options.repeatNode);}else{_4=WebSquare.xml.parse(WebSquare.xml.serialize(_4));var _5=_4.selectNodes("/"+this.options.baseNode+"/"+this.options.repeatNode);}}var _7=[];var _8=this.options.valueNode;var _9=_8==null||_8=="";var _a=WebSquare.util.getTextNodeValue;var _b=_5.length;var _c=this.tdIdList.length;var _d=[];var _e=[];var _f=[];for(var i=0;i<_c;i++){_d[i]=this.getCellInfo(this.tdIdList[i]);var _11=_d[i].options;if(_11.importFormatter!=null&&_11.importFormatter!=""){_e[i]=true;}if(_11.importExp!=null&&_11.importExp!=""){_f[i]=true;}}for(var i=0;i<_b;i++){var obfuscator_i=i;var obfuscator_rowXml=_5[i];var len=_7.length;for(var j=0;j<_c;j++){var _14=_5[i].selectSingleNode(this.tdIdList[j]);if(_14!=null){if(_9){_7[len+j]=_a(_14);}else{_7[len+j]=_14.getAttribute(_8);}}else{_7[len+j]=_d[j].options.defaultValue;}}for(var j=0;j<_c;j++){if(_e[j]){try{_7[len+j]=eval(_d[j].options.importFormatter+"(obfuscator_rowXml, obfuscator_i)");}catch(e){_7[len+j]=_d[j].options.defaultValue;WebSquare.exception.printStackTrace(e,null,this);}}}for(var j=0;j<_c;j++){if(_f[j]){try{var _15=eval(_d[j].options.importExp);_7[len+j]=_15;}catch(e){_7[len+j]=_d[j].options.defaultValue;WebSquare.exception.printStackTrace(e,null,this);}}}for(var j=0;j<_c;j++){if(_d[j].options.inputType=="radio"&&_d[j].options.groupName){if(this.cellInfoHash[_d[j].options.groupName]){var _16=_d[j].options.trueValue;var _17=_d[j].options.falseValue;switch(_d[j].options.valueType){case "binary":_16="1";_17="0";break;case "boolean":_16="true";_17="false";break;case "other":break;}var _18=this.columnValue(obfuscator_rowXml,_d[j].options.groupName);if(_18==_d[j].options.groupValue){_7[len+j]=_16;}else{_7[len+j]=_17;}}}if(this.options.xmlEncode){if(_7[len+j]!=null){_7[len+j]=WebSquare.xml.decode(_7[len+j]);}}}}return _7;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.xmlDataController.prototype.jsonData2ArrData=function(_19){["WebSquare.uiplugin.xmlDataController.prototype.jsonData2ArrData"];try{if(_19==null){return;}var _1a=[];var _1b=this.options.valueNode;var _1c=_19.length;var _1d=this.tdIdList.length;var _1e=[];var _1f=[];var _20=[];for(var i=0;i<_1d;i++){_1e[i]=this.getCellInfo(this.tdIdList[i]);var _22=_1e[i].options;if(_22.importFormatter!=null&&_22.importFormatter!=""){_1f[i]=true;}if(_22.importExp!=null&&_22.importExp!=""){_20[i]=true;}}for(var i=0;i<_1c;i++){var obfuscator_i=i;var obfuscator_rowXml=_19[i];var len=_1a.length;for(var j=0;j<_1d;j++){var _25=_19[i][this.tdIdList[j]];if(_25!=null){_1a[len+j]=_25;}else{_1a[len+j]=_1e[j].options.defaultValue;}}for(var j=0;j<_1d;j++){if(_1f[j]){try{_1a[len+j]=eval(_1e[j].options.importFormatter+"(obfuscator_rowXml, obfuscator_i)");}catch(e){_1a[len+j]=_1e[j].options.defaultValue;WebSquare.exception.printStackTrace(e,null,this);}}}for(var j=0;j<_1d;j++){if(_20[j]){try{var _26=eval(_1e[j].options.importExp);_1a[len+j]=_26;}catch(e){_1a[len+j]=_1e[j].options.defaultValue;WebSquare.exception.printStackTrace(e,null,this);}}}}return _1a;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.xmlDataController.prototype.xpathValue=function(_27,_28){["WebSquare.uiplugin.xmlDataController.prototype.xpathValue"];try{var v=WebSquare.xml.findNode(_27,_28);if(v==null){return "";}if(v.nodeType==1){for(var _2a=v.firstChild;_2a!=null;_2a=_2a.nextSibling){if(_2a.nodeType==3){return _2a.nodeValue;break;}}}else{return v.nodeValue;}}catch(e){$l("xpath exeption");WebSquare.exception.printStackTrace(e,null,this);}return "";};WebSquare.uiplugin.xmlDataController.prototype.rowIndexValue=function(_2b){["WebSquare.uiplugin.xmlDataController.prototype.xpathValue"];return _2b;};WebSquare.uiplugin.xmlDataController.prototype.columnValue=function(_2c,_2d){["WebSquare.uiplugin.xmlDataController.prototype.columnValue"];try{var _2e="";_2d=this.getColumnID(_2d);if(_2c.nodeType!=undefined&&typeof _2c.selectSingleNode!="undefined"){if(this.options.valueNode==null||this.options.valueNode==""){_2e=WebSquare.util.getTextNodeValue(_2c.selectSingleNode(_2d));}else{_2e=_2c.selectSingleNode(_2d).getAttribute(this.options.valueNode);}}else{_2e=_2c[_2d];}return _2e;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}return "";};WebSquare.uiplugin.xmlDataController.prototype.getArrXML=function(_2f,_30){["WebSquare.uiplugin.xmlDataController.prototype.getArrXML"];try{if(_2f instanceof Array){var _31=false;this.tagNmArr=this.options.baseNode.replace(/\[[^\]]+\]/g,"").split("/");for(var i=0;i<this.tagNmArr.length;i++){if(this.tagNmArr[i]!=null&&this.tagNmArr[i].wq_trim()!=""){if(!_31){var _33=WebSquare.xml.parse("<"+this.tagNmArr[i]+"/>");var _34=[];_34.push(_33.documentElement);_31=true;}else{_34.push(_33.createElement(this.tagNmArr[i]));_34[i-1].appendChild(_34[i]);}}}var _35=this.options.repeatNode.replace(/\[[^\]]+\]/g,"").split("/");var _36=null;for(var i=0;i<_2f.length;i++){var obfuscator_rowIndex=_2f[i];_36=[];var obfuscator_objLastNode=null;for(var j=0;j<_35.length;j++){if(_35[j]!=""){var _38=_33.createElement(_35[j]);_36.push(_38);if(j==0){_34[_34.length-1].appendChild(_38);}else{_36[j-1].appendChild(_36[j]);}}}obfuscator_objLastNode=_36[_35.length-1];obfuscator_objLastNode.setAttribute("status",this.getRowStatusValue(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("statusValue",this.getRowStatus(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("id",obfuscator_rowIndex);var _39=this.getColumnCount();var _3a=new Array(_39);for(var col=0;col<_39;col++){var obfuscator_cellValue="";if(_30!="displayData"){obfuscator_cellValue=this.getCellData(obfuscator_rowIndex,col);if(obfuscator_cellValue==null){obfuscator_cellValue="";}}else{obfuscator_cellValue=this.getCellDisplayData(obfuscator_rowIndex,col);if(obfuscator_cellValue==null){obfuscator_cellValue="";}}if(this.options.xmlEncode){obfuscator_cellValue=WebSquare.xml.encode(obfuscator_cellValue);}var obfuscator_columnID=this.getColumnID(col);var _3c=this.getCellInfo(col);if(_3c.options.exportFormatter!=""){try{eval(_3c.options.exportFormatter+"(obfuscator_objLastNode, obfuscator_cellValue , obfuscator_rowIndex , obfuscator_columnID )");}catch(e){WebSquare.exception.printStackTrace(e,null,this);$l("xmlDtaGetter - tdObj.exportFormatter error");}}else{_3a[col]=_33.createElement(this.getColumnID(col));if(this.options.valueNode==""){var _3d=_33.createTextNode(obfuscator_cellValue);_3a[col].appendChild(_3d);}else{_3a[col].setAttribute(this.options.valueNode,obfuscator_cellValue);}obfuscator_objLastNode.appendChild(_3a[col]);}}}return _33;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.xmlDataController.prototype.getAllArrXML=function(_3e){["WebSquare.uiplugin.xmlDataController.prototype.getArrXML"];try{var _3f=false;this.tagNmArr=this.options.baseNode.replace(/\[[^\]]+\]/g,"").split("/");for(var i=0;i<this.tagNmArr.length;i++){if(this.tagNmArr[i]!=null&&this.tagNmArr[i].wq_trim()!=""){if(!_3f){var _41=WebSquare.xml.parse("<"+this.tagNmArr[i]+"/>");var _42=[];_42.push(_41.documentElement);_3f=true;}else{_42.push(_41.createElement(this.tagNmArr[i]));_42[i-1].appendChild(_42[i]);}}}var _43=this.options.repeatNode.replace(/\[[^\]]+\]/g,"").split("/");var _44=null;for(var i=0;i<this.getTotalRow();i++){var obfuscator_rowIndex=i;_44=[];var obfuscator_objLastNode=null;for(var j=0;j<_43.length;j++){if(_43[j]!=""){var _46=_41.createElement(_43[j]);_44.push(_46);if(j==0){_42[_42.length-1].appendChild(_46);}else{_44[j-1].appendChild(_44[j]);}}}obfuscator_objLastNode=_44[_43.length-1];obfuscator_objLastNode.setAttribute("status",this._getRowStatusValue(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("statusValue",this._getRowStatus(obfuscator_rowIndex));obfuscator_objLastNode.setAttribute("id",obfuscator_rowIndex);var _47=this.getColumnCount();var _48=new Array(_47);for(var col=0;col<_47;col++){var obfuscator_cellValue="";if(_3e!="displayData"){obfuscator_cellValue=this._getData(obfuscator_rowIndex,col);}else{obfuscator_cellValue=this._getDisplayData(obfuscator_rowIndex,col);}if(this.options.xmlEncode){obfuscator_cellValue=WebSquare.xml.encode(obfuscator_cellValue);}var obfuscator_columnID=this.getColumnID(col);var _4a=this.getCellInfo(col);if(_4a.options.exportFormatter!=""){try{eval(_4a.options.exportFormatter+"(obfuscator_objLastNode, obfuscator_cellValue , obfuscator_rowIndex , obfuscator_columnID )");}catch(e){WebSquare.exception.printStackTrace(e,null,this);$l("xmlDtaGetter - tdObj.exportFormatter error");}}else{_48[col]=_41.createElement(this.getColumnID(col));if(this.options.valueNode==""){var _4b=_41.createTextNode(obfuscator_cellValue);_48[col].appendChild(_4b);}else{_48[col].setAttribute(this.options.valueNode,obfuscator_cellValue);}obfuscator_objLastNode.appendChild(_48[col]);}}}return _41;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.headerController=function(){["WebSquare.uiplugin.headerController"];};WebSquare.uiplugin.headerController.prototype.initializeHead=function(){["WebSquare.uiplugin.headerController.prototype.initializeHead"];try{this.headerObj={};var _1=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));var _2=[];for(var i=0;i<_1.length;i++){_2.push(_1[i]);}for(var i=0;i<_2.length;i++){var td=_2[i];var _5=td.getAttribute("inputType");var _6=td.getAttribute("dataType");var _7=td.getAttribute("value");var _8=null;if(_5=="checkbox"){td.innerHTML="";_8=this.setCheckboxHead(td,_7);_8.headInputType="checkbox";}else{if(_5=="select"){_8=this.setSelectboxHead(td,_7);_8.headInputType="select";}else{if(_5=="text"&&_6=="own"){_8=this.setInputHead(td,_7);_8.headInputType="input";}else{var _9="";var _a=td.getAttribute("localeRef");if(_a!=null){_9=this.getLocaleValue(_a);}else{_9=td.getAttribute("value");if(_9==null){_9="";}}td.innerHTML="<nobr>"+_9+"</nobr>";}}}var _b=td.getAttribute("id");td.setAttribute("header_id",_b);td.className=td.className+(" "+this.id+"_header__column"+i);td.setAttribute("id",this.id+"_"+_b);if(this.options.autoScope){td.setAttribute("scope","col");}if(td.getAttribute("useFilter")=="true"){var _c=td.innerHTML;td.innerHTML="<table style='width:100%;height:100%;'><tr><td style='width:100%;'>"+_c+"</td><td><input type='button' id='"+this.id+"_"+_b+"_filter' class='w2trigger w2grid_customFilter_open' onclick='"+this.id+".dataFilter.showCustomFilter(\""+_b+"\");'/></td></tr></table>";}this.headerObj[_b]=_8;td.disabled=false;var _d=td.getAttribute("toolTip");if(_d){WebSquare.getBody().setToolTip(td,_d);}}this.clearHeaderSort();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.headerController.prototype.associateHeaderBody=function(){["WebSquare.uiplugin.headerController.prototype.associateHeaderBody"];try{var _e=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));var _f=0;var _10=-1;for(var i=0;i<_e.length;i++){var _12=_e[i];if(_12.className.indexOf(this.options.headerTdClass+"_rowNumber")>=0||_12.className.indexOf(this.options.headerTdClass+"_rowStatus")>=0){}else{var _13=_12.getAttribute("colIndex");if(parseInt(_13)<=_10){_f++;}_10=parseInt(_13);var _14=_f;if(_14+1>this.tempTr.rows.length){_14=this.tempTr.rows.length-1;}var _15=null;var _16=null;while(_14>=0){var _17=this.tempTr.rows[_14];var _18=WebSquare.util.first(_17);while(_18){var _19=_18.getAttribute("colIndex");if(_13==_19){_16=_18;break;}_18=WebSquare.util.next(_18);}if(_16){break;}_14--;}if(_16){var _1a=_12.getAttribute("header_id");var _1b=_16.getAttribute("col_id");this.headerToBodyRelation[_1a]=_1b;this.bodyToHeaderRelation[_1b]=_1a;}else{}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.headerController.prototype.setCheckboxHead=function(td,_1d){["WebSquare.uiplugin.headerController.prototype.setCheckboxHead"];try{var _1e=td.getAttribute("onChangeFunction");td.innerHTML="<INPUT type='checkbox' />";var _1f=td.firstChild;_1f.setAttribute("colId",_1d);var _20=td.getAttribute("title");if(_20){_1f.setAttribute("title",_20);}var _21=this;WebSquare.event.addListener(_1f,"onkeydown",function(e){WebSquare.event.stopPropagation(e);});WebSquare.event.addListener(_1f,"ondblclick",function(e){WebSquare.event.stopPropagation(e);});WebSquare.event.addListener(_1f,"onfocus",function(e){_21.removeFocusedCell();});if(_1e!=null&&_1e!=""){WebSquare.event.addListener(_1f,"onclick",function(e){_21.noevent=true;var _26=window[_1e];if(typeof _26=="function"){try{_26.call(this,this.checked,_1d);}catch(e){}}});}else{WebSquare.event.addListener(_1f,"onclick",function(e){_21.noevent=true;var _28=_21.getCellInfo(_1d);var _29=_28.options.trueValue;var _2a=_28.options.falseValue;if(this.checked){var _2b=_21.getUnCheckedIndex(_1d);for(var i=0;i<_2b.length;i++){if(!_21._getEditReadOnly(_2b[i],_1d)&&!_21.getEditDisabled(_2b[i],_1d)){_21.setCellData(_2b[i],_1d,_29,true);}}}else{var _2d=_21.getCheckedIndex(_1d);for(var i=0;i<_2d.length;i++){if(!_21._getEditReadOnly(_2d[i],_1d)&&!_21.getEditDisabled(_2d[i],_1d)){_21.setCellData(_2d[i],_1d,_2a,true);}}}if(_21.options.senseReader&&_21.rowIndex<=0){_21.senseReaderMode=true;_21._setGridBorderNoRefresh=true;}if(_21.options.senseReader&&_21.rowIndex<=0){_21.senseReaderMode=false;_21._setGridBorderNoRefresh=false;}_21.drawFooter();_21.drawHeader();});}return _1f;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.headerController.prototype.setSelectboxHead=function(td,_2f){["WebSquare.uiplugin.headerController.prototype.setSelectboxHead"];try{if(!this.tmpSelectbox){requires("uiplugin.selectbox");this.tmpSelectbox=new WebSquare.uiplugin.selectbox("___tmp_selectbox__",{},null);}var _30=this;var _31=td.getAttribute("id");var _32=WebSquare.xml.getElementsByTagName(this.headCellInfoHash[_31],"choices",WebSquare.core._XML_NAMESPACE.W2)[0];var _33=WebSquare.xml.serialize(_32);var _34=WebSquare.xml.parse("<w2:select xmlns:w2=\"http://www.inswave.com/websquare\">"+_33+"</w2:select>",true).documentElement;for(var idx in this.tmpSelectbox.options){var _36=td.getAttribute(idx);if(_36!=null&&_36!=""){if(idx=="style"){_36="width:100%; height:20px;top:0px;left:0px;position:relative;background-color:#ffffff";}_34.setAttribute(idx,_36);}}td.style.position="static";td.innerHTML="";var _37=new WebSquare.uiplugin.selectbox(this.id+"_head_selectbox_"+td.getAttribute("id"),null,_34);_37.writeTo(td);window[_37.id]=_37;_37.activate();_37.setValueNM(_37.itemArr[0].value);var _38=td.getAttribute("onChangeFunction");_37.changeFuncName=_38;_37.colId=_2f;_37.headerId=_31;_37.addEvent("onchange",function(e){var _3a=window[this.changeFuncName];if(typeof _3a=="function"){try{_3a.call(this,this.getValue(),this.colId,this.headerId);}catch(e){}}});_37.addEvent("onclick",function(e){_30.noevent=true;});return _37;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.headerController.prototype.setInputHead=function(td,_3d){["WebSquare.uiplugin.headerController.prototype.setInputHead"];try{td.innerHTML="<input type='text' class='w2grid_head_input' style='width:95%; height:18px;' />";var _3e=WebSquare.util.first(td);var _3f=this;var _40=function(){_3f.noevent=true;_3f.headerFocus=true;};var _41=td.getAttribute("onChangeFunction");_3e.setAttribute("changeFuncName",_41);_3e.setAttribute("colId",_3d);var _42=function(e){_3f.headerFocus=false;var _44=window[this.getAttribute("changeFuncName")];if(typeof _44=="function"){try{_44.call(this,this.value,this.getAttribute("colId"));}catch(e){}}};var _45=function(e){if(e.keyCode==13){this.blur();}};var _47=function(e){_3f.noevent=true;};WebSquare.event.addListener(_3e,"onfocus",_40);WebSquare.event.addListener(_3e,"onblur",_42);WebSquare.event.addListener(_3e,"onclick",_47);WebSquare.event.addListener(_3e,"onkeyup",_45);return _3e;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.headerController.prototype.getHeaderDIV=function(_49){["WebSquare.uiplugin.headerController.prototype.getHeaderDIV"];return this.getHeaderLayer(_49);};WebSquare.uiplugin.headerController.prototype.getHeaderLayer=function(_4a){["WebSquare.uiplugin.headerController.prototype.getHeaderLayer"];var _4b=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_4b.length;i++){var _4d=_4b[i];var _4e=_4d.getAttribute("header_id");if(_4e!=null&&_4a.toLowerCase()==_4e.toLowerCase()){return _4d;}}};WebSquare.uiplugin.headerController.prototype.setHeaderValue=function(_4f,_50){["WebSquare.uiplugin.headerController.prototype.setHeaderValue"];var td=this.getHeaderLayer(_4f);if(td){if(typeof _50=="function"){_50(td);}else{var _52=this.headerObj[_4f];if(_52){if(_52.headInputType=="select"){_52.setValue(_50);}else{if(_52.headInputType=="checkbox"){if(_52.checked!=WebSquare.util.getBoolean(_50)){_52.click();_52.checked=WebSquare.util.getBoolean(_50);}}else{if(_52.headInputType=="input"){_52.focus();_52.value=_50;_52.blur();}else{if(_52.headerInputType=="user"){_52.setValue(_50);}}}}}else{var _53=td.getElementsByTagName("nobr")[0];if(_53){_53.innerHTML=_50;}else{td.innerHTML="<nobr>"+_50+"</nobr>";}}}}};WebSquare.uiplugin.headerController.prototype.setHeaderNodeSet=function(_54,_55,_56,_57){["WebSquare.uiplugin.headerController.prototype.setHeaderNodeSet"];var td=this.getHeaderLayer(_54);if(td){var _59=this.headerObj[_54];if(_59){if(_59.headInputType=="select"){_59.setNodeSet(_55,_56,_57);}}}};WebSquare.uiplugin.headerController.prototype.setHeaderUserObject=function(_5a,_5b){["WebSquare.uiplugin.headerController.prototype.setHeaderUserObject"];this.headerObj[_5a]=_5b;_5b.headerInputType="user";var td=this.getHeaderLayer(_5a);td.innerHTML="";td.appendChild(_5b.getContent());};WebSquare.uiplugin.headerController.prototype.getHeaderValue=function(_5d){["WebSquare.uiplugin.headerController.prototype.getHeaderValue"];var td=this.getHeaderLayer(_5d);if(td){var _5f=this.headerObj[_5d];if(_5f){var _60="";if(_5f.headInputType=="select"){_60=_5f.getValue();}else{if(_5f.headInputType=="checkbox"){_60=_5f.checked;}else{if(_5f.headInputType=="input"){_60=_5f.value;}else{if(_5f.headerInputType=="user"){_60=_5f.getValue();}}}}return _60;}var _61=WebSquare.util.first(td);var _62=_61.getElementsByTagName("NOBR")[0];if(!_62){_62=_61;while(_62&&_62.tagName!="NOBR"){if(_62.tagName=="TD"){_61=WebSquare.util.first(_62);break;}_62=WebSquare.util.first(_62);}}else{_61=_62;}if(_61){return _61.innerHTML;}else{return "";}}};WebSquare.uiplugin.headerController.prototype.getHeaderValueList=function(_63){["WebSquare.uiplugin.headerController.prototype.getHeaderValueList"];var _64=[];var _65=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_65.length;i++){if(this.hiddenList[i]!=null&&_63!=true&&this.hiddenList[i]==true){continue;}var _67=_65[i];var _68=_67.getAttribute("header_id");if(_68!=null){if(_67){var _69=this.headerObj[_68];if(_69){if(_69.headInputType=="select"){retValue=_69.getValue();}else{if(_69.headInputType=="checkbox"){retValue=_69.checked;}else{if(_69.headInputType=="input"){retValue=_69.value;}else{if(_69.headerInputType=="user"){retValue=_69.getValue();}}}}_64.push(retValue);}var _6a=WebSquare.util.first(_67);var _6b=_6a;while(_6b&&_6b.tagName!="NOBR"){if(_6b.tagName=="TD"){_6a=WebSquare.util.first(_6b);break;}_6b=WebSquare.util.first(_6b);}if(_6a){_64.push(_6a.innerHTML);}else{_64.push("");}}}}return _64;};WebSquare.uiplugin.headerController.prototype.clearHeaderSort=function(){this._sortArr=[];var _6c=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=0;i<_6c.length;i++){var _6e=_6c[i].getAttribute("header_id");if(_6e==="_headerRowNumber"||_6e==="_headerRowStatus"){continue;}if(_6c[i].getAttribute("sortable")==="false"){continue;}this.setHeaderSortImage(_6e,0,0);}};WebSquare.uiplugin.headerController.prototype.drawHeaderSortImages=function(){["WebSquare.uiplugin.headerController.prototype.drawHeaderSortImages"];var _6f=this.htmlInfo.head.rowArr;for(var i=0,nSortOrd=0;i<this._sortArr.length;i++){var _71="";if(_6f.length>1){var _72=this.headerToBodyRelation[this._sortArr[i].headerId];var _73=this.getColumnIndex(_72);var _74=_6f[0];for(var j=0;j<_74.length;j++){if(_74[j]["@col"]==_73){_71=_74[j].id;break;}}}else{_71=this._sortArr[i].headerId;}this.setHeaderSortImage(_71,this._sortArr[i].sortOrder,i+1);}};WebSquare.uiplugin.headerController.prototype.setHeaderSortImage=function(_76,_77,_78){["WebSquare.uiplugin.headerController.prototype.setHeaderSortImage"];var td=this.getElementById(this.id+"_"+_76);if(td==undefined){WebSquare.logger.printLog("headerId : "+_76+"\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");return;}var _77=parseInt(_77,10);var _78=parseInt(_78,10);if(isNaN(_78)||_78<=0||this._sortArr.length<2){_78="";}else{_78+="";}this._clearHeaderSortImage(td,"table");this._clearHeaderSortImage(td,"div");if(this.options.showSortableImage!==true){var _7a;if(_77!==0){_7a=WebSquare.util.first(td);if(_7a.nodeName.toLowerCase()=="nobr"){_7a=td.innerHTML;td.innerHTML="";}else{_7a=td.removeChild(_7a);}this.headerObjArr[_76]=_7a;var _7b=(_77==1)?"w2grid_head_sort_asc":"w2grid_head_sort_desc";td.innerHTML="<table sort='sort' style='width:100%;height:100%;'><tr><td></td><td style='width:10px;background-repeat:no-repeat;background-position:top center; font-size:9px; vertical-align:bottom;' class='"+_7b+"'>"+_78+"</td></tr></table>";var tds=td.getElementsByTagName("td");if(typeof _7a=="string"){tds[0].innerHTML=_7a;}else{tds[0].appendChild(_7a);}}}else{var _7d=this.headerObj[_76];if(!_7d){_7d=td.getElementsByTagName("nobr")[0];}else{if(_7d.render){_7d=_7d.render;}}_7d.parentNode.removeChild(_7d);var _7b=(_77==0)?"w2grid_head_sort_none":((_77==1)?"w2grid_head_sort_asc":"w2grid_head_sort_desc");td.innerHTML="<div sort='sort' class = 'w2grid_head_sort_div_main "+_7b+"'>"+"<div class = 'w2grid_head_sort_div_sub'>"+_78+"</div>"+"</div>";var tds=td.getElementsByTagName("div");tds[0].appendChild(_7d);}};WebSquare.uiplugin.headerController.prototype._clearHeaderSortImage=function(td,_7f){["WebSquare.uiplugin.headerController.prototype._clearHeaderSortImage"];var _80=td.getElementsByTagName(_7f);if(_80.length>0&&_80[0].getAttribute("sort")=="sort"){var _81=this.headerObjArr[td.getAttribute("header_id")];if(_81){if(typeof _81=="string"){td.innerHTML=_81;}else{_81=td.appendChild(_81);td.removeChild(_81.previousSibling);}}}};WebSquare.uiplugin.headerController.prototype.getColIdByHeaderId=function(_82){return this.headerToBodyRelation[_82];};WebSquare.uiplugin.headerController.prototype.setHeaderHide=function(_83){_83=WebSquare.util.getBoolean(_83);this.options.hideHeader=_83;var _84=this.getElementById(this.id+"_head_table");var _85=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));if(_83){this.backUpHeadClass=_85[0].className;_84.style.display="none";for(var i=0;i<_85.length;i++){_85[i].className="";}}else{_84.style.display="";for(var i=0;i<_85.length;i++){_85[i].className=this.backUpHeadClass;}}};WebSquare.uiplugin.headerController.prototype.setHeaderDisabled=function(_87,_88){_88=WebSquare.util.getBoolean(_88);var td=this.getHeaderLayer(_87);if(td){var _8a=this.headerObj[_87];if(_8a){if(_8a.setDisabled){_8a.setDisabled(_88);}else{if(_8a.render){_8a.render.disabled=_88;}else{_8a.disabled=_88;}}}else{td.disabled=_88;}}};WebSquare.uiplugin.headerController.prototype.getHeaderID=function(_8b){["WebSquare.uiplugin.headerController.prototype.getHeaderID"];try{if(typeof _8b=="string"){return _8b;}var _8c=this.head_table;if(!_8c){return null;}_8b+=this.defaultColCnt;var _8d=_8b;var _8e=0;for(var i=0;i<_8c.children.length;i++){var _90=_8c.children[i].children;_8e+=_90.length;if(_8e>_8b){var _91=_90[_8d];if(_91){return _91.id.replace(this.id+"_","");}else{return null;}}else{_8d-=_90.length;continue;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.headerController.prototype.getHeaderIndex=function(id){["WebSquare.uiplugin.headerController.prototype.getHeaderIndex"];try{if(typeof id=="number"){return id;}var _93=this.head_table;if(!_93){return null;}var _94=0;for(var i=0;i<_93.children.length;i++){var _96=_93.children[i].children;for(var j=0;j<_96.length;j++){if(_96[j].id.replace(this.id+"_","")==id){var _98=_94+j;return _98-this.defaultColCnt;}}_94+=_96.length;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.headerController.prototype.setHeaderStyle=function(_99,_9a,_9b){try{var _9c=this.getElementById(this.id+"_head_table");var _9d=_9c.getElementsByTagName("th");if(_99.wq_trim().toLowerCase()=="$rownum"){_99="_headerRowNumber";}else{if(_99.wq_trim().toLowerCase()=="$rowstatus"){_99="_headerRowStatus";}else{if(typeof _99=="number"){var _9e=_99+this.defaultColCnt;headerTd=_9d[_9e];_99=headerTd.getAttribute("header_id");}}}for(var j=0;j<_9d.length;j++){var _a0=_9d[j];if(_a0.getAttribute("header_id")==_99){WebSquare.style.setStyle(_a0,_9a,_9b);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.headerController.prototype.drawHeader=function(_a1){["WebSquare.uiplugin.headerController.prototype.drawHeader"];try{if(!this.head_table){return;}if(this.headerDataObj==null){this.initHeaderDataObj();}var _a2=this.head_table;var _a3=_a2.getElementsByTagName("th");this.headerTempSum=[];if(_a1){var _a1=this.getColumnID(_a1);for(var i=0;i<_a3.length;i++){var _a5=_a3[i];var _a6=_a5.getAttribute("header_id");if(_a6){var _a7=this.headerDataObj[_a6];if(_a7){if(_a7.inputType=="expression"){var _a8=_a7.expression.match(/headercol(sum|avg|max|min)\s*\([^\)]*/g);if(_a8){for(var j=0;j<_a8.length;j++){if(_a8[j].indexOf(_a1)>=0){_a7.value=eval(_a7.expression);_a5.innerHTML="<nobr>"+_a7.formatter.format(_a7.value)+"</nobr>";}}}}}}}}else{for(var i=0;i<_a3.length;i++){var _a5=_a3[i];var _a6=_a5.getAttribute("header_id");if(_a6){var _a7=this.headerDataObj[_a6];if(_a7){if(_a7.inputType=="expression"){try{_a7.value=eval(_a7.expression);}catch(e1){}_a5.innerHTML="<nobr>"+_a7.formatter.format(_a7.value)+"</nobr>";}}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.headerController.prototype.initHeaderDataObj=function(){["WebSquare.uiplugin.headerController.prototype.initHeaderDataObj"];try{var _aa=this.head_table;var _ab=_aa.getElementsByTagName("th");this.headerDataObj={};for(var j=0;j<_ab.length;j++){var _ad=_ab[j];var obj={};obj.id=_ad.getAttribute("header_id");var str=_ad.getAttribute("expression")||"";if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.headercolsum( ");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.headercolavg( ");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.headercolmax( ");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.headercolmin( ");}var _b0=_ad.getAttribute("localeRef");if(_b0!=null){obj.value=this.getLocaleValue(_b0);}else{obj.value=_ad.getAttribute("value")||"";}obj.inputType=_ad.getAttribute("inputType");obj.dataType=_ad.getAttribute("dataType")||"text";obj.expression=str;obj.displayFormat=_ad.getAttribute("displayFormat")||"";obj.displayFormatter=_ad.getAttribute("displayFormatter")||"";obj.formatter=WebSquare.format.createFormatter(obj.dataType,obj.displayFormat,obj.displayFormatter);this.headerDataObj[obj.id]=obj;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.headerController.prototype.headercolsum=function(_b1){["WebSquare.uiplugin.headerController.prototype.headercolsum"];if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_b1]){this.headerTempSum[_b1]={};}if(this.headerTempSum[_b1].sum===undefined){var _b2="";if(this.groupbyStatus.grouped){_b2=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"SUM('"+_b1+"')");}else{var _b3=this.getColumnAllDataArray(_b1);if(_b3.length>0){for(var i=0;i<_b3.length;i++){if(_b3[i].replace(/^\s+|\s+$/g,"")==""){_b3[i]="0";}}_b2=eval(_b3.join("+"));}}this.headerTempSum[_b1].sum=_b2;}return WebSquare.util.setPrecision(this.headerTempSum[_b1].sum);};WebSquare.uiplugin.headerController.prototype.headercolavg=function(_b5){["WebSquare.uiplugin.headerController.prototype.headercolavg"];var _b6=this.getColumnAllDataArray(_b5);if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_b5]){this.headerTempSum[_b5]={};}var _b7="";if(this.groupbyStatus.grouped){_b7=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"AVG('"+_b5+"')");return _b7;}else{if(this.headerTempSum[_b5].sum===undefined){if(_b6.length>0){for(var i=0;i<_b6.length;i++){if(_b6[i].replace(/^\s+|\s+$/g,"")==""){_b6[i]="0";}}_b7=eval(_b6.join("+"));}this.headerTempSum[_b5].sum=_b7;}if(this.headerTempSum[_b5].sum==""){return "";}else{return this.headerTempSum[_b5].sum/_b6.length;}}};WebSquare.uiplugin.headerController.prototype.headercolmax=function(_b9){["WebSquare.uiplugin.headerController.prototype.headercolmax"];if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_b9]){this.headerTempSum[_b9]={};}if(this.headerTempSum[_b9].max===undefined){var max=null;if(this.groupbyStatus.grouped){max=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"MAX('"+_b9+"')");}else{var _bb=this.getColumnAllDataArray(_b9);for(var i=0;i<_bb.length;i++){var _bd=parseFloat(_bb[i]);if(!isNaN(_bd)){if(max==null||max<_bd){max=_bd;}}}max=(max==null)?"":max;max=WebSquare.util.setPrecision(max);}this.headerTempSum[_b9].max=max;}return this.headerTempSum[_b9].max;};WebSquare.uiplugin.headerController.prototype.headercolmin=function(_be){["WebSquare.uiplugin.headerController.prototype.headercolmin"];if(!this.headerTempSum){this.headerTempSum=[];}if(!this.headerTempSum[_be]){this.headerTempSum[_be]={};}if(this.headerTempSum[_be].min===undefined){var min=null;if(this.groupbyStatus.grouped){min=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"MIN('"+_be+"')");}else{var _c0=this.getColumnAllDataArray(_be);for(var i=0;i<_c0.length;i++){var _c2=parseFloat(_c0[i]);if(!isNaN(_c2)){if(min==null||min>_c2){min=_c2;}}}min=(min==null)?"":min;min=WebSquare.util.setPrecision(min);}this.headerTempSum[_be].min=min;}return this.headerTempSum[_be].min;};WebSquare.uiplugin.focusController=function(){["WebSquare.uiplugin.focusController"];};WebSquare.uiplugin.focusController.prototype.getLastFocusedCell=function(){["WebSquare.uiplugin.focusController.prototype.getLastFocusedCell"];if(this.focusedCell.length>0){return this.focusedCell[this.focusedCell.length-1];}else{var _1={};_1.focusedRowIndex=-1;_1.focusedColIndex=null;return _1;}};WebSquare.uiplugin.focusController.prototype.getFocusedRowIndex=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedRowIndex"];var _2=this.getLastFocusedCell();return _2.focusedRowIndex;};WebSquare.uiplugin.focusController.prototype.getAllFocusedIndex=function(){["WebSquare.uiplugin.focusController.prototype.getAllFocusedIndex"];var _3=this.focusedCell;var _4=[];for(var i=0;i<_3.length;i++){var _6={};_6["col"]=_3[i]["focusedColIndex"];_6["row"]=_3[i]["focusedRowIndex"];_4.push(_6);}return _4;};WebSquare.uiplugin.focusController.prototype.getFocusedColumnIndex=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedColumnIndex"];var _7=this.getLastFocusedCell();return _7.focusedColIndex;};WebSquare.uiplugin.focusController.prototype.getFocusedColumnID=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedColumnID"];return this.getColumnID(this.getFocusedColumnIndex());};WebSquare.uiplugin.focusController.prototype.getFocusedRowStatus=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedRowStatus"];var _8=this.getFocusedRowIndex();if(_8==-1){return null;}return this.getRowStatus(_8);};WebSquare.uiplugin.focusController.prototype.setFocusedCell2=function(_9,_a,_b){["WebSquare.uiplugin.focusController.prototype.setFocusedCell2"];try{var _b=WebSquare.util.getBoolean(_b);var _a=this.getColumnIndex(_a);var _c=this.lastEvent&&(typeof this.lastEvent.type!="undefined"&&typeof this.lastEvent.type!="unknown")&&(this.lastEvent.type=="focus"||this.lastEvent.type=="focusin");var _d=this.getLastFocusedCell();var _e=_b&&(_d.focusedColIndex==_a);if(this.getReadOnly("all",_9,_a)||this.getDisabled("all",_9,_a)){_e=false;}if(this.editedCell&&!this.editedCell.handleEndEdit(null,_e)){return false;}if(!_c){var _f=this.rowIndex+this.lastIndex;var _10=this.getDataLength();if(_9<this.rowIndex||_9>_f){if(_9<this.rowIndex){var _11=_9-this.rowIndex;}else{var _11=_9-_f;}if(_9>_f&&this.hasSubtotal){this.rollbackCommitFlag=false;for(var _12 in this.subtotalTableList){if(_f<_10-1){var _13=this.getCellData(_f,_12);var _14=this.getCellData(_f+1,_12);if(_13!=_14){_11++;}}}this.rollbackCommitFlag=true;}var _15=this.rowIndex+_11;_15=(_15<0)?0:_15;_15=(_15>=_10-this.lastIndex)?_10-this.lastIndex:_15;this.scrollEvent=false;this.checkScrollEnd=true;this.drawData(_15,0,"keymove",_e);this.lastIndex=this.getLastIndex(this.lastDisplayedRow);}}var _16=_9-(this.rowIndex>0?this.rowIndex:0);var td=this.data_td_list[_a+_16*this.oneRowDataLength];if(td){this._setFocusedCell({ctrl:false},td,{editMode:_b,dont_hide:_e,dont_fixScroll:true});return true;}return false;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.focusController.prototype.setFocusedCell=function(_18,_19,_1a){["WebSquare.uiplugin.focusController.prototype.setFocusedCell"];try{if(this.options.focusMode=="none"){return;}if(arguments.length==0||arguments.length==1){var _1a=arguments.length==0?false:arguments[0];var _1b=this.colIndexInfo.body.colInfo.colIndexMatch;if(this.focusedCell.length>0){var _18=this.focusedCell[this.focusedCell.length-1].focusedRowIndex;var _19=this.focusedCell[this.focusedCell.length-1].focusedColIndex;}else{if(this.lastFocusedCell&&this.lastFocusedCell.focusedColIndex!=null&&this.lastFocusedCell.focusedRowIndex>=0){var _18=this.lastFocusedCell.focusedRowIndex;var _19=this.lastFocusedCell.focusedColIndex;}else{var _1c=this.getLastFocusedCell();var _18=_1c.focusedRowIndex;var _19=_1c.focusedColIndex;if(_19==null||_18==-1){this.focusedCell=[{focusedRowIndex:0,focusedColIndex:_1b.length-this.defaultColCnt-1}];this.moveHorizontal(null,"home");if(_1a){this.setFocusedCell(true);}return;}}}}var _1d=this.getDataLength();_19=this.getColumnIndex(_19);if(_18<0||_18>=_1d||_19<0||_19>=this.oneRowDataLength){return;}var _1e=this.lastEvent&&(typeof this.lastEvent.type!="undefined"&&typeof this.lastEvent.type!="unknown")&&(this.lastEvent.type=="focus"||this.lastEvent.type=="focusin");_1a=WebSquare.util.getBoolean(_1a);if(this.delayedDraw({rowIndex:_18})){this.focusedCell=[{focusedRowIndex:_18,focusedColIndex:_19}];return;}var _1f=this.getElementById(this.id+"_scrollY_div");if(_1f&&_1f.scrollTop==0&&this.rowIndex>0){_1f.scrollTop=this.lastScrollYTop;}if(!_1e){var _20=_18-(this.rowIndex>0?this.rowIndex:0);if(_20<0){this.scrollEvent=false;_1f.scrollTop=20*_18;this.drawData(_18,0);_20=0;}else{if(_20>this.lastIndex){var _21=(_18+this.lastIndex+1>_1d)?_1d-this.lastIndex-1:_18;this.scrollEvent=false;this.checkScrollEnd=true;_1f.scrollTop=20*_21;if(_21>this.rowIndex+this.lastIndex){this.adjustDraw_keepTop=true;}this.drawData(_21,0);_20=_18-this.rowIndex;}}}var td=this.data_td_list[_19+_20*this.oneRowDataLength];if(td){this._setFocusedCell({ctrl:false},td,{editMode:_1a});}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.focusController.prototype.removeFocusedCell=function(){["WebSquare.uiplugin.focusController.prototype.removeFocusedCell"];try{this.lastFocusedCell=this.getLastFocusedCell();this.applyFocusedCellOut();this.focusedCell=[];}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.focusController.prototype.applyFocusedCell=function(_23,_24){["WebSquare.uiplugin.focusController.prototype.applyFocusedCell"];if(!_24){this.applyFocusedCellOut();this.focusedCell=[];}if(_23!=null){this.applyFocusedCellIn(_23);var _25={};_25.focusedTd=_23;this.focusedCell.push(_25);}};WebSquare.uiplugin.focusController.prototype._setFocusedCell=function(e,_27,_28){["WebSquare.uiplugin.focusController.prototype._setFocusedCell"];var _28=_28||{};var _29=e.ctrlKey;var _2a=_27.className;if(_2a.indexOf("_rowNum")>=0||_2a.indexOf("_rowStatus")>=0||_2a.indexOf("_groupby")>=0||_2a.indexOf("Subtotal")>=0){if(this.editedCell!=null){this.editedCell.handleEndEdit();}return false;}var _2b=true;var _2c=this.getLastFocusedCell();if(this.focusedCell.length>0){if(_2c.focusedTd==_27){_2b=false;}}if(_2b&&this.editedCell){if(!this.editedCell.handleEndEdit(e,!!_28.dont_hide)){return false;}}var _2d=this.getFocusedRowIndex();var _2e=this.getFocusedColumnIndex();if(!_29){this.applyFocusedCellOut();this.focusedCell=[];}var _2f=parseInt(_27.getAttribute("tdIndex"));var _30=parseInt(_2f/this.realRowDataLength);var _31=parseInt(_27.getAttribute("colIndex"));var _32=_30+this.rowIndex;var _33=_2f%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.focusedCell.push({focusedTd:_27,focusedRowIndex:_32,focusedColIndex:_33});if(!_28.dont_fixScroll){if(_31>=this.options.fixedColumn+this.defaultColCnt){this.fixScrollLeftDirection();}this.fixScrollRightDirection();}if(this.options.lazyDrawHiddenColumn){this.hideInvisibleTds();}this.applyFocusedCellIn(_27,!!_28.editMode);_2c=this.getLastFocusedCell();if(this.options.focusMode=="cell"){for(var i=this.focusedCell.length-2;i>=0;i--){if(this.focusedCell[i].focusedTd==_2c.focusedTd){this._applyFocusedCellOut(this.focusedCell[i]);this.focusedCell.pop();this.focusedCell.splice(i,1);break;}}}else{if(this.options.focusMode=="both"){var _35=[];for(var i=this.focusedCell.length-2;i>=0;i--){if(this.focusedCell[i].focusedTd==_2c.focusedTd){this._applyFocusedCellOut(this.focusedCell[i]);this.focusedCell.pop();this.focusedCell.splice(i,1);this.changeFocusedCellPosition(this.rowIndex);break;}}}else{if(this.options.focusMode=="row"){var _36=_2c.focusedTd?_2c.focusedTd.parentNode:null;for(var i=this.focusedCell.length-2;i>=0;i--){var _37=this.focusedCell[i];if(_37.focusedTd!=null){var _38=_37.focusedTd.parentNode;var _30=parseInt(_38.getAttribute("trIndex"));while(_30>0){_30--;_38=WebSquare.util.prev(_38);}do{if(_38==_36){this._applyFocusedCellOut(this.focusedCell[i]);this.focusedCell.pop();this.focusedCell.splice(i,1);this.changeFocusedCellPosition(this.rowIndex);break;}_38=WebSquare.util.next(_38);}while(_38.getAttribute("trIndex")!="0");}}}}}var _39=this.getCellInfo(_33);if(_39.options.inputType==""||(_39.options.inputType=="text"&&!_39.options.embeddedInput)||_39.options.inputType=="textImage"||_39.options.inputType=="calendar"){this.getInput(_39).options.editType=_39.options.editType?_39.options.editType:this.options.editType;}if(_2d!=_32||_2e!=_33){WebSquare.event.fireEvent(this,"oncellindexchange",_32,_33,_2d,_2e);}if(_2d!=_32){WebSquare.event.fireEvent(this,"onrowindexchange",_32,_2d);}if(_2e!=_33){WebSquare.event.fireEvent(this,"oncolumnindexchange",_33,_2e);}if(_28.editMode){this.setEditMode(_27);}};WebSquare.uiplugin.focusController.prototype.applyFocusedCellOut=function(){["WebSquare.uiplugin.focusController.prototype.applyFocusedCellOut"];if(this.focusedCell.length>0){for(var i=0;i<this.focusedCell.length;i++){var _3b=this.focusedCell[i];this._applyFocusedCellOut(_3b);}}};WebSquare.uiplugin.focusController.prototype._applyFocusedCellOut=function(_3c){["WebSquare.uiplugin.focusController.prototype._applyFocusedCellOut"];if(this.options.focusMode=="row"||this.options.focusMode=="both"){if(_3c.focusedTd!=null){this.removeFocusRowStyle(_3c.focusedTd);}}if(this.options.focusMode=="cell"||this.options.focusMode=="both"){if(_3c.focusedTd!=null){if(this.options.focusFlow!="linear"){_3c.focusedTd.setAttribute("tabIndex",-1);}this.applyCellStyleOptions(_3c.focusedRowIndex,_3c.focusedColIndex,true);if(this.options.rowMouseOver){this.addRowOverStyle(this.overElem);}}}};WebSquare.uiplugin.focusController.prototype.removeFocusRowStyle=function(_3d){["WebSquare.uiplugin.focusController.prototype.removeFocusRowStyle"];if(_3d==null){return;}var _3e=_3d.parentNode;var _3f=parseInt(_3e.getAttribute("trIndex"));while(_3f>0){_3f--;_3e=WebSquare.util.prev(_3e);}var _40=WebSquare.util.first(_3e);var _41=parseInt(_40.getAttribute("tdIndex"));var _3f=parseInt(_41/this.realRowDataLength);for(var i=0;i<this.realRowDataLength;i++){var _43=this.all_data_td_list[_41+i];if(i<this.defaultColCnt){var _44=_43.className;if(_44.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){if(this.options.rowNumBackgroundColor==""){_43.style.backgroundColor="";_43.removeAttribute("style_bak");}}else{if(_44.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){_43.style.backgroundColor="";_43.removeAttribute("style_bak");}}}else{var _45=parseInt(_43.getAttribute("tdIndex"));var _46=_3f+this.rowIndex;var _47=_45%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.applyCellStyleOptions(_46,_47,true);}}};WebSquare.uiplugin.focusController.prototype.applyFocusedCellIn=function(_48,_49){["WebSquare.uiplugin.focusController.prototype.applyFocusedCellIn"];if(this.options.focusMode=="none"){return;}var _4a=this.getCellInfo(_48.getAttribute("col_id"));var _4b=_4a.options.inputType||"text";this.focusedByApi=true;if(_4a.options.embeddedInput){var _4c=this.getElemRowIndex(_48);if(_4b=="text"&&(this.getEditDisabled(_4c,_4a.id)||this.getEditReadOnly(_48,_4c))){_48.setAttribute("tabIndex",0);_48.focus();}else{var _4d=this.getInput(_4a,_48);_4d.focus();}}else{_48.setAttribute("tabIndex",0);var _4e=_4b=="text"||_4b=="textarea"||_4b=="textImage"||_4b=="calendar"||_4b=="select";if(_49&&_4e){}else{_48.focus();}}var _4f=this.lastEvent&&(typeof this.lastEvent.type!="undefined"&&typeof this.lastEvent.type!="unknown")&&(this.lastEvent.type=="focus"||this.lastEvent.type=="focusin");if(!_4f&&!_49){var _50=this.getElementById(this.id+"_dataLayer");_50.scrollLeft=0;_50.scrollTop=0;}if(this.options.focusMode=="row"||this.options.focusMode=="both"){this.setFocusRowStyle(_48);}if(this.options.focusMode=="cell"||this.options.focusMode=="both"){var _51=parseInt(_48.getAttribute("tdIndex"));var _52=parseInt(_51/this.realRowDataLength);var _53=_52+this.rowIndex;var _54=_51%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.applyCellStyleOptions(_53,_54);}};WebSquare.uiplugin.focusController.prototype.setFocusRowStyle=function(_55){["WebSquare.uiplugin.focusController.prototype.setFocusRowStyle"];if(_55==null){return;}var _56=_55.parentNode;var _57=parseInt(_56.getAttribute("trIndex"));while(_57>0){_57--;_56=WebSquare.util.prev(_56);}var _58=WebSquare.util.first(_56);var _59=parseInt(_58.getAttribute("tdIndex"));var _57=parseInt(_59/this.realRowDataLength);for(var i=0;i<this.realRowDataLength;i++){var _5b=this.all_data_td_list[_59+i];if(i<this.defaultColCnt){var _5c=_5b.className;if(_5c.indexOf(this.options.bodyTdClass+"_rowNumber")>=0){if(this.options.rowNumBackgroundColor==""){_5b.style.backgroundColor=this.options.selectedRowColor.wq_trim();_5b.removeAttribute("style_bak");}}else{if(_5c.indexOf(this.options.bodyTdClass+"_rowStatus")>=0){_5b.style.backgroundColor=this.options.selectedRowColor.wq_trim();_5b.removeAttribute("style_bak");}}}else{var _5d=parseInt(_5b.getAttribute("tdIndex"));var _5e=_57+this.rowIndex;var _5f=_5d%this.realRowDataLength-(this.realRowDataLength-this.oneRowDataLength);this.applyCellStyleOptions(_5e,_5f);}}};WebSquare.uiplugin.focusController.prototype.outFocusedCell=function(){this.removeFocusedCell();};WebSquare.uiplugin.focusController.prototype.getFocusedCellData=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedCellData"];var _60=this.getFocusedRowIndex();var _61=this.getFocusedColumnIndex();if(_60>-1){return this.getCellData(_60,_61);}else{return null;}};WebSquare.uiplugin.focusController.prototype.getFocusedRowData=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedRowData"];var _62=this.getFocusedRowIndex();if(_62>-1){return this.getRowData(_62);}else{return null;}};WebSquare.uiplugin.focusController.prototype.getFocusedRowXML=function(){["WebSquare.uiplugin.focusController.prototype.getFocusedRowXML"];var _63=this.getFocusedRowIndex();if(_63>-1){return this.getRowXML(_63);}else{return null;}};WebSquare.uiplugin.focusController.prototype.removeRowFocus=function(_64){["WebSquare.uiplugin.focusController.prototype.removeDeletedRowFocus"];var _65=[];for(var i=0;i<this.focusedCell.length;i++){if(_64!=this.focusedCell[i].focusedRowIndex){_65.push(this.focusedCell[i]);}else{this._applyFocusedCellOut(this.focusedCell[i]);}}this.focusedCell=_65;};WebSquare.uiplugin.subtotalDataController=function(_1){["WebSquare.uiplugin.subtotalDataController"];};WebSquare.uiplugin.subtotalDataController.prototype._subtotalHidden=function(_2){["WebSquare.uiplugin.subtotalDataController.prototype._subtotalHidden"];try{for(var i=0;i<_2.length;i++){if(this.isIE6or7){var _4=_2[i].getElementsByTagName("td");for(var j=0;j<_4.length;j++){_4[j].style.borderWidth="0px";}}_2[i].style.display="none";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.subtotalDataController.prototype.subtotalHidden=function(_6){["WebSquare.uiplugin.subtotalDataController.prototype.subtotalHidden"];try{if(!this.hasSubtotal){return;}if(_6){if(typeof _6.index=="number"){var _7=this.drawedSubtotal.splice(_6.index,1);for(var i=0;i<_7.length;i++){this._subtotalHidden(_7[i]);}}if(typeof _6.rowIndex=="number"){for(var i=this.drawedSubtotal.length-1;i>=0;i--){if(this.drawedSubtotal[i].rowIndex==_6.rowIndex){var _7=this.drawedSubtotal.splice(i,1);for(var i=0;i<_7.length;i++){this._subtotalHidden(_7[i]);}}}}if(typeof _6.startRowIndex=="number"){for(var i=this.drawedSubtotal.length-1;i>=0;i--){if(this.drawedSubtotal[i].rowIndex>=_6.startRowIndex){var _7=this.drawedSubtotal.splice(i,1);for(var i=0;i<_7.length;i++){this._subtotalHidden(_7[i]);}}}}if(typeof _6.endRowIndex=="number"){for(var i=this.drawedSubtotal.length-1;i>=0;i--){if(this.drawedSubtotal[i].rowIndex<=_6.endRowIndex){var _7=this.drawedSubtotal.splice(i,1);for(var i=0;i<_7.length;i++){this._subtotalHidden(_7[i]);}}}}}else{this.drawedSubtotal=[];for(var _9 in this.subtotalTableList){var _a=this.subtotalRowHash[_9];if(_a){this._subtotalHidden(_a);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.subtotalDataController.prototype.refreshSubtotalRow=function(_b){["WebSquare.uiplugin.subtotalDataController.prototype.refreshSubtotalRow"];var st=_b-this.rowIndex;for(var i=st;i<=this.lastIndex;i++){this.drawSubtotalRow(i+1,i+this.rowIndex);}};WebSquare.uiplugin.subtotalDataController.prototype.drawSubtotalRow=function(_e,_f){["WebSquare.uiplugin.subtotalDataController.prototype.drawSubtotalRow"];if(!this.hasSubtotal||_f<0||_f>=this.getDataLength()){return;}for(var _10 in this.subtotalTableList){var _11=this.getCellData(_f,_10);var _12=_11+"_12";if(_f<this.getDataLength()-1){var _12=this.getCellData(_f+1,_10);}if(_11!=_12){var _13=this.subtotalRowHash[_10];var _14=this.subtotalTableList[_10];var _15=_14.rows.length;var _16=[];_16.rowIndex=_f;_16.targetID=_10;for(var i=0;i<_15;i++){var _18=_13[_e*_15+i];if(_18){if(this.isIE6or7){var tds=_18.getElementsByTagName("td");for(var j=0;j<tds.length;j++){tds[j].style.borderWidth="";}}_18.style.display="";_16.push(_18);this.lastSubtotalRow=_18;}}this.drawedSubtotal.push(_16);this.setSubtotalData(_14,_10,_11,_f,_16);}}};WebSquare.uiplugin.subtotalDataController.prototype.hasUpperSubtotalRow=function(_1b){["WebSquare.uiplugin.subtotalDataController.prototype.drawSubtotalRow"];if(!this.hasSubtotal||_1b<0||_1b>=this.getDataLength()){return false;}for(var _1c in this.subtotalTableList){var _1d=this.getCellData(_1b,_1c);var _1e=_1d;if(_1b<this.getDataLength()){var _1e=this.getCellData(_1b-1,_1c);}if(_1d!=_1e){return true;}}return false;};WebSquare.uiplugin.subtotalDataController.prototype.setSubtotalData=function(_1f,_20,_21,_22,_23){["WebSquare.uiplugin.subtotalDataController.prototype.setSubtotalData"];var _24=this.subtotalDataArr[_20+"_"+_21];if(_24==null){_24=this.getSubtotalData(_1f,_20,_21,_22);}for(var i=0;i<_23.length;i++){var _26=_23[i].getElementsByTagName("td");for(var j=0;j<_26.length;j++){var _28=_26[j];var _29=_28.getAttribute("id");if(_24[_29]!=null){_28.innerHTML="<nobr>"+_24[_29]+"</nobr>";}else{if(_28.getAttribute("colMerge")=="true"){_28.style.borderTopWidth="0px";_28.style.borderBottomWidth="0px";}else{var _2a=_28.getAttribute("value");_2a=_2a!=null?_2a:"";_28.innerHTML="<nobr>"+_2a+"</nobr>";}}}}};WebSquare.uiplugin.subtotalDataController.prototype.getSubtotalData=function(_2b,_2c,_2d,_2e){["WebSquare.uiplugin.subtotalDataController.prototype.getSubtotalData"];var obfuscator_targetID=_2c;var _2f=this.subtotalObj[_2c];if(_2f==null){_2f=[];for(var i=0;i<_2b.rows.length;i++){var _31=_2b.rows[i].getElementsByTagName("td");for(var j=0;j<_31.length;j++){var _33=_31[j];if(_33.getAttribute("inputType")=="expression"){var obj={};obj.id=_33.getAttribute("id");var str=_33.getAttribute("expression")||"";if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.subtotalcolsum( obfuscator_st, obfuscator_en ,");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.subtotalcolavg( obfuscator_st, obfuscator_en ,");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.subtotalcolmax( obfuscator_st, obfuscator_en ,");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.subtotalcolmin( obfuscator_st, obfuscator_en ,");str=str.replace(/[tT][aA][rR][gG][eE][tT][cC][oO][lL][vV][aA][lL][uU][eE][\s]*[(]/g,"this.getCellData( obfuscator_en , obfuscator_targetID");}obj.dataType=_33.getAttribute("dataType")||"text";obj.expression=str;obj.displayFormat=_33.getAttribute("displayFormat")||"";obj.displayFormatter=_33.getAttribute("displayFormatter")||"";obj.formatter=WebSquare.format.createFormatter(obj.dataType,obj.displayFormat,obj.displayFormatter);_2f[obj.id]=obj;}}}this.subtotalObj[_2c]=_2f;}var _36=_2e;while(_36>0&&_2d==this.getCellData(_36-1,_2c)){_36--;}var obfuscator_st=_36;var obfuscator_en=_2e;var _37=[];for(var id in _2f){var obj=_2f[id];var _39=eval(obj.expression);_37[id]=obj.formatter.format(_39);}return _37;};WebSquare.uiplugin.subtotalDataController.prototype.subtotalcolsum=function(st,en,_3c){["WebSquare.uiplugin.subtotalDataController.prototype.checkRowSpan"];var _3d=this.getColumnSubtotalRangeDataArray(st,en,_3c);retValue="";if(_3d.length>0){retValue=eval(_3d.join("+"));}return retValue;};WebSquare.uiplugin.subtotalDataController.prototype.subtotalcolavg=function(st,en,_40){["WebSquare.uiplugin.subtotalDataController.prototype.checkRowSpan"];var _41=this.getColumnSubtotalRangeDataArray(st,en,_40);retValue="";if(_41.length>0){retValue=eval(_41.join("+"))/_41.length;}return retValue;};WebSquare.uiplugin.subtotalDataController.prototype.subtotalcolmax=function(st,en,_44){["WebSquare.uiplugin.subtotalDataController.prototype.checkRowSpan"];var _45=this.getColumnSubtotalRangeDataArray(st,en,_44);var max=null;for(var i=0;i<_45.length;i++){var _48=parseFloat(_45[i]);if(!isNaN(_48)){if(max==null||max<_48){max=_48;}}}max=(max==null)?"":max;return max;};WebSquare.uiplugin.subtotalDataController.prototype.subtotalcolmin=function(st,en,_4b){["WebSquare.uiplugin.subtotalDataController.prototype.checkRowSpan"];var _4c=this.getColumnSubtotalRangeDataArray(st,en,_4b);var min=null;for(var i=0;i<_4c.length;i++){var _4f=parseFloat(_4c[i]);if(!isNaN(_4f)){if(min==null||min>_4f){min=_4f;}}}min=(min==null)?"":min;return min;};WebSquare.uiplugin.subtotalDataController.prototype.getColumnSubtotalRangeDataArray=function(st,en,_52){["WebSquare.uiplugin.subtotalDataController.prototype.getColumnSubtotalRangeDataArray"];var _53=[];for(var i=st;i<=en;i++){var _55=this.getCellData(i,_52);_55+="";if(typeof _55=="undefined"||_55==""){_55="0";}else{_53.push(_55);}}return _53;};WebSquare.uiplugin.footerController=function(_1){["WebSquare.uiplugin.footerController"];};WebSquare.uiplugin.footerController.prototype.initializeFooter=function(){["WebSquare.uiplugin.footerController.prototype.initializeFooter"];try{if(!this.hasFooter){return;}var _2=this.getDomList("foot_tds","td",this.getElementById(this.id+"_foot_table"));for(var i=0;i<_2.length;i++){var td=_2[i];var _5=td.getAttribute("id");if(_5){td.setAttribute("footer_id",_5);td.setAttribute("id",this.id+"_"+_5);td.setAttribute("class",td.getAttribute("class")+" "+this.id+"_footer__column"+i);var _6=td.getAttribute("inputType");if(_6!="expression"){var _7="";var _8=td.getAttribute("localeRef");if(_8!=null){_7=this.getLocaleValue(_8);}else{_7=td.getAttribute("value");if(_7==null){_7="";}}td.innerHTML="<nobr>"+_7+"</nobr>";}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.footerController.prototype.drawFooter=function(_9){["WebSquare.uiplugin.footerController.prototype.drawFooter"];if(!this.hasFooter||!this.drawFooterStatus){return;}if(this.footerDataObj==null){this.initFooterDataObj();}var _a=this.getElementById(this.id+"_foot_table");var _b=_a.getElementsByTagName("td");this.footerTempSum=[];if(_9){var _9=this.getColumnID(_9);for(var i=0;i<_b.length;i++){var _d=_b[i];var _e=_d.getAttribute("footer_id");if(_e){var _f=this.footerDataObj[_e];if(_f.inputType=="expression"){var _10=_f.expression.match(/footercol(sum|avg|max|min)\s*\([^\)]*/g);if(_10){for(var j=0;j<_10.length;j++){if(_10[j].indexOf(_9)>=0){_f.value=eval(_f.expression);_d.innerHTML="<nobr>"+_f.formatter.format(_f.value)+"</nobr>";}}}}}}}else{for(var i=0;i<_b.length;i++){var _d=_b[i];var _e=_d.getAttribute("footer_id");if(_e){var _f=this.footerDataObj[_e];if(_f.inputType=="expression"){try{_f.value=eval(_f.expression);}catch(e1){}}_d.innerHTML="<nobr>"+_f.formatter.format(_f.value)+"</nobr>";}}}};WebSquare.uiplugin.footerController.prototype.initFooterDataObj=function(){["WebSquare.uiplugin.footerController.prototype.initFooterDataObj"];var _12=this.getElementById(this.id+"_foot_table");var _13=_12.getElementsByTagName("td");this.footerDataObj={};for(var j=0;j<_13.length;j++){var _15=_13[j];var obj={};obj.id=_15.getAttribute("footer_id");var str=_15.getAttribute("expression")||"";if(str!=""){str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.footercolsum( ");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.footercolavg( ");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.footercolmax( ");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.footercolmin( ");}var _18=_15.getAttribute("localeRef");if(_18!=null){obj.value=this.getLocaleValue(_18);}else{obj.value=_15.getAttribute("value")||"";}obj.inputType=_15.getAttribute("inputType");obj.dataType=_15.getAttribute("dataType")||"text";obj.expression=str;obj.displayFormat=_15.getAttribute("displayFormat")||"";obj.displayFormatter=_15.getAttribute("displayFormatter")||"";obj.formatter=WebSquare.format.createFormatter(obj.dataType,obj.displayFormat,obj.displayFormatter);this.footerDataObj[obj.id]=obj;}};WebSquare.uiplugin.footerController.prototype.footercolsum=function(_19){["WebSquare.uiplugin.footerController.prototype.footercolsum"];if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_19]){this.footerTempSum[_19]={};}if(this.footerTempSum[_19].sum===undefined){var _1a="";if(this.groupbyStatus.grouped){_1a=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"SUM('"+_19+"')");}else{var _1b=this.getColumnAllDataArray(_19);if(_1b.length>0){for(var i=0;i<_1b.length;i++){if(_1b[i].replace(/^\s+|\s+$/g,"")==""){_1b[i]="0";}}if(this.options.excludeDeletedRows){var _1d=this.getDeletedIndex();for(var i=0;i<_1d.length;i++){_1b[_1d[i]]="0";}}_1a=eval(_1b.join("+"));}}this.footerTempSum[_19].sum=_1a;}return WebSquare.util.setPrecision(this.footerTempSum[_19].sum);};WebSquare.uiplugin.footerController.prototype.footercolavg=function(_1e){["WebSquare.uiplugin.footerController.prototype.footercolavg"];var _1f=this.getColumnAllDataArray(_1e);if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_1e]){this.footerTempSum[_1e]={};}var _20="";if(this.groupbyStatus.grouped){_20=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"AVG('"+_1e+"')");return _20;}else{if(this.footerTempSum[_1e].sum===undefined){if(_1f.length>0){for(var i=0;i<_1f.length;i++){if(_1f[i].replace(/^\s+|\s+$/g,"")==""){_1f[i]="0";}}_20=eval(_1f.join("+"));}this.footerTempSum[_1e].sum=_20;}if(this.footerTempSum[_1e].sum==""){return "";}else{return this.footerTempSum[_1e].sum/_1f.length;}}};WebSquare.uiplugin.footerController.prototype.footercolmax=function(_22){["WebSquare.uiplugin.footerController.prototype.footercolmax"];if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_22]){this.footerTempSum[_22]={};}if(this.footerTempSum[_22].max===undefined){var max=null;if(this.groupbyStatus.grouped){max=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"MAX('"+_22+"')");}else{var _24=this.getColumnAllDataArray(_22);for(var i=0;i<_24.length;i++){var _26=parseFloat(_24[i]);if(!isNaN(_26)){if(max==null||max<_26){max=_26;}}}max=(max==null)?"":max;max=WebSquare.util.setPrecision(max);}this.footerTempSum[_22].max=max;}return this.footerTempSum[_22].max;};WebSquare.uiplugin.footerController.prototype.footercolmin=function(_27){["WebSquare.uiplugin.footerController.prototype.footercolmin"];if(!this.footerTempSum){this.footerTempSum=[];}if(!this.footerTempSum[_27]){this.footerTempSum[_27]={};}if(this.footerTempSum[_27].min===undefined){var min=null;if(this.groupbyStatus.grouped){min=this.groupExpression(this.filteredRowIndexArr,0,this.filteredRowIndexArr.length-1,"MIN('"+_27+"')");}else{var _29=this.getColumnAllDataArray(_27);for(var i=0;i<_29.length;i++){var _2b=parseFloat(_29[i]);if(!isNaN(_2b)){if(min==null||min>_2b){min=_2b;}}}min=(min==null)?"":min;min=WebSquare.util.setPrecision(min);}this.footerTempSum[_27].min=min;}return this.footerTempSum[_27].min;};WebSquare.uiplugin.footerController.prototype.getColumnAllDataArray=function(_2c){["WebSquare.uiplugin.footerController.prototype.getColumnAllDataArray"];var _2d=[];for(var i=0;i<this.getDataLength();i++){var _2f=this.getCellData(i,_2c);_2f+="";if((typeof _2f=="undefined"||_2f=="")){_2f="0";}else{_2d.push(_2f);}}return _2d;};WebSquare.uiplugin.footerController.prototype.getFooterData=function(_30,_31){["WebSquare.uiplugin.footerController.prototype.getFooterData"];var _32=this.getElementById(this.id+"_foot_table");var _33=_32.getElementsByTagName("td");if(typeof _30=="number"){var _34=_30+this.defaultColCnt;footerTd=_33[_34];var _30=footerTd.getAttribute("footer_id");var _35=this.footerDataObj[_30];var _36=_35.value;if(_35.inputType=="expression"){_36=eval(_35.expression);}if(_31!="displayData"){return _36;}else{return _35.formatter.format(_36);}}else{for(var j=0;j<_33.length;j++){var _38=_33[j];if(_38.getAttribute("footer_id")==_30){var _35=this.footerDataObj[_30];var _36=_35.value;if(_35.inputType=="expression"){_36=eval(_35.expression);}if(_31!="displayData"){return _36;}else{return _35.formatter.format(_36);}}}}};WebSquare.uiplugin.footerController.prototype.setFooterValue=function(_39,_3a){this.setFooterData(_39,_3a);};WebSquare.uiplugin.footerController.prototype.setFooterData=function(_3b,_3c){["WebSquare.uiplugin.footerController.prototype.setFooterData"];var _3d=this.getElementById(this.id+"_foot_table");var _3e=_3d.getElementsByTagName("td");if(typeof _3b=="number"){var _3f=_3b+this.defaultColCnt;footerTd=_3e[_3f];_3b=footerTd.getAttribute("footer_id");}for(var j=0;j<_3e.length;j++){var _41=_3e[j];if(_41.getAttribute("footer_id")==_3b){var _42=this.footerDataObj[_3b];if(_42.inputType=="text"){_42.value=_3c;_41.innerHTML="<nobr>"+_42.formatter.format(_42.value)+"</nobr>";}}}};WebSquare.uiplugin.footerController.prototype.setFooterDisplayFormat=function(_43,_44){try{var _45=this.getElementById(this.id+"_foot_table");var _46=_45.getElementsByTagName("td");if(typeof _43=="number"){var _47=_43+this.defaultColCnt;footerTd=_46[_47];_43=footerTd.getAttribute("footer_id");}for(var j=0;j<_46.length;j++){var _49=_46[j];if(_49.getAttribute("footer_id")==_43){var _4a=this.footerDataObj[_43];_4a.displayFormat=_44;_4a.formatter=WebSquare.format.createFormatter(_4a.dataType,_4a.displayFormat,_4a.displayFormatter);if(_4a.dataType=="number"){_49.innerHTML="<nobr>"+_4a.formatter.format(_4a.value)+"</nobr>";}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.footerController.prototype.getFooterStyle=function(_4b,_4c){try{var _4d=this.getElementById(this.id+"_foot_table");var _4e=_4d.getElementsByTagName("td");if(typeof _4b=="number"){var _4f=_4b+this.defaultColCnt;footerTd=_4e[_4f];_4b=footerTd.getAttribute("footer_id");}for(var j=0;j<_4e.length;j++){var _51=_4e[j];if(_51.getAttribute("footer_id")==_4b){return WebSquare.style.getStyle(_51,_4c);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.footerController.prototype.setFooterStyle=function(_52,_53,_54){try{var _55=this.getElementById(this.id+"_foot_table");var _56=_55.getElementsByTagName("td");if(_52.wq_trim().toLowerCase()=="$rownum"){_52="_headerRowNumber";}else{if(_52.wq_trim().toLowerCase()=="$rowstatus"){_52="_headerRowStatus";}else{if(typeof _52=="number"){var _57=_52+this.defaultColCnt;footerTd=_56[_57];_52=footerTd.getAttribute("footer_id");}}}for(var j=0;j<_56.length;j++){var _59=_56[j];if(_59.getAttribute("footer_id")==_52){WebSquare.style.setStyle(_59,_53,_54);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.footerController.prototype.getExcelAllFooterXML=function(_5a){["WebSquare.uiplugin.footerController.getExcelAllFooterXML"];try{if(!_5a){_5a=",";}if(!this.hasFooter){return "<array><![CDATA[[]]]></array>";}var _5b=[];_5b.push("<array><![CDATA[");_5b.push("[\"");var _5c=this.getElementById(this.id+"_foot_table");var _5d=_5c.getElementsByTagName("tbody")[0];var _5e=_5d.getElementsByTagName("td");for(var j=0;j<_5e.length;j++){var _60=_5e[j];var _61=_60.getAttribute("footer_id");if(_61!="_headerRowNumber"&&_61!="_headerRowStatus"){var _62="";if(_60.getAttribute("inputType")!="expression"){childNode=WebSquare.util.first(_60);while(childNode!=null){_60=childNode;childNode=WebSquare.util.first(childNode);}_62=_60.innerHTML;}else{if(!this.footerDataObj){this.initFooterDataObj();}var _63=this.footerDataObj[_61];_62=eval(_63.expression);}_5b.push(_62);_5b.push("\""+_5a+"\"");}}_5b[_5b.length-1]="\"]";_5b.push("]]></array>");return (_5b.join(""));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.footerController.prototype.getExcelAllFooterXMLDisplay=function(_64){["WebSquare.uiplugin.footerController.getExcelAllFooterXMLDisplay"];try{if(!_64){_64=",";}if(!this.hasFooter){return "<array><![CDATA[[]]]></array>";}var _65=[];_65.push("<array><![CDATA[");_65.push("[\"");var _66=this.getElementById(this.id+"_foot_table");var _67=_66.getElementsByTagName("tbody")[0];var _68=_67.getElementsByTagName("td");if(this.groupbyStatus.grouped){if(!this.footerDataObj){this.initFooterDataObj();}var _69=0;if(this.options.rowNumVisible){var _6a=this.footerDataObj[_68[_69].getAttribute("footer_id")];var _6b=_6a.value||"";_65.push(_6b);_65.push("\""+_64+"\"");_69++;}if(this.options.rowStatusVisible){var _6a=this.footerDataObj[_68[_69].getAttribute("footer_id")];var _6b=_6a.value||"";_65.push(_6b);_65.push("\""+_64+"\"");}}for(var j=0;j<_68.length;j++){var _6d=_68[j];var _6e=_6d.getAttribute("footer_id");if(_6e!="_headerRowNumber"&&_6e!="_headerRowStatus"){var _6b="";if(_6d.getAttribute("inputType")!="expression"){childNode=WebSquare.util.first(_6d);while(childNode!=null){_6d=childNode;childNode=WebSquare.util.first(childNode);}_6b=_6d.innerHTML;}else{if(!this.footerDataObj){this.initFooterDataObj();}var _6a=this.footerDataObj[_6e];_6b=eval(_6a.expression);_6b=_6a.formatter.format(_6b);}_65.push(_6b);_65.push("\""+_64+"\"");}}_65[_65.length-1]="\"]";_65.push("]]></array>");return (_65.join(""));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.footerController.prototype.getExcelAllFooterXMLRaw=function(_6f){["WebSquare.uiplugin.footerController.getExcelAllFooterXMLRaw"];try{if(!_6f){_6f=",";}if(!this.hasFooter){return "<array><![CDATA[[]]]></array>";}var _70=this.getElementById(this.id+"_foot_table");var _71=_70.getElementsByTagName("tbody")[0];var _72=_71.getElementsByTagName("td");var _73=[];for(var i=0;i<_72.length;i++){var _75=_72[i];var _76=_75.getAttribute("footer_id");if(_76!="_headerRowNumber"&&_76!="_headerRowStatus"){childNode=WebSquare.util.first(_75);while(childNode!=null){_75=childNode;childNode=WebSquare.util.first(childNode);}_73[_73.length]=_75.innerHTML;}}_73[0]="<array><![CDATA[[\""+_73[0];_73[_73.length-1]+="\"]]]></array>";return _73.join("\""+_6f+"\"");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.footerController.prototype.getExpressionValue=function(str){["WebSquare.uiplugin.footerController.prototype.getExpressionValue"];if(!this.hasFooter){this.footerTempSum=[];}str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.footercolsum( ");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.footercolavg( ");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.footercolmax( ");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.footercolmin( ");var _78=eval(str);return _78;};WebSquare.uiplugin.gridApiController=function(_1){["WebSquare.uiplugin.gridApiController"];};WebSquare.uiplugin.gridApiController.prototype.setStartRowNumber=function(_2){["WebSquare.uiplugin.gridApiController.prototype.setStartRowNumber"];this.startRowNumber=_2;for(var i=0;i<=this.lastIndex;i++){this._drawRowNumData(i,i+this.rowIndex);}};WebSquare.uiplugin.gridApiController.prototype.setNoResultMessage=function(_4){["WebSquare.uiplugin.gridApiController.prototype.setStartRowNumber"];this.options.noResultMessage=_4;this.displayNoResultMessage();};WebSquare.uiplugin.gridApiController.prototype.checkAll=function(_5,_6){["WebSquare.uiplugin.gridApiController.prototype.checkAll"];var _7=this.getCellInfo(_5);if(_7.options.inputType!="checkbox"){$l("\uc120\ud0dd\ud558\uc2e0 \uceec\ub7fc\uc740 checkbox\uac00 \uc544\ub2d9\ub2c8\ub2e4.");return;}var _8=_7.options.trueValue;var _9=_7.options.falseValue;this.drawFooterStatus=false;for(var i=0;i<this.getDataLength();i++){data=this.getCellData(i,_5);if(_6==1||_6==true){if(data!=_8){this.setCellData(i,_5,_8);}}else{if(_6==0||_6==false){if(data!=_9){this.setCellData(i,_5,_9);}}else{var _b=(data==_8)?_9:_8;this.setCellData(i,_5,_b);}}}this.drawFooterStatus=true;this.drawFooter();this.drawHeader();};WebSquare.uiplugin.gridApiController.prototype.getColumnType=function(_c){["WebSquare.uiplugin.gridApiController.prototype.getColumnType"];var _d=this.getCellInfo(_c);return _d.options.inputType;};WebSquare.uiplugin.gridApiController.prototype.getDefaultStyle=function(){["WebSquare.uiplugin.gridApiController.getDefaultStyle"];return this.options.style;};WebSquare.uiplugin.gridApiController.prototype.setCellChecked=function(_e,_f,_10){["WebSquare.uiplugin.gridApiController.prototype.setCellChecked"];if(typeof _10!="boolean"){alert("\uc785\ub825\ub370\uc774\ud130\uac00 \uc633\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. true/false boolean \ud0c0\uc785\uc73c\ub85c \uc785\ub825\ud558\uc138\uc694");return;}var _11=this.getCellInfo(_f);if(_11.options.inputType!="checkbox"&&_11.options.inputType!="radio"){alert("checkbox\ub098 radio\uac00 \uc544\ub2d9\ub2c8\ub2e4.");return;}if(_11.options.inputType=="radio"&&_10!=false){for(var i=0;i<this.getDataLength();i++){this.setCellData(i,_f,_11.options.falseValue);}this.drawColumnData(_f);}if(_10==true){_10=_11.options.trueValue;}else{_10=_11.options.falseValue;}this.setCellData(_e,_f,_10);};WebSquare.uiplugin.gridApiController.prototype.getGridHTML=function(){["WebSquare.uiplugin.gridApiController.prototype.getGridHTML"];alert("\ud604\uc7ac \uad6c\ud604\uc911");};WebSquare.uiplugin.gridApiController.prototype.setColumnDefaultValue=function(_13,_14){["WebSquare.gridApiController.grid.prototype.setColumnDefaultValue"];try{var _15=this.getCellInfo(_13);_15.options.defaultValue=_14;this.drawColumnData(_13);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.gridApiController.prototype.redrawColumn=function(_16,_17){["WebSquare.gridApiController.grid.prototype.redrawColumn"];try{var _18=typeof _17=="undefined"?true:_17;this.drawColumnData(_16,_18);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.gridApiController.prototype.getDrawCount=function(){["WebSquare.uiplugin.grid.prototype.getRowCount"];return this.getVisibleRowNum();};WebSquare.uiplugin.gridApiController.prototype.getVisibleRowNum=function(){return this.rowIndex>=0?this.lastIndex+1:0;};WebSquare.uiplugin.gridApiController.prototype.getTopRowIndex=function(){return this.rowIndex;};WebSquare.uiplugin.gridApiController.prototype.setTopRowIndex=function(_19){var _1a=this.getElementById(this.id+"_scrollY_div");(_19<=0)&&(_19=0);if(this.lastTopRowIndex!==null){(_19>this.lastTopRowIndex)&&(_19=parseInt(this.lastTopRowIndex+0.5,10));}else{if(_1a.offsetHeight<_1a.scrollHeight){if(this.rowIndex<_19){_19=(_19+this.lastIndex+1>this.getDataLength())?this.getDataLength()-this.lastIndex-1:_19;if(_19>this.rowIndex+this.lastIndex){this.adjustDraw_keepTop=true;}}}else{_19=0;}}if(this.rowIndex!=_19){if(this.delayedDraw({rowIndex:_19})){return;}this.scrollEvent=false;this.checkScrollEnd=true;_1a.scrollTop=20*_19;this.drawData(_19);}};WebSquare.uiplugin.gridApiController.prototype.getBottomRowIndex=function(){return this.rowIndex>=0?this.rowIndex+this.lastIndex:-1;};WebSquare.uiplugin.gridApiController.prototype.setBottomRowIndex=function(_1b){this.drawBottomData(_1b);};WebSquare.uiplugin.gridApiController.prototype.getCellPosition=function(row,_1d,_1e){var _1d=this.getColumnIndex(_1d);var _1e=(_1e||"").toLowerCase();var td=this.data_td_list[_1d+row*this.oneRowDataLength];if(_1e=="top"){return td.offsetTop;}else{if(_1e=="left"){return td.offsetLeft;}}return null;};WebSquare.uiplugin.gridApiController.prototype.getCellSize=function(row,_21,_22){var _21=this.getColumnIndex(_21);var _22=(_22||"").toLowerCase();var td=this.data_td_list[_21+row*this.oneRowDataLength];if(_22=="width"){return td.clientWidth;}else{if(_22=="height"){return td.clientHeight;}}return null;};WebSquare.uiplugin.gridApiController.prototype.getHeaderPosition=function(_24,_25){var _25=(_25||"").toLowerCase();var td=this.getHeaderLayer(_24);if(_25=="top"){var top=td.offsetTop;if(this.options.groupbyZone){top+=this.groupbyZoneStatus.groupbyZoneRender.offsetHeight;}return top;}else{if(_25=="left"){return td.offsetLeft;}}return null;};WebSquare.uiplugin.gridApiController.prototype.getHeaderSize=function(_28,_29){var _29=(_29||"").toLowerCase();var td=this.getHeaderLayer(_28);if(_29=="width"){return td.clientWidth;}else{if(_29=="height"){return td.clientHeight;}}return null;};WebSquare.uiplugin.gridApiController.prototype.setSummary=function(str){var _2c=this.getElementById(this.id+"_body_table");_2c.setAttribute("summary",str);};WebSquare.uiplugin.gridApiController.prototype.setCaption=function(_2d){var _2e=this.render.getElementsByTagName("caption")[0];if(_2e){_2e.innerHTML=_2d;}else{_2e=document.createElement("caption");_2e.innerHTML=_2d;var _2f=this.render.getElementsByTagName("colgroup")[0];_2f.parentNode.insertBefore(_2e,_2f);}};WebSquare.uiplugin.gridApiController.prototype.groupby=function(_30){var _30=_30||{};this.removeFocusedCell();this.dataFilter.clear();this.clearHeaderSort();this._sortArr=[];if(_30.filter){for(var _31 in _30.filter){var _32;var _33=_30.filter[_31];if(_33.constructor==/a/.constructor){_32=_33;}else{if(typeof _33=="object"){_33=_33.length==0?"/^[a-z0-9_-]{3,16}$/":_33.join("|");_32=new RegExp(_33,"gi");}}if(_32){this.setColumnFilter({type:"regExp",colIndex:_31,key:_32,condition:"and"});}}}if(_30.sortOrder&&_30.sortIndex){this.multisort(_30);}this.groupbyInfo={};this.statusArr=[];var _34=((typeof _30.sortIndex=="string")?_30.sortIndex.split(" "):_30.sortIndex);var _35=((typeof _30.sortOrder=="string")?_30.sortOrder.split(" "):_30.sortOrder);var _36=_34.length;var _37=this.getTotalCol();var _38=this.filteredRowIndexArr;var _39=[];var _3a=[];var _3b=0;var _3c=[];var _3d=[];var _3e=[];this.groupbyStatus.groupbyRowIndexArr=this.filteredRowIndexArr.slice();for(var i=0;i<_36;i++){var _40=parseInt(_34[i],10);_34[i]=isNaN(_40)?this.getColumnIndex(_34[i]):_40;_3e[i]=this.getCellData(_38[0],_34[i],3);}this.groupbyStatus.grouped=true;this.groupbyStatus.filter=_30.filter||{};this.groupbyStatus.sortIndexArr=_34;this.groupbyStatus.sortOrderArr=_35;this.groupbyStatus.headerValueObj={};this.groupbyStatus.footerValueObj={};if(!_30.keepDisplayOptions){this.groupbyDisplayOptions={};this.groupbyDisplayOptions.rowNumHeader=_30.rowNumHeader||{};this.groupbyDisplayOptions.rowStatusHeader=_30.rowStatusHeader||{};this.groupbyDisplayOptions.groupbyHeader=_30.groupbyHeader||[];this.groupbyDisplayOptions.rowNumFooter=_30.rowNumFooter||{};this.groupbyDisplayOptions.rowStatusFooter=_30.rowStatusFooter||{};this.groupbyDisplayOptions.groupbyFooter=_30.groupbyFooter||[];this.groupbyDisplayOptions.closeGroup=_30.closeGroup||false;}for(var i=0;i<_38.length;i++){_3c=_3d;_3d=_3e;if(i>0){var _41=false;var _42=[];for(var j=0;j<_36;j++){var _44=_3c.slice(0,j+1).join("-");if(_41||_3c[j]!=_3d[j]){_41=true;var _45={type:"footer",groupId:_44,depth:j,status:"open",index:""};this.groupbyInfo[_44]=this.groupbyInfo[_44]?this.groupbyInfo[_44]:{};this.groupbyInfo[_44].footer=_45;_42.push(_45);}}for(var j=_42.length-1;j>=0;j--){_42[j].index=_39.length;_39.push(_42[j]);_3a.push("footer");}}var _46=false;for(var j=0;j<_36;j++){var _44=_3d.slice(0,j+1).join("-");if(_46||i==0||_3c[j]!=_3d[j]){_46=true;var _45={type:"header",groupId:_44,depth:j,status:"open",index:_39.length};this.groupbyInfo[_44]={header:_45};_39.push(_45);_3a.push("header");}}_39.push(_38[i]);_3a.push(_3b++);_3e=[];for(var j=0;j<_36;j++){_3e[j]=this.getCellData(_38[i+1],_34[j],3);}}if(_3a.length>0){for(var i=_36-1;i>=0;i--){var _44=_3d.slice(0,i+1).join("-");var _45={type:"footer",groupId:_44,depth:i,status:"open",index:_39.length};this.groupbyInfo[_44]=this.groupbyInfo[_44]?this.groupbyInfo[_44]:{};this.groupbyInfo[_44].footer=_45;_39.push(_45);_3a.push("footer");}}this.filteredRowIndexArr=_39;this.rowNumArr=_3a;if(this.groupbyDisplayOptions.closeGroup&&_3a.length>0){for(var key in this.groupbyInfo){var _48=this.groupbyInfo[key].header;var _49=_48.groupId.split("-");if(_36==_49.length){if(typeof _48!="number"&&this.filteredRowIndexArr[_48.index]==_48){this._foldRow(_48);}}}}this.lastTopRowIndex=null;this.rowIndex=0;this.setScrollYHeight();this.notifyDataChanged();this.drawFooter();this.drawHeader();if(this.options.groupbyZoneMessage){this.hideGroupbyZoneMessage();}if(this.options.groupbyZone){this.syncWithGroupbyZone();}var _4a=_34.length;if(!this.groupbyStatus.groupbyDepthInfoObj||_4a>this.groupbyStatus.beforeSortIndexLength){this.groupbyStatus.groupbyDepthInfoObj=this.groupbyStatus.groupbyDepthInfoObj||{};var _4b=this.getColumnID(_34[_4a-1]);this.groupbyStatus.groupbyDepthInfoObj[_4b]=this.createGroupbDepthInfo(_4a-1);}this.groupbyStatus.beforeSortIndexLength=_4a;this.dataFilter.customFilterStatusObj={};if(WebSquare.util.isIE("8")){this.drawData(0,null,"async");}};WebSquare.uiplugin.dataController.prototype.clearGroupby=function(){["WebSquare.uiplugin.dataController.prototype.clearGroupby"];try{this.clearFilter();this.clearHeaderSort();this.clearGroupbyZone();if(WebSquare.util.isIE("8")){this.drawData(0,null,"async");}if(this.options.groupbyZoneMessage){this.showGroupbyZoneMessage();}if(this.groupbyFilterList&&this.groupbyFilterScrollView){this.hideGroupbyFilterList();}this.groupbyStatus={};this.groupbyZoneStatus.beforeOpenedColIndex=null;this.groupbyZoneStatus.beforeOpenedColTagName=null;this.groupbyZoneStatus.clickedHeaderInfo=null;this.groupbyDisplayOptions=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.gridApiController.prototype.toggleGroup=function(_4c){if(!this.groupbyInfo[_4c]){return;}var _4d=this.groupbyInfo[_4c].header;if(typeof _4d!="number"&&this.filteredRowIndexArr[_4d.index]==_4d){if(_4d.status=="open"){this._foldRow(_4d);}else{this._unfoldRow(_4d);}this.lastTopRowIndex=null;this.setScrollYHeight();if(_4d.status=="open"){this.notifyRowInserted(_4d.index);}else{this.notifyRowChanged(_4d.index);}this.removeFocusedCell();this.drawFooter();}};WebSquare.uiplugin.gridApiController.prototype._foldRow=function(_4e){if(_4e.status=="open"){_4e.status="closed";var _4f=this.groupbyInfo[_4e.groupId].footer;_4e.closedChildArr=this.filteredRowIndexArr.splice(_4e.index+1,_4f.index-_4e.index-1);var _50=[];for(var i=0;i<this.groupbyStatus.groupbyRowIndexArr.length;i++){var _52=false;for(var j=0;j<_4e.closedChildArr.length;j++){if(this.groupbyStatus.groupbyRowIndexArr[i]==_4e.closedChildArr[j]){_52=true;}}if(!_52){_50.push(this.groupbyStatus.groupbyRowIndexArr[i]);}}this.groupbyStatus.groupbyRowIndexArr=_50;len=this.filteredRowIndexArr.length;var _54=0;this.rowNumArr=[];for(var i=0;i<len;i++){if(typeof this.filteredRowIndexArr[i]=="number"){this.rowNumArr.push(_54++);}else{this.groupbyInfo[this.filteredRowIndexArr[i].groupId][this.filteredRowIndexArr[i].type].index=this.rowNumArr.length;this.rowNumArr.push(this.filteredRowIndexArr[i].type);}}}};WebSquare.uiplugin.gridApiController.prototype._unfoldRow=function(_55){if(_55.status=="closed"){_55.status="open";_55.closedChildArr.unshift(_55.index+1,0);[].splice.apply(this.filteredRowIndexArr,_55.closedChildArr);_55.closedChildArr=[];var _56=0;this.rowNumArr=[];this.groupbyStatus.groupbyRowIndexArr=[];for(var i=0;i<this.filteredRowIndexArr.length;i++){if(typeof this.filteredRowIndexArr[i]=="number"){this.rowNumArr.push(_56++);this.groupbyStatus.groupbyRowIndexArr.push(this.filteredRowIndexArr[i]);}else{this.groupbyInfo[this.filteredRowIndexArr[i].groupId][this.filteredRowIndexArr[i].type].index=this.rowNumArr.length;this.rowNumArr.push(this.filteredRowIndexArr[i].type);}}}};WebSquare.uiplugin.gridApiController.prototype.foldAll=function(){for(var _58 in this.groupbyInfo){var _59=this.groupbyInfo[_58].header;if(_59.status=="open"&&_59.depth==0){this._foldRow(_59);}}this.lastTopRowIndex=null;this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();this.drawFooter();this.drawHeader();};WebSquare.uiplugin.gridApiController.prototype.unfoldAll=function(){for(var i=0;i<this.filteredRowIndexArr.length;i++){var _5b=this.filteredRowIndexArr[i];if(typeof _5b!="number"&&_5b.type=="header"&&_5b.status=="closed"){this._unfoldRow(_5b);}}this.lastTopRowIndex=null;this.notifyDataChanged({keepTop:true});if(this.getDataLength()==0){this.removeFocusedCell();}this.setScrollYHeight();this.drawFooter();this.drawHeader();};WebSquare.uiplugin.gridApiController.prototype.drawGroupData=function(td,_5d,_5e){var _5f=td;var _60=_5e*this.realRowDataLength;var _61=this.realRowDataLength;var _62;var _63;var _64;var _65;if(_5d.type=="header"){_63=this.groupbyDisplayOptions.rowNumHeader;_64=this.groupbyDisplayOptions.rowStatusHeader;_65=this.groupbyDisplayOptions.groupbyHeader;}else{if(_5d.type=="footer"){_63=this.groupbyDisplayOptions.rowNumFooter;_64=this.groupbyDisplayOptions.rowStatusFooter;_65=this.groupbyDisplayOptions.groupbyFooter;}else{td.innerHTML="";return;}}if(this.options.rowNumVisible){this._drawGroupData(_5f,_5d,_63);if(!_63.hidden){_61-=(_63.colSpan||1);}_60++;_5f=this.all_data_td_list[_60];}if(this.options.rowStatusVisible){this._drawGroupData(_5f,_5d,_64);if(!_64.hidden){_61-=(_64.colSpan||1);}_60++;_5f=this.all_data_td_list[_60];}for(var i=0;i<_61;i++){var _67=_65[i]||{};this._drawGroupData(_5f,_5d,_67);_60++;_5f=this.all_data_td_list[_60];}};WebSquare.uiplugin.gridApiController.prototype._drawGroupData=function(_68,_69,_6a){["WebSquare.uiplugin.gridApiController.prototype._drawGroupData"];try{var _6b="gridBodyDefault w2grid_groupby w2grid_groupby_depth_"+_69.depth;_68.className=_6b;_68.innerHTML="";var _6c="&nbsp;&nbsp;";var _6d=_6a.colSpan||1;var _6e=_6a.value||"";var _6f=_6a.inputType||"";var _70=_6a.depthVisible||false;var _71=_6a.align||"";var _72=_6a.expression||"";var _6d=_6a.colSpan||1;var _73=_6a.hidden?"none":"";var _74=_6a.displayFormatType||"text";var _75=_6a.displayFormat||"";var _76=_6a.displayFormatter||null;var _77;_68.setAttribute("colSpan",_6d);_68.style.align="";_68.style.textAlign="";_68.style.display=_73;if(_6f){if(_75||_76){_77=new WebSquare.format.createFormatter(_74,_75,_76);}switch(_6f){case "toggleButton":var _78=_69.status=="open"?"w2grid_minus":"w2grid_plus";var _79="<span class='"+_78+"' style='display:inline-block;"+(_71?"float:"+_71+";":"")+" margin-left:"+(_69.depth*20)+"px;'></span>";_68.innerHTML+=_79;break;case "expression":if(_72){var _7a=this.groupbyInfo[_69.groupId].header;var _7b=0;if(_7a.status=="open"){var _7c;for(var i=_7a.index;i<this.filteredRowIndexArr.length;i++){var _7e=this.filteredRowIndexArr[i];if(_7e.type=="footer"&&_7e.depth==_7a.depth){_7c=_7e.index;break;}}_7b=this.groupExpression(this.filteredRowIndexArr,_7a.index,_7c,_72,_7a);}else{_7b=this.groupExpression(_7a.closedChildArr,0,_7a.closedChildArr.length-1,_72,_7a);}if(_77){_7b=_77.format(_7b);}var _7f="<span style='display:inline-block;"+(_71?"float:"+_71+";":"")+"''>"+_7b+"</span>";_68.innerHTML+=_7f;}default:break;}}if(_70){var _80="";if(_6f!="toggleButton"){_80="margin-left: "+(_69.depth*20)+"px";}_68.innerHTML+="<span style='display:inline-block;"+(_71?"float:"+_71+";":"")+" "+(_80?_80:"")+"'>"+_69.groupId+"</span>";}if(_6e){if(_77){_6e=_77.format(_6e);}_68.innerHTML+="<span style='display:inline-block;"+(_71?"float:"+_71+";":"")+"'>"+_6e+"</span>";}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.gridApiController.prototype.groupExpression=function(obfuscator_arr,obfuscator_startIndex,obfuscator_endIndex,obfuscator_expression,obfuscator_header){["WebSquare.uiplugin.gridApiController.prototype.groupExpression"];try{var str=obfuscator_expression;str=str.replace(/[sS][uU][mM][\s]*[(]/g,"this.groupbySum(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[aA][vV][gG][\s]*[(]/g,"this.groupbyAvg(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[mM][aA][xX][\s]*[(]/g,"this.groupbyMax(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[mM][iI][nN][\s]*[(]/g,"this.groupbyMin(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex,");str=str.replace(/[cC][oO][uU][nN][tT][\s]*[(]/g,"this.groupbyCount(obfuscator_arr, obfuscator_startIndex, obfuscator_endIndex");str=str.replace(/[dD][eE][pP][tT][hH][\s]*[(]/g,"this.groupbyDepth(obfuscator_header");str=str.replace(/[tT][oO][gG][gG][lL][eE][\s]*[(]/g,"this.groupbyToggle(obfuscator_header");str=str.replace(/[dD][eE][pP][tT][hH][sS][tT][rR][\s]*[(]/g,"this.groupbyDepthStr(obfuscator_header");str=eval(str);return str;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.gridApiController.prototype.groupbySum=function(arr,_83,_84,_85){["WebSquare.uiplugin.gridApiController.prototype.groupbySum"];var _86=this.getColumnIndex(_85);var sum=0;for(var i=_83;i<=_84;i++){if(typeof arr[i]=="number"){sum+=parseInt(this.getCellData(arr[i],_86,3),10)||0;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){sum+=this.groupbySum(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_85);}}}return sum;};WebSquare.uiplugin.gridApiController.prototype.groupbyAvg=function(arr,_8a,_8b,_8c){["WebSquare.uiplugin.gridApiController.prototype.groupbyAvg"];var _8d=this._groupbyAvg(arr,_8a,_8b,_8c);return _8d.sum/_8d.number;};WebSquare.uiplugin.gridApiController.prototype._groupbyAvg=function(arr,_8f,_90,_91){["WebSquare.uiplugin.gridApiController.prototype._groupbyAvg"];var _92=this.getColumnIndex(_91);var _93={};_93.sum=0;_93.number=0;for(var i=_8f;i<=_90;i++){if(typeof arr[i]=="number"){_93.sum+=parseInt(this.getCellData(arr[i],_92,3),10)||0;_93.number++;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){var _95=this._groupbyAvg(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_91);_93.sum+=_95.sum;_93.number+=_95.number;}}}return _93;};WebSquare.uiplugin.gridApiController.prototype.groupbyMax=function(arr,_97,_98,_99){["WebSquare.uiplugin.gridApiController.prototype.groupbyMax"];var _9a=this.getColumnIndex(_99);var tmp=0;var max=0;var _9d=false;for(var i=_97;i<=_98;i++){if(typeof arr[i]=="number"){tmp=parseInt(this.getCellData(arr[i],_9a,3),10)||0;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){tmp=this.groupbyMax(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_99);}}if(!_9d){max=_9d=tmp;}if(_9d&&max<tmp){max=tmp;}}return max;};WebSquare.uiplugin.gridApiController.prototype.groupbyMin=function(arr,_a0,_a1,_a2){["WebSquare.uiplugin.gridApiController.prototype.groupbyMin"];var _a3=this.getColumnIndex(_a2);var tmp=0;var min;var _a6=false;for(var i=_a0;i<=_a1;i++){if(typeof arr[i]=="number"){tmp=parseInt(this.getCellData(arr[i],_a3,3),10)||0;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){tmp=this.groupbyMin(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1,_a2);}}if(!_a6){min=_a6=tmp;}if(_a6&&min>tmp){min=tmp;}}return min;};WebSquare.uiplugin.gridApiController.prototype.groupbyToggle=function(_a8){["WebSquare.uiplugin.gridApiController.prototype.groupbyToggle"];var _a9=_a8.status=="open"?"w2grid_minus":"w2grid_plus";var _aa="<span class='"+_a9+"' style='display:inline-block; margin-left:"+(_a8.depth*20)+"px;'></span>";return _aa;};WebSquare.uiplugin.gridApiController.prototype.groupbyDepth=function(_ab){["WebSquare.uiplugin.gridApiController.prototype.groupbyDepth"];return _ab.depth;};WebSquare.uiplugin.gridApiController.prototype.groupbyDepthStr=function(_ac){["WebSquare.uiplugin.gridApiController.prototype.groupbyDepthStr"];return _ac.groupId;};WebSquare.uiplugin.gridApiController.prototype.groupbyCount=function(arr,_ae,_af){["WebSquare.uiplugin.gridApiController.prototype.groupbyCount"];var _b0=0;for(var i=_ae;i<=_af;i++){if(typeof arr[i]=="number"){_b0++;}else{if(arr[i].type=="header"&&arr[i].status=="closed"){_b0+=this.groupbyCount(arr[i].closedChildArr,0,arr[i].closedChildArr.length-1);}}}return _b0;};WebSquare.uiplugin.gridApiController.prototype.setCellOption=function(row,col,key,_b5){["WebSquare.uiplugin.gridApiController.prototype.setCellOption"];var _b6=this.getExtraDataObj("cell",row,col);switch(key){case "viewType":_b6.key=_b5;if(this.rowIndex>=0){this.drawCellData(row-this.rowIndex,row,col);}break;default:$l("["+this.id+"] "+key+"\uc5d0 \ub300\ud55c \ubcc0\uacbd\uc740 \ucc98\ub9ac\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");break;}};WebSquare.uiplugin.gridApiController.prototype.getCellOption=function(row,col,key){["WebSquare.uiplugin.gridApiController.prototype.getCellOption"];var _ba=this.getExtraDataObj("cell",row,col);if(_ba.key==null){return this.getCellInfo(col).options[key];}else{return _ba.key;}};WebSquare.uiplugin.gridApiController.prototype.ungroupColumn=function(_bb){["WebSquare.uiplugin.gridApiController.prototype.ungroupColumn"];try{if(this.groupbyStatus.grouped){var _bc;if(typeof _bb=="string"){_bc=this.getColumnIndex(_bb);}else{if(typeof _bb=="number"){_bc=_bb;}}var _bd=true;for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==_bc){this.groupbyStatus.sortIndexArr.splice(i,1);this.groupbyStatus.sortOrderArr.splice(i,1);delete this.groupbyStatus.groupbyDepthInfoObj[this.getColumnID(_bc)];delete this.groupbyStatus.filter[this.getColumnID(_bc)];_bd=false;break;}}if(_bd){return;}if(this.groupbyStatus.sortIndexArr.length==0){this.clearGroupby();}else{var _bf=this.groupbyDisplayOptions;_bf.filter=this.groupbyStatus.filter;_bf.sortIndex=this.groupbyStatus.sortIndexArr;_bf.sortOrder=this.groupbyStatus.sortOrderArr;this.groupby(_bf);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.gridApiController.prototype.changeGroupDepth=function(_c0,_c1){["WebSquare.uiplugin.gridApiController.prototype.changeGroupDepth"];try{if(this.groupbyStatus.grouped){var _c2;if(typeof _c0=="string"){_c2=this.getColumnIndex(_c0);}else{if(typeof _c0=="number"){_c2=_c0;}}var _c3;if(typeof _c1=="string"){_c3=this.getColumnIndex(_c1);}else{if(typeof _c1=="number"){_c3=_c1;}}var _c4;var _c5;for(var i=0;i<this.groupbyStatus.sortIndexArr.length;i++){if(this.groupbyStatus.sortIndexArr[i]==_c2){_c5=i;}if(this.groupbyStatus.sortIndexArr[i]==_c3){_c4=i;}}if(typeof _c5!="number"||typeof _c4!="number"||_c5==_c4){return;}this.groupbyStatus.sortIndexArr.splice(_c5,1);this.groupbyStatus.sortIndexArr.splice(_c4,0,_c2);var _c7=this.groupbyStatus.sortOrderArr.splice(_c5,1);this.groupbyStatus.sortOrderArr.splice(_c4,0,_c7);var _c8=this.groupbyDisplayOptions;_c8.filter=this.groupbyStatus.filter;_c8.sortIndex=this.groupbyStatus.sortIndexArr;_c8.sortOrder=this.groupbyStatus.sortOrderArr;this.groupby(_c8);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.gridApiController.prototype.removeGroupbyFilterList=function(){["WebSquare.uiplugin.gridApiController.prototype.removeGroupbyFilterList"];try{if(this.groupbyFilterList&&this.groupbyFilterScrollView){this.groupbyFilterList.remove();this.groupbyFilterScrollView.remove();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.gridApiController.prototype.createGroupbDepthInfo=function(_c9){["WebSquare.uiplugin.gridApiController.prototype.createGroupbDepthInfo"];try{var _ca={};for(var key in this.groupbyInfo){var _cc=[key];var _cd=key.split("-");var _ce=_cd.length-_cc.length;var _cf=_cd[_cd.length-1];if(!_ca[_ce]){_ca[_ce]=[];}if(_ca[_ce].length==0){_ca[_ce].push(_cf);}else{distinct=true;for(var i=0;i<_ca[_ce].length;i++){if(_cf==_ca[_ce][i]){distinct=false;break;}}if(distinct){_ca[_ce].push(_cf);_ca[_ce].sort();}}}return _ca[_c9];}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.gridApiController.prototype.isEditing=function(){["WebSquare.uiplugin.gridApiController.prototype.createGroupbDepthInfo"];try{return !!this.editedCell;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.styleController=function(){["WebSquare.uiplugin.styleController"];};WebSquare.uiplugin.styleController.prototype.getColumnReadOnly=function(_1){["WebSquare.uiplugin.styleController.prototype.getColumnReadOnly"];var _2=this.getCellInfo(_1);if(_2.options.readOnly!=""){return WebSquare.util.getBoolean(_2.options.readOnly);}return "";};WebSquare.uiplugin.styleController.prototype.setColumnReadOnly=function(_3,_4){["WebSquare.uiplugin.styleController.prototype.setColumnReadOnly"];try{var _5=this.getCellInfo(_3);if(_4!=""){_4=WebSquare.util.getBoolean(_4);}_5.options.readOnly=_4;var _6=this.rollbackCommitFlag;if(this.editedCell!=null){var _7=parseInt(this.editedCell.editTd.getAttribute("tdindex"));var _8=(_7%this.realRowDataLength)-(this.realRowDataLength-this.oneRowDataLength);if(_8==_3){this.rollbackCommitFlag=true;}else{this.rollbackCommitFlag=false;}}else{this.rollbackCommitFlag=false;}this.drawColumnData(_3);this.applyStyleOptions(this.lastIndex);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.styleController.prototype.getRowReadOnly=function(_9){["WebSquare.uiplugin.grid.prototype.getRowReadOnly"];try{var _a=this.filteredRowIndexArr[_9];var _b=this.rowReadOnlyArr[_a];if(_b!=true&&_b!=false){return "";}return _b;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.styleController.prototype.setRowReadOnly=function(_c,_d){["WebSquare.uiplugin.grid.prototype.setRowReadOnly"];try{var _e=this.filteredRowIndexArr[_c];if(_d!=""){_d=WebSquare.util.getBoolean(_d);}this.rowReadOnlyArr[_e]=_d;var _f=this.rollbackCommitFlag;if(this.editedCell!=null&&this.editedCell.editRowIndex==_e){this.rollbackCommitFlag=true;}else{this.rollbackCommitFlag=false;}this.drawRowData(_c-this.rowIndex,_c);this.applyRowStyleOptions(_c);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.styleController.prototype.getCellReadOnly=function(_10,_11){["WebSquare.uiplugin.grid.prototype.getCellReadOnly"];try{var _11=this.getColumnIndex(_11);var _12=this.filteredRowIndexArr[_10];var _13=this.cellReadOnlyArr[_12*this.oneRowDataLength+_11];if(_13!=true&&_13!=false){return "";}return _13;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.styleController.prototype.setCellReadOnly=function(_14,_15,_16){["WebSquare.uiplugin.grid.prototype.setCellReadOnly"];try{if(_16!=""){_16=WebSquare.util.getBoolean(_16);}var _15=this.getColumnIndex(_15);var _17=this.filteredRowIndexArr[_14];this.cellReadOnlyArr[_17*this.oneRowDataLength+_15]=_16;var _18=this.rollbackCommitFlag;if(this.editedCell!=null&&this.editedCell.editRowIndex==_17){var _19=parseInt(this.editedCell.editTd.getAttribute("tdindex"));var _1a=(_19%this.realRowDataLength)-(this.realRowDataLength-this.oneRowDataLength);if(_1a==_15){this.rollbackCommitFlag=true;}else{this.rollbackCommitFlag=false;}}else{this.rollbackCommitFlag=false;}this.notifyCellChanged(_14,_15);this.rollbackCommitFlag=_18;this.applyCellStyleOptions(_14,_15);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.styleController.prototype.getColumnDisabled=function(_1b){["WebSquare.uiplugin.styleController.prototype.getColumnDisabled"];var _1c=this.getCellInfo(_1b);return WebSquare.util.getBoolean(_1c.options.disabled);};WebSquare.uiplugin.styleController.prototype.setColumnDisabled=function(_1d,_1e){["WebSquare.uiplugin.styleController.prototype.getColumnDisabled"];var _1f=this.getCellInfo(_1d);_1f.options.disabled=WebSquare.util.getBoolean(_1e);this.drawColumnData(_1d);};WebSquare.uiplugin.styleController.prototype.getRowDisabled=function(_20){["WebSquare.uiplugin.grid.prototype.getGridDisabled"];try{var _21=this.filteredRowIndexArr[_20];var _22=WebSquare.util.getBoolean(this.rowDisabledArr[_21]);return _22;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.styleController.prototype.setRowDisabled=function(_23,_24){["WebSquare.uiplugin.grid.prototype.getGridDisabled"];try{_24=WebSquare.util.getBoolean(_24);var _25=this.filteredRowIndexArr[_23];this.rowDisabledArr[_25]=_24;this.drawRowData(_23-this.rowIndex,_23);this.applyRowStyleOptions(_23);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.styleController.prototype.getCellDisabled=function(_26,_27){["WebSquare.uiplugin.grid.prototype.getGridDisabled"];try{var _27=this.getColumnIndex(_27);var _28=this.filteredRowIndexArr[_26];var _29=this.cellDisabledArr[_28*this.oneRowDataLength+_27];if(_29!=true&&_29!=false){return "";}return _29;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.styleController.prototype.setCellDisabled=function(_2a,_2b,_2c){["WebSquare.uiplugin.grid.prototype.getGridDisabled"];try{var _2b=this.getColumnIndex(_2b);var _2d=this.filteredRowIndexArr[_2a];this.cellDisabledArr[_2d*this.oneRowDataLength+_2b]=WebSquare.util.getBoolean(_2c);this.notifyCellChanged(_2a,_2b);this.applyCellStyleOptions(_2a,_2b);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.styleController.prototype.setTDStyle=function(_2e,_2f,_30,_31,_32){["WebSquare.uiplugin.styleController.prototype.setTDStyle"];if(this.options.readOnlyBackgroundColor!=""&&this._getEditReadOnly(_2f,_30)){_32="background-color:"+this.options.readOnlyBackgroundColor+";"+_32;}if(this.getEditDisabled(_2f,_30)){_2e.disabled=true;if(this.options.disabledBackgroundColor!=""){_32+=";background-color:"+this.options.disabledBackgroundColor;}if(this.options.disabledFontColor!=""){_32+=";color:"+this.options.disabledFontColor;}}else{_2e.disabled=false;}_2e.style.cssText=styleStr+";"+columnStyleStr+";"+_31+";"+_32;};WebSquare.uiplugin.styleController.prototype.setRowBackgroundColor=function(_33,_34){["WebSquare.uiplugin.styleController.prototype.setRowBackgroundColor"];this.setRowStyle(_33,"background-color",_34);};WebSquare.uiplugin.styleController.prototype.setRowColor=function(_35,_36){["WebSquare.uiplugin.styleController.prototype.setRowColor"];this.setRowStyle(_35,"color",_36);};WebSquare.uiplugin.styleController.prototype.setRowStyle=function(_37,_38,_39){["WebSquare.uiplugin.styleController.prototype.setRowStyle"];var _3a=this.getRowStyleClassName(_37);if(_3a==null){this.rowStyleIndex++;_3a=this.id+"_rowstyle_"+this.rowStyleIndex+"_";this.setRowStyleClassName(_37,_3a);}var _3b=this.rowStyleValueObj[_3a];if(_3b==null){_3b=[];}_3b[_38]=_39;var _3c=[];for(var _38 in _3b){var _3d=_3b[_38];if(_38!="style"&&_3d!=""){_3c.push(_38+":"+_3d);}}_3b["style"]=_3c.join(";");this.rowStyleValueObj[_3a]=_3b;this.applyRowStyleOptions(_37);};WebSquare.uiplugin.styleController.prototype.getRowBackgroundColor=function(_3e){["WebSquare.uiplugin.styleController.prototype.getRowBackgroundColor"];return this.getRowStyleValue(_3e,"background-color");};WebSquare.uiplugin.styleController.prototype.getRowColor=function(_3f){["WebSquare.uiplugin.styleController.prototype.getRowColor"];return this.getRowStyleValue(_3f,"color");};WebSquare.uiplugin.styleController.prototype.getRowStyleValue=function(_40,_41){["WebSquare.uiplugin.styleController.prototype.getRowStyleValue"];var _42=this.getRowStyleClassName(_40);if(_42==null){return "";}return this.rowStyleValueObj[_42][_41]||"";};WebSquare.uiplugin.styleController.prototype._getRowStyleStr=function(_43){["WebSquare.uiplugin.styleController.prototype.getRowStyleValue"];var _44=this.rowStyleValueObj[_43]["style"];return _44;};WebSquare.uiplugin.styleController.prototype.setColumnBackgroundColor=function(_45,_46){["WebSquare.uiplugin.styleController.prototype.setColumnBackgroundColor"];this.setColumnStyle(_45,"background-color",_46);};WebSquare.uiplugin.styleController.prototype.setColumnColor=function(_47,_48){["WebSquare.uiplugin.styleController.prototype.setColumnColor"];this.setColumnStyle(_47,"color",_48);};WebSquare.uiplugin.styleController.prototype.setColumnStyle=function(_49,_4a,_4b){["WebSquare.uiplugin.styleController.prototype.setColumnStyle"];var _49=this.getColumnIndex(_49);var _4c=this.columnStyleValueObj[_49];if(_4c==null){_4c=[];}_4c[_4a]=_4b;var _4d=[];for(var _4a in _4c){var _4e=_4c[_4a];if(_4a!="style"&&_4e!=""){_4d.push(_4a+":"+_4e);}}_4c["style"]=_4d.join(";");this.columnStyleValueObj[_49]=_4c;this.applyColumnStyleOptions(_49);};WebSquare.uiplugin.styleController.prototype.getColumnBackgroundColor=function(_4f){["WebSquare.uiplugin.styleController.prototype.getColumnBackgroundColor"];return this.getColumnStyleValue(_4f,"background-color");};WebSquare.uiplugin.styleController.prototype.getColumnColor=function(_50){["WebSquare.uiplugin.styleController.prototype.getColumnColor"];return this.getColumnStyleValue(_50,"color");};WebSquare.uiplugin.styleController.prototype.getColumnStyleValue=function(_51,_52){["WebSquare.uiplugin.styleController.prototype.getColumnStyleValue"];var _53=this.columnStyleValueObj[_51];if(_53==null){return "";}return _53[_52]||"";};WebSquare.uiplugin.styleController.prototype._getColumnStyleStr=function(_54){["WebSquare.uiplugin.styleController.prototype._getColumnStyleStr"];var _55=this.columnStyleValueObj[_54]["style"];return _55;};WebSquare.uiplugin.styleController.prototype.setCellBackgroundColor=function(_56,_57,_58){["WebSquare.uiplugin.styleController.prototype.setCellBackgroundColor"];this.setCellStyle(_56,_57,"background-color",_58);};WebSquare.uiplugin.styleController.prototype.setCellColor=function(_59,_5a,_5b){["WebSquare.uiplugin.styleController.prototype.setCellColor"];this.setCellStyle(_59,_5a,"color",_5b);};WebSquare.uiplugin.styleController.prototype.setCellStyle=function(_5c,_5d,_5e,_5f){["WebSquare.uiplugin.styleController.prototype.setCellStyle"];var _60=this.getCellStyleClassName(_5c,_5d);if(_60==null){this.cellStyleIndex++;_60=this.id+"_cellstyle_"+this.cellStyleIndex+"_";this.setCellStyleClassName(_5c,_5d,_60);}var _5d=this.getColumnIndex(_5d);var _61=this.cellStyleValueObj[_60];if(_61==null){_61={};}_61[_5e]=_5f;var _62=[];for(var _5e in _61){var _63=_61[_5e];if(_5e!="style"&&_63!=""){_62.push(_5e+":"+_63);}}_61["style"]=_62.join(";");this.cellStyleValueObj[_60]=_61;this.applyCellStyleOptions(_5c,_5d);};WebSquare.uiplugin.styleController.prototype.getCellBackgroundColor=function(_64,_65){["WebSquare.uiplugin.styleController.prototype.getCellBackgroundColor"];return this.getCellStyleValue(_64,_65,"background-color");};WebSquare.uiplugin.styleController.prototype.getCellColor=function(_66,_67){["WebSquare.uiplugin.styleController.prototype.getCellColor"];return this.getCellStyleValue(_66,_67,"color");};WebSquare.uiplugin.styleController.prototype.getCellStyleValue=function(_68,_69,_6a){["WebSquare.uiplugin.styleController.prototype.getCellStyleValue"];var _6b=this.getCellStyleClassName(_68,_69);if(_6b==null){return "";}return this.cellStyleValueObj[_6b][_6a]||"";};WebSquare.uiplugin.styleController.prototype._getCellStyleStr=function(_6c){["WebSquare.uiplugin.styleController.prototype._getCellStyleStr"];var _6d=this.cellStyleValueObj[_6c]["style"];return _6d;};WebSquare.uiplugin.styleController.prototype.setHeaderCellStyle=function(_6e,_6f,_70){["WebSquare.uiplugin.styleController.prototype.setHeaderCellStyle"];var th=this.getHeaderLayer(_6e);WebSquare.style.setStyle(th,_6f,_70);};WebSquare.uiplugin.styleController.prototype.setHeaderBackgroundColor=function(_72,_73){["WebSquare.uiplugin.styleController.prototype.setHeaderBackgroundColor"];var th=this.getHeaderLayer(_72);WebSquare.style.setStyle(th,"background-color",_73);};WebSquare.uiplugin.styleController.prototype.setHeaderColor=function(_75,_76){["WebSquare.uiplugin.styleController.prototype.setHeaderColor"];var th=this.getHeaderLayer(_75);WebSquare.style.setStyle(th,"color",_76);};WebSquare.uiplugin.styleController.prototype.getHeaderCellStyleValue=function(_78,_79){["WebSquare.uiplugin.styleController.prototype.getHeaderCellStyleValue"];try{var th=this.getHeaderLayer(_78);return WebSquare.style.getStyle(th,_79);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.styleController.prototype.getHeaderBackgroundColor=function(_7b){["WebSquare.uiplugin.styleController.prototype.getHeaderBackgroundColor"];return this.getHeaderCellStyleValue(_7b,"background-color");};WebSquare.uiplugin.styleController.prototype.getHeaderColor=function(_7c){["WebSquare.uiplugin.styleController.prototype.getHeaderColor"];return this.getHeaderCellStyleValue(_7c,"color");};WebSquare.uiplugin.dataFilter=function(_1){this.mainGrid=_1;this.filterArr=[];this.allRowIndexArr=[];this.firstFiltering=true;this.firstOpenCustomFilter={};this.customFilterStatusObj={};};WebSquare.uiplugin.dataFilter.prototype.useFilter=function(){if(this.filterArr.length!=0){return true;}return false;};WebSquare.uiplugin.dataFilter.prototype.clear=function(){this.filterArr=[];this.firstFiltering=true;};WebSquare.uiplugin.dataFilter.prototype._setAllRowIndexArr=function(_2){if(this.allRowIndexArr.length!=_2){this.allRowIndexArr=[];for(var i=0;i<_2;i++){this.allRowIndexArr.push(i);}}};WebSquare.uiplugin.dataFilter.prototype.executeAllFilter=function(_4,_5,_6){this._setAllRowIndexArr(_5);this.firstFiltering=true;for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i],_4,_5,_6);}if(this.filterArr.length==0){for(var i=0;i<this.mainGrid.filteredRowIndexArr.length;i++){this.mainGrid.filteredRowIndexArr[i]=i;}}};WebSquare.uiplugin.dataFilter.prototype.executeFilter=function(_8,_9,_a,_b){["WebSquare.uiplugin.dataFilter.prototype.executeFilter"];try{if(_8.options.condition=="and"){if(this.firstFiltering){this.mainGrid.filteredRowIndexArr=_8.execute(_9,_a,_b,this.allRowIndexArr);}else{this.mainGrid.filteredRowIndexArr=_8.execute(_9,_a,_b,this.mainGrid.filteredRowIndexArr);}}else{if(_8.options.condition=="or"){var _c=_8.execute(_9,_a,_b,this.allRowIndexArr);if(this.firstFiltering){this.mainGrid.filteredRowIndexArr=this.mergeArray(this.allRowIndexArr,_c);}else{this.mainGrid.filteredRowIndexArr=this.mergeArray(this.mainGrid.filteredRowIndexArr,_c);}}else{if(_8.options.condition==">"||_8.options.condition==">="||_8.options.condition=="<"||_8.options.condition=="<="){if(_8.options.columnDataType!="number"){this.mainGrid.filteredRowIndexArr=this.allRowIndexArr;this.firstFiltering=false;return;}if(this.firstFiltering){this.mainGrid.filteredRowIndexArr=_8.executeCondition(_9,_a,_b,this.allRowIndexArr);}else{this.mainGrid.filteredRowIndexArr=_8.executeCondition(_9,_a,_b,this.mainGrid.filteredRowIndexArr);}}}}this.firstFiltering=false;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataFilter.prototype.addFilter=function(_d,_e,_f,_10,_11){["WebSquare.uiplugin.dataFilter.prototype.addFilter"];try{this._setAllRowIndexArr(_f);var _12=null;if(_11.type=="row"){_12=new WebSquare.rowFilter(_d,_11);}else{if(_11.type=="user"){_12=new WebSquare.userFilter(_d,_11);}else{if(_11.type=="cell"){_12=new WebSquare.cellFilter(_d,_11);}else{if(_11.type=="sort"){_12=new WebSquare.sortFilter(_d,_11);this.deleteFilterById("sort^@",false);}else{if(_11.type=="func"){_12=new WebSquare.funcFilter(_d,_11);}else{if(_11.type=="regExp"){_12=new WebSquare.regExpFilter(_d,_11);}}}}}}this.executeFilter(_12,_e,_f,_10);this.filterArr.push(_12);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataFilter.prototype.deleteFilter=function(_13,_14,_15,_16,_17,_18){if(typeof _18=="undefined"){_18=true;}var _19=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_13)==-1){_19.push(this.filterArr[i]);}}this.filterArr=_19;if(_18==true){this.firstFiltering=true;for(var i=0;i<this.filterArr.length;i++){this.executeFilter(this.filterArr[i],_14,_15,_16);}if(this.filterArr.length==0){var _15=this.mainGrid.dataArr.length/this.mainGrid.oneRowDataLength;this.mainGrid.filteredRowIndexArr=[];for(var i=0;i<_15;i++){this.mainGrid.filteredRowIndexArr.push(i);}}}};WebSquare.uiplugin.dataFilter.prototype.mergeArray=function(_1b,_1c){var _1d=[];var _1e=[];for(var i=0;i<_1b.length;i++){_1d[_1b[i]]=1;}for(var i=0;i<_1c.length;i++){_1d[_1c[i]]=1;}for(var i=0;i<_1d.length;i++){if(_1d[i]==1){_1e.push(i);}}return _1e;};WebSquare.uiplugin.dataFilter.prototype.deleteFilterById=function(_20,_21){if(typeof _21=="undefined"){_21=true;}var _22=[];for(var i=0;i<this.filterArr.length;i++){if(this.filterArr[i].id.indexOf(_20)==-1){_22.push(this.filterArr[i]);}}this.filterArr=_22;if(_21==true){}else{if(this.filterArr.length==0){this.firstFiltering=true;}}};WebSquare.uiplugin.dataFilter.prototype.getOriginalRowIndex=function(_24){var _25=this.filteredRowIndexArr[_24];return _25;};WebSquare.uiplugin.dataFilter.prototype.getDisplayRowIndex=function(_26){if(this.mainGrid.filteredRowIndexArr.length!=0){for(var i=0;i<this.mainGrid.filteredRowIndexArr.length;i++){if(_26==this.mainGrid.filteredRowIndexArr[i]){return i;}}}return _26;};WebSquare.uiplugin.dataFilter.prototype.makeCustomFilter=function(){["WebSquare.uiplugin.dataFilter.prototype.makeCustomFilter"];try{if(this.customFilter!=null){this.customFilter.remove();}this.customFilter=new WebSquare.uiplugin.floatingLayer(this.mainGrid.id+"_customFilter",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter",useModal:true,headerLeftClass:"w2grid_customFilter_HL",headerRightClass:"w2grid_customFilter_HR",headerCenterClass:"w2grid_customFilter_HC",bodyLeftClass:"w2grid_customFilter_BL",bodyRightClass:"w2grid_customFilter_BR",bodyCenterClass:"w2grid_customFilter_BC",bodyLeftBottomClass:"w2grid_customFilter_FL",bodyRightBottomClass:"w2grid_customFilter_FR",bodyBottomClass:"w2grid_customFilter_FC",closeButtonClass:"w2grid_customFilter_btnClose",title:"\uc0ac\uc6a9\uc790 \uc9c0\uc815 \ud544\ud130",titleClass:"w2grid_customFilter_title"});var _28=new WebSquare.uiplugin.textbox(this.mainGrid.id+"_text1",{style:"position:absolute; margin:10px;",className:"w2grid_customFilter_text",label:"\ucc3e\uc744 \uc870\uac74:"});this.customFilter.addControl(_28);this.selectboxItemSet=["=","<>",">",">=","<","<=","\uc2dc\uc791\ubb38\uc790","\uc81c\uc678\ud560 \uc2dc\uc791 \ubb38\uc790","\ub05d \ubb38\uc790","\uc81c\uc678\ud560 \ub05d \ubb38\uc790","\ud3ec\ud568","\ud3ec\ud568\ud558\uc9c0 \uc54a\uc74c"];this.customFilterItemCnt=0;this.groupList=[];var _29=new WebSquare.uiplugin.group(this.mainGrid.id+"_item_"+this.customFilterItemCnt,{style:"position:absolute; width:100%; height:22px; margin-bottom:5px; background-color:transparent;"});this.customFilter.addControl(_29);this.groupList.push(_29);var _2a=new WebSquare.uiplugin.selectbox(_29.id+"_selectbox",{style:"position:absolute;",className:"w2grid_customFilter_selectbox",textAlign:"left",chooseOption:true});_29.addControl(_2a);var _2b=new WebSquare.uiplugin.autoComplete(_29.id+"_autocomplete",{style:"position:absolute;",className:"w2grid_customFilter_autocomplete",noResult:"useData",chooseOption:true,caseSensitive:false});_29.addControl(_2b);for(var j=0;j<this.colDataList.length;j++){_2b.addItem(this.colDataList[j],this.colDataList[j]);}var _2d=this.mainGrid.headCellInfoHash[this.headerID].getAttribute("customFilterItemCnt")||2;for(var i=0;i<_2d-1;i++){this.addCustomFilterItem();}var _2f=new WebSquare.uiplugin.textbox(this.mainGrid.id+"_text2",{style:"position:absolute; margin-left:10px; margin-top:5px;",className:"w2grid_customFilter_text",label:"? \uae30\ud638\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud55c\ubb38\uc790\ub97c \ub098\ud0c0\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4."});this.customFilter.addControl(_2f);var _30=new WebSquare.uiplugin.textbox(this.mainGrid.id+"_text3",{style:"position:absolute; margin:5px; margin-bottom:10px; margin-left:10px;",className:"w2grid_customFilter_text",label:"* \uae30\ud638\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc5ec\ub7ec \ubb38\uc790\ub97c \ub098\ud0c0\ub0bc \uc218 \uc788\uc2b5\ub2c8\ub2e4."});this.customFilter.addControl(_30);var _31=new WebSquare.uiplugin.group(this.mainGrid.id+"_buttonGroup",{style:"position:absolute;",className:"w2grid_customFilter_buttonGroup"});this.customFilter.addControl(_31);var _32=this;var _33=new WebSquare.uiplugin.textbox(this.mainGrid.id+"_btnConform",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter_button",label:"\ud655\uc778",xmlEvents:[{name:"onclick",action:"script",param:{handler:function(e){_32.setCustomFilterExpression();}}}]});_31.addControl(_33);_33.addEvent("onmousedown",function(){_33.toggleClass("w2grid_customFilter_button_selected");this.customFilterBtnSelected=true;});_33.addEvent("onmouseup",function(){_33.toggleClass("w2grid_customFilter_button_selected");this.customFilterBtnSelected=false;});_33.addEvent("onmouseout",function(){_33.toggleClass("w2grid_customFilter_button_selected");});var _35=new WebSquare.uiplugin.textbox(this.mainGrid.id+"_btnCancel",{style:"position:absolute; border-width:1px;",className:"w2grid_customFilter_button",label:"\ucde8\uc18c",xmlEvents:[{name:"onclick",action:"script",param:{handler:function(e){if(_32.mainGrid.options.groupbyZone){if(_32.firstOpenCustomFilter[_32.headerID]){_32.firstOpenCustomFilter[_32.headerID]=false;}}_32.customFilter.hide();}}}]});_31.addControl(_35);_35.addEvent("onmousedown",function(){_35.toggleClass("w2grid_customFilter_button_selected");});_35.addEvent("onmouseup",function(){_35.toggleClass("w2grid_customFilter_button_selected");});_35.addEvent("onmouseout",function(){_35.toggleClass("w2grid_customFilter_button_selected");});this.customFilter.writeTo(WebSquare.getBody());this.customFilter.activate();this.setChildrenPosition();this.setDefaultValue();_35.render.style.left=_31.render.offsetWidth-_35.render.offsetWidth-10+"px";_33.render.style.left=parseInt(_35.render.style.left,10)-_33.render.offsetWidth-5+"px";this.customFilter.hide();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.dataFilter.prototype.setDefaultValue=function(){for(var i=0;i<this.groupList.length;i++){var _38=this.groupList[i];var _39=_38.getChildren();for(var j=0;j<_39.length;j++){var _3b=_39[j];if(_3b.id.indexOf("_selectbox")!=-1){for(var k=0;k<this.selectboxItemSet.length;k++){_3b.addItemArr(this.selectboxItemSet[k],this.selectboxItemSet[k]);}var _3d=this.itemValueObj[this.targetColID]["select"+i];_3b.setSelectedIndex(_3d?_3d:0);}else{if(_3b.id.indexOf("_autocomplete")!=-1){var _3e=this.itemValueObj[this.targetColID]["auto"+i];_3b.setValue(_3e?_3e:"");}else{if(_3b.id.indexOf("_radio")!=-1){_3b.addItem("OR","OR","0");_3b.addItem("AND","AND","0");var _3f=this.itemValueObj[this.targetColID]["radio"+i];_3b.setSelectedIndex(_3f?_3f:0);}}}}}};WebSquare.uiplugin.dataFilter.prototype.getUniqueValueOfArray=function(arr){arr.sort();for(var i=1;i<arr.length;i++){if(arr[i]===arr[i-1]){arr.splice(i--,1);}}return arr;};WebSquare.uiplugin.dataFilter.prototype.setAutoCompleteItem=function(_42){var _43=this.mainGrid.getColData(_42);for(key in this.itemValueObj[this.targetColID]){if(key.indexOf("auto")!=-1){if(this.itemValueObj[this.targetColID][key]!=""){_43.push(this.itemValueObj[this.targetColID][key]);}}}this.colDataList=this.getUniqueValueOfArray(_43);this.colDataList.sort();};WebSquare.uiplugin.dataFilter.prototype.showCustomFilter=function(_44){this.mainGrid.noevent=true;this.headerID=_44;this.targetColID=this.mainGrid.getColIdByHeaderId(_44);if(this.customFilter==null){this.itemValueObj={};this.customFilterStatusObj={};}if(!this.itemValueObj[this.targetColID]){this.itemValueObj[this.targetColID]={};}this.setAutoCompleteItem(this.targetColID);this.makeCustomFilter();var _45=this.mainGrid.render.offsetTop;var _46=this.mainGrid.render.offsetLeft;var _47=this.mainGrid.getHeaderPosition(_44,"top");var _48=this.mainGrid.getHeaderPosition(_44,"left");var _49=this.mainGrid.getHeaderSize(_44,"width");var _4a=this.mainGrid.getHeaderSize(_44,"height");var _4b=0,screenHeight=0;if(typeof (window.innerWidth)=="number"){_4b=window.innerWidth;screenHeight=window.innerHeight;}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){_4b=document.documentElement.clientWidth;screenHeight=document.documentElement.clientHeight;}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){_4b=document.body.clientWidth;screenHeight=document.body.clientHeight;}}}var _4c=parseInt(WebSquare.util.getStyleProperty(this.customFilter.render,"width"),10);var _4d=parseInt(WebSquare.util.getStyleProperty(this.customFilter.render,"height"),10);var _4e=0;var _4f=0;var top,left;if(WebSquare.util.isIE("6 7 8")){top=document.documentElement.scrollTop;left=document.documentElement.scrollLeft;}else{top=window.pageYOffset;left=window.pageXOffset;}if(_46+_48+_49+_4c<=_4b+left){_4e=_46+_48+_49;}else{_4e=_46+_48-_4c;}if(_45+_47+_4a+_4d<=screenHeight+top){_4f=_45+_47+_4a;}else{_4f=_45+this.mainGrid.render.offsetHeight-_4d;}if(_4e<left){_4e=(_4b-_4c)/2+left;_4f=_45+this.mainGrid.render.offsetHeight;if(_4f+_4d>screenHeight+top){_4f=_45-_4d;}}if(_4f<top){_4f=(screenHeight-_4d)/2+top;}this.customFilter.render.style.left=_4e+"px";this.customFilter.render.style.top=_4f+"px";this.customFilter.show();};WebSquare.uiplugin.dataFilter.prototype.addCustomFilterItem=function(){this.customFilterItemCnt++;var _51=new WebSquare.uiplugin.group(this.mainGrid.id+"_item_"+this.customFilterItemCnt,{style:"position:absolute;",className:"w2grid_customFilter_item"});this.customFilter.addControl(_51);this.groupList.push(_51);var _52=new WebSquare.uiplugin.radio(_51.id+"_radio",{style:"position:absolute; left:50px; height:20px;",className:"w2grid_customFilter_radio",selectedIndex:0,cols:2,rows:1});_51.addControl(_52);var _53=new WebSquare.uiplugin.selectbox(_51.id+"_selectbox",{style:"position:absolute; top:25px;",className:"w2grid_customFilter_selectbox",textAlign:"left",chooseOption:true});_51.addControl(_53);var _54=new WebSquare.uiplugin.autoComplete(_51.id+"_autocomplete",{style:"position:absolute; top:25px;",className:"w2grid_customFilter_autocomplete",noResult:"useData",chooseOption:true,caseSensitive:false});_51.addControl(_54);for(var j=0;j<this.colDataList.length;j++){_54.addItem(this.colDataList[j],this.colDataList[j]);}};WebSquare.uiplugin.dataFilter.prototype.setChildrenPosition=function(){var _56=this.customFilter.getChildren();for(var i=1;i<=_56.length;i++){var _58=WebSquare.style.getStyle(_56[i-1].render,"top");_58=_58==="auto"?"0":_58;if(i===_56.length){break;}var _59=WebSquare.style.getStyle(_56[i-1].render,"margin-bottom");_59=_59==="auto"?"0":_59;_56[i].render.style.top=_56[i-1].render.offsetHeight+5+parseInt(_58?_58:"0",10)+parseInt(_59?_59:"0",10)+"px";}var _5a=this.customFilter.dom["closeButton"].parentNode.offsetHeight;var _5b=_56[i-1].render.offsetHeight+10+parseInt(_58?_58:"0",10);this.customFilter.setSize(this.customFilter.render.offsetWidth,_5a+_5b+6);};WebSquare.uiplugin.dataFilter.prototype.setCustomFilterExpression=function(){this.mainGrid.removeColumnFilter(this.targetColID);var _5c=true;var _5d=[];for(var i=0;i<this.groupList.length;i++){var _5f={};var _60=this.groupList[i];var _61=_60.getChildren();for(var j=0;j<_61.length;j++){var _63=_61[j];if(_63.id.indexOf("_selectbox")!=-1){_5f["select"]=_63.getSelectedIndex();this.itemValueObj[this.targetColID]["select"+i]=_63.getSelectedIndex();_5c=_5c&&_63.getSelectedIndex()==0;}else{if(_63.id.indexOf("_autocomplete")!=-1){_5f["auto"]=_63.getValue()!=_63.options.chooseOptionLabel?(_63.getValue()+"").replace("?",".").replace("*",".*"):"";this.itemValueObj[this.targetColID]["auto"+i]=_63.getValue();_5c=_5c&&_63.getValue()==_63.options.chooseOptionLabel;}else{if(_63.id.indexOf("_radio")!=-1){_5f["radio"]=_63.getSelectedIndex();this.itemValueObj[this.targetColID]["radio"+i]=_63.getSelectedIndex();}}}}if(_5f["select"]){_5d.push(_5f);}}this.mainGrid.setColumnFilter({type:"func",colIndex:this.targetColID,key:this.customFilterOperator,condition:"and",param:_5d});var _64=this.mainGrid.getElementById(this.mainGrid.id+"_"+this.headerID+"_filter");if(_5c||_5d.length==0){WebSquare.style.removeClass(_64,"w2grid_customFilter_filter");this.customFilterStatusObj[this.headerID]=false;}else{WebSquare.style.addClass(_64,"w2grid_customFilter_filter");this.customFilterStatusObj[this.headerID]=true;}this.customFilter.hide();};WebSquare.uiplugin.dataFilter.prototype.customFilterOperator=function(_65,_66){var _67=true;var _68=[];for(var i=0;i<_66.length;i++){var _6a=true;var _6b;switch(_66[i]["select"]){case 1:_6b=new RegExp(_66[i]["auto"],"g");_6b.lastIndex=0;_6a=_65==_6b.exec(_65)?true:false;break;case 2:_6b=new RegExp(_66[i]["auto"],"g");_6b.lastIndex=0;_6a=_65!=_6b.exec(_65)?true:false;break;case 3:_6a=_65>_66[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 4:_6a=_65>=_66[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 5:_6a=_65<_66[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 6:_6a=_65<=_66[i]["auto"].replace(".*","~~").replace(".","~")?true:false;break;case 7:_6b=new RegExp("^("+_66[i]["auto"]+")","g");_6a=_6b.test(_65)?true:false;break;case 8:_6b=new RegExp("^[^("+_66[i]["auto"]+")]","g");_6a=_6b.test(_65)?true:false;break;case 9:_6b=new RegExp("("+_66[i]["auto"]+")$","g");_6a=_6b.test(_65)?true:false;break;case 10:_6b=new RegExp("[^("+_66[i]["auto"]+")]$","g");_6a=_6b.test(_65)?true:false;break;case 11:_6b=new RegExp(_66[i]["auto"],"g");_6a=_6b.test(_65)?true:false;break;case 12:_6b=new RegExp("^(?!.*"+_66[i]["auto"]+").*","g");_6a=_6b.test(_65)?true:false;break;default:_6a=_65==_66[i]["auto"]?true:false;break;}if(_66.length===1){_67=_6a;break;}if(i===0){_67=_6a;continue;}if(_66[i]["radio"]==0){_67=_67&&_6a;}else{_67=_67||_6a;}}return _67;};WebSquare.filter=function(id){this.id=id;};WebSquare.filter.prototype.execute=function(_6d,_6e,_6f,_70){alert("overriede 'executeFilter'");};WebSquare.rowFilter=function(id,_72){WebSquare.filter.call(this,id);this.options=WebSquare.extend({colIndex:-1,key:"",condition:"and",exactMatch:false},_72||{});};WebSquare.extend(WebSquare.rowFilter.prototype,WebSquare.filter.prototype);WebSquare.rowFilter.prototype.execute=function(_73,_74,_75,_76){var _77=[];for(var i=0;i<_76.length;i++){var row=_76[i];var _7a=_73[row*_75+this.options.colIndex];if(_7a==null){_7a="";}if(this.options.exactMatch){if(_7a==this.options.key){_77.push(row);}}else{if(_7a.indexOf(this.options.key)>-1){_77.push(row);}}}return _77;};WebSquare.rowFilter.prototype.executeCondition=function(_7b,_7c,_7d,_7e){var _7f=[];for(var i=0;i<_7e.length;i++){var row=_7e[i];var _82;var _83;if(this.options.columnDataType=="number"){_82=parseFloat(_7b[row*_7d+this.options.colIndex])||0;_83=parseFloat(this.options.key);}if(this.options.condition==">"){if(_82>_83){_7f.push(row);}}else{if(this.options.condition==">="){if(_82>=_83){_7f.push(row);}}else{if(this.options.condition=="<"){if(_82<_83){_7f.push(row);}}else{if(this.options.condition=="<="){if(_82<=_83){_7f.push(row);}}}}}}return _7f;};WebSquare.userFilter=function(id,_85){WebSquare.filter.call(this,id);this.options=WebSquare.extend({key:"",condition:"and"},_85||{});};WebSquare.extend(WebSquare.userFilter.prototype,WebSquare.filter.prototype);WebSquare.userFilter.prototype.getColumnData=function(_86,_87,_88,_89,_8a){if(typeof _8a=="string"){_8a=this.options.bodyIdColIndexMap[_8a];}var _8b=_86[_89*_88+_8a];return _8b;};WebSquare.userFilter.prototype.execute=function(_8c,_8d,_8e,_8f){var exp=this.options.key.replace(/col[\s]*\(/g,"this.getColumnData(dataArr, totalRow, totalCol, row, ");var _91=[];for(var i=0;i<_8f.length;i++){if(eval(exp)){_91.push(_8f[i]);}}return _91;};WebSquare.cellFilter=function(id,_94){WebSquare.filter.call(this,id);this.options=WebSquare.extend({key:""},_94||{});};WebSquare.extend(WebSquare.cellFilter.prototype,WebSquare.filter.prototype);WebSquare.cellFilter.prototype.execute=function(_95,_96,_97,_98){var _99=[];for(var i=0;i<_98.length;i++){var row=_98[i];for(var col=0;col<_97;col++){var _9d=_95[row*_97+col];if(_9d==null){_9d="";}if(_9d.indexOf(this.options.key)>-1){_99.push(row);}}}return _99;};WebSquare.sortFilter=function(id,_9f){WebSquare.filter.call(this,id);this.options=WebSquare.extend({colIndex:"",sortIndex:"",sortOrder:"",dataType:"",sortIndexArr:[],sortOrderArr:[],dataTypeArr:[],sortFuncArr:[]},_9f||{});};WebSquare.extend(WebSquare.sortFilter.prototype,WebSquare.filter.prototype);WebSquare.sortFilter.prototype.execute=function(_a0,_a1,_a2,_a3){var _a4=_a3.slice(0);var _a5=this.options;var _a6=function(_a7,_a8){return function(a,b){if(_a7=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_a8;}else{if(a<b){return -1*_a8;}else{return 0;}}};};for(var i=0;i<_a5.sortIndexArr.length;i++){if(!_a5.sortFuncArr[i]){_a5.sortFuncArr[i]=_a6(_a5.dataTypeArr[i],_a5.sortOrderArr[i]);}}_a4.sort(function(lhs,rhs){for(var i=0;i<_a5.sortIndexArr.length;i++){var _af=_a5.sortFuncArr[i](_a0[lhs*_a2+_a5.sortIndexArr[i]],_a0[rhs*_a2+_a5.sortIndexArr[i]],lhs,rhs);if(_af!=0){return _af;}}return 0;});return _a4;};WebSquare.funcFilter=function(id,_b1){WebSquare.filter.call(this,id);this.options=WebSquare.extend({colIndex:-1,key:"",condition:"and"},_b1||{});};WebSquare.extend(WebSquare.funcFilter.prototype,WebSquare.filter.prototype);WebSquare.funcFilter.prototype.execute=function(_b2,_b3,_b4,_b5){if(typeof this.options.key!=="function"){throw new Error("This key is not a Function.[key:"+this.options.key+"]");}var _b6=[];for(var i=0;i<_b5.length;i++){var row=_b5[i];if(this.options.key(_b2[row*_b4+this.options.colIndex],this.options.param)){_b6.push(row);}}return _b6;};WebSquare.regExpFilter=function(id,_ba){WebSquare.filter.call(this,id);this.options=WebSquare.extend({colIndex:-1,key:"",condition:"and"},_ba||{});this.regExp=this.options.key;};WebSquare.extend(WebSquare.regExpFilter.prototype,WebSquare.filter.prototype);WebSquare.regExpFilter.prototype.execute=function(_bb,_bc,_bd,_be){if(!WebSquare.util.isRegExp(this.regExp)){throw new Error("This key is not a regular expression.[key:"+this.regExp+"]");}var _bf=[];for(var i=0;i<_be.length;i++){var row=_be[i];var _c2=_bb[row*_bd+this.options.colIndex]+"";if(_c2==null){_c2="";}if(_c2.match(this.regExp)){_bf.push(row);}}return _bf;};WebSquare.uiplugin.drilldown=function(_1){this.statusArr=[];this.mainGrid=null;this.options=null;};WebSquare.uiplugin.drilldown.prototype.initialize=function(_2,_3){this.mainGrid=_2;_2.filteredRowIndexArr=[];this.statusArr=[];this.options=WebSquare.extend({showDepth:-1,depthColumn:-1},_3||{});var _4=this.options.depthColumn;for(var _5=0;_5<this.mainGrid.getTotalRow();_5++){this.statusArr[_5]=false;var _6=parseInt(this.mainGrid.dataArr[_5*this.mainGrid.getTotalCol()+_4],10)||0;if(_6<=parseInt(this.options.showDepth,10)){this.mainGrid.filteredRowIndexArr.push(_5);this.statusArr[_5]=true;}}};WebSquare.uiplugin.drilldown.prototype.getDepth=function(_7){var _8=this.mainGrid.filteredRowIndexArr[_7];var _9=parseInt(this.mainGrid.dataArr[_8*this.mainGrid.getTotalCol()+this.options.depthColumn]);return _9;};WebSquare.uiplugin.drilldown.prototype.isOpen=function(_a){var _b=this.mainGrid.filteredRowIndexArr[_a+1];var _c=this.getDepth(_a);var _d=this.getDepth(_a+1);if(!isNaN(_c)&&!isNaN(_d)){if(_c<_d){return true;}else{return false;}}else{return false;}var _e=this.statusArr[originalRowIndex];return _e;};WebSquare.uiplugin.drilldown.prototype.hasChild=function(_f){var _10=this.mainGrid.filteredRowIndexArr[_f];var _11=_10+1;var _12=this.mainGrid.getTotalCol();var _13=parseInt(this.mainGrid.dataArr[_10*_12+this.options.depthColumn]);var _14=parseInt(this.mainGrid.dataArr[_11*_12+this.options.depthColumn]);_14=(isNaN(_14))?0:_14;return (_13<_14);};WebSquare.uiplugin.drilldown.prototype.getOriginalRowIndex=function(_15){return this.openRowIndexArr[_15];};WebSquare.uiplugin.drilldown.prototype.getDisplayRowIndex=function(_16){if(this.mainGrid.filteredRowIndexArr){for(var i=0;i<this.mainGrid.filteredRowIndexArr.length;i++){if(_16==this.mainGrid.filteredRowIndexArr[i]){return i;}}}return _16;};WebSquare.uiplugin.drilldown.prototype.getChildRowArr=function(_18,_19){var _1a=this.mainGrid.filteredRowIndexArr[_18];var _1b=this.getDepth(_18);var _1c=this.mainGrid.getTotalCol();var _1d=[];for(var row=_1a+1;row<this.mainGrid.getTotalRow();row++){var col=this.options.depthColumn;if(this.mainGrid.dataArr[row*_1c+col]==(_1b+1)){_1d.push(row);}if(_19&&this.mainGrid.dataArr[row*_1c+col]>(_1b+1)){_1d.push(row);}if(this.mainGrid.dataArr[row*_1c+col]<=_1b){break;}}return _1d;};WebSquare.uiplugin.drilldown.prototype.getAllChildRowArr=function(_20){var _21=this.mainGrid.filteredRowIndexArr[_20];var _22=this.getDepth(_20);var _23=this.mainGrid.getTotalCol();var _24=[];for(var row=_21+1;row<this.mainGrid.getTotalRow();row++){var col=this.options.depthColumn;if(this.mainGrid.dataArr[row*_23+col]==(_22+1)){_24.push(row);}if(this.mainGrid.dataArr[row*_23+col]<=_22){break;}}return _24;};WebSquare.uiplugin.drilldown.prototype.getChildrenRowArr=function(_27){var _28=[];if(this.mainGrid){var _29=this.mainGrid.getTotalCol();var _2a=this.mainGrid.getTotalRow();var col=this.options.depthColumn;var row=_27+1;var _2d=parseInt(this.mainGrid.dataArr[_27*_29+col]);if(row<_2a&&this.mainGrid.dataArr[row*_29+col]>(_2d)){_28.push(row);var _2e=this.mainGrid.dataArr[row*_29+col];var _2f=true;}if(_2f){for(var row=_27+2;row<_2a;row++){if(this.mainGrid.dataArr[row*_29+col]<(_2d+1)){break;}if(this.mainGrid.dataArr[row*_29+col]<(_2e+1)){_28.push(row);_2e=this.mainGrid.dataArr[row*_29+col];}}}}return _28;};WebSquare.uiplugin.drilldown.prototype.getParentRowIndex=function(_30){var _31=-1;if(this.mainGrid){var _32=this.mainGrid.getTotalCol();var col=this.options.depthColumn;var _34=parseInt(this.mainGrid.dataArr[_30*_32+col]);for(var row=_30-1;row>=0;row--){if(this.mainGrid.dataArr[row*_32+col]<_34){return row;}}}return _31;};WebSquare.uiplugin.drilldown.prototype.makeOpenRowIndexArr=function(){this.mainGrid.filteredRowIndexArr=[];for(var row=0;row<this.statusArr.length;row++){if(this.statusArr[row]==true){this.mainGrid.filteredRowIndexArr.push(row);}}};WebSquare.uiplugin.drilldown.prototype.toggle=function(_37){var _38=this.isOpen(_37);var _39=[];if(_38){_39=this.getChildRowArr(_37,true);}else{_37=this.mainGrid.filteredRowIndexArr[_37];_39=this.getChildrenRowArr(_37);}for(var row=0;row<_39.length;row++){this.statusArr[_39[row]]=(!_38);}this.makeOpenRowIndexArr();};WebSquare.uiplugin.drilldown.prototype.isLastChild=function(_3b){var _3c=this.mainGrid.getTotalCol();var col=this.options.depthColumn;var _3e=this.mainGrid.dataArr[_3b*_3c+col];for(var row=_3b+1;row<this.mainGrid.getTotalRow();row++){if(this.mainGrid.dataArr[row*_3c+col]==_3e){return false;}else{if(this.mainGrid.dataArr[row*_3c+col]<_3e){return true;}}}return true;};requires("uiplugin/grid/layoutController.js");requires("uiplugin/grid/drawInitializer.js");requires("uiplugin/grid/eventController.js");requires("uiplugin/grid/keyEventController.js");requires("uiplugin/grid/dataController.js");requires("uiplugin/grid/mainDrawController.js");requires("uiplugin/grid/drawController.js");requires("uiplugin/grid/cellController.js");requires("uiplugin/grid/xmlDataController.js");requires("uiplugin/grid/headerController.js");requires("uiplugin/grid/focusController.js");requires("uiplugin/grid/subtotalDataController.js");requires("uiplugin/grid/footerController.js");requires("uiplugin/grid/gridApiController.js");requires("uiplugin/grid/styleController.js");requires("uiplugin/control/modelControl.js");requires("uiplugin/control/itemsetControl.js");requires("uiplugin.inputCalendar");requires("uiplugin.selectbox");requires("uiplugin.input");requires("uiplugin.textarea");requires("uiplugin.checkcombobox");requires("uiplugin.autoComplete");requires("uiplugin.scrollView");requires("uiplugin.list");requires("uiplugin.floatingLayer");requires("uiplugin.textbox");requires("uiplugin.group");requires("uiplugin.radio");requires("engine/formatter.js");requires("uiplugin/grid/dataFilter.js");requires("uiplugin/grid/drilldown.js");WebSquare.uiplugin.grid=function(id,_2,_3){["WebSquare.uiplugin.grid"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.grid.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.grid",pluginName:"grid",userEvents:["oncellclick","oncelldblclick","onrightbuttonclick","oncellindexchange","onrowindexchange","oncolumnindexchange","onfilereadend","onscrollend","onbeforeedit","oneditend","onafteredit","onscrolly","onscrollx","onsort","onheaderclick","onheaderrightbuttonclick","onheaderdblclick","onfooterclick","ongroupby","onclick","onkeydown"],rowNumVisible:false,rowNumHeaderValue:"",rowNumBackgroundColor:"",rowStatusVisible:false,rowStatusHeaderValue:"",overflowX:"auto",overflowY:"auto",fixedColumn:0,resize:true,baseNode:"vector",repeatNode:"data/INFO",valueNode:"",focusMode:"cell",selectedCellColor:"#FCA73C",selectedRowColor:"#FCA73C",oddEvenColorDisplay:false,oddRowBackgroundColor:"#EFF7FF",evenRowBackgroundColor:"#FFFFFF",rowMouseOver:false,rowMouseOverColor:"#ffff80",selectedCellOverColor:"",selectedRowOverColor:"",editModeEvent:"ondblclick",keyMoveEditMode:false,enterKeyMove:"down",sortable:false,showSortableImage:false,sortEvent:"ondblclick",tooltipDisplay:false,tooltipDisplayTime:0,tooltipClass:"",tooltipStyle:"",tooltipHide:"click",noResultMessageVisible:false,noResultMessage:"\uc870\ud68c \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",noResultMessageClass:"",noResultMessageStyle:"",readOnly:"",readOnlyPriority:"",readOnlyBackgroundColor:"",readOnlyTabIgnore:false,ignoreNonEditableCell:false,disabledPriority:"",disabledBackgroundColor:"",disabledFontColor:"",summary:"",drawLimitTime:70,drawLimitRow:4,loadCount:0,autoFit:"",autoFitMinWidth:"",autoFitFixYScroll:false,fastScroll:"",lazyDrawHiddenColumn:false,defaultCellHeight:-1,hideHeader:false,dataDragDrop:false,dragDisplayColumn:"",dragStartFunction:"",dragEndFunction:"",headFiller:false,focusMove:"true",focusFlow:"default",scrollMsg:"\ud654\uba74 \uac31\uc2e0 \uc911 \uc785\ub2c8\ub2e4....",visibleRowNum:"",fixHeight:false,fastEditMode:false,iScrollMoveEffectTime:500,iScrollSlideTime:800,iScrollSlidePeriod:100,rollbackCommit:true,numberCasting:false,backgroundColorMode:"lazy",senseReader:false,showLastRow:false,autoScope:false,excelUploadPopupURL:"",advancedExcelUploadPopupURL:"",advancedExcelDownloadPopupURL:"",excelUploadURL:"",excelDownloadURL:"",csvDownloadURL:"",csvUploadPopupURL:"",csvUploadURL:"",advancedExcelUploadURL:"",advancedExcelDownloadURL:"",drilldownRealRowIndex:false,escape:"",fixPrint:false,xmlEncode:false,wheelRows:3,scrollByColumn:false,rowNumWidth:"",rowStatusWidth:"",keepDefaultColumnWidth:false,columnMove:false,columnOrder:"",copyAmount:"",groupbyZone:false,groupbyListVisibleRowNum:10,groupbyZoneMessage:"",groupbyZoneHeight:"100",plainText:false};WebSquare.uiplugin.grid.prototype.initialize=function(_4){["WebSquare.uiplugin.grid.initialize"];this.originalDataArr=[];this.dataArr=[];this.rowStatusArr=[];this.filteredRowIndexArr=[];this.extraData={grid:{},row:[],col:[],cell:[]};this.dataFilter=new WebSquare.uiplugin.dataFilter(this);this.drilldown=new WebSquare.uiplugin.drilldown();if(this.options.focusMove=="false"||this.options.focusMove=="horizontal"){this.options.enterKeyMove="none";}this.date=new Date();this.isDrillDown=false;this.depthColumn="";this.showDepth="";this.removed=false;this.ignoreStatusColArr=[];this.colWidthList=[];this.gridWidth=0;this.resizeStarted=false;this.headerHeight=0;this.footerHeight=0;this.hgap=[];this.autofitColumn=false;this.autofitColumnIndexArr=[];this.autofitColumnWidthArr=[];this.scrollWidthSize=17;this.scrollLayerWidthSize=18;this.hiddenList=[];this.headerFocus=false;this.headerObjArr=[];this.tmpSelectbox=null;this.noevent=false;this.rowIndex=-1;this.lastIndex=-1;this.oelIndex=-1;this.initializeDrawController();this.drawedRowLength=0;this.maxRowLength=0;this.drawSizeChanged=false;this.drawSizeAdded=false;this.isExistTextarea=false;this.bodyHeight=0;this.scrollEvent=true;this.isColMerge=false;this.hasSubtotal=false;this.startRowNumber=0;this.dataRowList=[];this.subtotalRowHash={};this.subtotalDataArr=[];this.subtotalObj=[];this.drawSetTimeoutKey=[];this.overElem=null;this.outElem=null;this.hasFooter=false;this.footerDataObj=null;this.drawFooterStatus=true;this.bScrollTop=-1;this.drawedTime=0;this.defaultColCnt=0;if(this.options.rowNumVisible){this.defaultColCnt++;}if(this.options.rowStatusVisible){this.defaultColCnt++;}this.loadCheck=[];this.beforeDataLength=-1;this.beforeMaxRowLength=-1;this.editEnd=false;this.lastOverSrc=null;this.cellInfoHash={};this.cellInfoHash2={};this.expressionAssArr=[];this.rowStyleValueObj=[];this.columnStyleValueObj=[];this.cellStyleValueObj=[];this.rowStyleIndex=0;this.cellStyleIndex=0;this.rowStyleArr=[];this.columnStyleArr=[];this.cellStyleArr=[];this.rowReadOnlyArr=[];this.cellReadOnlyArr=[];this.rowDisabledArr=[];this.cellDisabledArr=[];this.focusedCell=[];this.focusedRow=[];this.headerToBodyRelation={};this.bodyToHeaderRelation={};this.columnOrder=[];this.isIE6=WebSquare.util.isIE("6");if(document.compatMode=="BackCompat"){this.isIE6=true;}this.isIE7=WebSquare.util.isIE("7");this.isIE6or7=(this.isIE6||this.isIE7);this.isMobile=WebSquare.util.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());this.tmpCnt=0;this.initFlag=false;this.options.rowNumBackgroundColor=this.options.rowNumBackgroundColor.wq_trim();this.options.selectedCellColor=this.options.selectedCellColor.wq_trim();this.options.selectedRowColor=this.options.selectedRowColor.wq_trim();this.options.oddRowBackgroundColor=this.options.oddRowBackgroundColor.wq_trim();this.options.evenRowBackgroundColor=this.options.evenRowBackgroundColor.wq_trim();this.options.rowMouseOverColor=this.options.rowMouseOverColor.wq_trim();this.options.readOnlyBackgroundColor=this.options.readOnlyBackgroundColor.wq_trim();this.options.disabledBackgroundColor=this.options.disabledBackgroundColor.wq_trim();this.options.disabledFontColor=this.options.disabledFontColor.wq_trim();if(this.options.senseReader){this.options.focusFlow="linear";this.options.showLastRow=true;if(this.element&&this.element.getAttribute("autoScope")!="false"){this.options.autoScope=true;}this.senseReaderMode=true;}this.radioGroupRepChk={};this.options.excelUploadPopupURL=this.options.excelUploadPopupURL||WebSquare.baseURI+"uiplugin/grid/upload/fileUpload.html";this.options.advancedExcelUploadPopupURL=this.options.advancedExcelUploadPopupURL||WebSquare.baseURI+"uiplugin/grid/upload/advancedfileUpload.html";this.options.advancedExcelDownloadPopupURL=this.options.advancedExcelDownloadPopupURL||WebSquare.baseURI+"uiplugin/grid/download/advancedfileDownload.html";this.options.excelUploadURL=this.options.excelUploadURL||WebSquare.baseServletURI+"excelToGrid.wq";this.options.excelDownloadURL=this.options.excelDownloadURL||WebSquare.baseServletURI+"xmlToExcel.wq";this.options.csvDownloadURL=this.options.csvDownloadURL||WebSquare.baseServletURI+"xmlToCSV.wq";this.options.csvUploadURL=this.options.csvUploadURL||WebSquare.baseServletURI+"csvToXML.wq";this.options.csvUploadPopupURL=this.options.csvUploadPopupURL||WebSquare.baseServletURI+"uiplugin/grid/upload/csvfileUpload.html";this.options.advancedExcelUploadURL=this.options.advancedExcelUploadURL||WebSquare.baseServletURI+"excelToGrid2.wq";this.options.advancedExcelDownloadURL=this.options.advancedExcelDownloadURL||WebSquare.baseServletURI+"xmlToExcel2.wq";this.groupbyStatus={};this.groupbyZoneStatus={};this.groupbyDisplayOptions={};this.directItemChoiceKeyObj={};};WebSquare.uiplugin.grid.prototype.setAction=function(){["WebSquare.uiplugin.grid.setAction"];try{this.resizeObj={width:this.render.offsetWidth,height:this.render.offsetHeight,scrollLeft:0,scrollTop:0,clientWidth:this.render.clientWidth};this.startedDisplayNone=this.resizeObj.width==0||this.resizeObj.height==0;if(this.startedDisplayNone){this.setRedrawStatus("stop");}var _5=this.getElementById(this.id+"_head_table");var _6=_5.getElementsByTagName("tr");var _7=_6[_6.length-1];var _8=this.getElementById(this.id+"_body_table");this.gridLastTrBottomFix=_8.offsetHeight-_7.offsetTop-_7.offsetHeight;if(this.colWidthList.length==0){this.mainDataGridLayout();}this.setTableLayout();this.initializeEvent();this.setCellInfo();for(var j=0;j<this.oneRowDataLength;j++){var _a=this.cellInfoHash2[this.tdIdList[j]];var _b=new WebSquare.uiplugin.cellInfo(_a,this);if(_b.options.inputType=="textarea"){this.isExistTextarea=true;}if(_b.options.colMerge){this.isColMerge=true;}_b.options.maxlength=_b.options.maxLength;this.cellInfoHash[_b.id]=_b;}if(this.options.columnOrder){this.setColumnOrder(this.options.columnOrder);}if(this.options.groupbyZone){this.groupbyZoneStatus.groupbyZoneRender=this.dom[this.id+"_groupbyZone_div"];var _c=(this.options.groupbyZoneHeight.match("%")!=null)?this.options.groupbyZoneHeight:this.options.groupbyZoneHeight+"px";this.groupbyZoneStatus.groupbyZoneRender.style.height=_c;this.groupbyZoneStatus.groupbyZoneRender.style.width=(this.render.clientWidth-2)+"px";this.dom[this.id+"_main_div"].style.top=this.groupbyZoneStatus.groupbyZoneRender.offsetHeight+"px";if(this.options.groupbyZoneMessage){var _d=document.createElement("div");_d.innerHTML+=this.options.groupbyZoneMessage;_d.className+=" w2grid_groupbyZone_message ";this.groupbyZoneStatus.groupbyZoneRender.appendChild(_d);_d.style.marginTop=-_d.offsetHeight/2+"px";_d.style.marginLeft=-_d.offsetWidth/2+"px";this.groupbyZoneStatus.groupbyZoneMessageRender=_d;}this.getElementById(this.id+"_scrollY_div").style.height=this.getElementById(this.id+"_main_div").offsetHeight+"px";}if(this.options.hideHeader){var _e=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));this.backUpHeadClass=_e[0].className;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.grid.prototype.finalize=function(){try{var _f=self;var cnt=0;while(_f!=_f.parent&&cnt++<10){if(_f.parent["__WebSquare_gridArr__"]){for(var i=0;i<_f.parent["__WebSquare_gridArr__"].length;i++){if(_f.parent["__WebSquare_gridArr__"][i]===this){_f.parent["__WebSquare_gridArr__"][i]=null;}}}_f=_f.parent;}_f=null;this.tempDiv.innerHTML="";this.tempTr.innerHTML="";WebSquare.core.clearTimer(this.id+"_checkResize");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.grid.prototype.setFixedColumn=function(_12){_12=parseInt(_12);_12=isNaN(_12)?0:_12;this.options.fixedColumn=_12;this.arrangeOverflowXScroll();};WebSquare.uiplugin.grid.prototype.setOverflowX=function(_13){};WebSquare.uiplugin.grid.prototype.getOverflowX=function(){return this.options.overflowX;};WebSquare.uiplugin.grid.prototype.getOverflowY=function(){return this.options.overflowY;};WebSquare.uiplugin.grid.prototype.getColumnVisible=function(_14){["WebSquare.uiplugin.grid.prototype.getColumnVisible"];var _14=this.getColumnIndex(_14);var _15=WebSquare.core.getConfiguration("/WebSquare/grid/getColumnVisible/@useRealColIndex");if(WebSquare.util.getBoolean(_15)){for(var i=0;i<this.columnOrder.length;i++){if(this.columnOrder[i]==_14){_14=i;break;}}}return !this.hiddenList[this.defaultColCnt+_14];};WebSquare.uiplugin.grid.prototype.setColumnWidth=function(_17,_18){_17=this.getColumnIndex(_17);if(this.options.autoFit&&!this.hiddenList[_17]){this.autoFitColWidthList=null;this._setAutoFit({exceptCol:this.defaultColCnt+_17,exceptWidth:_18});}else{this._setColumnWidth(this.defaultColCnt+_17,_18);}};WebSquare.uiplugin.grid.prototype.setRowNumColumnWidth=function(_19){if(this.options.rowNumVisible){this._setColumnWidth(0,_19);}};WebSquare.uiplugin.grid.prototype.setRowStatusColumnWidth=function(_1a){var _1b=0;if(this.options.rowNumVisible){_1b=1;}if(this.options.rowStatusVisible){this._setColumnWidth(_1b,_1a);}};WebSquare.uiplugin.grid.prototype.setGridHeight=function(_1c){["WebSquare.uiplugin.grid.prototype.setGridHeight"];var _1d=parseInt(_1c);if(_1d+""==_1c){_1c+="px";}this.setStyle("height",_1c);this.handleResize();};WebSquare.uiplugin.grid.prototype.setGridWidth=function(_1e){["WebSquare.uiplugin.grid.prototype.setGridWidth"];var _1f=parseInt(_1e);if(_1f+""==_1e){_1e+="px";}this.setStyle("width",_1e);this.handlerResize_drawInitializer();};WebSquare.uiplugin.grid.prototype.setGridSize=function(_20,_21){["WebSquare.uiplugin.grid.prototype.setGridSize"];this.setGridWidth(_20);this.setGridHeight(_21);};WebSquare.uiplugin.grid.prototype.setXML=function(_22,_23){["WebSquare.uiplugin.grid.prototype.setXML"];if(_22==null){WebSquare.logger.printLog("[WebSquare.uiplugin.grid.setXML] XML is null");return;}var _24=this.xmlData2ArrData(_22);if(typeof _24=="undefined"){WebSquare.logger.printLog("[WebSquare.uiplugin.grid.setXML] DataArray which converted from XML is undefined.");return;}this.setData(_24,_23);};WebSquare.uiplugin.grid.prototype.setJSON=function(_25,_26){["WebSquare.uiplugin.grid.prototype.setJSON"];if(_25==null){WebSquare.logger.printLog("[WebSquare.uiplugin.grid.setJSON] data is null");return;}var _27=this.jsonData2ArrData(_25);if(typeof _27=="undefined"){WebSquare.logger.printLog("[WebSquare.uiplugin.grid.setJSON] DataArray which converted from JSON is undefined.");return;}this.setData(_27,_26);};WebSquare.uiplugin.grid.prototype.setDataFile=function(arr,_29){["WebSquare.uiplugin.grid.prototype.setDataFile"];arr=this.toArray(arr);var _2a=0;var _2b=[];for(var i=0;i<this.oneRowDataLength;i++){var _2d=this.getCellInfo(i);if(_2d.options.inputType=="expression"){_2b.push(i);}}_2a=arr.length/(this.oneRowDataLength-_2b.length);for(var i=0;i<_2b.length;i++){for(var j=0;j<_2a;j++){var _2f=j*this.oneRowDataLength+parseInt(_2b[i],10);arr.splice(_2f,0,"");}}for(var i=0;i<this.oneRowDataLength;i++){var _2d=this.getCellInfo(i);var _30=_2d.id;var _31=_2d.options.dataType;if(_2d.options.inputType=="select"){var _32=[];for(var j=0;j<_2d.itemArr.length;j++){var _33=_2d.itemArr[j];_32[_33.label]=_33.value;}for(var j=0;j<_2a;j++){var _2f=j*this.oneRowDataLength+i;arr[_2f]=_32[arr[_2f]];}}if(_2d.options.displayFormat!=""){for(var j=0;j<_2a;j++){var _2f=j*this.oneRowDataLength+i;var _34=arr[_2f];var _35=_2d.options.displayFormat;if(_31=="number"){retVal=WebSquare.text.unformatCurrency(_35,_34);}else{if(_31=="date"){retVal=WebSquare.text.unformatDate(_35,_34);}else{if(_31=="time"){retVal=WebSquare.text.unformatTime(_35,_34);}else{retVal=WebSquare.text.unformatText(_35,_34);}}}arr[_2f]=retVal;}}}this.setData(arr,_29);};WebSquare.uiplugin.grid.prototype.setData=function(arr,_37,_38){["WebSquare.uiplugin.grid.prototype.setData"];if(!(arr instanceof Array)){arr=this.toArray(arr);}if(_38){if(!(_38 instanceof Array)){_38=this.toArray(_38);}if(!WebSquare.util.isInteger(arr.length/_38.length)){WebSquare.logger.printLog("[WebSquare.uiplugin.grid.setDataMapping] Inconsistent array. Array length["+arr.length+"] is not a multiple of column length["+_38.length+"].");return;}arr=this.setDataMapping(arr,_38,_37);}if(!WebSquare.util.isInteger(arr.length/this.oneRowDataLength)){WebSquare.logger.printLog("[WebSquare.uiplugin.grid.setData] Inconsistent array. Array length["+arr.length+"] is not a multiple of column length["+this.oneRowDataLength+"].");return;}this.loadCheck=[];this.setGridData(arr,_37);if(!_37){this.removeFocusedCell();}};WebSquare.uiplugin.grid.prototype.setDataMapping=function(_39,_3a,_3b){["WebSquare.uiplugin.grid.prototype.setDataMapping"];var _3c=[];var _3d;var _3e=0;var _3f=this.tdIdList.length;var _40=_3a.length;var _41=_39.length/_40;var _42=[];if(30000<_41){var _43=30000*_40;_42=_39.slice(_43);_39=_39.slice(0,_43);_41=_39.length/_40;}var _44=false;var _45=false;for(var i=0;i<_40;i++){_3d=false;for(var j=0;j<_3f;j++){if(_3a[i]===this.tdIdList[j]){_3d=true;_44=true;_3c.push(j);if(j===_3f-1){_45=true;}break;}}if(!_3d){_3e++;}if(!_3d&&_44&&!_45){_3c.push("*");}}if(_3e===_40){WebSquare.logger.printLog("[WebSquare.uiplugin.grid.setData] not exist all target column in "+this.id);return;}var _48=_3c.length;var _49=new Array(_41*_3f);var _4a,value,remainder;for(var _4b=0;_4b<_41;_4b++){for(curColIdx=0;curColIdx<_3f;curColIdx++){if(curColIdx<_48){_4a=_3c[curColIdx];if(_4a==="*"){continue;}value=_39[curColIdx+(_4b*_40)];}else{remainder=curColIdx%_48;_4a=_3c[remainder];if(_4a==="*"){continue;}value=_39[remainder+(_4b*_40)];}_49[_4b*_3f+_4a]=value;}}_39=null;_3c=null;if(_42.length>0){return _49.concat(this.setDataMapping(_42,_3a,true));}else{return _49;}};WebSquare.uiplugin.grid.prototype.toArray=function(str){if(typeof str!="string"){if(str===null){WebSquare.logger.printLog("[WebSquare.uiplugin.grid.toArray] parameter is null.");}else{WebSquare.logger.printLog("[WebSquare.uiplugin.grid.toArray] parameter isn't string. ["+(typeof str)+"]");}return [];}var re=/^\[\s*\]$/g;if(str.match(re)!=null){return (new Array());}var _4e=str.split("\",\"");_4e[0]=_4e[0].substr(2);_4e[_4e.length-1]=_4e[_4e.length-1].substr(0,((_4e[_4e.length-1]).length-2));return _4e;};WebSquare.uiplugin.grid.prototype.getRowCount=function(){["WebSquare.uiplugin.grid.prototype.getRowCount"];return this.getDataLength();};WebSquare.uiplugin.grid.prototype.setGridReadOnly=function(_4f){["WebSquare.uiplugin.grid.prototype.setGridReadOnly"];try{_4f=WebSquare.util.getBoolean(_4f);this.options.readOnly=_4f;this.notifyDataChanged();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.grid.prototype.getGridReadOnly=function(){["WebSquare.uiplugin.grid.prototype.getGridReadOnly"];try{return this.options.readOnly;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.grid.prototype.initGrid=function(){["WebSquare.uiplugin.grid.prototype.initGrid"];try{this.initFlag=true;this.removeAllFinish=true;if(this.hasFooter){this.initFooterDataObj();}this.initHeaderDataObj();ret=this.removeAll();if(this.isDrillDown==true){this.initDrilldown();}this.removeAllFinish=false;this.clearFilter();this.initColumns();return ret;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.grid.prototype.setInitValue=function(){["WebSquare.uiplugin.grid.setInitValue.initGrid"];try{this.initGrid();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.grid.prototype.setDisplayFormat=function(_50,_51){try{var _52=this.getCellInfo(_50);_52.options.displayFormat=_51;_52.initFormatter();this.drawColumnData(_50);return;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.grid.prototype.setDisplayFormatter=function(_53,_54){["WebSquare.uiplugin.grid.prototype.setDisplayFormatter"];try{var _55=this.getCellInfo(_53);_55.options.displayFormatter=_54;_55.initFormatter();this.drawColumnData(_53);return;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.grid.prototype.setFormat=function(_56,_57){["WebSquare.uiplugin.grid.prototype.setFormat"];try{var _58=this.getCellInfo(_56);if(_57.ioFormat){var _59=_58.options.inputType||"text";var _5a=_58.mainGridId+_58.id;var _5b=this.dom[_5a];if(_5b){_5b.setFormat({ioFormat:_57.ioFormat,displayFormat:_57.ioFormat});}var _5c=WebSquare.format.createFormatter("date",_57.ioFormat,"",_58.options.ioFormat);for(var i=0;i<this.getDataLength();i++){var _5e=this.getCellData(i,_56);var _5f=_5c.format(_5e);this.setCellData(i,_56,_5f);}}_58.options.ioFormat=_57.ioFormat||_58.options.ioFormat;_58.options.displayFormat=_57.displayFormat||_58.options.displayFormat;_58.options.displayFormatter=_57.displayFormatter||_58.options.displayFormatter;_58.initFormatter();this.drawColumnData(_56);return;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.grid.prototype.spanAll=function(_60){["WebSquare.uiplugin.grid.prototype.spanAll"];try{if(typeof _60=="number"){this.showDepth=_60+"";}else{_60=WebSquare.util.getBoolean(_60);if(_60==true){this.showDepth="9999";}else{this.showDepth="1";}}this.initDrilldown();this.rowIndex=-1;this.lastIndex=-1;this.lastTopRowIndex=null;this.drawData(0,0);this.setScrollYHeight({noDraw:true});}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.grid.prototype.readExcelFile=function(_61,_62,_63,_64,_65,_66,_67,_68){["WebSquare.uiplugin.grid.prototype.readExcelFile"];this.readFile(_61,_62,_63,_64,_65,"excel",null,_66,_67,_68);};WebSquare.uiplugin.grid.prototype.readFile=function(_69,_6a,_6b,_6c,_6d,_6e,_6f,_70,_71,_72){["WebSquare.uiplugin.grid.prototype.readExcelFile"];if(typeof _6c=="undefined"||typeof _6c!="string"){_6c=this.options.excelUploadPopupURL;}else{_6c=WebSquare.core.getURL(_6c);}if(typeof _6d=="undefined"||typeof _6d!="string"){_6d="top=280,height=80,left=160,width=400,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";}_69=parseInt(_69,10);_6a=parseInt(_6a,10);_6b=parseInt(_6b,10);if(_69==1){_6c+="?header=true";}else{_6c+="?header=false";}if(_6a==1){_6c+="&append=true";}else{_6c+="&append=false";}if(_70==1){_6c+="&fillHidden=true";}else{_6c+="&fillHidden=false";}if(_6b==1){_6c+="&hidden=true";}else{_6c+="&hidden=false";}_72=_72||0;if(_72==1){_6c+="&type=true";}else{_6c+="&type=false";}if(_6f){_6c+="&"+_6f;}if(_6e=="excel"){_6c+="&action="+this.options.excelUploadURL;}else{_6c+="&action="+this.options.excelUploadURL;}_6c+="&gridID="+this.id;var _73=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){_73.push(i-this.defaultColCnt);}}_6c+="&columnNum="+this.getTotalCol();_6c+="&expressionColumns="+this.getExpressionColumnArr().join(",");_6c+="&hiddenColumns="+_73.join(",");_6c+="&headerRows="+this.getElementById(this.id+"_head_table").rows.length;if(_71){_6c+="&gridStartRow="+_71;}else{_6c+="&gridStartRow=1";}if(WebSquare.domain){_6c+="&domain="+WebSquare.text.URLEncoder(WebSquare.domain);}var _75=window.open(_6c,"fileupWindow",_6d);};WebSquare.uiplugin.grid.prototype.getExpressionColumnArr=function(){var _76=[];for(var i=0;i<this.getTotalCol();i++){if(this.getCellInfo(i).options.inputType=="expression"){_76.push("true");}else{_76.push("false");}}return _76;};WebSquare.uiplugin.grid.prototype.saveExcelFile=function(_78,_79,_7a,_7b,_7c,_7d,_7e){["WebSquare.uiplugin.grid.prototype.saveExcelFile"];var _7f={};_7f.fileName=_78;_7f.hidden=_79;_7f.checkButton=_7a;_7f.type=_7b;_7f.hiddenExpand=_7c;_7f.saveList=_7d;_7f.useEuroLocale=_7e;this.saveExcel(_7f);};WebSquare.uiplugin.grid.prototype.saveExcel=function(_80){["WebSquare.uiplugin.grid.prototype.saveExcel"];var _81=_80.processMsg;if(_81&&_81.length>0){WebSquare.layer.showProcessMessage(_81);}else{WebSquare.layer.showProcessMessage("download...");}var _82=_80.fileName||"default";var _83=_80.hidden||0;var _84=_80.checkButton||0;var _85=_80.type+""||"0";var _86=_80.hiddenExpand||0;var _87=_80.saveList||[];var _88=_80.useEuroLocale||"false";var _89=_80.password||"";var _8a=new WebSquare.collection.Hashtable();var _8b=WebSquare.xml.getElementsByTagName(this.element,"w2:header");var _8c=_8b[0];var _8d=WebSquare.xml.getElementsByTagName(_8c,"w2:column");for(var i=0;i<_8d.length;i++){var col=_8d[i];var _90=col.getAttribute("id");col.setAttribute("value",this.getHeaderValue(_90));}_8a.put("style",WebSquare.xml.serialize(this.element));if(_85=="0"||_85==""){_8a.put("data",this.getExcelAllXML());_8a.put("footer_data",this.getExcelAllFooterXML());}else{if(_85=="2"){var _91=this.getExcelAllXMLRaw();_8a.put("data",_91);_8a.put("footer_data",this.getExcelAllFooterXMLRaw());}else{var _91=this.getExcelAllXMLDisplay();_8a.put("data",_91);_8a.put("footer_data",this.getExcelAllFooterXMLDisplay());}}var _92=[];for(var i=0;i<this.getTotalCol();i++){var _93=this.getCellInfo(i).options.inputType;if(_93=="checkbox"||_93=="radio"||_93=="button"){_92.push("\""+i+"\"");}}_8a.put("hiddenArr",this.getHiddenColumnArr());_8a.put("fileName",_82);_8a.put("hidden",_83);_8a.put("checkButton",_84);_8a.put("type",_85);_8a.put("rowNumVisible",this.options.rowNumVisible+"");_8a.put("rowNumHeaderValue",this.options.rowNumHeaderValue);_8a.put("hiddenExpand",_86);_8a.put("checkButtonArr","<array><![CDATA[["+_92.join(",")+"]]]></array>");if(typeof _87!="undefined"&&_87){_8a.put("saveList","<array><![CDATA[[\""+_87.join("\",\"")+"\"]]]></array>");}_8a.put("useEuroLocale",_88);_8a.put("password",_89);WebSquare.core.excelDownload(this.options.excelDownloadURL,_8a.toString(),"post");};WebSquare.uiplugin.grid.prototype.saveExcelFile2=function(_94,_95,_96,_97,_98,_99){["WebSquare.uiplugin.grid.prototype.saveExcelFile2"];var _9a={};_9a.fileName=_94;_9a.type=_97;if(_95+""=="0"){var _9b=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]){_9b.push(i-this.defaultColCnt);}}_9a.removeColumns=_9b.join(",");}var _9d=[];if(_96+""=="0"){for(var i=0;i<this.getTotalCol();i++){var _9e=this.getCellInfo(i).options.inputType;if(_9e=="checkbox"||_9e=="radio"||_9e=="button"){_9d.push(this.getCellInfo(i).options.colIndex-this.defaultColCnt);}}}for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(_95+""=="1"&&_98+""=="0"&&this.hiddenList[i]==true){_9d.push(i-this.defaultColCnt);}}_9a.foldColumns=_9d.join(",");this.advancedExcelDownload(_9a);};WebSquare.uiplugin.grid.prototype.getHiddenColumnArr=function(){var _9f=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){_9f.push(this.hiddenList[i]);}return "<array><![CDATA[[\""+_9f.join("\",\"")+"\"]]]></array>";};WebSquare.uiplugin.grid.prototype.fireFileReadEnd=function(_a1){var _a2=this;setTimeout(function(){WebSquare.event.fireEvent(_a2,"onfilereadend",_a1);},10);};WebSquare.uiplugin.grid.prototype.readCSV=function(_a3){["WebSquare.uiplugin.grid.prototype.readCSV"];var _a4=_a3.type||"1";var _a5=_a3.delim||",";var _a6=_a3.escapeChar||"";var _a7=_a3.header||"1";var _a8=_a3.footer||"1";var _a9=_a3.startRowIndex||"0";var _aa=_a3.startColumnIndex||"0";var _ab=_a3.append||"0";var _ac=_a3.hidden||"0";var _ad=_a3.fillHidden||"0";var _ae=_a3.skipSpace||"0";var _af=_a3.removeColumns||"";var _b0=_a3.optionParam||"";var _b1=_a3.popupUrl||this.options.csvUploadPopupURL;var _b2=_a3.processMsg||"";if(typeof sFeatures=="undefined"||typeof sFeatures!="string"){sFeatures="top=280,height=127,left=160,width=445,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";}_a7=parseInt(_a7,10);_ab=parseInt(_ab,10);_ac=parseInt(_ac,10);_a4=_a4||0;if(_a4==1){_b1+="?type=true";}else{_b1+="?type=false";}_b1+="&delim="+_a5;_b1+="&escapeChar="+_a6;if(_a7==1){_b1+="&header=true";}else{_b1+="&header=false";}if(_a8==1){_b1+="&footer=true";}else{_b1+="&footer=false";}if(_ab==1){_b1+="&append=true";}else{_b1+="&append=false";}if(_ac==1){_b1+="&hidden=true";}else{_b1+="&hidden=false";}if(_ad==1){_b1+="&fillHidden=true";}else{_b1+="&fillHidden=false";}if(_ae==1){_b1+="&skipSpace=true";}else{_b1+="&skipSpace=false";}_b1+="&removeColumns="+_af;if(_b0){_b1+="&"+_b0;}_b1+="&gridID="+this.id;var _b3=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){_b3.push(i-this.defaultColCnt);}}_b1+="&columnNum="+this.getTotalCol();_b1+="&expressionColumns="+this.getExpressionColumnArr().join(",");_b1+="&hiddenColumns="+_b3.join(",");_b1+="&headerRows="+this.getElementById(this.id+"_head_table").rows.length;if(_a9){_b1+="&gridStartRow="+_a9;}else{_b1+="&gridStartRow=1";}if(_aa){_b1+="&gridStartCol="+_aa;}else{_b1+="&gridStartCol=1";}if(WebSquare.domain){_b1+="&domain="+WebSquare.text.URLEncoder(WebSquare.domain);}_b1+="&action="+this.options.csvUploadURL;_b1+="&processMsg="+WebSquare.text.BASE64URLEncoder(_b2);var _b5=window.open(_b1,"csvupWindow",sFeatures);};WebSquare.uiplugin.grid.prototype.saveCSVFile=function(_b6,_b7,_b8,_b9,_ba,_bb,_bc,_bd,_be){["WebSquare.uiplugin.grid.prototype.saveCSVFile"];WebSquare.layer.showProcessMessage("download...");_bc+="";var _bf=new WebSquare.collection.Hashtable();_bf.put("style",WebSquare.xml.serialize(this.element));if(_bc=="0"||_bc==""){_bf.put("data",this.getExcelAllXML());_bf.put("footer_data",this.getExcelAllFooterXML());}else{_bf.put("data",this.getExcelAllXMLDisplay());_bf.put("footer_data",this.getExcelAllFooterXMLDisplay());}var _c0=[];for(var i=0;i<this.getTotalCol();i++){var _c2=this.getCellInfo(i).options.inputType;if(_c2=="checkbox"||_c2=="radio"||_c2=="button"){_c0.push("\""+i+"\"");}}var _c3=_be||"";_c3="\""+_c3.wq_replaceAll(",","\",\"")+"\"";_bf.put("hiddenArr",this.getHiddenColumnArr());_bf.put("fileName",_b6);_bf.put("hidden",_b9);_bf.put("checkButton","1");_bf.put("type",_bc);_bf.put("rowNumVisible",this.options.rowNumVisible);_bf.put("rowNumHeaderValue",this.options.rowNumHeaderValue);_bf.put("removeQuotation",_bb);_bf.put("delim",_b7);_bf.put("header",_b8);_bf.put("checkButtonArr","<array><![CDATA[["+_c0.join(",")+"]]]></array>");if(typeof _bd!="undefined"&&_bd){_bf.put("saveList","<array><![CDATA[[\""+_bd.join("\",\"")+"\"]]]></array>");}_bf.put("removeColumns","<array><![CDATA[["+_c3+"]]]></array>");WebSquare.core.excelDownload(this.options.csvDownloadURL,_bf.toString(),"post");};WebSquare.uiplugin.grid.prototype.advancedExcelUpload=function(_c4){["WebSquare.uiplugin.grid.prototype.readExcelFile"];var _c5=_c4.fileName||"";var _c6=_c4.type||"0";var _c7="excel";var _c8=_c4.removeColumns||"";var _c9=_c4.foldColumns||"";var _ca=_c4.startRowIndex||"0";var _cb=_c4.startColumnIndex||"0";var _cc=_c4.endColumnIndex||"-1";var _cd=_c4.sheetNo||"0";var _ce=_c4.headerExist||"0";if(_c4.footerExist===0){_c4.footerExist="0";}var _cf=_c4.footerExist||"1";var _d0=_c4.append||"0";var _d1=_c4.hidden||"0";var _d2=_c4.fillHidden||"0";var _d3=_c4.popupUrl||this.options.advancedExcelUploadPopupURL;var _d4=_c4.optionParam||"";var _d5=_c4.skipSpace||"0";var _d6=_c4.insertColumns||[];var _d7=_c4.processMsg||"";var _d8="";var sep="";for(var i=0;i<_d6.length;i++){var _db=_d6[i];var _dc=_db.columnIndex+""||"";var _dd=_db.columnValue+""||"";if(_dc!=""&&_dd!=""){_d8=_d8+sep+_dc+","+_dd;sep="|";}}if(typeof sFeatures=="undefined"||typeof sFeatures!="string"){sFeatures="top=280,height=127,left=160,width=445,location=no,menubar=no,resizable=yes,scrollbars=auto,status=no,titlebar=yes,toolbar=no";}_ce=parseInt(_ce,10);_d0=parseInt(_d0,10);_d1=parseInt(_d1,10);_cf=parseInt(_cf,10);if(_ce==1){_d3+="?header=true";}else{_d3+="?header=false";}if(_cf==1){_d3+="&footer=true";}else{_d3+="&footer=false";}if(_d0==1){_d3+="&append=true";}else{_d3+="&append=false";}_d3+="&removeColumns="+_c8;if(_d2==1){_d3+="&fillHidden=true";}else{_d3+="&fillHidden=false";}if(_d1==1){_d3+="&hidden=true";}else{_d3+="&hidden=false";}_c6=_c6||0;if(_c6==1){_d3+="&type=true";}else{_d3+="&type=false";}if(_d5==1){_d3+="&skipSpace=true";}else{_d3+="&skipSpace=false";}_d3+="&insertColumns="+_d8;if(_d4){_d3+="&"+_d4;}if(_c7=="excel"){_d3+="&action="+this.options.advancedExcelUploadURL;}else{_d3+="&action="+this.options.advancedExcelUploadURL;}_d3+="&gridID="+this.id;var _de=[];for(var i=this.defaultColCnt;i<this.hiddenList.length;i++){if(this.hiddenList[i]==true){_de.push(i-this.defaultColCnt);}}_d3+="&columnNum="+this.getTotalCol();_d3+="&expressionColumns="+this.getExpressionColumnArr().join(",");_d3+="&hiddenColumns="+_de.join(",");_d3+="&headerRows="+this.getElementById(this.id+"_head_table").rows.length;if(_ca){_d3+="&gridStartRow="+_ca;}else{_d3+="&gridStartRow=1";}if(_cb){_d3+="&gridStartCol="+_cb;}else{_d3+="&gridStartCol=1";}_d3+="&gridEndCol="+_cc;if(_cd){_d3+="&gridSheetNo="+_cd;}else{_d3+="&gridSheetNo=0";}if(WebSquare.domain){_d3+="&domain="+WebSquare.text.URLEncoder(WebSquare.domain);}_d3+="&processMsg="+WebSquare.text.BASE64URLEncoder(_d7);var _df=window.open(_d3,"fileupWindow",sFeatures);};WebSquare.uiplugin.grid.prototype.advancedExcelDownload=function(_e0,_e1){["WebSquare.uiplugin.grid.prototype.advancedExcelDownload"];try{var _e2=100;var _e3=parseInt(_e0.rowsByN);_e0.rowsByN=_e3>_e2?_e3:_e2;_e0.dataLength=this.getDataLength();switch(_e0.type+""){case "":case "0":_e0.type=0;break;case "2":_e0.type=2;break;default:_e0.type=1;}if(_e0.type===0||_e0.type===1){if(_e0.showProcess===false){WebSquare.getBody().showModal("w2modal_gridDownload");}else{if(_e0.showConfirm===true){_e0.massStorage=true;window["downloadGridId"]=this.id;WebSquare.getBody().showModal();this.showSendExcelLayer();}else{WebSquare.layer.showProcessMessage("composing excel data...");}}_e0.cellInfo=[];_e0.isPlainDataCol=[];_e0.isSelectCol=[];_e0.isBasicCol=[];_e0.isExpCol=[];var _e4=this.oneRowDataLength;for(var i=0;i<_e4;i++){var _e6=this.getCellInfo(i);var _e7=_e6.options.inputType;_e0.cellInfo[i]=_e6;_e0.isPlainDataCol[i]=_e7==="checkbox"||_e7==="image"||_e7==="radio"||_e7==="autofinder";_e0.isSelectCol[i]=_e7==="select";_e0.isExpCol[i]=_e7==="expression";_e0.isBasicCol[i]=!_e0.isPlainDataCol[i]&&!_e0.isSelectCol[i]&&!_e0.isExpCol[i];}}var _e8=this;var _e9=0;var _ea=[];this.makeExcelData(_e9,_ea,_e0,_e1);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.grid.prototype.showSendExcelLayer=function(){if(typeof window["gridExceldownloadIframe"]!="undefined"){window["gridExceldownloadIframe"].style.visibility="hidden";window["gridExceldownloadIframe"].style.display="block";var _eb=WebSquare.document.documentElement.scrollTop+WebSquare.document.documentElement.clientHeight/2-parseInt(window["gridExceldownloadIframe"].offsetHeight)/2;var _ec=WebSquare.document.documentElement.scrollLeft+WebSquare.document.documentElement.clientWidth/2-parseInt(window["gridExceldownloadIframe"].offsetWidth)/2;window["gridExceldownloadIframe"].style.left=_ec+"px";window["gridExceldownloadIframe"].style.top=_eb+"px";window["gridExceldownloadIframe"].style.visibility="visible";window["gridExceldownloadIframe"].contentWindow.initialize();}else{window["gridExceldownloadIframe"]=WebSquare.document.createElement("iframe");window["gridExceldownloadIframe"].style.visibility="hidden";window["gridExceldownloadIframe"].setAttribute("id","gridDownLoadLayer");window["gridExceldownloadIframe"].setAttribute("src",this.options.advancedExcelDownloadPopupURL);window["gridExceldownloadIframe"].setAttribute("frameBorder","0");window["gridExceldownloadIframe"].className="w2grid_downloadIframe";WebSquare.document.body.appendChild(window["gridExceldownloadIframe"]);var _eb=WebSquare.document.documentElement.scrollTop+WebSquare.document.documentElement.clientHeight/2-parseInt(window["gridExceldownloadIframe"].offsetHeight)/2;var _ec=WebSquare.document.documentElement.scrollLeft+WebSquare.document.documentElement.clientWidth/2-parseInt(window["gridExceldownloadIframe"].offsetWidth)/2;window["gridExceldownloadIframe"].style.left=_ec+"px";window["gridExceldownloadIframe"].style.top=_eb+"px";window["gridExceldownloadIframe"].style.position="absolute";window["gridExceldownloadIframe"].style.visibility="visible";}};WebSquare.uiplugin.dataController.prototype.checkUpload=function(){var _ed=this;setTimeout(function(){if(_ed.downloadInit==true){window["gridExceldownloadIframe"].contentWindow.checkUpload("end");}else{_ed.checkUpload();}},10);};WebSquare.uiplugin.grid.prototype.sendExcelData=function(_ee,_ef,_f0){if(_ee.showProcess===false){}else{WebSquare.layer.showProcessMessage("download...");}var _f1=_ee.fileName||"excel";var _f2=_ee.sheetName||"sheet";var _f3=_ee.type||"0";var _f4=_ee.removeColumns||"";var _f5=_ee.removeHeaderRows||"";var _f6=_ee.foldColumns||"";var _f7=_ee.startRowIndex||"0";var _f8=_ee.startColumnIndex||"0";var _f9=_ee.headerColor||"";var _fa=_ee.headerFontName||"";var _fb=_ee.headerFontSize||"";var _fc=_ee.headerFontColor||"";var _fd=_ee.bodyColor||"";var _fe=_ee.bodyFontName||"";var _ff=_ee.bodyFontSize||"";var _100=_ee.bodyFontColor||"";var _101=_ee.footerColor||"";var _102=_ee.footerFontName||"";var _103=_ee.footerFontSize||"";var _104=_ee.footerFontColor||"";var _105=_ee.subTotalColor||"";var _106=_ee.subTotalFontName||"";var _107=_ee.subTotalFontSize||"";var _108=_ee.subTotalFontColor||"";var _109=_ee.dataProvider||"";var _10a=_ee.providerRequestXml||"";var _10b=_ee.userDataXml||"";var _10c=_ee.bodyWordwrap||"";var _10d=_ee.useEuroLocale||"false";var _10e=_ee.useHeader||"true";var _10f=_ee.useSubTotal||"false";var _110=_ee.useFooter||"true";_ee.printSet=_ee.printSet||{};var _111=_ee.printSet.fitToPage||"false";var _112=_ee.printSet.landScape||"false";var _113=_ee.printSet.fitWidth||"1";var _114=_ee.printSet.fitHeight||"1";var _115=_ee.printSet.scale||"100";var _116=_ee.separator||",";var _117=_ee.subTotalScale||-1;var _118=_ee.subTotalRoundingMode||"";var _119=((_ee.useStyle+"")=="true")?true:false;var _11a=_ee.freezePane||"";var _11b=_ee.autoSizeColumn||"false";var _11c=_ee.displayGridlines||"";var _11d=_ee.colMerge||"false";var _11e=_ee.useDataFormat||"false";var _11f=((_ee.useSubTotalData+"")=="true")?true:false;var _120=((_ee.columnMove+"")=="true")?true:false;var _121="";if(_120){_121=this.getColumnOrder()||"";}var _122=[];if(_f4!=""){var _123=_f4.split(",");if(_120){for(var i=0;i<_123.length;i++){for(var j=0;j<_121.length;j++){if(_123[i]==_121[j]){_122.push(j);}}}}else{_122=_123;}_122.sort(function(a,b){return ((a*1)-(b*1));});_f4=_122.join(",");}var hash=new WebSquare.collection.Hashtable();var _129=this.element;var _12a=WebSquare.xml.getElementsByTagName(this.element,"w2:header");var _12b=_12a[0];var _12c=WebSquare.xml.getElementsByTagName(_12b,"w2:column");for(var i=0;i<_12c.length;i++){var col=_12c[i];var _12e=col.getAttribute("id");col.setAttribute("value",this.getHeaderValue(_12e));}hash.put("style",WebSquare.xml.serialize(this.element));hash.put("data",_f0);if(this.resizeObj.width==0||this.resizeObj.height==0){this.drawFooter();}hash.put("groupby",this.groupbyStatus.grouped);if(_ee.groupby&&this.groupbyStatus.grouped){hash.key.push("groupbyStyle");hash.data.push(this.getExcelGroupbyStyle());hash.dataType.push("Document");hash.put("groupbyHeaderValue",this.getExcelGroupbyHeaderValue());hash.put("groupbyFooterValue",this.getExcelGroupbyFooterValue());hash.put("groupbyStatusValue",this.getExcelGroupbyStatusValue());hash.put("groupbyStyleData",this.getExcelGroupbyStyleData());hash.put("rowNumVisible",this.options.rowNumVisible);hash.put("rowStatusVisible",this.options.rowStatusVisible);}if(_f3==0){hash.put("footer_data",this.getExcelAllFooterXML(_116));}else{if(_f3==1){hash.put("footer_data",this.getExcelAllFooterXMLDisplay(_116));}else{hash.put("footer_data",this.getExcelAllFooterXMLRaw(_116));}}hash.put("fileName",_f1);hash.put("sheetName",_f2);hash.put("stRowIndex",_f7);hash.put("stColIndex",_f8);hash.put("removeColumns",_f4);hash.put("removeHeaderRows",_f5);hash.put("foldColumns",_f6);hash.put("headerColor",_f9);hash.put("headerFontName",_fa);hash.put("headerFontSize",_fb);hash.put("headerFontColor",_fc);hash.put("bodyColor",_fd);hash.put("bodyFontName",_fe);hash.put("bodyFontSize",_ff);hash.put("bodyFontColor",_100);hash.put("footerColor",_101);hash.put("footerFontName",_102);hash.put("footerFontSize",_103);hash.put("footerFontColor",_104);hash.put("subTotalColor",_105);hash.put("subTotalFontName",_106);hash.put("subTotalFontSize",_107);hash.put("subTotalFontColor",_108);hash.put("dataProvider",_109);hash.put("providerRequestXml",_10a);hash.put("userDataXml",_10b);hash.put("bodyWordwrap",_10c);hash.put("useEuroLocale",_10d);hash.put("useHeader",_10e);hash.put("useSubTotal",_10f);hash.put("useFooter",_110);hash.put("fitToPage",_111);hash.put("landScape",_112);hash.put("fitWidth",_113);hash.put("fitHeight",_114);hash.put("scale",_115);hash.put("separator",_116);hash.put("subTotalScale",_117);hash.put("subTotalRoundingMode",_118);hash.put("useStyle",_119);hash.put("freezePane",_11a);hash.put("autoSizeColumn",_11b);hash.put("displayGridlines",_11c);hash.put("colMerge",_11d);hash.put("useDataFormat",_11e);hash.put("useSubTotalData",_11f);hash.put("columnMove",_120);hash.put("columnOrder",_121);if(_119){hash.put("styleData","<array><![CDATA[["+this._getExcelStyle()+"]]]></array>");}if(_11f){hash.put("subtotalData","<array><![CDATA[["+this._getExcelSubtotalData(_116)+"]]]></array>");}var _12f=new WebSquare.collection.Vector();if(_ef==null||typeof _ef=="undefined"){_ef=[];}for(var i=0;i<_ef.length;i++){var obj=_ef[i];var _131=new WebSquare.collection.Hashtable();for(var prop in obj){_131.put(prop,obj[prop]);}_12f.addElement(_131);}hash.put("information",_12f);var _133=new WebSquare.collection.Vector();_133.addElement(hash);WebSquare.core.excelDownload(this.options.advancedExcelDownloadURL,_133.toString(),"post");this.xmlData=null;if(_ee.showProcess===false){WebSquare.getBody().hideModal();}else{if(_ee.showConfirm===true){this.hideDownloadLayer();}}};WebSquare.uiplugin.grid.prototype.cancleDownload=function(){clearTimeout(this.excelTime);this.hideDownloadLayer();};WebSquare.uiplugin.grid.prototype.hideDownloadLayer=function(){window["gridExceldownloadIframe"].style.display="none";this.excelOptions=null;this.excelInfoArr=null;this.excelFinalStr=null;window["downloadGridId"]=null;WebSquare.getBody().hideModal();};WebSquare.uiplugin.grid.prototype.saveBigExcelFile=function(_134,_135,_136){["WebSquare.uiplugin.grid.prototype.saveBigExcelFile"];if(_136){_134.rowsByN=_136;}_134.massStorage=true;this.advancedExcelDownload(_134,_135);};WebSquare.uiplugin.grid.prototype._getExcelStyle=function(){var _137={};var _138={};var _139={};var _13a={};for(var i in this.columnStyleValueObj){var _13c={};for(var j in this.columnStyleValueObj[i]){if(j!="style"){_13c[j]=this.columnStyleValueObj[i][j];}}var _13e=this.getCellInfo(parseInt(i,10));if(_13e&&_13e.options.textAlign){_13c["text-align"]=_13e.options.textAlign;}_137[i]=_13c;}for(var i=0;i<this.rowStyleArr.length;i++){if(this.rowStyleArr[i]){var _13c={};for(var j in this.rowStyleValueObj[this.rowStyleArr[i]]){if(j!="style"){_13c[j]=this.rowStyleValueObj[this.rowStyleArr[i]][j];}}_138[i]=_13c;}}for(var i=0;i<this.cellStyleArr.length;i++){if(this.cellStyleArr[i]){var _13c={};var _13f=parseInt(i/this.oneRowDataLength,10);var _140=i%this.oneRowDataLength;for(var j in this.cellStyleValueObj[this.cellStyleArr[i]]){if(j!="style"){_13c[j]=this.cellStyleValueObj[this.cellStyleArr[i]][j];}}_139[_13f+","+_140]=_13c;}}var _141=this.getDomList("head_tds","th",this.getElementById(this.id+"_head_table"));for(var i=this.defaultColCnt;i<_141.length;i++){_13a[_141[i].getAttribute("header_id")]=_141[i].style.cssText;}var _142=JSON.stringify({row:_138,col:_137,cell:_139,header:_13a});return _142;};WebSquare.uiplugin.grid.prototype._getExcelSubtotalData=function(_143){if(!_143){_143=",";}var _144=[];_144.push("\"");var len=this.getDataLength();for(var i=0;i<this.filteredRowIndexArr.length;i++){var _147=i;var _148=this.filteredRowIndexArr[_147];if(typeof _148=="number"){for(var _149 in this.subtotalTableList){var _14a=this.getCellData(_147,_149);var _14b=_14a+"_12";if(_147<len-1){var _14b=this.getCellData(_147+1,_149);}if(_14a!=_14b){var _14c=this.subtotalTableList[_149];var _14d=this.subtotalDataArr[_149+"_"+_14a];if(_14d==null){_14d=this.getSubtotalData(_14c,_149,_14a,_147);}var _14e="";var _14f=_14c.getElementsByTagName("td");for(var j=0;j<_14f.length;j++){var _151=_14f[j];var _152=_151.getAttribute("id");if(_152!="_headerRowNumber"&&_152!="_headerRowStatus"){if(_14d[_152]!=null){_14e=_14d[_152];}else{if(_151.getAttribute("colMerge")=="true"){_14e="";}else{var _14e=_151.getAttribute("value");_14e=_14e!=null?_14e:"";}}_144.push(_14e);_144.push("\""+_143+"\"");}}}}}}_144[_144.length-1]="\"";return _144.join("");};WebSquare.uiplugin.grid.prototype.getExcelGroupbyStyle=function(){["WebSquare.uiplugin.grid.prototype.getExcelGroupbyStyle"];try{if(this.groupbyStatus.grouped){var _153={"rowNumHeader":{type:"H",index:2},"rowNumFooter":{type:"F",index:2},"rowStatusHeader":{type:"H",index:3},"rowStatusFooter":{type:"F",index:3},"groupbyHeader":{type:"H",index:-1},"groupbyFooter":{type:"F",index:-1}};var _154=4;var _155=4;var _156=false;var _157=false;var _158=[];var _159=[];var _15a=[];var _15b={};_158.push("<w2:groupby>");_159.push("<w2:groupbyHeader>");_15a.push("<w2:groupbyFooter>");_159.push("<w2:row>");_15a.push("<w2:row>");var _15c=this.defaultColCnt+this.getColCnt();var _15d=0;var _15e=0;if(this.options.rowNumVisible){if(this.groupbyDisplayOptions.rowNumHeader){if(!this.groupbyDisplayOptions.rowNumHeader.hidden){_15e+=parseInt(this.groupbyDisplayOptions.rowNumHeader.colSpan,10)||1;if(_15e<=_15c){_15b.rowNumHeader=this.groupbyDisplayOptions.rowNumHeader;}}}if(this.groupbyDisplayOptions.rowNumFooter){if(!this.groupbyDisplayOptions.rowNumFooter.hidden){_15d+=parseInt(this.groupbyDisplayOptions.rowNumFooter.colSpan,10)||1;if(_15d<=_15c){_15b.rowNumFooter=this.groupbyDisplayOptions.rowNumFooter;}}}}if(this.options.rowStatusVisible){if(this.groupbyDisplayOptions.rowStatusHeader){if(!this.groupbyDisplayOptions.rowStatusHeader.hidden){_15e+=parseInt(this.groupbyDisplayOptions.rowStatusHeader.colSpan,10)||1;if(_15e<=_15c){_15b.rowStatusHeader=this.groupbyDisplayOptions.rowStatusHeader;}}}if(this.groupbyDisplayOptions.rowStatusFooter){if(!this.groupbyDisplayOptions.rowStatusFooter.hidden){_15d+=parseInt(this.groupbyDisplayOptions.rowStatusFooter.colSpan,10)||1;if(_15d<=_15c){_15b.rowStatusFooter=this.groupbyDisplayOptions.rowStatusFooter;}}}}_15b.groupbyHeader=[];_15b.groupbyFooter=[];var _15f=this.groupbyDisplayOptions.groupbyHeader;for(var i=0;i<_15f.length;i++){if(!_15f[i].hidden){_15e+=parseInt(_15f[i].colSpan,10)||1;if(_15e<=_15c){_15b.groupbyHeader[i]=_15f[i];}else{break;}}}var _161=this.groupbyDisplayOptions.groupbyFooter;for(var i=0;i<_161.length;i++){if(!_161[i].hidden){_15d+=parseInt(_161[i].colSpan,10)||1;if(_15d<=_15c){_15b.groupbyFooter[i]=_161[i];}else{break;}}}if(_154<_15c){var _162=_15c-_15e;for(var i=0;i<_162;i++){_15b.groupbyHeader.push({temp:true});}}if(_155<_15c){var _162=_15c-_15d;for(var i=0;i<_162;i++){_15b.groupbyFooter.push({temp:true});}}this.groupbyStatus.excelDisplayOptions=_15b;for(var key in _15b){var info;var _165=[];switch(key){case "rowNumHeader":case "rowNumFooter":case "rowStatusHeader":case "rowStatusFooter":_165.push("<w2:column");var _166=_15b[key];var _167=false;for(var _168 in _166){if(_168!="align"&&_168!="hidden"&&_168!="colSpan"){continue;}if(_168=="hidden"){_167=true;break;}_165.push(" "+_168+"=\""+_166[_168]+"\"");if(key=="rowNumHeader"||key=="rowNumFooter"){if(_168.toLowerCase()=="colspan"){if(_166[_168]>=this.defaultColCnt+this.getColCnt()){if(key=="rowNumHeader"){_156=true;}else{_157=true;}}}}}if(_167){break;}if(key=="rowStatusHeader"&&_156){break;}else{if(key=="rowStatusFooter"&&_157){break;}}if(key.match("rowNum")){_165.push(" type=\"rowNum\"");}else{if(key.match("rowStatus")){_165.push(" type=\"rowStatus\"");}}_165.push("/>");info=_153[key];break;case "groupbyHeader":case "groupbyFooter":var _167=false;var _169=[];var _16a=_15b[key];if(_16a.length>0){for(var i=0;i<_16a.length;i++){var _16b=[];_16b.push("<w2:column");for(var _168 in _16a[i]){if(_168!="align"&&_168!="hidden"&&_168!="colSpan"){continue;}if(_168=="hidden"){_16b.pop();break;}_16b.push(" "+_168+"=\""+_16a[i][_168]+"\"");}_16b.push("/>");_165.push(_16b.join(""));}}info=_153[key];break;}if(info){if(info.type=="H"){if(info.index==-1){_159[_154]=_165.join("");_154++;}else{_159[info.index]=_165.join("");}}else{if(info.type=="F"){if(info.index==-1){_15a[_155]=_165.join("");_155++;}else{_15a[info.index]=_165.join("");}}}}info=null;}_159.push("</w2:row>");_15a.push("</w2:row>");_159.push("</w2:groupbyHeader>");_15a.push("</w2:groupbyFooter>");_158.push(_159.join(""));_158.push(_15a.join(""));_158.push("</w2:groupby>");return _158.join("");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.grid.prototype.getExcelGroupbyHeaderValue=function(){this.groupbyStatus.headerValueObj={};this.getAllGroupbyHeaderValueObj();var _16c=[];_16c.push("<array><![CDATA[");_16c.push("[");for(var i=0;i<this.filteredRowIndexArr.length;i++){var _16e=this.filteredRowIndexArr[i];if(_16e.type=="header"){var _16f=this.groupbyStatus.headerValueObj[_16e.groupId];for(var j=0;j<_16f.length;j++){if(_16f[j]!=undefined){_16c.push("\""+_16f[j]+"\"");if(j<_16f.length-1){_16c.push(",");}}}if(_16f.length>0){_16c.push(",");}}}_16c.pop();_16c.push("]");_16c.push("]]></array>");return _16c.join("");};WebSquare.uiplugin.grid.prototype.getExcelGroupbyFooterValue=function(){this.groupbyStatus.footerValueObj={};this.getAllGroupbyFooterValueObj();var _171=[];_171.push("<array><![CDATA[");_171.push("[");for(var i=0;i<this.filteredRowIndexArr.length;i++){var _173=this.filteredRowIndexArr[i];if(_173.type=="footer"){var _174=this.groupbyStatus.footerValueObj[_173.groupId];for(var j=0;j<_174.length;j++){if(_174[j]!=undefined){_171.push("\""+_174[j]+"\"");if(j<_174.length-1){_171.push(",");}}}if(_174.length>0){_171.push(",");}}}_171.pop();_171.push("]");_171.push("]]></array>");return _171.join("");};WebSquare.uiplugin.grid.prototype.getExcelGroupbyStatusValue=function(){var _176=[];_176.push("<array><![CDATA[");_176.push("[");for(var i=0;i<this.filteredRowIndexArr.length;i++){var row=this.filteredRowIndexArr[i];if(typeof row=="number"){_176.push("\"0B\"");}else{switch(row.type){case "header":var _179="\""+row.depth+"H\"";break;case "footer":var _179="\""+row.depth+"F\"";break;default:break;}_176.push(_179);}if(i<this.filteredRowIndexArr.length-1){_176.push(",");}}_176.push("]");_176.push("]]></array>");return _176.join("");};WebSquare.uiplugin.grid.prototype.getExcelGroupbyStyleData=function(){var _17a=this.getElementById(this.id+"_body_tbody").childNodes;var _17b=[];_17b.push("<array><![CDATA[");_17b.push("[");for(var i=0;i<this.filteredRowIndexArr.length;i++){var row=this.filteredRowIndexArr[i];if(typeof row!="number"){var _17e=_17a[row.index];if(!_17b[row.depth+2]){var _17f="\"";if(i!=0){_17f=",\"";}var _180;for(var key in this.groupbyStatus.excelDisplayOptions){var _182=false;switch(key){case "rowNumHeader":_182=true;_180=0;break;case "rowStatusHeader":_182=true;_180=this.defaultColCnt-1;break;case "groupbyHeader":_182=true;_180=this.defaultColCnt;break;}if(_182){break;}}var _183=_17e.getElementsByTagName("TD")[_180];_17f+="background-color:"+WebSquare.style.getStyle(_183,"background-color")+";";_17f+="font-size:"+WebSquare.style.getStyle(_183,"font-size")+";";_17f+="color:"+WebSquare.style.getStyle(_183,"color")+";";_17f+="font-weight:"+WebSquare.style.getStyle(_183,"font-weight")+";";_17f+="font-family:"+WebSquare.style.getStyle(_183,"font-family")+";";_17f+="\"";_17b[row.depth+2]=_17f;}}}_17b.push("]");_17b.push("]]></array>");return _17b.join("");};WebSquare.uiplugin.grid.prototype.getAllGroupbyHeaderValueObj=function(){for(var i=0;i<this.filteredRowIndexArr.length;i++){if(typeof this.filteredRowIndexArr[i]!="number"){var _185=this.filteredRowIndexArr[i];var _186=0;if(this.options.rowNumVisible){this.setGroupbyData(_185,_186,this.groupbyStatus.excelDisplayOptions.rowNumHeader);_186++;}if(this.options.rowStatusVisible){this.setGroupbyData(_185,_186,this.groupbyStatus.excelDisplayOptions.rowStatusHeader);_186++;}for(var j=0;j<this.getColCnt();j++){this.setGroupbyData(_185,_186,this.groupbyStatus.excelDisplayOptions.groupbyHeader[j]);_186++;}}}};WebSquare.uiplugin.grid.prototype.getAllGroupbyFooterValueObj=function(){for(var i=0;i<this.filteredRowIndexArr.length;i++){if(typeof this.filteredRowIndexArr[i]!="number"){var _189=this.filteredRowIndexArr[i];var _18a=0;if(this.options.rowNumVisible){this.setGroupbyData(_189,_18a,this.groupbyStatus.excelDisplayOptions.rowNumFooter);_18a++;}if(this.options.rowStatusVisible){this.setGroupbyData(_189,_18a,this.groupbyStatus.excelDisplayOptions.rowStatusFooter);_18a++;}for(var j=0;j<this.getColCnt();j++){this.setGroupbyData(_189,_18a,this.groupbyStatus.excelDisplayOptions.groupbyFooter[j]);_18a++;}}}};WebSquare.uiplugin.grid.prototype.setGroupbyData=function(_18c,_18d,_18e){_18e=_18e||{};var _18f=_18e.value||"";var _190=_18e.inputType||"";var _191=_18e.depthVisible||false;var _192=_18e.align||"";var _193=_18e.expression||"";var _194=_18e.colSpan||1;var _195=_18e.hidden?"none":"";var _196=_18e.displayFormatType||"text";var _197=_18e.displayFormat||"";var _198=_18e.displayFormatter||null;var _199;var _19a;if(_190){if(_197||_198){_199=new WebSquare.format.createFormatter(_196,_197,_198);}switch(_190){case "toggleButton":_19a=_18c.status=="open"?"-":"+";break;case "expression":if(_193){var _19b=this.groupbyInfo[_18c.groupId].header;var _19c=0;if(_19b.status=="open"){var _19d;for(var i=_19b.index;i<this.filteredRowIndexArr.length;i++){var _19f=this.filteredRowIndexArr[i];if(_19f.type=="footer"&&_19f.depth==_19b.depth){_19d=_19f.index;break;}}_19c=this.groupExpression(this.filteredRowIndexArr,_19b.index,_19d,_193,_19b);}else{_19c=this.groupExpression(_19b.closedChildArr,0,_19b.closedChildArr.length-1,_193,_19b);}if(_199){_19c=_199.format(_19c);}_19a=_19c;if(typeof _19a=="string"&&(_19a.match("w2grid_minus")||_19a.match("w2grid_plus"))){var _1a0=_19a.lastIndexOf("</span>");if(_1a0>-1){_1a0+=7;_19a=_19a.slice(_1a0);if(_18c.status=="open"){_19a="-||"+_19a;}else{if(_18c.status=="closed"){_19a="+||"+_19a;}}}}}default:break;}}if(_191){_19a=_18c.groupId;}if(_18f){if(_199){_18f=_199.format(_18f);}_19a=_18f;}if(!_19a){_19a="";var i=0;for(var key in _18e){i++;}if(i==0){_195="none";}}if(_195!="none"){if(_18c.type=="header"){if(!this.groupbyStatus.headerValueObj[_18c.groupId]){this.groupbyStatus.headerValueObj[_18c.groupId]=[];}this.groupbyStatus.headerValueObj[_18c.groupId][_18d]=_19a;}else{if(_18c.type=="footer"){if(!this.groupbyStatus.footerValueObj[_18c.groupId]){this.groupbyStatus.footerValueObj[_18c.groupId]=[];}this.groupbyStatus.footerValueObj[_18c.groupId][_18d]=_19a;}}}};WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.uiplugin.layoutController.prototype);WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.uiplugin.drawInitializer.prototype);WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.uiplugin.eventController.prototype);WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.uiplugin.keyEventController.prototype);WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.uiplugin.dataController.prototype);WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.uiplugin.mainDrawController.prototype);WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.uiplugin.drawController.prototype);WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.uiplugin.cellController.prototype);WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.uiplugin.xmlDataController.prototype);WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.uiplugin.headerController.prototype);WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.uiplugin.focusController.prototype);WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.uiplugin.subtotalDataController.prototype);WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.uiplugin.footerController.prototype);WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.uiplugin.gridApiController.prototype);WebSquare.extend(WebSquare.uiplugin.grid.prototype,WebSquare.uiplugin.styleController.prototype);WebSquare.uiplugin.generator=function(id,_2,_3){["WebSquare.uiplugin.generator"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.generator.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.generator.prototype.defaultOptions={pluginType:"uiplugin.generator",pluginName:"generator"};WebSquare.uiplugin.generator.prototype.initialize=function(_4){["WebSquare.uiplugin.generator.initialize"];this.idCounter=0;this.dynamicCreateHash=WebSquare.util.isIE()?{"tbody":true,"thead":true,"tfoot":true,"tr":true}:{};this.passHash={"script":true,"label":true,"value":true,"choices":true,"item":true,"itemset":true,"attributes":true};if(_4.nodeType==1){this.id=_4.getAttribute("id");}this.tagName=this.element.getAttribute("tagname")||"div";};WebSquare.uiplugin.generator.prototype.toHTML=function(){["WebSquare.uiplugin.generator.toHTML"];try{var _5=[];var _6=this.element.attributes;_5.push("<"+this.tagName);if(_6){for(var i=0;i<_6.length;i++){if(_6[i].name!="tagname"){_5.push(" "+_6[i].name+"='"+_6[i].nodeValue+"'");}}}_5.push(">");_5.push("</"+this.tagName+">");return _5.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.generator.prototype.setAction=function(){["WebSquare.uiplugin.generator.setAction"];try{this.itemCnt=0;this.generatedIndexSet=[];this.generatedElementSet=[];}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.generator.prototype.setChildElement=function(_8,_9,_a){["WebSquare.uiplugin.generator.setChildElement"];try{if(_8.nodeType==1){var _b=_8.nodeName.split(":");var _c=_b[_b.length-1];if(!this.passHash[_c]){var _d=this.id+"_"+_9+"_";var id=_8.getAttribute("id")||"";var _f=_8.getAttribute("ref");_8.setAttribute("g_index",_9);if(_8.tagName=="w2:tag"&&id==""){id="w2generator_"+this.idCounter++;}if(id){_8.setAttribute("original_id",id);if(_8.tagName!="w2:listColumn"){_8.setAttribute("id",_d+id);}}if(_a&&_f){_8.setAttribute("original_ref",_f);_8.setAttribute("ref",_a+"/"+_f);}if(_8.tagName=="w2:generator"){var _10=_8.getAttribute("nodeset");if(_a&&_10){_8.setAttribute("original_nodeset",_10);_8.setAttribute("nodeset",_a+"/"+_10);}}else{for(var i=0;i<_8.childNodes.length;i++){this.setChildElement(_8.childNodes[i],_9,_a);}}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.generator.prototype.restoreChildElement=function(_12){["WebSquare.uiplugin.generator.restoreChildElement"];try{if(_12.nodeType==1){var _13=_12.nodeName.split(":");var _14=_13[_13.length-1];if(!this.passHash[_14]){var _15=_12.getAttribute("original_id");var _16=_12.getAttribute("original_ref");_12.removeAttribute("g_index");if(_15){_12.setAttribute("id",_15);_12.removeAttribute("original_id");}if(_16){_12.setAttribute("ref",_16);_12.removeAttribute("original_ref");}if(_12.tagName=="w2:generator"){var _17=_12.getAttribute("original_nodeset");if(_17){_12.setAttribute("nodeset",_17);_12.removeAttribute("original_nodeset");}}else{for(var i=0;i<_12.childNodes.length;i++){this.restoreChildElement(_12.childNodes[i]);}}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.generator.prototype.getLength=function(){return this.generatedIndexSet.length;};WebSquare.uiplugin.generator.prototype.getChild=function(_19,id){var _1b=this.generatedIndexSet[_19];var _1c=this.id+"_"+_1b+"_"+id;return window[_1c]||document.getElementById(_1c);};WebSquare.uiplugin.generator.prototype.insertChild=function(_1d){return this.insert(_1d);};WebSquare.uiplugin.generator.prototype.insert=function(_1e){["WebSquare.uiplugin.generator.insert"];try{if(typeof _1e=="number"&&this.generatedElementSet[_1e]!=null){var _1f=0;for(var i=0;i<_1e;i++){_1f+=this.generatedElementSet[i].length;}this.targetNode=this.render.childNodes[_1f];}var _21=[];for(var i=0;i<this.element.childNodes.length;i++){var _22=this.element.childNodes[i];this.setChildElement(_22,this.itemCnt);var _23=WebSquare.controlFactory.create(null,null,_22);if(_23){this.addControl(_23);if(this.dynamicCreateHash[this.tagName]){this.dynamicAppend(this.render,_23,_1e);}else{if(_22.nodeType==3){_23.render=document.createTextNode(_22.nodeValue);(this.targetNode)?this.render.insertBefore(_23.render,this.targetNode):this.render.appendChild(_23.render);}else{WebSquare.xfControl.prototype.writeTo.call(_23,this,_1e);_23.activate();}}}this.restoreChildElement(_22);if(_23){_21.push(_23);}}(typeof _1e=="number")?this.generatedIndexSet.splice(_1e,0,this.itemCnt):this.generatedIndexSet.push(this.itemCnt);(typeof _1e=="number")?this.generatedElementSet.splice(_1e,0,_21):this.generatedElementSet.push(_21);this.targetNode=null;var _24=this.itemCnt;this.itemCnt++;return _24;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.generator.prototype.dynamicAppend=function(_25,_26,_27){["WebSquare.uiplugin.generator.dynamicAppend"];try{var _28=_26.toHTML();var _29=_28.match(/(<)([^ >\/]*)/);var _2a=(_29&&_29[2])?_29[2]:null;if(_2a){var _2b=document.createElement(_2a);var _2c=WebSquare.xml.parse(_28);var _2d=WebSquare.WebSquareparser.parseAttribute(_2c.documentElement);try{for(var _2e in _2d){if(_2e=="style"){_2b.style.cssText=_2d[_2e];}else{if(_2e=="className"){_2b.className=_2d[_2e];}else{_2b.setAttribute(_2e,_2d[_2e]);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}if(typeof _27=="number"&&this.targetNode){_25.insertBefore(_2b,this.targetNode);_26.activate();}else{_25.appendChild(_2b);_26.activate();}if(_26.childControlList.length==0){for(var i=0;i<_2c.documentElement.childNodes.length;i++){var _30=_2c.documentElement.childNodes[i];var _31=WebSquare.controlFactory.create(null,null,_30);if(_31){_26.addControl(_31);}}}for(var i=0;i<_26.childControlList.length;i++){var _31=_26.childControlList[i];if(_31.element.nodeType==3){_2b.appendChild(document.createTextNode(_31.element.data));}else{if(this.dynamicCreateHash[_2a]){this.dynamicAppend(_2b,_31);}else{WebSquare.xfControl.prototype.writeTo.call(_31,_2b);_31.activate();}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.generator.prototype.removeChild=function(_32){if(_32==null){_32=this.generatedElementSet.length-1;}return this.remove(_32);};WebSquare.uiplugin.generator.prototype.remove=function(_33){if(_33==null){WebSquare.xfControl.prototype.remove.call(this);return;}else{if(typeof _33!="number"||!this.generatedElementSet[_33]){return;}}for(var i=0;i<this.generatedElementSet[_33].length;i++){var _35=this.generatedElementSet[_33][i];if(_35.remove){_35.remove();}}var _36=this.generatedIndexSet.splice(_33,1);this.generatedElementSet.splice(_33,1);return _36;};WebSquare.uiplugin.generator.prototype.removeAll=function(){for(var i=this.childControlList.length-1;i>=0;i--){if(this.childControlList[i].remove){this.childControlList[i].remove();}}WebSquare.removeChildren(this.render);this.generatedIndexSet=[];this.generatedElementSet=[];this.itemCnt=0;};WebSquare.uiplugin.generator.prototype.getIndexArray=function(){return this.generatedIndexSet.slice(0);};requires("uiplugin/control/cssCustomizer.js");WebSquare.uiplugin.scrollView=function(id,_2,_3){["WebSquare.uiplugin.scrollView"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.scrollView.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.scrollView.prototype,WebSquare.cssCustomizer.prototype);WebSquare.uiplugin.scrollView.prototype.defaultOptions={useConfig:true,pluginType:"uiplugin.scrollView",pluginName:"scrollView",userEvents:["onscroll","onscrollbottom"],parseChild:true,verticalScroll:true,horizontalScroll:false,bounce:true,paging:false,showVerticalScroll:true,showHorizontalScroll:true,slideDuration:1200,resilienceDuration:500,pagingDuration:300,slidePeriod:15,scrollTop:0,scrollLeft:0,scrollType:"mobile",resizeAutoScroll:false,css3d:false,fadeOutScrollBar:true,eventSmoothing:true,overScrollGlow:false,dragScrollSize:50,slideThreshold:5};WebSquare.uiplugin.scrollView.prototype.initialize=function(_4){this.isMobile=WebSquare.util.isMobile();this.isAndroid=/android/.test(navigator.userAgent.toLowerCase());this.transformArr=["-webkit-transform",":","translate3d(",,"px, ",,"px, 0px) scale(1)"];this.support3D="WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix();this.fingerTop=0;this.fingerLeft=0;this.scrollLock=false;this.measureDrawTime=false;};WebSquare.uiplugin.scrollView.prototype.toHTML=function(){["WebSquare.uiplugin.scrollView.toHTML"];try{var _5=[];var _6=this.getChildren();var _7=this.options.className;var _8="";if(!this.isMobile&&this.options.scrollType=="auto"){_7+=" nativeScroll";}else{_8=" style='width:100%;height:100%;overflow:hidden'";}_5.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2scrollView "+_7+"'>");_5.push("<div id='"+this.id+"_container' class='w2scrollView_container'"+_8+">");for(var i=0;i<_6.length;i++){_5.push(_6[i].toHTML());}_5.push("</div>");_5.push("<div id='"+this.id+"_iScrollX' class='w2scrollView_iScrollX' style='visibility:hidden;left:0;'></div>");_5.push("<div id='"+this.id+"_iScrollY' class='w2scrollView_iScrollY' style='visibility:hidden;top:0;'></div>");_5.push("<div id='"+this.id+"_overScrollTop' class='w2scrollView_overScrollTop' style='display:none;top:0;'></div>");_5.push("<div id='"+this.id+"_overScrollBottom' class='w2scrollView_overScrollBottom' style='display:none;bottom:0;'></div>");_5.push("</div>");return _5.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.scrollView.prototype.setAction=function(){this.dom.container=this.getElementById(this.id+"_container");this.dom.iScrollX=this.getElementById(this.id+"_iScrollX");this.dom.iScrollY=this.getElementById(this.id+"_iScrollY");this.dom.overScrollTop=this.getElementById(this.id+"_overScrollTop");this.dom.overScrollBottom=this.getElementById(this.id+"_overScrollBottom");this.iScroll={prevTouches:[]};if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{if(this.options.scrollType!="auto"){this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(document.documentElement,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(document.documentElement,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOut));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){WebSquare.event.preventDefault(e);}));}}this.iScrollXHeight=parseInt(1.5*this.dom.iScrollX.offsetHeight,10);this.iScrollYWidth=parseInt(1.5*this.dom.iScrollY.offsetWidth,10);this.checkResize();this._scrollTo(this.options.scrollLeft,this.options.scrollTop);this.measureDrawTime=true;};WebSquare.uiplugin.scrollView.prototype.setIScroll=function(){["WebSquare.uiplugin.scrollView.prototype.setIScroll"];try{if(this.options.verticalScroll&&this.options.showVerticalScroll){var _b=this.render.clientHeight;var _c=this.dom.container.scrollHeight;if(_c>_b){if(this.options.horizontalScroll){_b-=this.iScrollXHeight;}var _d=this.getMaxScrollTop();var _e=parseInt(_b*_b/_c,10);_e=_e<30?30:_e;var _f=parseInt(this.getScrollTop()*(_b-_e)/_d,10);if(_f<0){_e+=_f;_f=0;}else{if(_f+_e>=_b){_e=_b-_f;}}if(this.options.css3d&&this.support3D){this.transformArr[3]=0;this.transformArr[5]=_f;this.dom.iScrollY.style[this.transformArr[0]]=this.transformArr.slice(2).join("");}else{this.dom.iScrollY.style.top=_f+"px";}this.dom.iScrollY.style.height=_e+"px";this.dom.iScrollY.style.visibility="visible";}else{this.dom.iScrollY.style.visibility="hidden";}}if(this.options.horizontalScroll&&this.options.showHorizontalScroll){var _10=this.render.clientWidth;var _11=this.dom.container.scrollWidth;if(_11>_10){if(this.options.verticalScroll){_10-=this.iScrollYWidth;}var _12=this.getMaxScrollLeft();var _13=parseInt(_10*_10/_11,10);_13=_13<30?30:_13;var _14=parseInt(this.getScrollLeft()*(_10-_13)/_12,10);if(_14<0){_13+=_14;_14=0;}else{if(_14+_13>=_10){_13=_10-_14;}}if(this.options.css3d&&this.support3D){this.transformArr[3]=_14;this.transformArr[5]=0;this.dom.iScrollX.style[this.transformArr[0]]=this.transformArr.slice(2).join("");}else{this.dom.iScrollX.style.left=_14+"px";}this.dom.iScrollX.style.width=_13+"px";this.dom.iScrollX.style.visibility="visible";}else{this.dom.iScrollX.style.visibility="hidden";}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.scrollView.prototype.checkResize=function(){["WebSquare.uiplugin.scrollView.prototype.checkResize"];try{var _15=this.render.clientHeight;var _16=this.render.clientWidth;var _17=this.dom.container.scrollHeight;var _18=this.dom.container.scrollWidth;if(!this.sizeBackup||this.sizeBackup.renderWidth!=_16||this.sizeBackup.renderHeight!=_15||this.sizeBackup.scrollWidth!=_18||this.sizeBackup.scrollHeight!=_17){this.sizeBackup={renderWidth:_16,renderHeight:_15,scrollWidth:_18,scrollHeight:_17};var _19=parseInt(this.dom.container.style.top||0,10);if(this.isSliding&&_19){this.stopSlide();this._scrollTo(null,this.dom.container.scrollTop-_19);}var _1a=this.getScrollLeft();var _1b=this.getScrollTop();var _1c=this.getMaxScrollLeft();var _1d=this.getMaxScrollTop();if(this.options.resizeAutoScroll&&this.sizeBackup){var el=document.activeElement;var _1f=el;while(_1f=_1f.parentNode){if(_1f==this.render){break;}}if(_1f){var _20=WebSquare.style.getAbsoluteTop(el);var _21=WebSquare.style.getAbsoluteTop(this.render);var _22=_1b;if(_20<_21){_22-=_21-_20;}else{if(_20+el.offsetHeight>_21+_15){_22+=(_20+el.offsetHeight)-(_21+_15);}}if(_22!==_1b&&_22>=0&&_22<=_1d){this._scrollTo(null,_22);}}}if(_1a>_1c||_1b>_1d){this.stopSlide();this._scrollTo(_1a<_1c?_1a:_1c,_1b<_1d?_1b:_1d);}this.setIScroll();}WebSquare.core.setTimer(this.checkResize,{key:this.id+"_checkResize",caller:this,delay:100});}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.scrollView.prototype.iScrollAddMoveClass=function(){if(this.options.fadeOutScrollBar){WebSquare.core.clearTimer(this.id+"_iScrollRemoveClass");WebSquare.style.setStyle(this.dom.iScrollX,"opacity","1");WebSquare.style.setStyle(this.dom.iScrollY,"opacity","1");}this.__addClass(this.dom.iScrollX,"w2scrollView_iScrollX_move");this.__addClass(this.dom.iScrollY,"w2scrollView_iScrollY_move");};WebSquare.uiplugin.scrollView.prototype.iScrollRemoveMoveClass=function(){if(this.options.fadeOutScrollBar){WebSquare.style.animate([this.dom.iScrollX,this.dom.iScrollY],{opacity:0},{key:this.id+"_iScrollRemoveClass",duration:500,easing:"ease-out",caller:this,complete:function(){this.__removeClass(this.dom.iScrollX,"w2scrollView_iScrollX_move");this.__removeClass(this.dom.iScrollY,"w2scrollView_iScrollY_move");}});}else{this.__removeClass(this.dom.iScrollX,"w2scrollView_iScrollX_move");this.__removeClass(this.dom.iScrollY,"w2scrollView_iScrollY_move");}};WebSquare.uiplugin.scrollView.prototype.scrollTo=function(_23,_24,_25){this.stopSlide();var _25=_25||{};_25.duration=(_25.duration==undefined)?500:_25.duration;_25.timingFunction=_25.timingFunction||"ease";if(this.options.horizontalScroll&&typeof _23=="number"){_25.initX=this.getScrollLeft();_25.finishX=_23;}if(this.options.verticalScroll&&typeof _24=="number"){_25.initY=this.getScrollTop();_25.finishY=_24;}this.iScroll.prevTouches=[];this.isSliding=true;this.setIScroll();this.iScrollAddMoveClass();var _26=_25.delay||0;if(_26<=0){this.slide(_25);}else{WebSquare.core.setTimer(this.slide,{key:this.id+"_iScroll_slide",caller:this,delay:_26,args:[_25]});}};WebSquare.uiplugin.scrollView.prototype._scrollTo=function(_27,_28){if(this.measureDrawTime){WebSquare.core.measureTime(function(_29){this.options.slidePeriod=parseInt(_29.aver,10);},{key:this.id+"_measureDrawTime",caller:this});}var _27=parseInt(_27,10);var _28=parseInt(_28,10);var _2a=this.getScrollLeft();var _2b=this.getScrollTop();var _2c=this.getMaxScrollLeft();var _2d=this.getMaxScrollTop();_27=!isNaN(_27)?_27:_2a;_28=!isNaN(_28)?_28:_2b;if(_27!=_2a||_28!=_2b){WebSquare.getBody().getLayerListener().hideAll();if(this.options.css3d&&this.support3D){this.transformArr[3]=-_27;this.transformArr[5]=-_28;this.dom.container.style.cssText=this.transformArr.join("");}else{var _2e=_27;var _2f=0;var _30=_28;var _31=0;if(_27<0){_2e=0;_2f=-_27;}else{if(_2c<_27){_2e=_2c;_2f=-(_27-_2c);}}if(_28<0){_30=0;_31=-_28;}else{if(_2d<_28){_30=_2d;_31=-(_28-_2d);}}this.dom.container.scrollLeft=_2e;this.dom.container.scrollTop=_30;this.dom.container.style.left=_2f+"px";this.dom.container.style.top=_31+"px";}this.options.scrollLeft=_27;this.options.scrollTop=_28;this.setIScroll();WebSquare.event.fireEvent(this,"onscroll",_27,_28);if(!this.scrollBottom&&_28>=_2d){this.scrollBottom=true;WebSquare.event.fireEvent(this,"onscrollbottom");}}};WebSquare.uiplugin.scrollView.prototype.scrollBy=function(_32,_33,_34){this.stopSlide(true);var _32=_32||0;var _33=_33||0;var _35=this.getScrollLeft();var _36=this.getScrollTop();this.scrollTo(_35+_32,_36+_33,_34);};WebSquare.uiplugin.scrollView.prototype.resetScrollBottom=function(){this.scrollBottom=false;};WebSquare.uiplugin.scrollView.prototype.slide=function(_37){["WebSquare.uiplugin.scrollView.slide"];try{WebSquare.core.clearTimer(this.id+"_iScroll_slide");var _38=this.render.clientWidth;var _39=this.render.clientHeight;var _3a=this.dom.container.scrollWidth;var _3b=this.dom.container.scrollHeight;var _3c=this.getScrollTop();var _3d=this.getScrollLeft();var _3e=this.getMaxScrollTop();var _3f=this.getMaxScrollLeft();(_37.endTime==undefined)&&(_37.endTime=new Date().getTime()+_37.duration);(_37.slidePeriod==undefined)&&(_37.slidePeriod=this.options.slidePeriod);var _40=_37.initX==null?_3d:_37.initX;var _41=_37.initY==null?_3c:_37.initY;var _42=_37.finishX==null?_3d:_37.finishX;var _43=_37.finishY==null?_3c:_37.finishY;var _44=_37.duration;var t=new Date().getTime()-(_37.endTime-_44);if(this.forceToStopSlide){t=_44;}(_40<0&&2*_40<_42&&_42<0)&&(_42=0);(_41<0&&2*_41<_43&&_43<0)&&(_43=0);(_40>_3f&&_3f<_42&&_42<2*_40-_3f)&&(_42=_3f);(_41>_3e&&_3e<_43&&_43<2*_41-_3e)&&(_43=_3e);var _46=WebSquare.style.cubicBezierAtTime(t/_44,_37.timingFunction,_44/1000);var x=_40+(_42-_40)*_46;var y=_41+(_43-_41)*_46;if(this.options.bounce){if(!_37.xResilience&&((x<0&&_42<0)||(_3f<x&&_3f<_42))){_37.xResilience=true;(x<-_38/2)&&(x=-_38/2);(x>_3f+_38/2)&&(x=_3f+_38/2);if(_42<-_38){_40=x;_42=-_38;}else{if(_42>_3f+_38){_40=x;_42=_3f+_38;}}if(_42<0){_37.turningPointX=_42/2;}else{if(_42>_3f){_37.turningPointX=_3f+(_42-_3f)/2;}}}if(!_37.yResilience&&((y<0&&_43<0)||(_3e<y&&_3e<_43))){_37.yResilience=true;(y<-_39/2)&&(y=-_39/2);(y>_3e+_39/2)&&(y=_3e+_39/2);if(_43<-_39){_41=y;_43=-_39;}else{if(_43>_3e+_39){_41=y;_43=_3e+_38;}}if(_43<0){_37.turningPointY=_43/2;}else{_37.turningPointY=_3e+(_43-_3e)/2;}}if(_37.xResilience){if((x<_37.turningPointX&&_42<0)||(x>_37.turningPointX&&_42>0)){x=-x+2*_37.turningPointX;}}if(_37.yResilience){if((y<_37.turningPointY&&_43<0)||(y>_37.turningPointY&&_43>0)){y=-y+2*_37.turningPointY;}}}else{(x<0)&&(x=0);(x>_3f)&&(x=_3f);(y<0)&&(y=0);(y>_3e)&&(y=_3e);var _49=(_42==x)||(_42<=0&&x<=0)||(_42>=_3f&&x>=_3f);var _4a=(_43==y)||(_43<=0&&y<=0)||(_43>=_3e&&y>=_3e);var _4b=this.options.horizontalScroll;var _4c=this.options.verticalScroll;if(_4b&&_4c&&_49&&_4a){t=_44;}else{if(_4b&&!_4c&&_49){t=_44;}else{if(!_4b&&_4c&&_4a){t=_44;}}}}_37.initX=_40;_37.initY=_41;_37.finishX=_42;_37.finishY=_43;if(t>=_44){x=_37.finishX;y=_37.finishY;(x<0)&&(x=0);(x>_3f)&&(x=_3f);(y<0)&&(y=0);(y>_3e)&&(y=_3e);this._scrollTo(x,y);this.stopSlide();var _4d=true;if(this.dom.overScrollTop.style.display!="none"&&this.dom.overScrollTop.offsetTop>=-this.dom.overScrollTop.offsetHeight){_4d=false;}else{if(this.dom.overScrollBottom.style.display!="none"&&this.dom.overScrollBottom.offsetTop<this.render.clientHeight){_4d=false;}}this.hideOverScrollGlow(_4d);}else{this._scrollTo(x,y);WebSquare.core.setTimer(this.slide,{key:this.id+"_iScroll_slide",caller:this,delay:_37.slidePeriod,args:[_37]});}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.scrollView.prototype.stopSlide=function(_4e){["WebSquare.uiplugin.scrollView.stopSlide"];try{if(this.isSliding){this.isSliding=false;this.forceToStopSlide=_4e;WebSquare.core.clearTimer(this.id+"_iScroll_slide",_4e);this.forceToStopSlide=null;this.iScrollRemoveMoveClass();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.scrollView.prototype.getSlideFactor=function(_4f,_50){var c=this.isMobile?0.3:1;return parseInt(c*_4f/100*_50,10);};WebSquare.uiplugin.scrollView.prototype.hideOverScrollGlow=function(_52){if(!this.options.bounce&&this.options.overScrollGlow){var _53=this;var _54=this.getScrollTop();if(_52){if(_54==0){WebSquare.style.show(this.dom.overScrollTop);WebSquare.style.setStyle(this.dom.overScrollTop,"top",-this.dom.overScrollTop.offsetHeight+"px");WebSquare.style.animate(this.dom.overScrollTop,{top:0},{key:this.id+"_hideOverScrollGlowWithGlow",easing:"ease-in",duration:300,complete:function(){_53.hideOverScrollGlow();}});}else{if(_54==this.getMaxScrollTop()){WebSquare.style.show(this.dom.overScrollBottom);WebSquare.style.setStyle(this.dom.overScrollBottom,"bottom",-this.dom.overScrollBottom.offsetHeight+"px");WebSquare.style.animate(this.dom.overScrollBottom,{bottom:0},{key:this.id+"_hideOverScrollGlowWithGlow",easing:"ease-in",duration:300,complete:function(){_53.hideOverScrollGlow();}});}}}else{if(this.dom.overScrollTop.style.display!="none"&&this.dom.overScrollTop.offsetTop>=-this.dom.overScrollTop.offsetHeight){WebSquare.style.animate(this.dom.overScrollTop,{top:-this.dom.overScrollTop.offsetHeight},{key:this.id+"_hideOverScrollGlow",easing:"ease-out",duration:300,complete:function(){WebSquare.style.hide(_53.dom.overScrollTop);}});}else{if(this.dom.overScrollBottom.style.display!="none"&&this.dom.overScrollBottom.offsetTop<this.render.clientHeight){WebSquare.style.animate(this.dom.overScrollBottom,{bottom:-this.dom.overScrollBottom.offsetHeight},{key:this.id+"_hideOverScrollGlow",easing:"ease-out",duration:300,complete:function(){WebSquare.style.hide(_53.dom.overScrollBottom);}});}}}}};WebSquare.uiplugin.scrollView.prototype.setScrollLock=function(_55){this.scrollLock=!!_55;};WebSquare.uiplugin.scrollView.prototype.getContentSize=function(_56){["WebSquare.uiplugin.scrollView.getContentSize"];try{var _57=this.dom.container.scrollWidth;var _58=this.dom.container.scrollHeight;if(_56){_56=_56.toLowerCase();if(_56=="height"){return _58;}else{if(_56=="width"){return _57;}}}else{return {width:_57,height:_58};}$l("getContentSize : wrong sizeName["+_56+"]");}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.scrollView.prototype.getMaxScrollTop=function(){var _59=this.dom.container.scrollHeight-this.render.clientHeight;return _59>=0?_59:0;};WebSquare.uiplugin.scrollView.prototype.getMaxScrollLeft=function(){var _5a=this.dom.container.scrollWidth-this.render.clientWidth;return _5a>=0?_5a:0;};WebSquare.uiplugin.scrollView.prototype.getScrollTop=function(){["WebSquare.uiplugin.scrollView.getScrollTop"];try{if(this.options.css3d&&this.support3D){return this.options.scrollTop;}else{var _5b=this.dom.container.scrollTop;if(_5b==0||_5b==this.getMaxScrollTop()){_5b-=parseInt(this.dom.container.style.top||0,10);}this.options.scrollTop=_5b;return _5b;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.scrollView.prototype.getScrollLeft=function(){["WebSquare.uiplugin.scrollView.getScrollLeft"];try{if(this.options.css3d&&this.support3D){return this.options.scrollLeft;}else{var _5c=this.dom.container.scrollLeft;if(_5c==0||_5c==this.getMaxScrollLeft()){_5c-=parseInt(this.dom.container.style.left||0,10);}this.options.scrollLeft=_5c;return _5c;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.scrollView.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.scrollView.prototype.handleTouchStart"];try{this.isTouched=true;WebSquare.event.stopPropagation(e);this.stopSlide();if(!e.touches||e.touches.length==1){this.setIScroll();this.iScrollAddMoveClass();this.iScroll.prevTouches=[{x:e.touches?e.touches[0].pageX:e.clientX,y:e.touches?e.touches[0].pageY:e.clientY}];this.iScroll.direction="";if(this.options.horizontalScroll&&!this.options.verticalScroll){this.iScroll.direction="horizontal";}else{if(!this.options.horizontalScroll&&this.options.verticalScroll){this.iScroll.direction="vertical";}}this.fingerLeft=this.getScrollLeft();this.fingerTop=this.getScrollTop();}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.scrollView.prototype.handleTouchMove=function(e){try{if(!e.touches||e.touches.length==1){if(this.options.eventSmoothing){WebSquare.core.setTimer(this._handleTouchMove,{key:this.id+"_handleTouchMove",caller:this,args:[{clientX:e.touches?e.touches[0].pageX:e.clientX,clientY:e.touches?e.touches[0].pageY:e.clientY}],delay:1,max:1});}else{this._handleTouchMove(e);}WebSquare.event.stopEvent(e);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.scrollView.prototype._handleTouchMove=function(e){["WebSquare.uiplugin.scrollView.prototype._handleTouchMove"];try{if(this.scrollLock||this.iScroll.prevTouches.length<=0){return;}this.iScroll.prevTouches.push({x:e.touches?e.touches[0].pageX:e.clientX,y:e.touches?e.touches[0].pageY:e.clientY});var len=this.iScroll.prevTouches.length;this.iScroll.prevTouches=[this.iScroll.prevTouches[len-2],this.iScroll.prevTouches[len-1]];var _61=this.iScroll.prevTouches;var _62=this.options.horizontalScroll?_61[0].x-_61[1].x:0;var _63=this.options.verticalScroll?_61[0].y-_61[1].y:0;var _64=this.render.clientWidth;var _65=this.render.clientHeight;var _66=this.dom.container.scrollWidth;var _67=this.dom.container.scrollHeight;var _68=this.getScrollTop();var _69=this.getScrollLeft();var _6a=this.getMaxScrollTop();var _6b=this.getMaxScrollLeft();if(this.options.horizontalScroll&&this.options.verticalScroll&&!this.iScroll.direction){var _6c=Math.abs(_63/_62);if((_62==0||_63==0)&&Math.abs(_62+_63)<=2){this.iScroll.direction="";}else{if(_62==0||_6c>2.747){this.iScroll.direction="vertical";}else{if(_6c<0.364){this.iScroll.direction="horizontal";}else{this.iScroll.direction="both";}}}}if(this.iScroll.direction=="vertical"){_62=0;if(_69<0){this._scrollTo(0,null);_69=this.fingerLeft=0;}else{if(_69>_6b){this._scrollTo(_6b,null);_69=this.fingerLeft=_6b;}}}else{if(this.iScroll.direction=="horizontal"){_63=0;if(_68<0){this._scrollTo(null,0);_68=this.fingerTop=0;}else{if(_68>_6a){this._scrollTo(null,_6a);_68=this.fingerTop=_6a;}}}}if(!this.options.bounce&&!this.options.overScrollGlow){(0<=_69&&_69<=_6b)&&(this.fingerLeft=_69);(0<=_68&&_68<=_6a)&&(this.fingerTop=_68);}_69=this.fingerLeft+=_62;_68=this.fingerTop+=_63;if(this.options.bounce){if(_69<0){_69=_69/2;(_69<-_64/2)&&(_69=-_64/2);}else{if(_69>_6b){_69=_6b+(_69-_6b)/2;(_69>_6b+_64/2)&&(_69=_6b+_64/2);}}if(_68<0){_68=_68/2;(_68<-_65/2)&&(_68=-_65/2);}else{if(_68>_6a){_68=_6a+(_68-_6a)/2;(_68>_6a+_65/2)&&(_68=_6a+_65/2);}}}else{(_69<0)&&(_69=0);(_69>_6b)&&(_69=_6b);(_68<0)&&(_68=0);(_68>_6a)&&(_68=_6a);if(this.options.overScrollGlow){if(this.fingerTop<0){WebSquare.style.show(this.dom.overScrollTop);var _6d=this.dom.overScrollTop.offsetHeight;var top=-2*_6d/_65*this.fingerTop-_6d;(top>0)&&(top=0);WebSquare.style.setStyle(this.dom.overScrollTop,"top",top+"px");}else{WebSquare.style.hide(this.dom.overScrollTop);}if(this.fingerTop>_6a){WebSquare.style.show(this.dom.overScrollBottom);var _6d=this.dom.overScrollBottom.offsetHeight;var _6f=-2*_6d/_65*(_6a-this.fingerTop)-_6d;(_6f>0)&&(_6f=0);WebSquare.style.setStyle(this.dom.overScrollBottom,"bottom",_6f+"px");}else{WebSquare.style.hide(this.dom.overScrollBottom);}}}this._scrollTo(_69,_68);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.scrollView.prototype.handleTouchEnd=function(e){["WebSquare.uiplugin.scrollView.prototype.handleTouchEnd"];try{this.isTouched=false;var len=this.iScroll.prevTouches.length;WebSquare.event.stopPropagation(e);if(len==0){return;}var _72=this.render.clientWidth;var _73=this.render.clientHeight;var _74=this.dom.container.scrollWidth;var _75=this.dom.container.scrollHeight;var _76=this.getMaxScrollLeft();var _77=this.getMaxScrollTop();var _78=this.getScrollLeft();var _79=this.getScrollTop();var _7a=null;var _7b=null;var _7c=null;var _7d=null;if(len>=2){this.iScroll.prevTouches=[this.iScroll.prevTouches[len-2],this.iScroll.prevTouches[len-1]];var _7e=this.iScroll.prevTouches;var _7f=_7e[0].x-_7e[1].x;var _80=_7e[0].y-_7e[1].y;(this.iScroll.direction=="vertical")&&(_7f=0);(this.iScroll.direction=="horizontal")&&(_80=0);if(_7f*_7f+_80*_80>this.options.slideThreshold*this.options.slideThreshold){this.iScroll.prevTouches=[];this.isSliding=true;if(this.options.paging){if(this.options.horizontalScroll){var _81=parseInt(_78/_72,10)+(_7f>0?1:0);_7a=_81*_72;(_7a<0)&&(_7a=0);(_7a>_76)&&(_7a=_76);}if(this.options.verticalScroll){var _81=parseInt(_79/_73,10)+(_80>0?1:0);_7b=_81*_73;(_7b<0)&&(_7b=0);(_7b>_77)&&(_7b=_77);}_7c=this.options.pagingDuration;_7d="ease";}else{_7a=_78+this.getSlideFactor(_7f,_74);_7b=_79+this.getSlideFactor(_80,_75);_7c=this.options.slideDuration;_7d="deceleration";}this.slide({initX:_78,initY:_79,finishX:this.options.horizontalScroll?_7a:null,finishY:this.options.verticalScroll?_7b:null,duration:_7c,timingFunction:_7d});if(!this.options.bounce&&this.options.overScrollGlow){if((_79==0&&_7b>0)||(_79==_77&&_7b<_77)){this.hideOverScrollGlow();}}return;}}if(this.options.paging){if(this.options.horizontalScroll&&!this.options.verticalScroll){var _81=parseInt((_78+_72/2)/_72,10);_7a=_81*_72;}else{if(!this.options.horizontalScroll&&this.options.verticalScroll){var _81=parseInt((_79+_73/2)/_73,10);_7b=_81*_73;}}_7c=this.options.pagingDuration;}else{_7c=this.options.resilienceDuration;}if(_78<0){_7a=0;}else{if(_76<_78){_7a=_76;}}if(_79<0){_7b=0;}else{if(_77<_79){_7b=_77;}}if(_7a!=null||_7b!=null){this.iScroll.prevTouches=[];this.isSliding=true;this.slide({initX:_78,initY:_79,finishX:_7a,finishY:_7b,xResilience:_7a!=null,yResilience:_7b!=null,duration:_7c,timingFunction:"deceleration"});}else{this.iScrollRemoveMoveClass();this.iScroll.prevTouches=[];}this.hideOverScrollGlow();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.scrollView.prototype.handleMouseOut=function(e){if(WebSquare.event.getRelatedTarget(e)==null){this.handleTouchEnd(e);}};requires("uiplugin/control/itemsetControl.js");WebSquare.uiplugin.list=function(id,_2,_3){["WebSquare.uiplugin.list"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.list.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.list.prototype,WebSquare.itemsetControl.prototype);WebSquare.uiplugin.list.prototype.defaultOptions={pluginType:"uiplugin.list",pluginName:"list",userEvents:["onclick","onmouseover","onmouseout","onmousedown","onrowclick"],tagName:"div",sortable:false};WebSquare.uiplugin.list.prototype.initialize=function(_4){["WebSquare.uiplugin.list.initialize"];this.uniqueIdSequence=0;this.listRowInfo=WebSquare.xml.getChildren(_4.parentNode,"w2:list")[0];this.listColumnInfo=WebSquare.xml.getChildren(_4,"w2:listRow");if(this.options.nodeset){this.modelDataXMLArr=WebSquare.ModelUtil.findInstanceNodes(this.options.nodeset);this.modelControl.itemsetObj={nodeset:this.options.nodeset,label:"",value:""};}this.listRowObjArr=[];};WebSquare.uiplugin.list.prototype.toHTML=function(){["WebSquare.uiplugin.list.toHTML"];var _5=[];_5.push("<"+this.options.tagName+" id='"+this.id+"' style='"+this.options.style+"' class='w2list w2noselect "+this.options.className+"'>");if(this.options.nodeset){for(var i=0;i<this.modelDataXMLArr.length;i++){_5.push("<"+this.listRowInfo.tagName+" style=' "+this.listRowInfo.style+" ' class='w2list_listRow "+this.listRowInfo["class"]+"' >");var _7;for(var j=0;j<this.listColumnInfo.length;j++){var _9=this.listColumnInfo[j];var _a=_9.value;var _b=WebSquare.xml.getValue(this.modelDataXMLArr[i],_9.ref);if(_b!=""){_a=_b;}switch(_9.inputType){case "checkbox":var _c=WebSquare.util.getBoolean(_a)?"checked='checked'":"";_5.push("<input type='checkbox' "+_c);_5.push(" style='"+_9.style+"' ");_5.push(" class='w2list_listColumn w2list_listColumn_checkbox "+_9["class"]+"' >");_5.push("</input>");break;case "text":_5.push("<span ");_5.push(" style='"+_9.style+"' ");_5.push(" class='w2list_listColumn w2list_listColumn_text "+_9["class"]+"' >");_5.push(_a);_5.push("</span>");break;case "button":_5.push("<input type='button'");_5.push(" value='"+_a+"' ");_5.push(" style='"+_9.style+"' ");_5.push(" class='w2list_listColumn w2list_listColumn_button "+_9["class"]+"' >");_5.push("</input>");break;default:break;}}_5.push("</"+this.listRowInfo.tagName+">");}}_5.push("</"+this.options.tagName+">");return _5.join("");};WebSquare.uiplugin.list.prototype.setAction=function(){this.initializeListInfo();this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(this.isMobile==true){}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleDragEvent));}};WebSquare.uiplugin.list.prototype.setLayout=function(){};WebSquare.uiplugin.list.prototype.initializeListInfo=function(){["WebSquare.uiplugin.list.initializeListInfo"];try{if(this.options.nodeset){for(var i=0;i<this.modelDataXMLArr.length;i++){var _e=this.id+"_"+this.uniqueIdSequence;WebSquare.xml.setAttribute(this.modelDataXMLArr[i],"unique_id",_e);this.render.childNodes[i].setAttribute("unique_id",_e);var _f;var _10;var _11;var _12={};for(var j=0;j<this.listColumnInfo.length;j++){_f=this.listColumnInfo[j];_10=_f.value;_11=WebSquare.xml.getValue(this.modelDataXMLArr[i],_f.ref);if(_11!=""){_10=_11;}_12[_f.id]=_10;}_12["unique_id"]=_e;this.listRowObjArr.push(_12);this.uniqueIdSequence++;this.listRowObjArr[i].render=this.render.childNodes[i];}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.refreshItemset=function(){try{if(this.modelControl.isItemsetBinded()){var _14=WebSquare.ModelUtil.findInstanceNodes(this.options.nodeset);this.modelDataXMLArr=_14;var _15=this.listRowObjArr;this.listRowObjArr=[];for(var i=0;i<this.modelDataXMLArr.length;i++){this.listRowObjArr[i]=this.createObjByXML(this.modelDataXMLArr[i]);}for(var i=0;i<_15.length;i++){for(var j=0;j<this.listRowObjArr.length;j++){if(_15[i]["unique_id"]==this.listRowObjArr[j]["unique_id"]){_15[i].exist=true;break;}}}for(var i=0;i<_15.length;i++){if(_15[i].exist!=true){var _18=this.getRenderByUniqueId(_15[i]["unique_id"]);_18.parentNode.removeChild(_18);}}for(var i=0;i<this.listRowObjArr.length;i++){var _19=this.listRowObjArr[i];var _1a=this.getRenderByUniqueId(_19["unique_id"]);if(_1a){for(var j=0;j<_15.length;j++){var _1b=_15[j];if(_1b["unique_id"]==_19["unique_id"]){for(var k=0;k<this.listColumnInfo.length;k++){var _1d=_19[this.listColumnInfo[k].id];if(_1b[this.listColumnInfo[k].id]!=_1d){switch(this.listColumnInfo[k].inputType){case "checkbox":_1a.childNodes[k].checked=WebSquare.util.getBoolean(_1d);break;case "text":_1a.childNodes[k].innerHTML=_1d;break;case "button":_1a.childNodes[k].value=_1d;break;default:break;}}}}}var _1e;for(var j=0;j<this.getLength();j++){var _1f=this.render.childNodes[j];if(_1a.getAttribute("unique_id")==_1f.getAttribute("unique_id")){_1e=j;}}this.moveRowRender(_1e,i);}else{this.insertRowRender(i,this.listRowObjArr[i]);}}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.refresh=function(){};WebSquare.uiplugin.list.prototype.insertInModel=function(_20,_21,_22){["WebSquare.uiplugin.list.insertInModel"];try{switch(_22){case "append":var _23=this.options.nodeset.split("/");_23.splice(_23.length-1,1);var _24=_23;_24=_24.join("/");WebSquare.ModelUtil.setInstanceNode(_21,_24,null,"append");break;case "insertBeforeSibling":WebSquare.ModelUtil.setInstanceNode(_21,this.options.nodeset+"["+(_20+1)+"]",null,"insertBeforeSibling");break;case "appendSibling":WebSquare.ModelUtil.setInstanceNode(_21,this.options.nodeset+"["+(_20)+"]",null,"appendSibling");break;default:return;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.removeFromModel=function(_25){["WebSquare.uiplugin.list.removeFromModel"];try{WebSquare.ModelUtil.removeInstanceNode(this.options.nodeset+"["+(_25+1)+"]");}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.insertRow=function(idx,_27){["WebSquare.uiplugin.list.insertRow"];try{var _28=this.getChildNodes();var _29=_28.length;if(idx<0){return;}else{if(idx>_29){idx=_29;}}if(this.options.nodeset){var _2a=this.createXMLByObj(_27);if(_28.length==0){this.insertInModel(idx,_2a,"append");}else{if(_28.length>idx&&idx>=0){this.insertInModel(idx,_2a,"insertBeforeSibling");}else{this.insertInModel(idx,_2a,"appendSibling");}}}else{this.insertRowNM(idx,_27);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.insertRowNM=function(idx,_2c){["WebSquare.uiplugin.list.insertRowNM"];try{var _2d=this.getLength();_2c["unique_id"]=this.id+"_"+this.uniqueIdSequence;this.uniqueIdSequence++;if(_2d>idx&&idx>=0){this.listRowObjArr.splice(idx,0,_2c);}else{this.listRowObjArr.push(_2c);}this.insertRowRender(idx,_2c);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.insertRowRender=function(idx,_2f){["WebSquare.uiplugin.list.insertRowRender"];try{var _30=this.getChildNodes();var _31=_30.length;if(idx<0){return;}else{if(idx>_31){idx=_31;}}var _32=this.createRenderByObj(_2f);if(_30.length>idx&&idx>=0){this.render.insertBefore(_32,_30[idx]);}else{this.render.appendChild(_32);}for(var i=0;i<this.listRowObjArr.length;i++){var _34=this.listRowObjArr[i];if(_2f["unique_id"]==_34["unique_id"]){_34["render"]=_32;break;}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.removeRow=function(idx){["WebSquare.uiplugin.list.removeRow"];try{var _36=this.getChildNodes();if(_36.length>idx&&idx>=0){if(this.options.nodeset){this.removeFromModel(idx);}else{this.removeRowNM(idx);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.removeRowNM=function(idx){["WebSquare.uiplugin.list.removeRowNM"];try{this.removeRowRender(idx);this.listRowObjArr.splice(idx,1);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.removeRowRender=function(idx){["WebSquare.uiplugin.list.removeRowRender"];try{var _39=this.getChildNodes();if(_39.length>idx&&idx>=0){this.render.removeChild(_39[idx]);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.removeAll=function(){["WebSquare.uiplugin.list.prototype.removeAll"];try{if(this.options.nodeset){WebSquare.ModelUtil.removeInstanceNodes(this.options.nodeset);}else{this.listRowObjArr=[];var _3a=this.getChildNodes();var _3b=this.getLength();for(var i=0;i<_3b;i++){this.render.removeChild(_3a[0]);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.moveRow=function(_3d,_3e){["WebSquare.uiplugin.list.moveRow"];try{var _3f=this.getChildNodes();var _40=_3f.length;if(_3d>_40||_3e>_40){return;}if(_3d>=0&&_3e>=0){if(this.options.nodeset){var _41=this.modelDataXMLArr[_3d];if(_3f.length-1>_3e&&_3e>=0){this.removeFromModel(_3d);this.insertInModel(_3e,_41,"insertBeforeSibling");}else{this.removeFromModel(_3d);this.insertInModel(_3e,_41,"appendSibling");}}else{this.moveRowNM(_3d,_3e);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.moveRowNM=function(_42,_43){["WebSquare.uiplugin.list.moveRowNM"];try{this.moveRowRender(_42,_43);var _44=this.listRowObjArr.splice(_42,1)[0];this.listRowObjArr.splice(_43,0,_44);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.moveRowRender=function(_45,_46){["WebSquare.uiplugin.list.moveRowRender"];try{var _47=this.getChildNodes();var _48=_47.length;var _49=this.listRowObjArr[_45];if(_45>_48||_46>_48){return;}if(_45>=0&&_46>=0){var _4a=_47[_45];if(_47.length-1>_46&&_46>=0){var _4b=(_46>_45)?_46+1:_46;this.render.insertBefore(_4a,_47[_4b]);}else{this.render.appendChild(_4a);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.getLength=function(){["WebSquare.uiplugin.list.getLength"];try{return this.getChildNodes().length;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.getChildNodes=function(){["WebSquare.uiplugin.list.getChildNodes"];try{if(this.options.tagName=="dl"){var _4c=[];for(var i=0;i<this.render.childNodes.length;i++){var _4e=this.render.childNodes[i];if(_4e.nodeType!="3"){_4c.push(_4e);}}return _4c;}else{return this.render.getElementsByTagName(this.listRowInfo.tagName);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.getRenderByUniqueId=function(_4f){["WebSquare.uiplugin.list.getRenderByUniqueId"];try{for(var i=0;i<this.getLength();i++){var _51=this.render.childNodes[i];if(_51.getAttribute("unique_id")==_4f){return _51;}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.getCellData=function(_52,_53){["WebSquare.uiplugin.list.getCellData"];try{var _54=this.getLength();if(typeof _52=="string"||!((_54>_52&&_52>=0))){return;}var _55;if(typeof _53=="string"){_55=_53;}else{if(typeof _53=="number"){_55=this.listColumnInfo[_53].id;}}var _56=this.listRowObjArr[_52];var _57=_56?_56[_55]:"";return _57;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.setCellData=function(_58,_59,_5a){["WebSquare.uiplugin.list.setCellData"];try{var _5b=this.getLength();if(typeof _58=="string"||!(_5b>_58&&_58>=0)){return;}var _5c;var _5d;if(typeof _59=="string"){_5c=_59;for(var i=0;i<this.listColumnInfo.length;i++){if(_5c==this.listColumnInfo[i].id){_5d=i;break;}}_5d;}else{if(typeof _59=="number"){_5d=_59;_5c=this.listColumnInfo[_59].id;}}var _5f;_5f=this.getCellData(_58,_5c);if(this.options.nodeset){var _60;var _61;for(var i=0;i<this.listColumnInfo.length;i++){_61=this.listColumnInfo[i];if(_5c==_61.id){_60=_61.ref;break;}}if(_60){var _62=WebSquare.ModelUtil.setInstanceValue(this.options.nodeset+"["+(_58+1)+"]/"+_60,_5a);if(_5f!==_5a){this.fireOnchange();}}else{return;}}else{var _63=this.getChildNodes();var _64=_63[_58];var _65=this.listColumnInfo[_5d].inputType;var _66=_64.childNodes[_5d];switch(_65){case "checkbox":_66.checked=WebSquare.util.getBoolean(_5a);break;case "text":_66.innerHTML=_5a;break;case "button":_66.value=_5a;break;default:break;}this.listRowObjArr[_58][_5c]=_5a;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.getRowData=function(_67){["WebSquare.uiplugin.list.getRowData"];try{var _68=this.getLength();if(typeof _67=="string"||!(_68>_67&&_67>=0)){return;}var _69={};var _6a=this.listRowObjArr[_67];for(key in _6a){if(key!="unique_id"&&key!="render"){_69[key]=_6a[key];}}return _69;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.setRowData=function(_6b,_6c,_6d){["WebSquare.uiplugin.list.getRowData"];try{var _6e=this.getLength();if(typeof _6b=="string"||!(_6e>=_6b&&_6b>=0)||(typeof _6c!="object")){return;}if(!_6d){if(this.options.nodeset){this.insertRow(_6e,_6c);}else{this.insertRowNM(_6e,_6c);}return;}if(_6c){if(this.options.nodeset){this.removeRow(_6b);this.insertRow(_6b,_6c);}else{this.removeRowNM(_6b);this.insertRowNM(_6b,_6c);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.setXML=function(_6f,_70){["WebSquare.uiplugin.list.prototype.setXML"];if(_6f==null){WebSquare.logger.printLog("[WebSquare.uiplugin.list.setXML] XML is null");return;}return;};WebSquare.uiplugin.list.prototype.setJSON=function(_71,_72){["WebSquare.uiplugin.list.prototype.setJSON"];try{if(_71==null){WebSquare.logger.printLog("[WebSquare.uiplugin.list.setJSON] data is null");return;}if(!_72){this.removeAll();}var _73;for(var i=0;i<_71.length;i++){if(_72){_73=this.getLength+i;}else{_73=i;}if(this.options.nodeset){this.insertRow(_73,_71[i]);}else{this.insertRowNM(_73,_71[i]);}}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.toggleCheckbox=function(_75,_76){["WebSquare.uiplugin.list.toggleCheckbox"];try{var _77=this.getLength();if(typeof _75=="string"||typeof _76=="number"){return;}if(_77>_75&&_75>=0){var _78=WebSquare.util.getBoolean(this.getCellData(_75,_76));this.setCellData(_75,_76,!_78);}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.createItemNode=function(_79,_7a){["WebSquare.uiplugin.list.createItemNode"];try{if(_79){var _7b;switch(_79.inputType){case "checkbox":_7b=document.createElement("input");_7b.setAttribute("type","checkbox");_7b.setAttribute("class","w2list_listColumn w2list_listColumn_checkbox "+_79["class"]);_7a=WebSquare.util.getBoolean(_7a);if(_7a){_7b.setAttribute("checked","checked");}break;case "text":_7b=document.createElement("span");_7b.setAttribute("class","w2list_listColumn w2list_listColumn_text "+_79["class"]);if(_7a){_7b.innerHTML=_7a;}break;case "button":_7b=document.createElement("input");_7b.setAttribute("type","button");_7b.setAttribute("class","w2list_listColumn w2list_listColumn_button "+_79["class"]);if(_7a){_7b.setAttribute("value",_7a);}break;default:break;}_7b.setAttribute("style",_79.style);return _7b;}}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.getAllData=function(){["WebSquare.uiplugin.list.prototype.getAllData"];try{var _7c=[];var _7d=this.getLength();for(var i=0;i<_7d;i++){var _7f=this.getRowData(i);_7c.push(_7f);}return _7c;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.createXMLByObj=function(_80){["WebSquare.uiplugin.list.createXMLByObj"];try{var _81=this.options.nodeset.split("/");var _82=_81[_81.length-1];var _83=WebSquare.xml.parse("<"+_82+" />").documentElement;if(_80["unique_id"]){WebSquare.xml.setAttribute(_83,"unique_id",_80["unique_id"]);}else{WebSquare.xml.setAttribute(_83,"unique_id",this.id+"_"+this.uniqueIdSequence);this.uniqueIdSequence++;}for(var i=0;i<this.listColumnInfo.length;i++){var _85=this.listColumnInfo[i].ref;var _86=_85.lastIndexOf("/");if(_86>0){var _87=_85.substring(0,_86);var _88=_85.substring(_86+1);var _89=_88.match(/[@'"()=]/i).length>0;if(_89){var _8a=WebSquare.xml.createNode(_83,_87,false);var _8b=_80[this.listColumnInfo[i].id];if(!_8b){_8b=this.listColumnInfo[i].value;}_88=_88.replace(/[@'"()=]/i,"");WebSquare.xml.setAttribute(_8a,_88,_8b);}else{WebSquare.xml.createNode(_83,_85,false);}}else{var _8c=this.listColumnInfo[i].ref.replace(/[@'"()=]/i,"");var _8b=_80[this.listColumnInfo[i].id];if(!_8b){_8b=this.listColumnInfo[i].value;}WebSquare.xml.setAttribute(_83,_8c,_8b);}}return _83;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.createRenderByObj=function(_8d){["WebSquare.uiplugin.list.createRenderByObj"];try{var _8e=document.createElement(this.listRowInfo.tagName);_8e.setAttribute("class","w2list_listRow "+this.listRowInfo["class"]);_8e.setAttribute("style",this.listRowInfo.style);_8e.setAttribute("unique_id",_8d["unique_id"]);if(_8d){var _8f;var _90;var _91;var _92=[];for(var i=0;i<this.listColumnInfo.length;i++){var id=this.listColumnInfo[i].id;if(_8d[id]!=undefined||_8d[id]!=null){_8f=_8d[id];}else{_8f=this.listColumnInfo[i].value;_8d[this.listColumnInfo[i].id]=this.listColumnInfo[i].value;}_91=this.listColumnInfo[i];_90=this.createItemNode(_91,_8f);_92[i]=_90;}if(_92.length!=0){for(var i=0;i<_92.length;i++){if(_92[i]){_8e.appendChild(_92[i]);}}}}return _8e;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.createObjByXML=function(_95){["WebSquare.uiplugin.list.createObjByXML"];try{var _96;var _97;var _98;var _99={};for(var j=0;j<this.listColumnInfo.length;j++){_96=this.listColumnInfo[j];_97=_96.value;_98=WebSquare.xml.getValue(_95,_96.ref);if(_98!=""){_97=_98;}_99[_96.id]=_97;}_99["unique_id"]=_95.getAttribute("unique_id");_99["render"]=this.getRenderByUniqueId(_99["unique_id"]);return _99;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.list.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.list.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){break;}if(it.match("w2list_listRow")){var _9d;var _9e=it.getElement();for(var i=0;i<this.listRowObjArr.length;i++){if(this.listRowObjArr[i].render==_9e){_9d=i;WebSquare.event.fireEvent(this,"onrowclick",_9d);return;}}}if(it.match("w2list_listColumn_checkbox")){var _9d;var _a0;var _9e=it.getElement();for(var i=0;i<this.listRowObjArr.length;i++){for(var j=0;j<this.listColumnInfo.length;j++){if(this.listRowObjArr[i].render.childNodes[j]==_9e){_9d=i;itemId=this.listColumnInfo[j].id;this.toggleCheckbox(_9d,itemId);return;}}}}if(it.match("w2list_listColumn_text")){}if(it.match("w2list_listColumn_button")){}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.list.prototype.fireOnchange=function(){["WebSquare.uiplugin.list.fireOnchange"];try{WebSquare.event.fireEvent(this,"onchange");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.list.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.list.handleMouseoverEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){break;}if(it.match("w2list_listRow")){this.addClass(it.getElement(),"w2list_listRow_over");}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.list.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.list.handleMouseoutEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){break;}if(it.match("w2list_listRow")){this.removeClass(it.getElement(),"w2list_listRow_over");}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.list.prototype.handleDragEvent=function(e){["WebSquare.uiplugin.list.handleDragEvent"];var it=this.event.getTargetIterator(e);while(it.next()){if(it.match("w2list_listRow")){if(!this.options.sortable){return;}it.getElement().style.cursor="pointer";if(window.getSelection){window.getSelection().removeAllRanges();}else{if(document.selection){document.selection.empty();}}var _a8=this.id;var _a9;var _aa=it.getElement();var _ab=this.getChildNodes();for(var i=0;i<_ab.length;i++){if(_ab[i]==_aa){_a9=i;break;}}var _ad=this;WebSquare.dragdrop.gDragManager.activate(e,_aa,{id:this.id+"_drag",className:"w2list w2list_listRow w2list_drag",contents:this.options.detachMessage||" detached item ",delay:15,detachIdx:_a9,detachListId:_a8,applyMousePosition:true,onDrop:function(_ae,_af,x,y,dx,dy,e){var _b5=false;var _b6;var _b7;var _b8;var _b9;var _ba=this.detachIdx;var _bb=this.detachListId;var _bc=_ad;var _bd=null;if(this.isMobile){_bd=new WebSquare.targetIterator(document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY));e.preventDefault();}else{_bd=_ad.event.getTargetIterator(e);}while(_bd.next()){if(_bd.match("w2list_listRow")){_b5=true;_b9=_bd.getElement();var _be=_b9.parentNode.childNodes;for(var i=0;i<_be.length;i++){if(_be[i]==_b9){_b8=i;break;}}}if(_bd.match("w2list")){_b5=true;var _c0=_bd.getElement();_b7=_c0.id;_b6=window[_b7];break;}if(_bd.match(null,null,"body")){return;}}if(_b5){var _c1=false;if(typeof _b9!="object"||typeof _b8!="number"){_c1=true;_b9=_ae;_b8=(_b6.getLength()==0)?0:_b6.getLength();}if(_bb==_b7){_b8=_c1?_b8-1:_b8;if(_ba!=_b8){if(_bc.options.nodeset){_bc.moveRow(_ba,_b8);}else{_bc.moveRowNM(_ba,_b8);}}}else{var _c2=_bc.listRowObjArr[_ba];var _c3=_c2;if(_bc.options.nodeset){_bc.removeRow(_ba);}else{_bc.removeRowNM(_ba);}delete _c3["unique_id"];if(_b6.options.nodeset){_b6.insertRow(_b8,_c3);}else{_b6.insertRowNM(_b8,_c3);}}}}});return;}}};requires("uiplugin/control/itemsetControl.js");requires("uiplugin/table/itemTable.js");requires("engine/validator.js");requires("uiplugin/helper/korHelper.js");WebSquare.uiplugin.autoComplete=function(id,_2,_3){["WebSquare.uiplugin.autoComplete"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.autoComplete.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.autoComplete.prototype,WebSquare.itemsetControl.prototype);WebSquare.extend(WebSquare.uiplugin.autoComplete.prototype,WebSquare.IValidate.prototype);WebSquare.uiplugin.autoComplete.prototype.defaultOptions={pluginType:"uiplugin.autoComplete",pluginName:"autoComplete",userEvents:["onchange","oneditend"],useConfig:true,useOtherComponentId:"",value:"",chooseOption:false,chooseOptionLabel:"-\uc120\ud0dd-",chooseOptionValue:"",allOption:false,sortOption:"",sortMethod:"",wmode:false,visibleRowNum:5,displayMode:"0",delimiter:"\t",defaultStyle:"",activeStyle:"",defaultClass:"w2inputSelectDefault",activeClass:"w2inputSelectActive",useLocale:false,submenuSize:"fixed",direction:"auto",dynamicDraw:true,editable:true,search:"start",editmode:false,dataurl:"",interactionMode:false,interactionKey:"default",submission:"",submissionFunc:"",keyInputRef:"",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,interactionMinByteLength:0,title:"",noResult:"previous",escape:false,displayFormatter:"",useMousewheel:true,editModeEvent:"onclick",allowEmptySubmission:"false",searchTarget:"label",caseSensitive:true,editType:"select"};WebSquare.uiplugin.autoComplete.prototype.initialize=function(_4){["WebSquare.uiplugin.autoComplete.initialize"];try{this.itemTable=null;this.isOpen=false;this.statusSubLayer=false;this.noResult=(this.options.noResult==="previous"||this.options.noResult==="clear"||this.options.noResult==="noEnd"||this.options.noResult==="useData"||this.options.noResult==="first")?this.options.noResult:"previous";this.editable=this.options.editable;this.search=this.options.search;this.selectedItem={text:"",value:"",orgLabel:""};this.selectedGridRowObj={};this.myhelper=new WebSquare.korHelper();this.viewArr=[];this.itemArr=[];this.mytime=null;this.hideTime=null;this.editmode=this.options.editmode;this.findkeymode=false;this.mozTrickBuffer="";this.trickBuffer="";this.findStop=false;this.skipMatch=false;this.defaultAllOptionLabel=WebSquare.language.getMessage("SelectBox_all");switch(this.options.displayMode){case "0":case "1":case "2":this.displayMode=this.options.displayMode;break;case "value delim label":this.displayMode="1";break;case "label delim value":this.displayMode="2";break;case "value":this.displayMode="3";break;default:this.displayMode="0";}this.dataurl=this.options.dataurl;this.interactionMode=this.options.interactionMode;this.dataurl=this.options.dataurl;this.selectedIndex=-1;this.cursorIndex=-1;this.showRowIndex=0;this.displayCount=0;if(_4){var _5=WebSquare.xml.findNode(_4,"w2:choices");if(_5){var _6=WebSquare.xml.findNode(_5,"w2:gridItemset");if(_6&&_6.nodeName=="w2:gridItemset"){this.itemTableMode="grid";}}if(this.itemTableMode=="grid"){this.initializeGridItemArr(_4);}else{this.initializeItemArr(_4);}this.autoFinder=_4.nodeName=="w2:autoFinder"?true:false;if(this.autoFinder){this.display_path=this.options.display_path;if(typeof this.display_path!="undefined"){this.display_path=this.display_path.replace(/^\s\s*/,"").replace(/\s\s*$/,"");var _7=this.display_path.split(" ");var _8=_7[0];var _9=_7[1];var _a=_7[2];this.setItemSet(_8,_9,_a);this.buildItemArr();}}else{if(this.itemTableMode!="grid"){this.itemsetObj=WebSquare.WebSquareparser.parseItemset(_4);}}}this.setSelectItemArr();this.validator=new WebSquare.validator.validateInvoker(this.id,this.options);this.displayFormatter=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.toHTML=function(){["WebSquare.uiplugin.autoComplete.toHTML"];try{var _b=[];var _c=this.options.title==""?"":" title=\""+this.options.title+"\" ";_b.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2autoComplete "+this.options.className+"' tabIndex='0' "+_c+" role='combobox' aria-labelledby='"+this.id+"_itemTable' aria-autocomplete='inline' >");_b.push("<table class='w2autoComplete_table_main'  cellpadding='0' cellspacing='0'>");_b.push("<tbody id='"+this.id+"_main_tbody'>");_b.push("<tr class='w2autoComplete_row w2autoComplete_row_main'>");_b.push("<td class='w2autoComplete_col_label' style='"+this.options.defaultStyle+"'>");_b.push("<div class='w2autoComplete_label'>");_b.push("<span id='"+this.id+"_label' class='w2autoComplete_label'></span>");_b.push("<input id='"+this.id+"_input' class='w2autoComplete_input' style='border-width:0px; width:100%; padding:0px; display:none;' type='text' value='' "+_c+" />");_b.push("</div></td>");_b.push("<td class='w2autoComplete_col_button' id='"+this.id+"_button'  aria-labelledby='"+this.id+"_itemTable' aria-controls='"+this.id+"_itemTable' style=''></td>");_b.push("</tr></tbody>");_b.push("</table>");_b.push("</div>");return _b.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setAction=function(){["WebSquare.uiplugin.autoComplete.setAction"];try{this.dom.button=this.getElementById(this.id+"_button");this.dom.label=this.getElementById(this.id+"_label");this.dom.input=this.getElementById(this.id+"_input");if(this.options.tabIndex!=""){this.dom.input.tabIndex=this.options.tabIndex;}this.event.addListener(this.dom.input,"onblur",this.event.bindAsEventListener(this,this.handleblurEventInput));if(WebSquare.util.isMobile()){WebSquare.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,event:{"ontouchstart":this.handleClickEventDocument}});this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopPropagation(e);}));}else{if(this.options.useOtherComponentId){WebSquare.core.setTimer(function(){this.otherComponent=window[this.options.useOtherComponentId];WebSquare.getBody().getLayerListener().useOtherComponentId[this.id]=this.options.useOtherComponentId;WebSquare.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,event:{"onmousedown":this.handleClickEventDocument}});this.event.addListener(this.otherComponent.render,"onmousedown",this.event.bindAsEventListener(this.otherComponent,function(e){WebSquare.event.stopPropagation(e);}));this.otherComponent.hide();},{key:this.options.useOtherComponentId,caller:this,delay:100});}else{if(this.itemTableMode=="grid"){WebSquare.getBody().getLayerListener().useOtherComponentId[this.id]=this.id+"_gridItemTable";WebSquare.getBody().getLayerListener().addListener({component:this,fnShow:this._openOtherLayer,fnHide:this._closeOtherLayer,paramHide:{"documentClick":true},event:{"onmousedown":this.handleClickEventDocument}});}else{WebSquare.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,event:{"onmousedown":this.handleClickEventDocument}});}}this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopPropagation(e);}));}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.dom.input,"onkeypress",this.event.bindAsEventListener(this,this.handleKeypressEvent));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,this.handleMousewheelEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}if(this.modelControl.isBinded()){var _10=this.modelControl.getData();this.setValueNM(_10);}if(this.selectedIndex==-1){this.setSelectedIndexNM(0);if(this.modelControl.isBinded()){this.modelControl.setData(this.getValue());}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.refreshItemset=function(){["WebSquare.uiplugin.autoComplete.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();if(this.itemTableMode=="grid"){this.refreshGridItemArr();for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}this.setSubLayer();this.setGridData();}if(this.modelControl.isBinded()){this.refresh();}else{this.setSelectedIndexNM(0);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.refresh=function(){["WebSquare.uiplugin.autoComplete.refresh"];try{if(this.modelControl.isBinded()){var _12=this.getValue();var _13=this.modelControl.getData();if(this.setValueNM(_13)==true){if(_12!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}if(this.getValue()!=null&&_13!=this.getValue()){this.modelControl.setData(this.getValue());}}else{if(this.noResult==="clear"){this.setSelectedIndex(-1,true);}else{if(this.noResult==="previous"){this.setSelectedIndex(0);}else{if(this.noResult==="noEnd"){return;}else{if(this.noResult==="useData"){return;}else{if(this.noResult==="first"){return;}}}}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.componentRedraw=function(){["WebSquare.uiplugin.autoComplete.componentRedraw"];try{this.setSelectItemArr();this.showRowIndex=0;this.setSelectOptions();if(this.itemArr.length>0){this.dom.label.innerHTML=(this.options.escape)?WebSquare.xml._encode(this.itemArr[0].label):this.itemArr[0].label;}else{this.dom.label.innerHTML="";}this.showEditMode(false);this.setValueNM("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setSubLayer=function(){["WebSquare.uiplugin.autoComplete.setSubLayer"];try{if(this.itemTable==null){var _14=this;if(this.itemTableMode=="grid"){this.itemTable=new WebSquare.uiplugin.gridItemTable(this.id+"_gridItemTable",{style:"position : absolute; width : "+this.itemsetObj.width+"; height : "+this.itemsetObj.height+";",itemsetObj:this.itemsetObj,className:this.options.className});this.itemTable.writeTo(WebSquare.getBody());this.itemTable.activate();this.itemTable.grid.addEvent("oncellclick",function(row,col){_14.focus();row=this.getRealRowIndex(row);_14.setSelectedIndex1(_14.viewArr[row].index);});this.itemTable.grid.addEvent("onrowindexchange",function(row,_18){row=this.getRealRowIndex(row);_14.dom.input.value=(_14.options.searchTarget=="label"||_14.options.searchTarget=="both")?_14.viewArr[row].orgLabel:_14.viewArr[row].value;var _19=_14.viewArr[row].label;var _1a=(_14.options.escape)?WebSquare.xml._encode(_19):_19;_1a=_14.getFormattedValue(row,_1a);_14.dom.label.innerHTML=_1a;});this.event.addListener(this.itemTable.grid.render,"onkeydown",this.event.bindAsEventListener(this.itemTable.grid,function(e){var _1c=(e.charCode)?e.charCode:e.keyCode;if(_1c==13){_14.focus();var row=this.getFocusedRowIndex();row=this.getRealRowIndex(row);_14.setSelectedIndex1(_14.viewArr[row].index);}}));if(this.itemArr.length===0){this.itemTable.hide();}}else{this.itemTable=new WebSquare.uiplugin.itemTable(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:this.options.submenuSize,style:"",defaultStyle:this.options.defaultStyle,className:"w2input_table "+this.options.className,w2table:"w2input_table_sb",w2table_main:"w2input_table_sb_main",w2table_row:"w2input_table_sb_row",w2table_col:"w2input_table_sb_col",w2table_col_over:"w2input_table_sb_col_over",escape:this.options.escape});this.itemTable.writeTo(WebSquare.getBody());this.itemTable.activate();this.itemTable.addClickEventListener(function(_1e){["WebSquare.uiplugin.autoComplete.itemTable.addClickEventListener"];_14.findStop=true;if(_14.editmode||_14.findkeymode){_14.mozTrickBuffer="";_14.dom.input.value=_14.viewArr[_1e].label;_14.selectedItem={text:_14.viewArr[_1e].label,value:_14.viewArr[_1e].value,orgLabel:_14.viewArr[_1e].label};var _1f=_14.selectedItem.orgLabel+"|"+_14.selectedItem.value;var idx=_14.findinItemArr(_1f,"all");_14.setSelectedIndex(idx);_14.focus();_14.closeTable();}else{_14.dom.input.value=_14.viewArr[_1e].label;_14.selectedItem={text:_14.viewArr[_1e].label,value:_14.viewArr[_1e].value,orgLabel:_14.viewArr[_1e].label};_14.setSelectedIndex1(_1e);_14.focus();_14.closeTable();}});this.itemTable.addKeyDownEventListener(function(e){if(WebSquare.event.getTarget(e)!==this.render){return;}var _22=(e.charCode)?e.charCode:e.keyCode;if(_14.interactionMode==true||_14.editmode||_14.findkeymode){var _23=0;var _24=_14.selectedItem.orgLabel+"|"+_14.selectedItem.value;for(var i=0;i<_14.viewArr.length;i++){if(_24==_14.viewArr[i].label+"|"+_14.viewArr[i].value){_23=i;break;}}if(_22==13){if(_14.viewArr.lenght==0){return;}}else{if((_22==38)||(_22==9&&e.shiftKey)){if(_23==0){return;}_23=_23-1;}else{if((_22==40)||(_22==9)){if((_23+1)==_14.viewArr.length){return;}_23=_23+1;}else{if(_22==35){_23=_14.viewArr.length-1;}else{if(_22==36){_23=0;}else{if(_22==33){_23=_23-_14.viewArr.length;if(_23<0){_23=0;}}else{if(_22==34){_23=_23+_14.viewArr.length;if(_23>=_14.viewArr.length){_23=_14.viewArr.length-1;}}}}}}}}if(_14.viewArr.length>_23){_14.dom.input.value=_14.viewArr[_23].label;_14.selectedItem={text:_14.viewArr[_23].label,value:_14.viewArr[_23].value,orgLabel:_14.viewArr[_23].orgLabel};_14.itemTable.setSelectedIndex(_23);}}else{var _26=-1;_26=_14.getSelectedIndex();if((_22==38)||(_22==9&&e.shiftKey)){if(_26>0){_26=_26-1;}}else{if((_22==40)||(_22==9)){if(_26+1<_14.getItemCount()){_26=_26+1;}}else{if(_22==35){_26=_14.getItemCount()-1;}else{if(_22==36){_26=0;}else{if(_22==33){_26=_26-_14.itemTable.rowCount;if(_26<0){_26=0;}}else{if(_22==34){_26=_26+_14.itemTable.rowCount;if(_26>=_14.itemTable.getItemCount()){_26=_14.itemTable.getItemCount()-1;}}else{}}}}}}_14.setSelectedIndex(_26);_14.itemTable.setSelectedIndex(_26);}});if(this.editmode&&this.viewArr.length>0){this.setItemTable();this.itemTable.setSelectedIndex(0);}else{if(this.itemArr!=null&&this.itemArr.length>0){this.setItemTable();}else{this.itemTable.hide();if(this.itemTable.mainTable!=null&&this.itemTable.render.firstChild){this.setItemTable();}else{$l("this.itemTable.mainTable\uc774 null\uc785\ub2c8\ub2e4.");}}}}this.isOpen=true;this.closeSubLayer();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setSelectOptions=function(){["WebSquare.uiplugin.autoComplete.setSelectOptions"];try{if(this.itemTable!=null){if(this.editmode){if(this.viewArr.length==0){}else{this.itemTable.setItemArr(this.viewArr);this.itemTable.setSelectedIndex(0);}}else{if(this.itemTableMode!="grid"&&this.itemArr!=null&&this.itemArr.length!=0){this.itemTable.setItemArr(this.itemArr);}else{this.itemTable.hide();}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setItemTable=function(){["WebSquare.uiplugin.autoComplete.setItemTable"];try{this.itemTable.setItemArr(this.viewArr);var _27=this.render.offsetWidth;var _28=this.render.offsetHeight;var _29=WebSquare.style.getAbsoluteLeft(this.render);var top=0;var tds=this.itemTable.render.getElementsByTagName("td");if(tds&&tds.length>0){var _2c=tds[0].offsetHeight;var _2d=Math.min(tds.length,this.options.visibleRowNum);this.itemTable.setStyle("height",(_2d*_2c)+"px");}if(this.options.submenuSize=="fixed"||parseInt(_27)>parseInt(this.itemTable.render.offsetWidth)){this.itemTable.setStyle("width",(_27-2)+"px");if(this.itemTable.render.offsetHeight>=this.itemTable.render.scrollHeight){this.itemTable.render.firstChild.style.width=(_27)+"px";}else{this.itemTable.render.firstChild.style.width=(_27-17)+"px";}}else{if(this.itemTable.render.scrollHeight-this.itemTable.render.offsetHeight>1){this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth+17)+"px");}else{this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth)+"px");}}var _2e=this.options.direction;if(_2e=="auto"){var _2f=document.body.scrollTop;if(_2f<document.documentElement.scrollTop){_2f=document.documentElement.scrollTop;}var _30=WebSquare.style.getAbsoluteTop(this.render)-_2f;var _31=document.documentElement.clientHeight-(_30+this.render.offsetHeight);var _32=this.itemTable.render.offsetHeight;if(_31<_32&&_30>_32){_2e="up";}}if(_2e=="up"){top=WebSquare.style.getAbsoluteTop(this.render)-this.itemTable.render.offsetHeight;}else{top=WebSquare.style.getAbsoluteTop(this.render)+this.render.offsetHeight;}this.itemTable.setPosition(_29,top);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.buildItemArr=function(){try{this.modelControl.setItemset(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value);this.itemArr=[];this.itemArr=this.modelControl.getItemsetData();if(this.options.useLocale){this.itemArr=this.getLocaleItemArr(this.itemArr);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setSelectItemArr=function(){["WebSquare.uiplugin.autoComplete.setSelectItemArr"];try{if(this.options.sortOption!=""){var _33=[];var _34=null;if(this.options.sortOption=="label"){_34=function(){return this.label;};}else{if(this.options.sortOption=="value"){_34=function(){return this.value;};}}for(var i=0;i<this.itemArr.length;i++){var _36=this.itemArr[i];_36.toString=_34;_33.push(_36);}_33.sort();if(this.options.sortMethod=="descending"){_33.reverse();}this.itemArr=_33;}for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all",orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}if(this.options.chooseOption==true){this.itemArr=[{label:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel,value:this.options.chooseOptionValue,orgLabel:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel}].concat(this.itemArr);}this.viewArr=[];for(var i=0;i<this.itemArr.length;i++){this.viewArr.push({label:this.itemArr[i].label,value:this.itemArr[i].value,orgLabel:this.itemArr[i].orgLabel,index:i});}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.getViewItemText=function(idx){["WebSquare.uiplugin.autoComplete.getViewItemText"];try{var _38="";if(idx>-1&&idx<this.viewArr.length){_38=this.viewArr[idx].label;switch(this.displayMode){case "0":break;case "1":_38=this.viewArr[idx].value+this.options.delimiter+_38;break;case "2":_38=_38+this.options.delimiter+this.viewArr[idx].value;break;case "3":_38=this.viewArr[idx].value;break;default:}}return _38;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.getItemText=function(idx){["WebSquare.uiplugin.autoComplete.getItemText"];try{if(idx>-1&&idx<this.getItemCount()){if(this.itemArr[idx].value=="all"){return this.itemArr[idx].label;}if(this.displayMode=="0"){return this.itemArr[idx].label;}else{if(this.displayMode=="1"){return this.itemArr[idx].value+this.options.delimiter+this.itemArr[idx].label;}else{if(this.displayMode=="2"){return this.itemArr[idx].label+this.options.delimiter+this.itemArr[idx].value;}else{if(this.displayMode=="3"){return this.itemArr[idx].value;}else{if(this.displayMode=="label"){return this.itemArr[idx].label;}else{if(this.displayMode=="value"){return this.itemArr[idx].value;}}}}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.parseLabel=function(idx){try{if(this.itemsetObj.label.indexOf("@")>-1){var _3b=this.itemsetObj.label.split("@");if(this.itemsetObj.label.indexOf("/")>-1){var _3c=_3b[0].split("/");var _3d=_3c[_3c.length-2];var _3e=WebSquare.xml.getElementsByTagName(this.itemArr[idx].xml,_3d);var myv=WebSquare.WebSquareparser.getAttribute(_3e[0],_3b[1]);return myv;}else{var myv=WebSquare.WebSquareparser.getAttribute(this.itemArr[idx].xml,_3b[1]);return myv;}}else{if(this.itemsetObj.label.indexOf("/")>-1){var _3c=this.itemsetObj.label.split("/");var _3d=_3c[_3c.length-2];var _3e=WebSquare.xml.getElementsByTagName(this.itemArr[idx].xml,_3d);var myv=WebSquare.WebSquareparser.getAttribute(_3e[0],_3b[1]);return myv;}else{var _3e=WebSquare.xml.getElementsByTagName(this.itemArr[idx].xml,this.itemsetObj.label);return _3e[0].firstChild.nodeValue;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.parseValue=function(idx){try{if(this.itemsetObj.label.indexOf("@")>-1){var _41=this.itemsetObj.value.split("@");if(this.itemsetObj.label.indexOf("/")>-1){var _42=_41[0].split("/");var _43=_42[_42.length-2];var _44=WebSquare.xml.getElementsByTagName(this.itemArr[idx].xml,_43);var myv=WebSquare.WebSquareparser.getAttribute(_44[0],_41[1]);return myv;}else{var myv=WebSquare.WebSquareparser.getAttribute(this.itemArr[idx].xml,_41[1]);return myv;}}else{if(this.itemsetObj.label.indexOf("/")>-1){var _42=this.itemsetObj.label.split("/");var _43=_42[_42.length-2];var _44=WebSquare.xml.getElementsByTagName(this.itemArr[idx].xml,_43);var myv=WebSquare.WebSquareparser.getAttribute(_44[0],_41[1]);return myv;}else{var _44=WebSquare.xml.getElementsByTagName(this.itemArr[idx].xml,this.itemsetObj.label);return _44[0].firstChild.nodeValue;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setItemSet=function(_46,_47,_48){try{if(typeof this.itemsetObj=="undefined"){this.itemsetObj={};}var _49=false;if(_47!=this.itemsetObj.label||_48!=this.itemsetObj.value){_49=true;}this.itemsetObj.nodeset=_46;if(_49){this.itemsetObj.label=_47;this.itemsetObj.value=_48;}if(this.itemTableMode=="grid"){this.modelControl.setItemset(this.itemsetObj.nodeset,this.itemsetObj.label,this.itemsetObj.value);if(_49){for(var i=0;i<this.itemsetObj.items.length;i++){if(this.itemsetObj.items[i].id==this.itemsetObj.labelId){this.itemsetObj.items[i].ref=_47;}if(this.itemsetObj.items[i].id==this.itemsetObj.valueId){this.itemsetObj.items[i].ref=_48;}}}this.refreshGridItemArr();}else{this.buildItemArr();}for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}if(this.options.interactionMode){WebSquare.core.clearTimer(this.id+"_showEditMode",true);if(this.interactionMode){this.selectedIndex=-1;}if(this.options.allOption==true&&this.itemArr.length>0){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all",orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);if(this.itemTableMode=="grid"){var _4b=-1;var _4c={};for(var j=0;j<this.itemsetObj.items.length;j++){if(_4b==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_4b=j;}_4c[this.itemsetObj.items[j].id]="";}_4c[this.itemsetObj.items[_4b==-1?0:_4b].id]=this.defaultAllOptionLabel;this.gridRowItemArr.unshift(_4c);}}this.viewArr=[];for(var i=0;i<this.itemArr.length;i++){this.viewArr.push({label:this.itemArr[i].label,orgLabel:this.itemArr[i].orgLabel,value:this.itemArr[i].value,index:i});}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.updateTable=function(){};WebSquare.uiplugin.autoComplete.prototype.openTable=function(){try{["WebSquare.uiplugin.autoComplete.openTable"];this.showTable();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.toggle=function(){["WebSquare.uiplugin.autoComplete.toggle"];try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.openSubLayer=function(obj){["WebSquare.uiplugin.autoComplete.openSubLayer"];try{WebSquare.getBody().getLayerListener().show(this.id,obj);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype._openSubLayer=function(obj){["WebSquare.uiplugin.autoComplete._openSubLayer"];try{if(!obj){obj={};}var _50=(obj.select===undefined)?true:obj.select;this.setSubLayer();if(!this.isOpen){if(this.itemArr.length==0){return;}this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setItemTable();if(this.options.wmode==true){WebSquare.getBody().showWModeFrame(this.getPluginName(),this.itemTable.render);}if(this.selectedIndex!=-1&&_50){this.itemTable.setSelectedIndex(this.selectedIndex);}if(this.editmode){if(typeof this.dom.input!="undefined"&&this.dom.input!=null){this.dom.input.focus();}}else{}this.isOpen=true;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype._openOtherLayer=function(obj){["WebSquare.uiplugin.autoComplete._openOtherLayer"];try{if(!this.isOpen){if(this.itemArr.length==0){return;}var _52=this.otherComponent;if(this.itemTableMode=="grid"){this.setSubLayer();this.setGridData();if(this.itemsetObj.visibleRowNum!==""){this.itemTable.render.style.height=this.itemTable.grid.render.style.height;}_52=this.itemTable;_52.grid.removeFocusedCell();_52.show();_52.grid.handleResize();}else{_52.show();}var _53=WebSquare.style.getAbsoluteLeft(this.render);var top=WebSquare.style.getAbsoluteTop(this.render);var _55=this.options.direction;if(_55=="auto"||_55=="fit"){var _56=document.body.scrollTop;if(_56<document.documentElement.scrollTop){_56=document.documentElement.scrollTop;}var _57=top-_56;var _58=document.documentElement.clientHeight-(_57+this.render.offsetHeight);var _59=_52.render.offsetHeight;if(_58<_59&&_57>_59){_55="up";}}if(_55=="up"){top=top-_52.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(_55!="fit"&&document.documentElement.clientWidth<(_53+_52.render.offsetWidth)){_53=_53+this.render.offsetWidth-_52.render.offsetWidth;}if(_53<0){_53=0;}if(this.options.direction=="fit"){if(this.itemTableMode=="grid"){this.itemTable.render.firstChild.style.width="100%";}_53=WebSquare.style.getAbsoluteLeft(this.render);_52.setPosition(_53,top);var _5a=document.documentElement.clientWidth-_53;_52.setSize(_5a,_52.render.offsetHeight);}_52.setPosition(_53,top);this.isOpen=true;}else{this.setGridData();}if(this.selectedIndex!=-1){for(var i=0;i<this.viewArr.length;i++){if(this.viewArr[i].index==this.selectedIndex){this.itemTable.setSelectedIndex(i,obj&&obj.noFocus);break;}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.closeSubLayer=function(){["WebSquare.uiplugin.autoComplete.closeSubLayer"];try{WebSquare.getBody().getLayerListener().hide(this.id);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype._closeSubLayer=function(){["WebSquare.uiplugin.autoComplete._closeSubLayer"];try{if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","false");if(this.options.wmode==true){WebSquare.getBody().hideWModeFrame(this.getPluginName(),this.itemTable.id);}this.isOpen=false;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype._closeOtherLayer=function(_5c){["WebSquare.uiplugin.autoComplete._closeOtherLayer"];try{var _5c=_5c||{};var _5d=_5c.documentClick;var _5e=this.otherComponent;if(this.itemTableMode=="grid"){_5e=this.itemTable;}if(this.isOpen&&_5e!=null){_5e.hide();if(this.itemTableMode=="grid"){_5e.grid.handleResize();}this.isOpen=false;if(_5d===true){WebSquare.event.fireEvent(this,"onclose",true);}else{WebSquare.event.fireEvent(this,"onclose",false);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.getItemCount=function(){["WebSquare.uiplugin.autoComplete.getItemCount"];try{return this.itemArr.length;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setSelectedIndex=function(idx,_60){["WebSquare.uiplugin.autoComplete.setSelectedIndex"];try{if(WebSquare.util.isNull(idx)){return;}if(isNaN(idx)||idx>=this.getItemCount()){return;}if(idx<0&&!_60){return;}idx=parseInt(idx);var _61="";if(idx>-1){_61=this.itemArr[idx].value;}this.modelControl.setData(_61);var _62=this.getSelectedIndex();this.setSelectedIndexNM(idx,_60);if(_62!=this.getSelectedIndex()){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setSelectedIndexNM=function(idx,_64){["WebSquare.uiplugin.autoComplete.setSelectedIndexNM"];try{this.dummyData=null;idx=parseInt(idx);if(isNaN(idx)||idx>=this.getItemCount()){return false;}if(idx<0&&!_64){return false;}this.selectedIndex=idx;if(idx>-1){var _65=this.itemArr[idx].label;var _66=(this.options.escape)?WebSquare.xml._encode(_65):_65;_66=this.getFormattedValue(idx,_66);this.dom.label.innerHTML=_66;this.dom.input.value=_65;this.selectedItem={text:_65,value:this.itemArr[idx].value,orgLabel:this.itemArr[idx].orgLabel};if(this.itemTableMode=="grid"){this.selectedGridRowObj=this.gridRowItemArr[idx];}if(this.itemTable){this.render.setAttribute("aria-activedescendant",this.itemTable.id+"_"+idx);}}else{this.dom.label.innerHTML="";this.dom.input.value="";}this.showEditMode(false);return true;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.autoComplete.getSelectedIndex"];try{return this.selectedIndex;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setValue=function(_67){["WebSquare.uiplugin.autoComplete.setValue"];try{if(WebSquare.util.isNull(_67)){return;}var _68=this.getValue();if(this.setValueNM(_67)==true){this.modelControl.setData(_67);if(_68!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}else{this.setSelectedIndex(0);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setValueNM=function(_69){["WebSquare.uiplugin.autoComplete.setValueNM"];try{if(WebSquare.util.isNull(_69)){return;}_69=_69.toString();var _6a=this.getItemCount();for(var i=0;i<_6a;i++){if(this.itemArr[i].value==_69){this.setSelectedIndexNM(i);return true;}}return false;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.getValue=function(){["WebSquare.uiplugin.autoComplete.getValue"];try{if(this.dummyData){return this.dummyData.value;}else{if(this.itemArr[this.selectedIndex]){return this.itemArr[this.selectedIndex].value;}else{return null;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setText=function(_6c){["WebSquare.uiplugin.autoComplete.setText"];try{var _6d=this.getItemCount();var _6e="";for(var i=0;i<_6d;i++){if(this.itemArr[i].label==_6c){_6e=this.itemArr[i].value;}}this.setValue(_6e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.getText=function(){["WebSquare.uiplugin.autoComplete.getText"];try{if(this.dummyData){return this.dummyData.label;}else{if(this.itemArr[this.selectedIndex]){return this.itemArr[this.selectedIndex].label;}else{return null;}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setItem=function(_70,_71,_72,_73){["WebSquare.uiplugin.autoComplete.setItem"];try{if(!this.itemArr){return;}if(this.itemArr.length<=_73){return;}this.itemArr[_73].label=_70;this.itemArr[_73].value=_71;this.itemArr[_73].label=this.getItemText(_73);this.itemArr[_73].orgLabel=_70;this.itemArr[_73].xml=_72;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.addItem=function(_74,_75,_76,_77){["WebSquare.uiplugin.autoComplete.addItem"];try{if(this.itemTableMode=="grid"){return;}var _78;if(_76==null){var _79="<DATA><label>"+WebSquare.xml.encode(_74)+"</label><value>"+WebSquare.xml.encode(_75)+"</value></DATA>";_78=WebSquare.xml.parse(_79);}var _7a={label:_74,value:_75,orgLabel:_74,xml:_78};if(_77===undefined){this.itemArr.push(_7a);}else{this.itemArr.splice(_77,0,_7a);if(_77<=this.selectedIndex){this.setSelectedIndexNM(_77+1);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.getItem=function(_7b){["WebSquare.uiplugin.autoComplete.getItem"];try{if(_7b===undefined){return;}if(_7b>=this.itemArr.length||_7b<0){return;}if(this.itemTable&&this.itemsetObj.sortIndex&&this.gridItemArr.length>0){return this.itemArr[this.itemTable.grid.getRealRowIndex(_7b)];}else{return this.itemArr[_7b];}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.getItemCount=function(){["WebSquare.uiplugin.autoComplete.getItemCount"];try{return this.itemArr.length;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.getSearchedItems=function(){["WebSquare.uiplugin.autoComplete.getSearchedItems"];try{return this.viewArr;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.getSelectedRow=function(){["WebSquare.uiplugin.autoComplete.getSelectedRow"];try{if(this.itemTableMode=="grid"){return this.selectedGridRowObj;}else{var _7c={};_7c["label"]=this.selectedItem.orgLabel;_7c["value"]=this.selectedItem.value;return _7c;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.onPropertyChange=function(_7d,_7e){["WebSquare.uiplugin.autoComplete.onPropertyChange"];try{switch(_7d){case "disabled":if(_7e==true){this.closeSubLayer();this.addClass("w2autoComplete_disabled");}else{this.removeClass("w2autoComplete_disabled");}var _7f=this.getElementById(this.id+"_input");_7f.disabled=_7e;break;case "readOnly":if(_7e==true){this.addClass("w2autoComplete_readonly");}else{this.removeClass("w2autoComplete_readonly");}var _7f=this.getElementById(this.id+"_input");_7f.readOnly=_7e;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setSelectedIndex1=function(idx){["WebSquare.uiplugin.autoComplete.setSelectedIndex1"];try{this.setSelectedIndex(idx);this.closeSubLayer();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.validate=function(){["WebSquare.uiplugin.autoComplete.validate"];try{var _81=this.validator.validate(this.getValue());if(!_81){this.focus();}return _81;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.autoComplete.handleClickEvent"];try{if(this.options.disabled){return false;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2autoComplete_input")){if(this.isOpen){return;}}if(it.match("w2autoComplete_col_label")){if(this.isOpen){this.closeSubLayer();}this.changeMode();return;}}this.mozTrickBuffer="";this.editmode=false;if(!this.options.interactionMode){this.viewArr=[];for(var i=0;i<this.itemArr.length;i++){this.viewArr.push({label:this.itemArr[i].label,value:this.itemArr[i].value,orgLabel:this.itemArr[i].orgLabel,index:i});}}if(!this.options.useOtherComponentId){var _85=this.isOpen;this.setSubLayer();if(_85==this.isOpen){this.toggle();}}else{this.toggle();}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.handleClickEventDocument=function(e){["WebSquare.uiplugin.autoComplete.handleClickEventDocument"];try{if(!this.event.isMe(e,this.render)){if(this.inputBlurInside){WebSquare.core.setTimer(this.endEdit,{key:this.id+"_handleClickEventDocument",caller:this,delay:1});this.inputBlurInside=false;}if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}if(this.itemTable!=null&&this.findkeymode==false){if(WebSquare.getBody().getLayerListener().isShow(this.id)){this.closeSubLayer();}}else{if(this.itemTable!=null&&this.findkeymode==true){this.findkeymode=true;}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.endEdit=function(){["WebSquare.uiplugin.autoComplete.endEdit"];try{var _87=this.dom.input.value;var ret=WebSquare.event.fireEvent(this,"oneditend",_87);if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}var _89="";if(this.noResult==="useData"){var idx=this.findinItemArr(this.dom.input.value);if(idx===undefined){idx=0;this.addItem(this.dom.input.value,this.dom.input.value,null,idx);}this.setSelectedIndex(idx);}if(this.dom.input!=null&&this.itemArr!=null&&this.selectedIndex!=-1){if(this.selectedItem.text==this.dom.input.value&&this.dom.input.value!=""){_89=(this.options.escape)?WebSquare.xml._encode(this.selectedItem.text):this.selectedItem.text;_89=this.getFormattedValue(this.selectedIndex,_89);this.dom.label.innerHTML=_89;}else{if(this.itemArr&&this.itemArr[this.selectedIndex]){_89=(this.options.escape)?WebSquare.xml._encode(this.itemArr[this.selectedIndex].label):this.itemArr[this.selectedIndex].label;_89=this.getFormattedValue(this.selectedIndex,_89);this.dom.label.innerHTML=_89;}else{this.dom.label.innerHTML="";}}}this.showEditMode(false);this.mozTrickBuffer="";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.handleblurEventInput=function(){["WebSquare.uiplugin.autoComplete.handleblurEventInput"];if(this.dom.input.style.display!="none"){var _8b=this.itemTable?(this.itemTableMode=="grid"?this.itemTable.grid.render:this.itemTable.render):null;for(var _8c=document.activeElement;_8c.parentNode;_8c=_8c.parentNode){if(_8c==_8b){this.inputBlurInside=true;return;}}this.endEdit();if(this.isOpen){this.closeSubLayer();}}};WebSquare.uiplugin.autoComplete.prototype.handleKeypressEvent=function(e){["WebSquare.uiplugin.autoComplete.handleKeypressEvent"];try{var _8e=this.dom.input.value;if(!this.validator.validateKeyPress(this.dom.input,_8e,e)){WebSquare.event.stopEvent(e);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.autoComplete.handleKeydownEvent"];try{if(this.event.isMe(e,this.dom.input)){this.editmode=true;this.inputKeyDown(e,false);return;}else{var _90=(e.charCode)?e.charCode:e.keyCode;if(WebSquare.core.browserCheck.opera){if((_90==18)&&!this.isOpen){this.handleClickEvent(e);return;}else{if(_90==13&&!this.isOpen){this.changeMode();return;}}}else{if((_90==40||_90==38)&&!this.isOpen){this.handleClickEvent(e);return;}else{if(_90==13&&!this.isOpen){this.changeMode();return;}}}if(this.itemTable!=null&&this.viewArr.length>0){if(this.isOpen==true&&this.itemTableMode!="grid"){this.itemTable.handleKeydownEvent(e);}this.editmode=false;}else{if(this.itemTable!=null){if(this.itemTable.render.style.display==""){return;}}}}if(this.itemTable!=null){if(this.itemTable.render.style.display==""){return;}}return;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.find=function(){try{var _91=this.dom.input.value;if(_91==""){this.mozTrickBuffer=_91;if(this.itemTable!=null){this.closeSubLayer();}return;}if(this.mozTrickBuffer==_91){this.mozTrickBuffer=_91;return;}else{this.mozTrickBuffer=_91;}if(this.isOpen){this.closeSubLayer();}this.viewArr=[];if(!this.options.caseSensitive){_91=_91.toLowerCase();}for(var i=0;i<this.itemArr.length;i++){var _93=false;if(!this.itemArr[i].orgLabel){this.itemArr[i].orgLabel=this.itemArr[i].label;this.itemArr[i].label=this.getItemText(i);}if(!_93&&(this.options.searchTarget=="label"||this.options.searchTarget=="both")){var _94=(this.options.caseSensitive)?this.itemArr[i].orgLabel:this.itemArr[i].orgLabel.toLowerCase();if(this.search=="contain"){_93=this.myhelper.containWith(_94,_91);}else{if(this.search=="start"){_93=this.myhelper.startWith(_94,_91);}else{if(this.search=="none"){if(_94==_91){_93=true;}else{_93=false;}}}}}if(!_93&&(this.options.searchTarget=="value"||this.options.searchTarget=="both")){var _95=(this.options.caseSensitive)?this.itemArr[i].value:this.itemArr[i].value.toLowerCase();if(this.search=="contain"){_93=this.myhelper.containWith(_95,_91);}else{if(this.search=="start"){_93=this.myhelper.startWith(_95,_91);}else{if(this.search=="none"){if(_95==_91){_93=true;}else{_93=false;}}}}}if(_93){this.viewArr.push({value:this.itemArr[i].value,label:this.itemArr[i].label,orgLabel:this.itemArr[i].orgLabel,index:i});}}if(this.options.disabled){return false;}if(this.viewArr.length>0){if(!this.isOpen){if(this.options.allOption==true){this.viewArr=[{label:this.defaultAllOptionLabel,value:"all",orgLabel:this.defaultAllOptionLabel,index:0}].concat(this.viewArr);}if(this.itemTableMode=="grid"){this.openSubLayer({noFocus:true});}else{this.openSubLayer({select:false});}}}else{this.closeSubLayer();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.runSubmission=function(_96){try{var _97=true;var _98=this.dom.input.value;var _99=WebSquare.util.getStringByteSize(_98);if(this.options.interactionMinByteLength>0&&this.options.interactionMinByteLength>_99){_97=false;}if(this.options.allowEmptySubmission!="false"&&_98==""){}else{if(this.options.interactionKey=="default"){if(this.mozTrickBuffer==_98){_97=false;}}}if(_97){this.mozTrickBuffer=_98;if(this.options.submissionFunc.wq_trim()!=""){eval(this.options.submissionFunc+"('"+_98+"', "+_96+")");}else{if(this.options.submission.wq_trim()!=""){var _9a="<key>"+WebSquare.xml.encode(_98)+"</key>";WebSquare.WebSquaredoc.models[0].rebuild(WebSquare.xml.parse(_9a),this.options.keyInputRef);WebSquare.WebSquaredoc.models[0].refresh();WebSquare.ModelUtil.executeSubmission(this.options.submission);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.inputKeyDown=function(e,_9c){["WebSquare.uiplugin.autoComplete.inputKeyDown"];try{if(_9c==false){var _9d=(e.charCode)?e.charCode:e.keyCode;}if(this.interactionMode){this.editmode=false;if(_9c==false){if(this.options.interactionKey=="default"||this.isOpen){if(_9d==40&&!this.isOpen){}else{if(_9d==38||_9d==33||_9d==40||_9d==34||_9d==35||_9d==36){if(WebSquare.core.browserCheck.chrome||WebSquare.core.browserCheck.safari||WebSquare.util.isIE(8)){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if(WebSquare.core.browserCheck.moz||WebSquare.core.browserCheck.opera){this.findStop=true;}}if(this.itemTableMode!="grid"){this.arrowHandle(e);}if(WebSquare.getBody().getLayerListener().isShow(this.id)){if(this.itemTableMode=="grid"){this.itemTable.grid.setFocusedCell(0,0);}else{this.itemTable.focus();}}return;}else{if(_9d==13){this.enterHandle(e);return;}else{if(_9d==9||(_9d==9&&e.shiftKey)){if(this.dom.input.value==""||this.viewArr.length==0){this.endEdit();return;}if(this.itemTableMode!="grid"){this.arrowHandle(e);}if(WebSquare.getBody().getLayerListener().isShow(this.id)){if(this.itemTableMode=="grid"){this.itemTable.grid.setFocusedCell(0,0);}else{this.itemTable.focus();}}if(WebSquare.core.browserCheck.chrome||WebSquare.core.browserCheck.safari||WebSquare.util.isIE(8)){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if(WebSquare.core.browserCheck.moz||WebSquare.core.browserCheck.opera){this.findStop=true;}}this.endEdit();return;}}}}}else{if(this.options.interactionKey=="all"){}}}var _9e=this;this.mytime=setTimeout(function(){_9e.runSubmission(_9d);},100);return;}else{if(_9c==false){if(_9d==40&&!this.isOpen){if(this.dom.input.value.wq_trim()==""){this.render.click();return;}}else{if(_9d==38||_9d==33||_9d==40||_9d==34||_9d==35||_9d==36){if(WebSquare.core.browserCheck.chrome||WebSquare.core.browserCheck.safari||WebSquare.util.isIE(8)){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if(WebSquare.core.browserCheck.moz||WebSquare.core.browserCheck.opera){this.findStop=true;}}this.arrowHandle(e);if(WebSquare.getBody().getLayerListener().isShow(this.id)&&this.itemTableMode!="grid"){this.itemTable.focus();}return;}else{if(_9d==13){this.enterHandle(e);return;}else{if(_9d==9||(_9d==9&&e.shiftKey)){if(this.dom.input.value==""||this.viewArr.length==0){this.endEdit();return;}this.arrowHandle(e);if(WebSquare.getBody().getLayerListener().isShow(this.id)){this.itemTable.focus();}if(WebSquare.core.browserCheck.chrome||WebSquare.core.browserCheck.safari||WebSquare.util.isIE(8)){if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}}else{if(WebSquare.core.browserCheck.moz||WebSquare.core.browserCheck.opera){this.findStop=true;}}this.endEdit();return;}}}}}this.selectedItem={text:"",value:"",orgLabel:""};this.selectedGridRowObj={};if(!WebSquare.core.browserCheck.moz||!WebSquare.core.browserCheck.opera){if(this.itemArr.length>0){var _9e=this;this.mytime=setTimeout(function(){_9e.find();},100);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.arrowHandle=function(e){try{var _a0=(e.charCode)?e.charCode:e.keyCode;if(this.itemTable==null){return;}if(this.editmode||this.findkeymode){if(this.dom.input.value==""||this.viewArr.length==0){WebSquare.event.stopEvent(e);return;}}var _a1=0;for(var i=0;i<this.viewArr.length;i++){if(this.selectedItem.orgLabel==this.viewArr[i].orgLabel){_a1=i;break;}}if(_a0==9||(_a0==9&&e.shiftKey)){}else{if(this.itemTableMode!="grid"){this.itemTable.handleKeydownEvent(e);}}if(this.viewArr.length>0){this.dom.input.value=this.viewArr[_a1].label;this.selectedItem={text:this.viewArr[_a1].label,value:this.viewArr[_a1].value,orgLabel:this.viewArr[_a1].orgLabel};this.itemTable.setSelectedIndex(_a1);}this.mozTrickBuffer="";return;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.enterHandle=function(e){["WebSquare.uiplugin.autoComplete.enterHandle"];try{var _a4=this.dom.input.value;var ret=WebSquare.event.fireEvent(this,"oneditend",_a4);if(this.itemTable==null||this.itemTable.selectedCell==null){if(this.itemTable==null&&!this.options.useOtherComponentId){this.setSubLayer();}if(this.itemTable.selectedCell==null){var idx=this.findinItemArr(this.dom.input.value);if(this.noResult==="clear"){if(idx===undefined){idx=-1;}this.setSelectedIndex(idx,true);}else{if(this.noResult==="previous"){if(this.interactionMode==true){if(idx===undefined){idx=-1;}}this.setSelectedIndex(idx,true);}else{if(this.noResult==="noEnd"){if(idx===undefined){return;}else{this.setSelectedIndex(idx);}}else{if(this.noResult==="useData"){if(idx===undefined){idx=0;this.addItem(this.dom.input.value,this.dom.input.value,null,idx);}this.setSelectedIndex(idx);}else{if(this.noResult==="first"){if(this.viewArr.length>0){index=this.findinItemArr(this.viewArr[0].value,"value");this.setSelectedIndex(index);}}}}}}}}if(WebSquare.core.browserCheck.opera){WebSquare.event.stopEvent(e);}this.mozTrickBuffer="";if(this.itemTable.selectedCell!=null){var _a7=this.findinItemArr(this.dom.input.value);if(this.noResult==="clear"){if(_a7===undefined){_a7=-1;}this.setSelectedIndex(_a7,true);}else{if(this.noResult==="previous"){if(this.interactionMode==true){if(_a7===undefined){_a7=-1;}this.setSelectedIndex(_a7,true);}else{if(_a7===undefined){_a7=this.itemTable.selectedCell.index;if(typeof _a7=="undefined"){_a7=this.itemTable.selectedCell.getAttribute("index");}}this.setSelectedIndex(_a7);}}else{if(this.noResult==="noEnd"){if(_a7===undefined){return;}this.setSelectedIndex(_a7);}else{if(this.noResult==="useData"){if(_a7===undefined){_a7=0;this.addItem(this.dom.input.value,this.dom.input.value,null,_a7);}this.setSelectedIndex(_a7);}else{if(this.noResult==="first"){if(this.viewArr.length>0){_a7=this.findinItemArr(this.viewArr[0].value,"value");this.setSelectedIndex(_a7);}}}}}}}if(this.mytime){clearTimeout(this.mytime);}if(this.hideTime){clearTimeout(this.hideTime);}this.showEditMode(false);this.focus();this.closeTable();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.findinItemArr=function(str,_a9){try{var _aa=_a9||"label";for(var i=0;i<this.itemArr.length;i++){if(_aa==="value"){if(str==this.itemArr[i].value){return i;}}else{if(_aa==="label"){if(str==this.itemArr[i].orgLabel){return i;}}else{if(_aa==="all"){if(str==this.itemArr[i].orgLabel+"|"+this.itemArr[i].value){return i;}}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.closeTable=function(){try{this.closeSubLayer();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.showTable=function(){try{this.openSubLayer({select:false});}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.handleMousewheelEvent=function(e){["WebSquare.uiplugin.autoComplete.handleMousewheelEvent"];try{WebSquare.event.stopEvent(e);if(!this.options.useMousewheel){return;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2autoComplete_selected")){if(!this.isOpen){var _ae=this.getSelectedIndex();if(e.wheelDelta>0||e.detail<0){this.setSelectedIndex(_ae-1);}else{this.setSelectedIndex(_ae+1);}}else{var _ae=this.itemTable.selectedCell.index;if(typeof _ae=="undefined"){_ae=this.itemTable.selectedCell.getAttribute("index");this.dom.input.value=this.viewArr[_ae].label;}if(e.wheelDelta>0||e.detail<0){this.itemTable.setSelectedIndex(_ae);}else{this.itemTable.setSelectedIndex(_ae);}}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.autoComplete.handleFocusEvent"];try{WebSquare.event.stopEvent(e);if(!this.isOpen){var _b0=document.getElementById(this.id+"_main_tbody");this.addClass(_b0,"w2autoComplete_selected");if(this.options.editModeEvent=="onfocus"){this.changeMode();}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.autoComplete.handleBlurEvent"];try{WebSquare.event.stopEvent(e);if(!this.isOpen){var _b2=document.getElementById(this.id+"_main_tbody");this.removeClass(_b2,"w2autoComplete_selected");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.autoComplete.handleMouseoverEvent"];try{WebSquare.event.stopEvent(e);if(!WebSquare.util.isIE(6)){if(!this.isOpen){var _b4=document.getElementById(this.id+"_main_tbody");this.addClass(_b4,"w2autoComplete_selected");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.autoComplete.handleMouseoutEvent"];try{WebSquare.event.stopEvent(e);if(!this.isOpen){var _b6=document.getElementById(this.id+"_main_tbody");this.removeClass(_b6,"w2autoComplete_selected");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.changeMode=function(){["WebSquare.uiplugin.autoComplete.changeMode"];try{this.editmode=true;this.findStop=false;if(this.dom.input.style.display!="block"){var _b7="";if(this.options.searchTarget=="value"){_b7=this.selectedItem.value;}else{if(this.options.searchTarget=="label"||this.options.searchTarget=="both"){_b7=this.selectedItem.orgLabel;}else{_b7=this.selectedItem.orgLabel;}}if(this.options.editType=="focus"){this.showEditMode(true);if(document.activeElement!=this.dom.input){this.dom.input.focus();}var _b8=WebSquare.xml.decode(_b7);this.dom.input.value=_b8;if(WebSquare.util.isOpera()||WebSquare.util.isFF()){this.dom.input.setSelectionRange(_b8.length,_b8.length);}}else{this.dom.input.value=WebSquare.xml.decode(_b7);this.showEditMode(true);this.dom.input.select();this.dom.input.focus();}}if(WebSquare.core.browserCheck.moz||WebSquare.core.browserCheck.opera){this.mozTrickCompare();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.showEditMode=function(_b9){["WebSquare.uiplugin.autoComplete.showEditMode"];if(_b9){this.dom.label.style.display="none";this.dom.label.style.visibility="hidden";this.dom.input.style.display="block";this.dom.input.style.visibility="visible";}else{WebSquare.core.setTimer(function(){this.dom.input.style.display="none";this.dom.input.style.visibility="hidden";this.dom.label.style.display="block";this.dom.label.style.visibility="visible";},{key:this.id+"_showEditMode",caller:this,delay:1});}};WebSquare.uiplugin.autoComplete.prototype.setfFocus=function(){["WebSquare.uiplugin.autoComplete.setfFocus"];try{this.dom.input.focus();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.mozTrickCompare=function(){["WebSquare.uiplugin.autoComplete.mozTrickCompare"];try{var _ba=this;if(this.dom.input.value!=this.trickBuffer){this.trickBuffer=this.dom.input.value;if(this.findStop==false){_ba.inputKeyDown(null,true);}}setTimeout(function(){_ba.mozTrickCompare();},10);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setInputFocus=function(){["WebSquare.uiplugin.autoComplete.setInputFocus"];try{this.changeMode();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setItemTableFocus=function(){["WebSquare.uiplugin.autoComplete.setItemTableFocus"];try{if(WebSquare.getBody().getLayerListener().isShow(this.id)){this.itemTable.focus();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.setEditMode=function(){["WebSquare.uiplugin.autoComplete.setInputFocus"];try{this.setInputFocus();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.removeAll=function(_bb){["WebSquare.uiplugin.autoComplete.removeAll"];try{this.selectedItem={text:"",value:"",orgLabel:""};this.itemArr=new Array();if(_bb){if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all",orgLabel:this.defaultAllOptionLabel}].concat(this.itemArr);}if(this.options.chooseOption==true){this.itemArr=[{label:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel,value:this.options.chooseOptionValue,orgLabel:this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel}].concat(this.itemArr);}}this.setSelectOptions(this.itemArr);if(this.itemArr.length>0){this.dom.label.innerHTML=(this.options.escape)?WebSquare.xml._encode(this.itemArr[0].label):this.itemArr[0].label;}else{this.dom.label.innerHTML="";}if(this.itemTableMode=="grid"){this.viewArr=[];this.gridItemArr=[];this.gridRowItemArr=[];this.selectedGridRowObj={};if(this.itemTable){this.itemTable.grid.removeAll();}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.initAutoComplete=function(){["WebSquare.uiplugin.autoComplete.initAutoComplete"];try{this.removeAll();this.selectedIndex=-1;this.selectedItem={text:"",value:"",orgLabel:""};this.dom.input.value="";this.dummyData=null;if(this.isOpen){this.closeSubLayer();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.autoComplete.prototype.hide=function(){["WebSquare.autoComplete.hide"];try{this.closeSubLayer();WebSquare.css.prototype.hide.call(this);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.autoComplete.prototype.getFormattedValue=function(_bc,_bd){["WebSquare.autoComplete.getFormattedValue"];try{var ret=_bd;if(this.options.displayFormatter){if(!this.displayFormatter){this.fixedIndex=-1;if(this.options.allOption==true){this.fixedIndex++;}if(this.options.chooseOption==true){this.fixedIndex++;}try{this.displayFormatter=(this.options.displayFormatter)?eval(this.options.displayFormatter):null;}catch(e){}}if(this.displayFormatter&&_bc>this.fixedIndex){ret=this.displayFormatter(_bd);}}return ret;}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.autoComplete.prototype.setRef=function(ref){["WebSquare.uiplugin.autoComplete.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.autoComplete.prototype.setGridData=function(){["WebSquare.uiplugin.autoComplete.prototype.setGridData"];this.itemTable.grid.clearFilter();this.itemTable.grid.setTopRowIndex(0);var _c0=this.itemsetObj.labelId;var _c1=this.itemsetObj.valueId;if(!this.options.interactionMode){this.gridItemArr=[];for(var i=0;i<this.viewArr.length;i++){for(var j=0;j<this.gridRowItemArr.length;j++){if(this.viewArr[i].orgLabel===this.gridRowItemArr[j][_c0]&&this.viewArr[i].value===this.gridRowItemArr[j][_c1]){for(var key in this.gridRowItemArr[j]){this.gridItemArr.push(this.gridRowItemArr[j][key]);}break;}}}}this.itemTable.grid.setData(this.gridItemArr.slice(0));if(this.options.allOption){var _c5=[];var _c6=-1;for(var j=0;j<this.itemsetObj.items.length;j++){if(_c6==-1&&this.itemsetObj.items[j].ref==this.itemsetObj.label){_c6=j;}_c5.push("");}_c5[_c6==-1?0:_c6]=this.defaultAllOptionLabel;this.itemTable.grid.setRowData(0,_c5,false);}if(this.itemsetObj.sortIndex&&this.gridItemArr.length>0){var _c7=[];if(this.options.allOption){var col=this.itemsetObj.sortIndex.split(" ")[0];var _c9=this.itemTable.grid.getCellInfo(col).options.dataType;var _ca=parseInt(this.itemsetObj.sortOrder.split(" ")[0],10);_c7[0]=function(a,b,i,j){if(i==0){return -1;}else{if(j==0){return 1;}else{if(_c9=="number"){a=Number(a);b=Number(b);}else{a=a||"";b=b||"";}if(a>b){return 1*_ca;}else{if(a<b){return -1*_ca;}else{return 0;}}}}};}this.itemTable.grid.multisort({sortIndex:this.itemsetObj.sortIndex,sortOrder:this.itemsetObj.sortOrder,sortFuncArr:_c7});}else{this.itemTable.grid.notifyDataChanged({keepTop:true});}};WebSquare.uiplugin.autoComplete.prototype.setDummyData=function(_cf,_d0){this.dummyData={value:_cf,label:_d0};this.selectedIndex=-1;this.showEditMode(false);this.selectedItem={text:_d0,value:_cf,orgLabel:_d0};var _d1=(this.options.escape)?WebSquare.xml._encode(_d0):_d0;this.dom.label.innerHTML=_d1;this.dom.input.value=_d0;};requires("uiplugin.input");WebSquare.uiplugin.spinner=function(id,_2,_3){["WebSquare.uiplugin.spinner"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.spinner.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.spinner.prototype.defaultOptions={pluginType:"uiplugin.spinner",pluginName:"spinner",userEvents:["onDownButtonClick","onUpButtonClick"],buttonPosition:"horizon",buttonSize:30,spinnerClass:"type1",maxValue:10,minValue:1,dataType:"number",increment:1,dateIncrementType:"day",defalutValue:0,inputReadOnly:false,ioFormat:"yyyyMMdd",ioFormatter:"",displayFormat:"",displayFormatter:"",dateMask:"yyyy/MM/dd",timeMask:"HH:mm",numberMask:"",euroMask:"",rupeeMask:"",tengeMask:"",delimeter:"",decimalDelimeter:""};WebSquare.uiplugin.spinner.prototype.initialize=function(_4){["WebSquare.uiplugin.spinner.initialize"];var _5=this.options.style;var _6=this.options.readOnly;this.options.style="position:absolute;width:0px;height:100%";this.options.readOnly=this.options.inputReadOnly;if(this.options.displayFormat==""){switch(this.options.dataType){case "date":this.options.displayFormat=this.options.dateMask;break;case "time":this.options.displayFormat=this.options.timeMask;break;case "number":this.options.displayFormat=this.options.numberMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "euro":this.options.displayFormat=this.options.euroMask;if(!this.options.delimeter){this.options.delimeter=".";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=",";}break;case "rupee":this.options.displayFormat=this.options.rupeeMask;if(!this.options.delimeter){this.options.delimeter=",";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter=".";}break;case "tenge":this.options.displayFormat=this.options.tengeMask;if(!this.options.delimeter){this.options.delimeter=" ";}if(!this.options.decimalDelimeter){this.options.decimalDelimeter="-";}break;}}this.input=new WebSquare.uiplugin.input(this.id+"___input",this.options,_4);this.options.style=_5;this.options.readOnly=_6;this.addControl(this.input);this.modelControl.ref="";this.input.modelControl.id=this.id;if(this.options.skin&&this.options.skin!=""){this.options.spinnerClass=this.options.skin;}if(this.options.max&&this.options.max!=""){this.options.maxValue=this.options.max;}if(this.options.min&&this.options.min!=""){this.options.minValue=this.options.min;}var _7=this;};WebSquare.uiplugin.spinner.prototype.toHTML=function(){["WebSquare.uiplugin.spinner.toHTML"];try{var _8=[];var _9="";if(this.options.buttonPosition=="vertical"){_9="w2_vertical ";}else{_9="w2_horizon ";}_9+=this.options.spinnerClass+" ";_8.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2spinner "+_9+this.options.className+"'>");_8.push("<div id='"+this.id+"_upButton' class='w2spinner_up'>");_8.push("<div class='w2spinner_up_start'></div>");_8.push("<div class='w2spinner_up_center'></div>");_8.push("<div class='w2spinner_up_end'></div>");_8.push("<div id='"+this.id+"_upButton_image' class='w2spinner_up_image'></div>");_8.push("</div>");_8.push("<div id='"+this.id+"_downButton' class='w2spinner_down'>");_8.push("<div class='w2spinner_down_start'></div>");_8.push("<div class='w2spinner_down_center'></div>");_8.push("<div class='w2spinner_down_end'></div>");_8.push("<div id='"+this.id+"_downButton_image' class='w2spinner_down_image'></div>");_8.push("</div>");_8.push(this.getChild(this.id+"___input").toHTML());_8.push("</div>");return _8.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.spinner.prototype.setAction=function(){["WebSquare.uiplugin.spinner.setAction"];try{if(this.options.dataType=="date"){this.dateValidator=null;this.input.validator.addCommand(new WebSquare.validator.dateCommand());this.input.validator.addCommand(new WebSquare.validator.ignoreCharCommand(" -/:-~"));var _a=0;_a=this.options.ioFormat.length;this.input.validator.addCommand(new WebSquare.validator.maxLengthCommand(_a));this.input.validator.addCommand(new WebSquare.validator.minLengthCommand(_a));this.validMesssage=WebSquare.language.getMessage("IC_invalidCalendarSelect");if(this.validMesssage==null||this.validMesssage==""){this.validMesssage="\ub0a0\uc9dc \ud615\uc2dd\uc774 \uc798\ubabb \ub418\uc5c8\uc2b5\ub2c8\ub2e4.";}}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));this.event.addListener(this.render,"onmousewheel",this.event.bindAsEventListener(this,this.handleMousewheelEvent));this.setInputStyle();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.spinner.prototype.setSize=function(_b,_c){["WebSquare.uiplugin.spinner.setSize"];try{WebSquare.css.prototype.setSize.call(this,_b,_c);this.setInputStyle();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.spinner.prototype.refreshItemset=function(){["WebSquare.uiplugin.spinner.refreshItemset"];};WebSquare.uiplugin.spinner.prototype.refresh=function(){["WebSquare.uiplugin.spinner.refresh"];};WebSquare.uiplugin.spinner.prototype.setInputStyle=function(_d,_e,_f,_10){this.input.originalStyleObj={paddingTop:parseInt(this.input.getStyle("padding-top"))||0,paddingBottom:parseInt(this.input.getStyle("padding-bottom"))||0,paddingLeft:parseInt(this.input.getStyle("padding-left"))||0,paddingRight:parseInt(this.input.getStyle("padding-right"))||0,borderTopWidth:parseInt(this.input.getStyle("border-top-width"))||0,borderBottomWidth:parseInt(this.input.getStyle("border-bottom-width"))||0,borderLeftWidth:parseInt(this.input.getStyle("border-left-width"))||0,borderRightWidth:parseInt(this.input.getStyle("border-right-width"))||0};var _11=this.input.originalStyleObj.paddingLeft+this.input.originalStyleObj.paddingRight+this.input.originalStyleObj.borderLeftWidth+this.input.originalStyleObj.borderRightWidth;var _12=this.input.originalStyleObj.paddingTop+this.input.originalStyleObj.paddingBottom+this.input.originalStyleObj.borderTopWidth+this.input.originalStyleObj.borderBottomWidth;if(this.options.buttonPosition=="vertical"){this.input.setStyle("width",this.render.clientWidth+"px");this.input.setStyle("height",this.render.clientHeight-_12-this.options.buttonSize+"px");}else{this.input.setStyle("width",this.render.clientWidth-_11-this.options.buttonSize+"px");this.input.setStyle("height",this.render.offsetHeight+"px");}this.input.setVerticalAlign();};WebSquare.uiplugin.spinner.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.spinner.handleClickEvent"];var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2spinner_up")){this.upButtonClick();break;}else{if(it.match("w2spinner_down")){this.downButtonClick();break;}}}it=null;};WebSquare.uiplugin.spinner.prototype.handleMousewheelEvent=function(e){["WebSquare.uiplugin.spinner.handleMousewheelEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match(null,this.id)){}if(it.match("w2spinner")){if(e.wheelDelta>0||e.detail<0){this.upButtonClick();break;}else{WebSquare.event.fireEvent(this,"onDownButtonClick");this.downButtonClick();break;}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.spinner.prototype.upButtonClick=function(){if(false!=WebSquare.event.fireEvent(this,"onUpButtonClick")){if(this.options.dataType=="number"){var _17=Number(this.getValue())+Number(this.options.increment);if(_17<=Number(this.options.maxValue)){this.setValue(_17);}else{this.setValue(this.options.maxValue);}}else{var _17="";if(this.options.ioFormat.length==8){_17=this.calcurateDate(this.getValue(),this.options.increment,"day");}else{_17=this.calcurateDate(this.getValue(),this.options.increment,"month");}this.setValue(_17);}}};WebSquare.uiplugin.spinner.prototype.downButtonClick=function(){if(false!=WebSquare.event.fireEvent(this,"onDownButtonClick")){if(this.options.dataType=="number"){var _18=Number(this.getValue())-Number(this.options.increment);if(_18>=Number(this.options.minValue)){this.setValue(_18);}else{this.setValue(this.options.minValue);}}else{var _18="";if(this.options.ioFormat.length==8){_18=this.calcurateDate(this.getValue(),this.options.increment*(-1),"day");}else{_18=this.calcurateDate(this.getValue(),this.options.increment*(-1),"month");}this.setValue(_18);}}};WebSquare.uiplugin.spinner.prototype.calcurateDate=function(_19,_1a,_1b){var y1=parseInt(_19.substring(0,4),10);var m1=parseInt(_19.substring(4,6),10);var d1="";_1a=parseInt(_1a,10);if(_19.length==8){d1=parseInt(_19.substring(6,8),10);}if(_1b=="day"){_19=WebSquare.date.dateAdd(_19,_1a);return _19;}else{m1=m1+_1a;if(m1>12){y1=y1+parseInt(m1/12);m1=parseInt(m1%12);}else{if(m1<0){y1=y1-(parseInt(m1*(-1)/12)+1);m1=12-(parseInt(m1*(-1)%12));}else{if(m1==0){y1=y1-1;m1=12;}}}if(m1<10){m1="0"+m1;}if(d1){if(d1<10){d1="0"+d1;}return y1+""+m1+""+d1;}else{return y1+""+m1;}}};WebSquare.uiplugin.spinner.prototype.setDisabled=function(_1f){["WebSquare.xfControl.setDisabled"];try{_1f=WebSquare.xfControl.prototype.setDisabled.call(this,_1f);this.input.setDisabled(_1f);}catch(e){WebSquare.exception.printStackTrace(e);}return _1f;};WebSquare.uiplugin.spinner.apiExtend=function(){var _20=WebSquare.uiplugin.input.prototype;var _21=WebSquare.uiplugin.spinner.prototype;for(prop in _20){if(!_21[prop]){_21[prop]=(function(_22){return function(){return this.input[_22].apply(this.input,arguments);};})(prop);}}_21["refresh"]=(function(_23){return function(){return this.input[_23].apply(this.input,arguments);};})("refresh");};WebSquare.uiplugin.spinner.apiExtend();requires("uiplugin/control/itemsetControl.js");requires("uiplugin.scrollView");WebSquare.uiplugin.spinPicker=function(id,_2,_3){["WebSquare.uiplugin.spinPicker"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.spinPicker.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.spinPicker.prototype.defaultOptions={pluginType:"uiplugin.spinPicker",pluginName:"spinPicker",userEvents:["onchange"],delimiter:" ",scrollDuration:-1};WebSquare.uiplugin.spinPicker.prototype.getNewItem=function(_4,_5){var id=this.id+"_item_"+_4;var _7=function(id,_9,_a){WebSquare.uiplugin.scrollView.call(this,id,_9,_a);};WebSquare.extend(_7.prototype,WebSquare.uiplugin.scrollView.prototype);WebSquare.extend(_7.prototype,WebSquare.itemsetControl.prototype);var _5=WebSquare.extendKeepingType({verticalScroll:true,horizontalScroll:false,verticalPaging:false,horizontalPaging:false,bounce:true,showVerticalScroll:false,showHorizontalScroll:false,ref:_5.choices?_5.choices.getAttribute("ref"):""},_5);_7.prototype.getSlideFactor=function(_b,_c){var _d=WebSquare.uiplugin.scrollView.prototype.getSlideFactor.call(_7,_b,_c);var _e=this.getScrollTop()+_d;var _f=this.getItemHeight();var _10=parseInt((_e+_f/2)/_f,10);_e=_10*_f;return _e-this.getScrollTop();};_7.prototype.handleTouchEnd=function(e){WebSquare.uiplugin.scrollView.prototype.handleTouchEnd.call(this,e);if(this.isSliding){return;}var _12=this.getItemHeight();var _13=parseInt((this.getScrollTop()+_12/2)/_12,10);if(0<=_13&&_13<this.itemArr.length&&this.getScrollTop()!=_13*_12){this.scrollTo(null,_13*_12,this.options.scrollDuration!=-1?{duration:this.options.scrollDuration}:null);}};_7.prototype.componentRedraw=function(){var _14=[];var _15=this.dom.container;if(!_15){return;}_14.push("<div class='w2spinPicker_topPadding'></div>");_14.push("<div class='w2spinPicker_itembox'>");for(var i=0;i<this.itemArr.length;i++){_14.push("<div class='w2spinPicker_item'>"+this.itemArr[i].label+"</div>");}_14.push("</div>");_14.push("<div class='w2spinPicker_bottomPadding'></div>");_15.innerHTML=_14.join("");this.dom.topPadding=_15.childNodes[0];this.dom.itembox=_15.childNodes[1];this.dom.bottomPadding=_15.childNodes[2];var _17=this.getItemHeight();var _18=parseInt((this.render.offsetHeight-_17)/2,10);var _19=this.render.offsetHeight-_18-_17;this.dom.topPadding.style.height=_18+"px";this.dom.bottomPadding.style.height=_19+"px";this._scrollTo(null,_17*this.selectedIndex);};_7.prototype.refreshItemset=function(){if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}};_7.prototype.addItem=function(_1a,_1b,idx){idx=parseInt(idx,10);if(isNaN(idx)){idx=this.itemArr.length;}else{if(idx<0||idx>=this.itemArr.length){idx=this.itemArr.length;}}this.itemArr.splice(idx,0,{value:_1a,label:_1b});this.componentRedraw();return idx;};_7.prototype.deleteItem=function(idx){idx=parseInt(idx,10);if(isNaN(idx)){idx=this.itemArr.length-1;}var _1e=null;if(idx>=0&&idx<this.itemArr.length){_1e=(this.itemArr.splice(idx,1))[0];}this.componentRedraw();var _1f=this.getItemHeight();if(idx<this.selectedIndex||(idx==this.selectedIndex&&idx==this.itemArr.length)){this.selectedIndex--;this.scrollTo(null,_1f*this.selectedIndex,this.options.scrollDuration!=-1?{duration:this.options.scrollDuration}:null);}return _1e;};_7.prototype.getItemHeight=function(){var _20=this.dom.itembox.firstChild;return _20?_20.offsetHeight:0;};var _21=new _7(id,_5);_21.stopSlide=(function(_22,_23){return function(_24){if(this.isSliding){WebSquare.uiplugin.scrollView.prototype.stopSlide.call(this,_24);if(!this.isTouched){var _25=false;var _26=[];var _27=this.getItemHeight();for(var i=0;i<_22.childControlList.length;i++){if(_22.childControlList[i].isSliding){_25=true;break;}_26[i]=parseInt((_22.childControlList[i].getScrollTop()+1)/_27,10);}if(!_25){var _29=_22.getSelectedIndex();var _2a=_26.join(_22.options.delimiter);if(_29!=_2a){_22.setSelectedIndex(_2a);}}}}};})(this,_4);return _21;};WebSquare.uiplugin.spinPicker.prototype.initialize=function(_2b){if(_2b.getElementsByTagNameNS){var _2c=_2b.getElementsByTagNameNS("*","choices");}else{var _2c=_2b.getElementsByTagName("w2:choices");}for(var i=0;i<_2c.length;i++){var _2e=this.getNewItem(i,_2c[i]);window[id]=_2e.id;_2e.initializeItemArr(_2c[i]);_2e.selectedIndex=0;this.addControl(_2e);}};WebSquare.uiplugin.spinPicker.prototype.toHTML=function(){["WebSquare.uiplugin.spinPicker.toHTML"];try{var _2f=[];_2f.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2spinPicker "+this.options.className+"'>");_2f.push("<div id='"+this.id+"_selectedRowBar' class='w2spinPicker_selectedRowBar'></div>");_2f.push("<div id='"+this.id+"_topGradient' class='w2spinPicker_topGradient'></div>");_2f.push("<div id='"+this.id+"_bottomGradient' class='w2spinPicker_bottomGradient'></div>");for(var i=0;i<this.childControlList.length;i++){_2f.push(this.childControlList[i].toHTML());}_2f.push("</div>");return _2f.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.spinPicker.prototype.setAction=function(){this.setLayout();if(this.modelControl.isBinded()){var _31=this.modelControl.getData();this.setValueNM(_31);}};WebSquare.uiplugin.spinPicker.prototype.setLayout=function(){for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].componentRedraw();}};WebSquare.uiplugin.spinPicker.prototype.refresh=function(){if(this.modelControl.isBinded()){var _33=this.getValue();var _34=this.modelControl.getData();if(this.setValueNM(_34)==true){if(_33!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}if(this.getValue()!=null&&_34!=this.getValue()){this.modelControl.setData(this.getValue());}}}};WebSquare.uiplugin.spinPicker.prototype.getValue=function(_35){["WebSquare.uiplugin.spinPicker.getValue"];try{var _35=_35||this.options.delimiter;var ret=[];for(var i=0;i<this.childControlList.length;i++){var _38=this.childControlList[i];ret.push(_38.itemArr[_38.selectedIndex].value);}return ret.join(_35).wq_trim();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.spinPicker.prototype.setValueNM=function(_39){["WebSquare.uiplugin.spinPicker.setValueNM"];try{if(WebSquare.util.isNull(_39)){return false;}var _3a=_39.split(this.options.delimiter);var _3b=[];for(var i=0;i<this.childControlList.length;i++){var _3d=this.childControlList[i];for(var j=0;j<_3d.itemArr.length;j++){if(_3a[i]==_3d.itemArr[j].value){_3b[i]=j;break;}}if(_3b[i]==undefined){_3b=null;break;}}if(_3b){this.setSelectedIndexNM(_3b.join(this.options.delimiter));return true;}return false;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.spinPicker.prototype.setValue=function(_3f){["WebSquare.uiplugin.spinPicker.setValue"];try{if(WebSquare.util.isNull(_3f)){return;}var _40=this.getValue();if(this.setValueNM(_3f)==true){this.modelControl.setData(_3f);if(_40!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.spinPicker.prototype.getText=function(_41){["WebSquare.uiplugin.spinPicker.getText"];try{var _41=_41||this.options.delimiter;var ret=[];for(var i=0;i<this.childControlList.length;i++){var _44=this.childControlList[i];ret.push(_44.itemArr[_44.selectedIndex].label);}return ret.join(_41).wq_trim();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.spinPicker.prototype.setText=function(_45){["WebSquare.uiplugin.spinPicker.setText"];try{if(WebSquare.util.isNull(_45)){return;}var _46=_45.split(this.options.delimiter);var _47=[];for(var i=0;i<this.childControlList.length;i++){var _49=this.childControlList[i];for(var j=0;j<_49.itemArr.length;j++){if(_46[i]==_49.itemArr[j].label){_47[i]=_49.itemArr[j].value;break;}}}this.setValue(_47.join(this.options.delimiter));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.spinPicker.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.spinPicker.getSelectedIndex"];try{var _4b=[];for(var i=0;i<this.childControlList.length;i++){_4b.push(this.childControlList[i].selectedIndex);}return _4b.join(this.options.delimiter);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.spinPicker.prototype.setSelectedIndexNM=function(_4d){["WebSquare.uiplugin.spinPicker.setSelectedIndexNM"];try{var _4e=_4d.split(this.options.delimiter);for(var i=0;i<this.childControlList.length;i++){if(isNaN(_4e[i])||_4e[i]<0||_4e[i]>=this.childControlList[i].itemArr.length){return false;}}for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].selectedIndex=parseInt(_4e[i],10);var _50=this.childControlList[i].getItemHeight();if(this.childControlList[i].getScrollTop()!=_4e[i]*_50){this.childControlList[i].scrollTo(null,_4e[i]*_50,this.options.scrollDuration!=-1?{duration:this.options.scrollDuration}:null);}}return true;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.spinPicker.prototype.setSelectedIndex=function(_51){["WebSquare.uiplugin.spinPicker.setSelectedIndex"];try{var _52=this.getSelectedIndex();this.setSelectedIndexNM(_51);this.modelControl.setData(this.getValue());if(_52!=_51){WebSquare.event.fireEvent(this,"onchange");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.spinPicker.prototype.setRef=function(ref){["WebSquare.uiplugin.spinPicker.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};requires("uiplugin.spinPicker");requires("uiplugin/helper/dateHelper.js");requires("engine/formatter.js");WebSquare.uiplugin.datePicker=function(id,_2,_3){["WebSquare.uiplugin.datePicker"];WebSquare.uiplugin.spinPicker.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.datePicker.prototype,WebSquare.uiplugin.spinPicker.prototype);WebSquare.uiplugin.datePicker.prototype.defaultOptions={pluginType:"uiplugin.datePicker",pluginName:"datePicker",userEvents:["onchange"],useConfig:true,delimiter:" ",monthNames:"&nbsp;1\uc6d4,&nbsp;2\uc6d4,&nbsp;3\uc6d4,&nbsp;4\uc6d4,&nbsp;5\uc6d4,&nbsp;6\uc6d4,&nbsp;7\uc6d4,&nbsp;8\uc6d4,&nbsp;9\uc6d4,10\uc6d4,11\uc6d4,12\uc6d4",yearSuffix:"\ub144",dateSuffix:"\uc77c",ampm:"\uc624\uc804,\uc624\ud6c4",minuteInterval:1,calendarValueType:"yearMonthDate",support24Hour:false,minYear:1978,maxYear:2030,useLocale:false};WebSquare.uiplugin.datePicker.prototype.initialize=function(_4){if(this.options.useLocale){WebSquare.extendKeepingType(this.options,{yearSuffix:this.getLocaleValue("DatePicker_yearSuffix"),monthNames:this.getLocaleValue("DatePicker_monthNames"),dateSuffix:this.getLocaleValue("DatePicker_dateSuffix"),ampm:this.getLocaleValue("DatePicker_ampm")});}if(parseInt(60/this.options.minuteInterval,10)*this.options.minuteInterval!=60){this.options.minuteInterval=1;}var _5=new Date();var _6={"year":_5.getFullYear()-this.options.minYear,"month":_5.getMonth(),"date":_5.getDate()-1,"ampm":_5.getHours()<12?0:1,"hour":this.options.support24Hour?_5.getHours():_5.getHours()%12,"minute":parseInt(_5.getMinutes()/this.options.minuteInterval,10),"second":_5.getSeconds()};var _7=[];var _8={};var _9=[];var _a=this.options.calendarValueType.toLowerCase();if(_a.indexOf("time")){_a=_a.replace("time","hourminute");}var _b=["year","month","date","hour","minute","second"];for(var i=0;i<_b.length;i++){if(_a.indexOf(_b[i])>=0){if(_b[i]=="hour"&&!this.options.support24Hour){_8["ampm"]=_7.length;_7.push("ampm");_9.push(_6["ampm"]);}_8[_b[i]]=_7.length;_7.push(_b[i]);_9.push(_6[_b[i]]);}}this.colTypeArr=_7;this.colTypeObj=_8;var _d=this.options.monthNames.split(",");var _e=this.options.ampm.split(",");for(var i=0;i<_7.length;i++){var id=this.id+"_item_"+i;var _10=this.options.calendarValueType+"_"+_7[i];var _11=this.getNewItem(id,{className:_10});window[id]=_11;_11.itemArr=[];_11.selectedIndex=_9[i];switch(_7[i]){case "year":for(var j=this.options.minYear;j<=this.options.maxYear;j++){_11.addItem(j,j+this.options.yearSuffix);}break;case "month":for(var j=0;j<12;j++){_11.addItem(j+1,_d[j]);}break;case "date":for(var j=1;j<=31;j++){_11.addItem(j,j+this.options.dateSuffix);}break;case "ampm":_11.addItem("AM",_e[0]);_11.addItem("PM",_e[1]);break;case "hour":for(var j=0;j<(this.options.support24Hour?24:12);j++){_11.addItem(j,(!this.options.support24Hour&&j==0)?12:j);}break;case "minute":for(var j=0;j<60;j+=this.options.minuteInterval){_11.addItem(j,j);}break;}this.addControl(_11);}this.selectedDateHelper=new WebSquare.uiplugin.dateHelper(this.options.serverSync);};WebSquare.uiplugin.datePicker.prototype.toHTML=function(){["WebSquare.uiplugin.datePicker.toHTML"];var _13=[];_13.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2datePicker w2spinPicker "+this.options.className+"'>");_13.push("<div id='"+this.id+"_topGradient' class='w2spinPicker_topGradient'></div>");_13.push("<div id='"+this.id+"_bottomGradient' class='w2spinPicker_bottomGradient'></div>");_13.push("<div id='"+this.id+"_selectedRowBar' class='w2spinPicker_selectedRowBar'></div>");for(var i=0;i<this.childControlList.length;i++){_13.push(this.childControlList[i].toHTML());}_13.push("</div>");return _13.join("");};WebSquare.uiplugin.datePicker.prototype.setAction=function(){WebSquare.uiplugin.spinPicker.prototype.setAction.call(this);};WebSquare.uiplugin.datePicker.prototype.getDateString=function(_15){var _16="";var _17=["year","month","date","hour","minute","second"];for(var i=0;i<_17.length;i++){var _19=_17[i];if(this.colTypeObj[_19]!=null){var _1a=_15[this.colTypeObj[_19]];if(!this.options.support24Hour&&_19=="hour"&&_15[this.colTypeObj["ampm"]]=="PM"){_1a+=12;}(_1a<10)&&(_1a="0"+_1a);_16+=_1a;}}return _16;};WebSquare.uiplugin.datePicker.prototype.getDateArray=function(str){var _1c=[];var _1d=["year","month","date","hour","minute","second"];for(var i=0;i<_1d.length;i++){var _1f=_1d[i];if(this.colTypeObj[_1f]!=null){var len=_1f=="year"?4:2;var _21=parseInt(str.substr(0,len),10);if(!this.options.support24Hour&&_1f=="hour"){_1c.push(_21<12?"AM":"PM");_21%=12;}_1c.push(_21);str=str.slice(len);}}return _1c;};WebSquare.uiplugin.datePicker.prototype.refresh=function(){if(this.modelControl.isBinded()){var _22=this.getValue();var _23=this.modelControl.getData();var _24=this.getDateArray(_23);if(this.setValueNM(_24.join(this.options.delimiter))==true){if(_22!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}if(this.getValue()!=null&&_23!=this.getValue()){this.modelControl.setData(this.getValue());}}}};WebSquare.uiplugin.datePicker.prototype.getItemValue=function(key){["WebSquare.uiplugin.datePicker.getItemValue"];try{var _26=null;var _27=this.colTypeObj[key];if(_27!=null){var _28=this.childControlList[_27];_26=_28.itemArr[_28.selectedIndex].value;if(key=="hour"){var _29=this.colTypeObj["ampm"];var _2a=this.childControlList[_29];if(_2a&&_2a.itemArr[_2a.selectedIndex].value=="PM"){_26+=12;}}}else{return "";}return _26;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.datePicker.prototype.setItemValue=function(key,_2c){["WebSquare.uiplugin.datePicker.setItemValue"];try{if(WebSquare.util.isNull(key)||WebSquare.util.isNull(_2c)){return;}var _2d=this.getValue();var _2e=this.getDateArray(_2d);if(this.colTypeObj[key]==null){return;}_2e[this.colTypeObj[key]]=_2c;if(key=="hour"&&this.colTypeObj["ampm"]!=null){_2e[this.colTypeObj["ampm"]]=(_2c<12)?"AM":"PM";_2e[this.colTypeObj[key]]=(_2c<12)?_2c:_2c-12;}if(this.setValueNM(_2e.join(this.options.delimiter))==true){var _2f=this.getValue();this.modelControl.setData(_2f);if(_2d!=_2f){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.datePicker.prototype.getValue=function(){["WebSquare.uiplugin.datePicker.getValue"];try{var _30=[];for(var i=0;i<this.childControlList.length;i++){var _32=this.childControlList[i];_30.push(_32.itemArr[_32.selectedIndex].value);}return this.getDateString(_30);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.datePicker.prototype.setValue=function(_33){["WebSquare.uiplugin.datePicker.setValue"];try{if(WebSquare.util.isNull(_33)){return;}var _34=this.getDateArray(_33);var _35=this.getValue();if(this.setValueNM(_34.join(this.options.delimiter))==true){this.modelControl.setData(_33);if(_35!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.datePicker.prototype.setDisabled=function(_36){["WebSquare.uiplugin.datePicker.setDisabled"];var ret=WebSquare.xfControl.prototype.setDisabled.call(this,_36);for(var i=0;i<this.childControlList.length;i++){this.childControlList[i].setDisabled(_36);}return ret;};WebSquare.uiplugin.datePicker.prototype.setSelectedIndexNM=function(_39){WebSquare.uiplugin.spinPicker.prototype.setSelectedIndexNM.call(this,_39);if(this.colTypeObj["year"]!=null&&this.colTypeObj["month"]!=null&&this.colTypeObj["date"]!=null){this.selectedDateHelper.setDateAllByString(this.getValue().substr(0,6)+"01");var _3a=this.selectedDateHelper.getMonthCount(this.selectedDateHelper.getYear(),this.selectedDateHelper.getMonth());var _3b=this.childControlList[this.colTypeObj["date"]];var _3c=_3b.itemArr.length;if(_3a<_3c){for(var i=_3a;i<_3c;i++){_3b.deleteItem();}}else{if(_3a>_3c){for(var i=_3c+1;i<=_3a;i++){_3b.addItem(i,i+this.options.dateSuffix);}}}}};WebSquare.uiplugin.datePicker.prototype.setRef=function(ref){["WebSquare.uiplugin.datePicker.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};requires("uiplugin.group");WebSquare.uiplugin.slider=function(id,_2,_3){["WebSquare.uiplugin.slider"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.slider.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.slider.prototype.defaultOptions={pluginType:"uiplugin.slider",pluginName:"slider",userEvents:["onthumbmove","onmovedone"],minValue:0,maxValue:100,increment:1,vertical:false,showScale:false,moveBack:false,animationDuration:0.5,value:0,animationMathOption:"round",tooltipShow:false,tooltipDisplay:false,tooltipTime:0.1,tooltipClass:"",tooltipAlways:false,tooltipFormatter:null,bothSideValue:6,setBackground:false,changeDirection:false,title:""};WebSquare.uiplugin.slider.prototype.initialize=function(_4){["WebSquare.uiplugin.slider.initialize"];try{this.thumbList=[];this.areaValue=[];this.positionValue=[];this.bothSideValue=this.options.bothSideValue;if(this.options.vertical==true){this.areaValue[0]="Height";this.positionValue[0]="Top";this.areaValue[1]="Width";this.positionValue[1]="Left";}else{this.areaValue[0]="Width";this.positionValue[0]="Left";this.areaValue[1]="Height";this.positionValue[1]="Top";}if(this.options.value){if(parseInt(this.options.value,10)>this.options.maxValue){this.options.value=this.options.maxValue+"";}else{if(parseInt(this.options.value,10)<this.options.minValue){this.options.value=this.options.minValue+"";}}}if(this.options.tooltipDisplay==true){this.options.tooltipShow=this.options.tooltipDisplay;}if(_4){var _5="w2:";var _6=WebSquare.xml.findNodes(_4,_5+"thumb");if(_6.length==0){var _7={id:"thumb1",index:0,parentId:this.id,value:this.options.value};this.thumbList[0]=new WebSquare.uiplugin.thumb(_7);}else{for(var i=0;i<_6.length;i++){var _7=WebSquare.WebSquareparser.parseAttribute(_6[i]);_7.parentId=this.id;_7.index=i;this.thumbList[i]=new WebSquare.uiplugin.thumb(_7);}}}else{var _7={id:"thumb1",index:0,parentId:this.id,value:this.options.value};this.thumbList[0]=new WebSquare.uiplugin.thumb(_7);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.toHTML=function(){["WebSquare.uiplugin.slider.toHTML"];try{var _9=[];var _a="";this.scaleCnt=0;var _b=this.options.title?" title='"+this.options.title+"'":"";if(this.options.maxValue>=this.options.minValue&&this.options.maxValue>=this.options.increment){this.scaleCnt=(this.options.maxValue-this.options.minValue)/this.options.increment-1;}if(this.options.vertical==true){_a="w2slider_vertical";}else{_a="w2slider_horizon";}_9.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2slider "+_a+" "+this.options.className+"' ");_9.push("role='slider' aria-valuemin='"+this.options.minValue+"' aria-valuemax='"+this.options.maxValue+"' aria-valuenow='"+this.options.value+"' aria-labele='"+this.options.value+"' >");_9.push("<div id='"+this.id+"_startLayer"+"' class='w2slider_startLayer'>");_9.push("</div>");_9.push("<div id='"+this.id+"_centerLayer"+"' class='w2slider_centerLayer'>");_9.push("</div>");_9.push("<div id='"+this.id+"_endLayer"+"' class='w2slider_endLayer'>");_9.push("</div>");_9.push("<div id='"+this.id+"_bgLayer"+"' class='w2slider_bgLayer'>");_9.push("</div>");if(this.options.showScale){_9.push("<div id='"+this.id+"_scale_start_0"+"' class='w2slider_scale_L"+"'></div>");_9.push("<div id='"+this.id+"_scale_start_1"+"' class='w2slider_scale_L"+"'></div>");for(var i=0;i<this.scaleCnt;i++){_9.push("<div id='"+this.id+"_scale_0_"+i+"' class='w2slider_scale'></div>");_9.push("<div id='"+this.id+"_scale_1_"+i+"' class='w2slider_scale'></div>");}_9.push("<div id='"+this.id+"_scale_end_0"+"' class='w2slider_scale_L"+"'></div>");_9.push("<div id='"+this.id+"_scale_end_1"+"' class='w2slider_scale_L"+"'></div>");}_9.push("</div>");return _9.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.setAction=function(){["WebSquare.uiplugin.slider.setAction"];try{this.drawTumb();if(this.modelControl.isBinded()){var _d=this.modelControl.getData();this.setThumbValueNM(_d,0);}if(WebSquare.util.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydown));this.event.addListener(document.documentElement,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(document.documentElement,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){WebSquare.event.preventDefault(e);}));}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.drawTumb=function(){["WebSquare.uiplugin.slider.drawTumb"];try{this.dom.start=WebSquare.document.getElementById(this.id+"_startLayer");this.dom.center=WebSquare.document.getElementById(this.id+"_centerLayer");this.dom.end=WebSquare.document.getElementById(this.id+"_endLayer");this.dom.bg=WebSquare.document.getElementById(this.id+"_bgLayer");this.dom.start.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.dom.center.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.dom.end.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.dom.bg.style[this.areaValue[1].toLowerCase()]=this.render["offset"+this.areaValue[1]]+"px";this.bothSideValue=this.dom.start["offset"+this.areaValue[0]];this.dom.center.style[this.positionValue[0].toLowerCase()]=this.bothSideValue-2+"px";this.dom.center.style[this.areaValue[0].toLowerCase()]=this.render["offset"+this.areaValue[0]]-(this.bothSideValue*2)+4+"px";this.dom.bg.style[this.positionValue[0].toLowerCase()]=this.bothSideValue-2+"px";for(var i=0;i<this.thumbList.length;i++){this.render.appendChild(this.thumbList[i].getThumbRender());this.thumbList[i].inputRender.setAttribute("title",this.options.title);this.render.appendChild(this.thumbList[i].inputRender);this.event.addListener(this.thumbList[i].inputRender,"onblur",this.event.bindAsEventListener(this,this.handleInputBlur));}this.thumbArea=parseInt(this.thumbList[0].render["offset"+this.areaValue[0]],10);this.thumbPosition=(this.render["offset"+this.areaValue[1]]-this.thumbList[0].render["offset"+this.areaValue[1]])/2;for(var i=0;i<this.thumbList.length;i++){this.thumbList[i].render.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+"px";}this.minPosition=WebSquare.style["getAbsolute"+this.positionValue[0]](this.render);this.maxPosition=parseInt(this.render["offset"+this.areaValue[0]],10)-this.thumbArea+1;this.bgStValue=this.options.minValue;if(this.options.showScale){var _10=WebSquare.document.getElementById(this.id+"_scale_start_0");var _11=WebSquare.document.getElementById(this.id+"_scale_start_1");_10.style[this.positionValue[0].toLowerCase()]=this.thumbArea/2+"px";_11.style[this.positionValue[0].toLowerCase()]=this.thumbArea/2+"px";_10.style[this.positionValue[1].toLowerCase()]=this.thumbPosition-_10["offset"+this.areaValue[1]]-3+"px";_11.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+this.thumbList[0].render["offset"+this.areaValue[1]]+3+"px";var _12=WebSquare.document.getElementById(this.id+"_scale_end_0");var _13=WebSquare.document.getElementById(this.id+"_scale_end_1");_12.style[this.positionValue[0].toLowerCase()]=this.render["offset"+this.areaValue[0]]-this.thumbArea/2+"px";_13.style[this.positionValue[0].toLowerCase()]=this.render["offset"+this.areaValue[0]]-this.thumbArea/2+"px";_12.style[this.positionValue[1].toLowerCase()]=this.thumbPosition-_10["offset"+this.areaValue[1]]-3+"px";_13.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+this.thumbList[0].render["offset"+this.areaValue[1]]+3+"px";var _14=this.options.increment/(this.options.maxValue-this.options.minValue)*100;var _15=this.render["offset"+this.areaValue[0]]-this.thumbArea;for(var i=0;i<this.scaleCnt;i++){var _16=WebSquare.document.getElementById(this.id+"_scale_0_"+i);var _17=WebSquare.document.getElementById(this.id+"_scale_1_"+i);_16.style[this.positionValue[0].toLowerCase()]=_15/100*_14*(i+1)+this.thumbArea/2+"px";_17.style[this.positionValue[0].toLowerCase()]=_15/100*_14*(i+1)+this.thumbArea/2+"px";_16.style[this.positionValue[1].toLowerCase()]=this.thumbPosition-_16["offset"+this.areaValue[1]]-3+"px";_17.style[this.positionValue[1].toLowerCase()]=this.thumbPosition+this.thumbList[0].render["offset"+this.areaValue[1]]+3+"px";}}this.initThumbPosition();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.refresh=function(){["WebSquare.uiplugin.slider.refresh"];try{if(this.modelControl.isBinded()){var _18=this.modelControl.getData();this.setThumbValueNM(_18,0);WebSquare.event.fireEvent(this,"onthumbmove",this.thumbList[0].value,this.thumbList[0].id);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.initThumbPosition=function(){["WebSquare.uiplugin.slider.initThumbPosition"];try{for(var i=0;i<this.thumbList.length;i++){if(!this.thumbList[i].render){this.thumbList[i].render=document.getElementById(this.id+"_"+this.thumbList[i].id);}this.thumbList[i].render.style[this.positionValue[0].toLowerCase()]=this.valueToPosition(this.thumbList[i].value)+"px";this.setBackGroundImage(this.thumbList[i].value);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.getCurrentThumbElement=function(){["WebSquare.uiplugin.slider.getCurrentThumbElement"];try{return this.thumbList[this.movedIndex].render;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.getCurrentThumb=function(){["WebSquare.uiplugin.slider.getCurrentThumb"];try{return this.thumbList[this.movedIndex];}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.getThumbValue=function(_1a){if(!_1a){_1a=0;}return parseFloat(this.thumbList[_1a].value,10);};WebSquare.uiplugin.slider.prototype.getValue=function(){return this.getThumbValue(0);};WebSquare.uiplugin.slider.prototype.setThumbValue=function(_1b,_1c){["WebSquare.uiplugin.slider.setThumbValue"];try{if(!_1c){_1c=0;}this.moveThumb(_1c,_1b);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.setValue=function(_1d){this.setThumbValue(_1d,0);};WebSquare.uiplugin.slider.prototype.setThumbValueNM=function(_1e,_1f){this.thumbList[_1f].value=_1e;this.thumbList[_1f].inputRender.value=_1e;if(this.options.moveBack!=true){this.thumbList[_1f].render.style[this.positionValue[0].toLowerCase()]=this.valueToPosition(_1e)+"px";}this.setBackGroundImage(_1e);this.render.setAttribute("aria-valuenow",_1e);};WebSquare.uiplugin.slider.prototype.positionToValue=function(_20){["WebSquare.uiplugin.slider.positionToValue"];try{var _21=(this.options.maxValue-this.options.minValue)*(_20-this.minPosition)/this.maxPosition+this.options.minValue;_21=this.options.changeDirection?this.options.maxValue-_21:_21;return _21;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.valueToPosition=function(_22){["WebSquare.uiplugin.slider.valueToPosition"];try{if(this.options.maxValue-this.options.minValue===0){if(this.options.minValue===0){return 0;}else{return this.maxPosition;}}if(_22>this.options.maxValue){_22=this.options.maxValue;}else{if(_22<this.options.minValue){_22=this.options.minValue;}}var _23=(_22-this.options.minValue)*this.maxPosition/(this.options.maxValue-this.options.minValue);_23=this.options.changeDirection?this.maxPosition-_23:_23;_23=Math.ceil(_23);return _23;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.setBackGroundImage=function(_24){var _25=this.valueToPosition(_24);var _26=false;if(_25===this.maxPosition){_26=true;}if(this.options.setBackground==true){if(this.options.changeDirection==true){this.dom.bg.style[this.positionValue[0].toLowerCase()]=_25+"px";if(this.bgStValue<_24||_26){this.addClass(this.dom.end,"w2slider_endLayerBg");}else{this.removeClass(this.dom.end,"w2slider_endLayerBg");}this.dom.bg.style[this.areaValue[0].toLowerCase()]=parseInt(this.render["offset"+this.areaValue[0]],10)-_25-this.bothSideValue+2+"px";}else{if(this.bgStValue<_24||_26){this.addClass(this.dom.start,"w2slider_startLayerBg");}else{this.removeClass(this.dom.start,"w2slider_startLayerBg");}this.dom.bg.style[this.areaValue[0].toLowerCase()]=_25+"px";}}};WebSquare.uiplugin.slider.prototype.moveThumb=function(_27,_28){["WebSquare.uiplugin.slider.moveThumb"];try{var _29=false;var _2a="";if(_28<=this.options.minValue){_28=this.options.minValue;}else{if(_28>=this.options.maxValue){_28=this.options.maxValue;}}if(this.options.moveBack==false){var _2b={};if(_28>this.thumbList[_27].value){_2b=Math.floor;}else{_2b=Math.ceil;}if(_28===this.options.maxValue){_2a=_28;}else{_28-=this.options.minValue;_2a=_2b(_28/this.options.increment)*this.options.increment;_2a+=this.options.minValue;if(_2a>this.options.maxValue){_2a=this.options.maxValue;}}}else{this.thumbList[_27].render.style[this.positionValue[0].toLowerCase()]=this.valueToPosition(_28)+"px";this.lastThumbPosition=this.valueToPosition(_28);_2a=Math[this.options.animationMathOption](_28/this.options.increment)*this.options.increment;}if(_2a!=this.thumbList[_27].value){this.modelControl.setData(_2a);this.setThumbValueNM(_2a,_27);WebSquare.event.fireEvent(this,"onthumbmove",this.thumbList[_27].value,this.thumbList[_27].id);return true;}else{return false;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.slideAnimation=function(_2c,_2d,_2e){["WebSquare.uiplugin.slider.slideAnimation"];try{var _2f=this.options.animationDuration*1000;var _30=10;function CubicBezierAtTime(t,p1x,p1y,p2x,p2y,_36){var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;function sampleCurveX(t){return ((ax*t+bx)*t+cx)*t;}function sampleCurveY(t){return ((ay*t+by)*t+cy)*t;}function sampleCurveDerivativeX(t){return (3*ax*t+2*bx)*t+cx;}function solveEpsilon(_3b){return 1/(200*_3b);}function solve(x,_3d){return sampleCurveY(solveCurveX(x,_3d));}function solveCurveX(x,_3f){var t0,t1,t2,x2,d2,i;function fabs(n){if(n>=0){return n;}else{return 0-n;}}for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(fabs(x2)<_3f){return t2;}d2=sampleCurveDerivativeX(t2);if(fabs(d2)<0.000001){break;}t2=t2-x2/d2;}t0=0;t1=1;t2=x;if(t2<t0){return t0;}if(t2>t1){return t1;}while(t0<t1){x2=sampleCurveX(t2);if(fabs(x2-x)<_3f){return t2;}if(x>x2){t0=t2;}else{t1=t2;}t2=(t1-t0)*0.5+t0;}return t2;}cx=3*p1x;bx=3*(p2x-p1x)-cx;ax=1-cx-bx;cy=3*p1y;by=3*(p2y-p1y)-cy;ay=1-cy-by;return solve(t,solveEpsilon(_36));}var t=new Date().getTime()-(_2e-_2f);var cp=[0.25,0.1,0.25,1];var _44="ease";switch(_44){case "ease":cp=[0.25,0.1,0.25,1];break;case "linear":cp=[0,0,1,1];break;case "ease-in":cp=[0.42,0,1,1];break;case "ease-out":cp=[0,0,0.58,1];break;case "ease-in-out":cp=[0.42,0,0.58,1];break;case "deceleration":cp=[0,0,0,1];break;case "acceleration":cp=[1,0,1,1];break;}var _45=CubicBezierAtTime(t/_2f,cp[0],cp[1],cp[2],cp[3],_2f/1000);this.thumbList[_2c].render.style[this.positionValue[0].toLowerCase()]=this.lastThumbPosition+(this.valueToPosition(_2d)-this.lastThumbPosition)*_45+"px";if(t>=_2f){this.stopSlideAnimation();return;}WebSquare.core.setTimer(this.slideAnimation,{key:this.id+"_slider_slide",caller:this,delay:_30,args:[_2c,_2d,_2e]});}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.stopSlideAnimation=function(){["WebSquare.uiplugin.slider.stopSlideAnimation"];try{WebSquare.core.clearTimer(this.id+"_slider_slide");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.getThumbMaxValue=function(_46){return "";};WebSquare.uiplugin.slider.prototype.getThumbMinValue=function(_47){return "";};WebSquare.uiplugin.slider.prototype.getPosition=function(e){["WebSquare.uiplugin.slider.getPosition"];try{var _49=0;if(this.options.vertical==true){_49=WebSquare.event.getMouseY(e);}else{_49=WebSquare.event.getMouseX(e);}return _49-this.thumbArea/2;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.getNearThumbIndex=function(_4a){["WebSquare.uiplugin.slider.getNearThumbIndex"];try{var _4b=0;var _4c=this.options.maxValue-this.options.minValue+1;for(var i=0;i<this.thumbList.length;i++){if(Math.abs(this.thumbList[i].value-_4a)<_4c){_4b=i;_4c=Math.abs(this.thumbList[i].value-_4a);}}return _4b;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.setRef=function(ref){["WebSquare.uiplugin.slider.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.slider.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.slider.prototype.handleTouchStart"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2thumb_input")){break;}if(it.match(null,this.id)){var _51=this.getPosition(e);var _52=this.positionToValue(_51);this.movedIndex=this.getNearThumbIndex(_52);var _53=this.thumbList[this.movedIndex];this.moveStart=true;var _54=this.moveThumb(this.movedIndex,_52);this.addClass(_53.render,"w2thumb_over");this.showTooltip(this.movedIndex,_53.value);WebSquare.event.stopEvent(e);this.render.focus();break;}if(it.match("w2thumb")){this.minPosition=WebSquare.form["getAbsolute"+this.positionValue[0]](this.render);this.maxPosition=parseInt(this.render["offset"+this.areaValue[0]],10)-this.thumbArea+1;this.movedIndex=it.getElement().getAttribute("thumbIndex");var _53=this.thumbList[this.movedIndex];this.addClass(_53.render,"w2thumb_over");WebSquare.event.stopEvent(e);this.showTooltip(this.movedIndex,_53.value);this.moveStart=true;this.render.focus();break;}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.handleTouchMove=function(e){["WebSquare.uiplugin.slider.prototype.handleTouchMove"];try{if(this.moveStart==true){var _56=this.getCurrentThumb();var _57=this.getThumbMaxValue(this.movedIndex);var _58=this.getThumbMinValue(this.movedIndex);var _59=this.getPosition(e);var _5a=this.positionToValue(_59);var _5b=this.moveThumb(_56.index,_5a);if(_5b==true){this.addClass(_56.render,"w2thumb_over");this.setTooltipLabel(_56.value);this.setTooltipPosition(_56.index);}}WebSquare.event.stopEvent(e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.handleTouchEnd=function(e){["WebSquare.uiplugin.slider.prototype.handleTouchEnd"];try{if(this.moveStart==true){if(this.options.moveBack==true){var _5d=new Date().getTime()+this.options.animationDuration;this.slideAnimation(this.movedIndex,this.thumbList[this.movedIndex].value,_5d);}this.removeClass(this.thumbList[this.movedIndex].render,"w2thumb_over");this.hideTooltip();this.moveStart=false;WebSquare.event.fireEvent(this,"onmovedone",this.thumbList[this.movedIndex].value,this.thumbList[this.movedIndex].id);}WebSquare.event.stopEvent(e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.handleInputBlur=function(e){["WebSquare.uiplugin.slider.prototype.handleInputBlur"];try{var elm=e.srcElement;var _60=elm.getAttribute("thumbIndex");var _61=parseFloat(elm.value)||0;if(_61<this.options.minValue||_61>this.options.maxValue){alert(this.options.minValue+"\uc5d0\uc11c "+this.options.maxValue+" \uc0ac\uc774\uc758 \uac12\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.");elm.focus();}else{if((_61-this.options.minValue)%this.options.increment>0){alert(this.options.minValue+"\uc5d0\uc11c "+this.options.maxValue+"\uae4c\uc9c0\uc758 \uac12\ub4e4 \uc911 "+this.options.increment+"\uc529 \uc99d\uac00\ud55c \uac12\uc744 \uc785\ub825\ud574\uc57c \ud569\ub2c8\ub2e4.");elm.focus();}else{this.setThumbValue(elm.value,_60);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.handleKeydown=function(e){["WebSquare.uiplugin.slider.prototype.handleKeydown"];try{var _63=this.movedIndex||0;var _64=this.getThumbValue(_63);if(e.srcElement.nodeName.toLowerCase()=="input"){return;}switch(e.keyCode){case 37:if(this.options.vertical==false){if(this.options.changeDirection==false){this.setThumbValue(_64-this.options.increment,_63);}else{this.setThumbValue(_64+this.options.increment,_63);}}else{this.setThumbValue(_64-this.options.increment,_63);}WebSquare.event.stopEvent(e);break;case 39:if(this.options.vertical==false){if(this.options.changeDirection==true){this.setThumbValue(_64-this.options.increment,_63);}else{this.setThumbValue(_64+this.options.increment,_63);}}else{this.setThumbValue(_64+this.options.increment,_63);}WebSquare.event.stopEvent(e);break;case 38:if(this.options.vertical==true){if(this.options.changeDirection==false){this.setThumbValue(_64-this.options.increment,_63);}else{this.setThumbValue(_64+this.options.increment,_63);}}else{this.setThumbValue(_64+this.options.increment,_63);}WebSquare.event.stopEvent(e);break;case 40:if(this.options.vertical==true){if(this.options.changeDirection==true){this.setThumbValue(_64-this.options.increment,_63);}else{this.setThumbValue(_64+this.options.increment,_63);}}else{this.setThumbValue(_64-this.options.increment,_63);}WebSquare.event.stopEvent(e);break;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.showTooltip=function(_65,_66){["WebSquare.uiplugin.slider.showTooltip"];try{if(this.options.tooltipShow==true){if(this.timeShowTooltip!=null){clearTimeout(this.timeShowTooltip);this.timeShowTooltip=null;}if(this.timeHideTooltip!=null){clearTimeout(this.timeHideTooltip);this.timeHideTooltip=null;}this.timeShowTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(!this.tooltip){this.tooltip=new WebSquare.uiplugin.group(this.id+"_tooltip",{className:"w2slider_tooltip "+this.options.tooltipClass});this.tooltip.writeTo(WebSquare.getBody());this.tooltip.activate();}if(this.options.vertical==true){this.tooltip.setStyle("left",WebSquare.style.getAbsoluteLeft(this.render)+this.thumbPosition+25+"px");}else{this.tooltip.setStyle("top",WebSquare.style.getAbsoluteTop(this.render)+this.thumbPosition-25+"px");}this.tooltip.setStyle("display","block");this.setTooltipLabel(_66);this.setTooltipPosition(_65);}),this.options.tooltipTime*1000);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.slider.prototype.setTooltipPosition=function(_67){if(this.tooltip){var _68=this.valueToPosition(this.thumbList[_67].value);_68=this.minPosition+_68-this.tooltip.render["offset"+this.areaValue[0]]/2+this.thumbArea/2;this.tooltip.setStyle(this.positionValue[0].toLowerCase(),_68+"px");}};WebSquare.uiplugin.slider.prototype.setSize=function(_69,_6a){["WebSquare.uiplugin.slider.setSize"];try{WebSquare.css.prototype.setSize.call(this,_69,_6a);this.drawTumb();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.slider.prototype.setTooltipLabel=function(_6b){if(this.tooltip){if(this.options.tooltipFormatter){try{_6b=eval(this.options.tooltipFormatter+"("+_6b+")");}catch(e){}}this.tooltip.render.innerHTML=_6b;}};WebSquare.uiplugin.slider.prototype.hideTooltip=function(){["WebSquare.uiplugin.slider.hideTooltip"];try{this.timeHideTooltip=setTimeout(this.event.bindAsEventListener(this,function(){if(this.tooltip){this.tooltip.setStyle("display","none");}}),this.options.tooltipTime*1000);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.thumb=function(_6c){this.id=_6c.id||"thumb";this.value=_6c.value||0;this.index=_6c.index;this.options=_6c;};WebSquare.uiplugin.thumb.prototype.getThumbRender=function(){if(!this.render){this.render=document.createElement("div");this.render.setAttribute("id",this.options.parentId+"_"+this.id);this.render.setAttribute("className","w2thumb");this.render.setAttribute("class","w2thumb");this.render.setAttribute("thumbIndex",this.index);this.inputRender=document.createElement("input");this.inputRender.setAttribute("className","w2thumb_input");this.inputRender.setAttribute("class","w2thumb_input");}return this.render;};WebSquare.uiplugin.tabControl=function(id,_2,_3){["WebSquare.uiplugin.tabControl"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.tabControl.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.tabControl.prototype,WebSquare.css.prototype);WebSquare.uiplugin.tabControl.prototype.defaultOptions={pluginType:"uiplugin.tabControl",pluginName:"tabControl",userEvents:["ontabclick","onchange","ontabclose","onclick","onbeforeselect","onbeforetabclose"],useConfig:true,selectedIndex:0,containerClass:"w2tabcontrol_container",hostClass:"w2tabcontrol_tabhost",tabClass:"",tabStyle:"",activeTabClass:"w2tabcontrol_active",overTabClass:"w2tabcontrol_over",disabledTabClass:"w2tabcontrol_disabled",contentsClass:"w2tabcontrol_contents",alwaysDraw:true,useTabKeyOnly:false,useBackbridge:false,useConfirmMessage:false,confirmTrueAction:"exist",confirmFalseAction:"new",confirmMessage:"[#title]\ud0ed\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4. \uae30\uc874\uc758 \ud0ed\uc744 \uc0ac\uc6a9\ud558\uc2dc\ub824\uba74 '\ud655\uc778'\uc744 \uc0c8\ub85c\uc6b4 \ud0ed\uc744 \uc0dd\uc131\ud558\uc2dc\ub824\uba74 '\ucde8\uc18c'\ub97c \uc120\ud0dd\ud558\uc138\uc694",tabScroll:false,visibleRowNum:5,closable:false,useBridgeHelper:true};WebSquare.uiplugin.tabControl.prototype.defaultTabContentOptions={alwaysDraw:true,src:"",style:"",frameMode:"",name:"",title:""};WebSquare.uiplugin.tabControl.prototype.initialize=function(_4){["WebSquare.uiplugin.tabControl.initialize"];try{this.selectedIndex=0;this.tabArr=[];this.contentsArr=[];this.tabContentOptions=this.defaultTabContentOptions;this.focusedIndex=-1;this.activeFirstTime=false;this.increaseKey=0;this.visibleTabIndex=0;this.itemTable=null;this.isOpen=false;this.itemTableTdMargin=null;this.senseReaderMode=true;this.bridgeIdArr=[];this.backbridgeIdArr=[];this.lastEventType="";if(_4==null){return;}this.tabArr=this.makeTabArray(_4,this.options);this.contentsArr=this.makeTabContentsArray(_4,this.tabContentOptions,this.tabArr);this.initAllContents();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.initContents=function(_5){["WebSquare.uiplugin.tabControl.initContents"];try{var _6;if(_5.frameMode=="iframe"||_5.frameMode=="wframe"){if(_5.frameMode=="iframe"){requires("uiplugin.iframe");_6=new WebSquare.uiplugin.iframe(_5.contentsID+"_body",{className:"w2tabContainer_contents w2tabcontrol_contents_wrapper",style:"width:100%; height:100%;",name:_5.name});}else{requires("uiplugin.wframe");_6=new WebSquare.uiplugin.wframe(_5.contentsID+"_body",{className:"w2tabContainer_contents w2tabcontrol_contents_wrapper"});}}else{_6=WebSquare.controlFactory.create(_5.contentsID+"_body",{className:"w2tabcontrol_contents_wrapper"},_5.xml);}return _6;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.initAllContents=function(){["WebSquare.uiplugin.tabControl.initAllContents"];try{var _7,comp;for(var i=0;i<this.contentsArr.length;i++){_7=this.contentsArr[i];comp=this.initContents(_7);this.addControl(comp);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.makeTabContentsArray=function(_9,_a,_b){["WebSquare.uiplugin.tabControl.makeTabContentsArray"];try{if(_b==null||_b.length<1){return [];}var _c=[];var _d={};var _e=WebSquare.xml.findNodes(_9,"w2:content");for(var i=0;i<_b.length;i++){var elm=i<_e.length?_e[i]:null;if(elm==null||elm.nodeType!=1||elm.nodeName!="w2:content"){elm=null;_d={};}else{_d=WebSquare.WebSquareparser.parseAttribute(elm);}var id=(elm==null||elm.getAttribute("id")==null)?this.id+"_contents_"+i:this.id+"_contents_"+elm.getAttribute("id");_b[i].contentsID=id;if(_d.alwaysDraw){_d.alwaysDraw=WebSquare.util.getBoolean(_d.alwaysDraw);}else{if(_d.alwaysDraw==false){}else{_d.alwaysDraw=this.options.alwaysDraw;}}var _12=WebSquare.extend({contentsID:id,contentsClass:_d.contentsClass||this.options.contentsClass,src:_d.src||_a.src,frameMode:_d.src!=null&&_d.src!=""?(_d.frameMode||_a.frameMode):"",alwaysDraw:_d.alwaysDraw,render:null,xml:elm,name:_d.name||"",title:_d.title},_d||{});if(_12.src!=null&&_12.src!=""&&_12.frameMode==""){_12.frameMode="wframe";}_c.push(_12);}return _c;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.makeTabArray=function(_13,_14){["WebSquare.uiplugin.tabControl.makeTabArray"];try{if(_13==null){return [];}var _15=[];var _16=false;for(var i=0;i<_13.childNodes.length;i++){var elm=_13.childNodes[i];if(elm.nodeType!=1||elm.nodeName!="w2:tabs"){continue;}var _19=elm.getAttribute("id");var id=this.id+"_tab_"+(_19==null?i:_19);var _1b=WebSquare.WebSquareparser.parseAttribute(elm);if(typeof _1b.label=="undefined"){_1b.label="";}if(this.options.closable==true){_16=true;}var tab={tabID:id,userTabID:_19,contentsID:"",tabLabel:_1b.label,disabled:_1b.disabled=="true"?true:false,render:null,tabWidth:parseInt(_1b.tabWidth,10)>0?parseInt(_1b.tabWidth,10):this.options.tabWidth,tabGap:parseInt(_1b.tabGap,10)>0?parseInt(_1b.tabGap,10):this.options.tabGap,tabHeight:parseInt(_1b.tabHeight,10)>0?parseInt(_1b.tabHeight,10):this.options.tabHeight,tabClass:_1b["className"]||this.options.tabClass,tabStyle:_1b.style||this.options.tabStyle,activeTabClass:_1b.activeTabClass||this.options.activeTabClass,disabledTabClass:_1b.disabledTabClass||this.options.disabledTabClass,selectedImage:_1b.selectedImage?"url("+_1b.selectedImage+")":"",defaultImage:_1b.defaultImage?"url("+_1b.defaultImage+")":"",hoverImage:_1b.hoverImage?"url("+_1b.hoverImage+")":"",tabType:_1b.tabType=="image"?"image":"text",selectedClass:_1b.selectedClass||"",defaultClass:_1b.defaultClass||"",hoverClass:_1b.hoverClass||"",closable:WebSquare.util.getBoolean(_1b.closable)==true?true:_16,closeBtn:null,label:_1b.label,value:id,title:_1b.title||_1b.label};_15.push(tab);}return _15;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.toHTML=function(){["WebSquare.uiplugin.tabControl.toHTML"];try{var _1d=[];_1d.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2tabcontrol "+this.options.className+"' >");if(this.options.tabScroll){_1d.push("<div id='"+this.id+"_control' class='w2tabcontrol_control'>");_1d.push("<div id='"+this.id+"_btn_scrollLeft' class='w2tabcontrol_control btn_scrollLeft' tabindex='-1'></div>");_1d.push("<div id='"+this.id+"_mask' class='w2tabcontrol_control mask'>");_1d.push("<div id='"+this.id+"_scroll' class='w2tabcontrol_control scroll'>");}_1d.push(this.makeAllTabHTML());if(this.options.tabScroll){_1d.push("</div>");_1d.push("</div>");_1d.push("<div id='"+this.id+"_btn_scrollRight' class='w2tabcontrol_control btn_scrollRight' tabindex='-1'></div>");_1d.push("<div id='"+this.id+"_btn_submenu' class='w2tabcontrol_control btn_submenu' tabindex='-1'></div>");_1d.push("</div>");}_1d.push(this.makeAllContentsHTML());_1d.push("</div>");return _1d.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.makeTextTabHTML=function(tab,idx){["WebSquare.uiplugin.tabControl.makeTextTabHTML"];try{var _20=["<li id='",null,"'  class='w2tabcontrol_li ",null,"' style='",null,"' index='",null,"' ><div class='w2tabcontrol_tab_center' ><a role='tab' aria-controls='",null,"' href='#",null,"' title='",null,"' "+(this.options.useTabKeyOnly==false?"tabindex='-1'":"")+" >",null,"</a></div><div class='w2tabcontrol_tab_left'></div><div class='w2tabcontrol_tab_right' >","<div id='",null,"' class='w2tabcontrol_tab_close' title='\ub2eb\uae30'></div></div></li>"];var _21=(tab.tabWidth>0?"width:"+tab.tabWidth+"px;":"")+(tab.tabHeight>0?"height:"+tab.tabHeight+"px;line-height:"+(tab.tabHeight-1)+"px;":"")+(tab.tabGap>0?"margin-right:"+tab.tabGap+"px;":"")+(tab.tabStyle?tab.tabStyle:"");_20[1]=tab.tabID;_20[3]=(" w2tabcontrol_li_"+idx)+(tab.disabled?" "+tab.disabledTabClass:"")+(tab.tabClass?" "+tab.tabClass:"");if(idx===this.options.selectedIndex+1){_20[3]+=" "+tab.activeTabClass+(tab.selectClass?" "+tab.selectClass:"");}else{_20[3]+=(tab.defaultClass?" "+tab.defaultClass:"");}_20[5]=_21;_20[7]=idx;_20[9]=tab.contentsID;_20[11]=tab.contentsID+"_bridge";_20[13]=tab.title;_20[15]=tab.tabLabel;_20[18]=tab.tabID+"_close";return _20.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.makeImageTabHTML=function(tab,idx){["WebSquare.uiplugin.tabControl.makeImageTabHTML"];try{var _24=["<li id='",null,"' class='w2tabcontrol_li ",null,"' style='",null,"' index='",null,"' ><div class='w2tabcontrol_tab_center2' style='",null,"' title='",null,"' role='tab' aria-controls='",null,"' "+(this.options.useTabKeyOnly==false?"tabindex='-1'":"")+" ></div><div class='w2tabcontrol_tab_left2'></div><div class='w2tabcontrol_tab_right2' >","<div id='",null,"' class='w2tabcontrol_tab_close2' title='\ub2eb\uae30'></div>","</div></li>"];var _25=(tab.tabWidth>0?"width:"+tab.tabWidth+"px;":"")+(tab.tabHeight>0?"height:"+tab.tabHeight+"px;line-height:"+(tab.tabHeight-1)+"px;":"")+(tab.tabGap>0?"margin-right:"+tab.tabGap+"px;":"")+(tab.tabStyle?tab.tabStyle:"");_24[1]=tab.tabID;_24[3]=(" w2tabcontrol_li_"+idx)+(tab.disabled?" "+tab.disabledTabClass:"")+(tab.tabClass?" "+tab.tabClass:"");if(idx===this.options.selectedIndex+1){_24[3]+=" "+tab.activeTabClass+(tab.selectClass?" "+tab.selectClass:"");_24[9]=tab.selectedImage?"background-image:"+tab.selectedImage+";":"";}else{_24[3]+=(tab.defaultClass?" "+tab.defaultClass:"");_24[9]=tab.defaultImage?"background-image:"+tab.defaultImage+";":"";}_24[5]=_25;_24[7]=idx;_24[11]=tab.title;_24[13]=tab.contentsID;_24[16]=tab.tabID+"_close";return _24.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.makeAllTabHTML=function(){["WebSquare.uiplugin.tabControl.makeAllTabHTML"];try{var _26=[];_26.push("<ul id='"+this.id+"_tabhost' class='"+this.options.hostClass+"' role='tablist' >");for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];var _29="make"+tab.tabType.capitalize()+"TabHTML";_26.push(this[_29](tab,i+1));}_26.push("</ul>");return _26.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.makeContentsHTML=function(_2a,_2b){["WebSquare.uiplugin.tabControl.makeContentsHTML"];try{var _2c=["<div id='",null,"' class='",null,"' role='tabpanel' aria-labeledby='",null,null,null,"</div>"];var _2d=this.getChild(_2a.contentsID+"_body");var _2e="";if(this.contentsArr[this.options.selectedIndex]!==_2a){_2e="' aria-hidden='true' style='display:none';>";}else{_2e="' aria-hidden='false'>";}var _2f="";var _30="";if(this.options.useTabKeyOnly){var _31=_2a.title||_2b;var _32=this.options.useBridgeHelper?"<h3 id='"+_2a.contentsID+"_bridge_helper' style='position:absolute;text-indent : -10000px;background:none;height:0px;'>"+_31+"</h3>":"";_2f="<a id='"+_2a.contentsID+"_bridge' class='w2tabcontrol_bridge' href='#'>"+_32+"</a>";this.bridgeIdArr.push(_2a.contentsID+"_bridge");}if(this.options.useBackbridge){_30="<a id='"+_2a.contentsID+"_backbridge' tabindex='0' title='go back' class='w2tabcontrol_bridge'></a>";this.backbridgeIdArr.push(_2a.contentsID+"_backbridge");}_2c[1]=_2a.contentsID;_2c[3]=_2a.contentsClass;_2c[5]=_2b;_2c[6]=_2e;_2c[7]=_2f;_2c[7]+=_2a.alwaysDraw==true?_2d.toHTML():"";_2c[7]+=_30;return _2c.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.makeAllContentsHTML=function(){["WebSquare.uiplugin.tabControl.makeAllContentsHTML"];try{var _33=[];_33.push("<div id='"+this.id+"_container' class='"+this.options.containerClass+"'>");for(var i=0;i<this.contentsArr.length;i++){var _35=this.contentsArr[i];var tab=this.tabArr[i];_33.push(this.makeContentsHTML(_35,tab.tabLabel));}_33.push("</div>");return _33.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.setAction=function(){["WebSquare.uiplugin.tabControl.setAction"];try{var _37=this.getTabHostAndContainer();var _38=this;for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];tab.render=document.getElementById(tab.tabID);tab.closeBtn=document.getElementById(tab.tabID+"_close");tab.contentsRender=document.getElementById(tab.contentsID);this.contentsArr[i].render=tab.contentsRender;if(this.contentsArr[i].alwaysDraw==true&&(this.contentsArr[i].frameMode=="iframe"||this.contentsArr[i].frameMode=="wframe")){var _3b=this.getChild(tab.contentsID+"_body");_3b.setSrc(this.contentsArr[i].src);}}if(this.options.tabScroll){WebSquare.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,paramHide:{"documentClick":true},event:{}});}this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleTabClickEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(WebSquare.util.isIE(6)){this.event.addListener(this.render,"onresize",this.event.bindAsEventListener(this,this.handleResizeEvent));}if(!this.options.useTabKeyOnly){this.event.addListener(_37.tabhost,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));this.event.addListener(_37.container,"onkeydown",this.event.bindAsEventListener(this,this.handleKeyEvent));}else{this.event.addListener(_37.tabhost,"onfocusin",function(e){_38.lastEventType=e.type;});this.event.addListener(_37.tabhost,"onkeydown",function(e){var _3e=e.charCode||e.keyCode;if(_3e===9||_3e===13){_38.lastEventType=e.type;}});this.event.addListener(_37.tabhost,"onmousedown",function(e){_38.senseReaderMode=false;});}if(this.options.useBackbridge){for(var i=0;i<this.backbridgeIdArr.length;i++){var _40=this.getElementById(this.backbridgeIdArr[i]);if(_40){var _41=function(idx){WebSquare.event.addListener(_40,"onkeydown",function(e){var _44=e.charCode||e.keyCode;if(_44===13){_38.setFocusedTab(idx);}});};_41(i);}}}this.setActiveTab(this.options.selectedIndex);this.adjustContentsHeight();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.addRoundedCornerForIE=function(){["WebSquare.uiplugin.tabControl.addRoundedCornerForIE"];try{for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];if(tab.render.firstChild.nodeName.toLowerCase()=="img"){continue;}var img=document.createElement("img");img.src="uiplugin/tabControl/images/right-top.png";img.className="w2tabcontrol_righttop";img.setAttribute("alt","\uc624\ub978\ucabd \ubaa8\uc11c\ub9ac \uc774\ubbf8\uc9c0");tab.render.insertBefore(img,tab.render.firstChild);img=document.createElement("img");img.src="uiplugin/tabControl/images/left-top.png";img.className="w2tabcontrol_lefttop";img.setAttribute("alt","\uc67c\ucabd \ubaa8\uc11c\ub9ac \uc774\ubbf8\uc9c0");tab.render.insertBefore(img,tab.render.firstChild);img=null;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.getTabHostAndContainer=function(){["WebSquare.uiplugin.tabControl.getTabHostAndContainer"];try{var _48=document.getElementById(this.id+"_tabhost");var _49=document.getElementById(this.id+"_container");return {"container":_49,"tabhost":_48};}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.adjustContentsHeight=function(){["WebSquare.uiplugin.tabControl.adjustContentsHeight"];try{var _4a=this.getTabHostAndContainer();var _4b=_4a.container;var _4c=_4a.tabhost;var _4d=WebSquare.util.getStyleProperty(this.render,"height");if(_4d==null||_4d==""||_4d=="auto"||_4d=="0px"){return;}if((_4d+"").charAt(((_4d+"").length)-1)=="%"){return;}var _4e=(parseInt(_4d,10)||0)-(parseInt(WebSquare.util.getStyleProperty(this.render,"padding-top"),10)||0)-(parseInt(WebSquare.util.getStyleProperty(this.render,"padding-bottom"),10)||0);var _4f=(parseInt(WebSquare.util.getStyleProperty(_4c,"height"),10)||0)+(parseInt(WebSquare.util.getStyleProperty(_4c,"border-top-width"),10)||0)+(parseInt(WebSquare.util.getStyleProperty(_4c,"border-bottom-width"),10)||0)+(parseInt(WebSquare.util.getStyleProperty(_4c,"margin-top"),10)||0)+(parseInt(WebSquare.util.getStyleProperty(_4c,"margin-bottom"),10)||0);_4b.style.height=(_4e-_4f)+"px";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.setClosable=function(idx,_51){["WebSquare.uiplugin.tabControl.setClosable"];try{idx=parseInt(idx,10);_51=_51||false;if(idx<0||idx>=this.tabArr.length){return false;}this.tabArr[idx].closable=_51;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.setActiveTab=function(idx){["WebSquare.uiplugin.tabControl.setActiveTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return false;}if(this.tabArr[idx].disabled){return false;}for(var i=0;i<this.tabArr.length;i++){var tab=this.tabArr[i];tab.render=document.getElementById(tab.tabID);if(i!=idx){this.removeClass(tab.render,tab.activeTabClass);if(tab.selectedClass){this.removeClass(tab.render,tab.selectedClass);}if(tab.defaultClass){this.addClass(tab.render,tab.defaultClass);}tab.contentsRender.style.display="none";tab.contentsRender.style.visibility="hidden";tab.contentsRender.setAttribute("aria-hidden","true");this.addClass(tab.contentsRender," ");if(tab.tabType=="image"){var img=tab.render.getElementsByTagName("div")[0];img.style[WebSquare.style.camelize("background-image")]=tab.defaultImage||img.style[WebSquare.style.camelize("background-image")];}}if(this.options.useTabKeyOnly==false){var elm=tab.tabType=="image"?tab.render.getElementsByTagName("div")[0]:tab.render.getElementsByTagName("a")[0];if(i!=idx){(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.setAttribute("tabIndex","-1"):elm.setAttribute("tabIndex","-1");}else{(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.setAttribute("tabIndex","0"):elm.setAttribute("tabIndex","0");}}else{}}var tab=this.tabArr[idx];var _57=this.contentsArr[idx];this.addClass(tab.render,tab.activeTabClass);if(tab.defaultClass){this.removeClass(tab.render,tab.defaultClass);}if(tab.selectedClass){this.addClass(tab.render,tab.selectedClass);}if(tab.tabType=="image"){var img=tab.render.getElementsByTagName("div")[0];img.style[WebSquare.style.camelize("background-image")]=tab.selectedImage||img.style[WebSquare.style.camelize("background-image")];}_57.render.style.display="block";_57.render.style.visibility="visible";_57.render.setAttribute("aria-hidden","false");this.addClass(_57.render," ");var _58=this.getChild(tab.contentsID+"_body");if(_57.alwaysDraw==false){if(!_58.render){if(this.options.useTabKeyOnly){var _59=document.getElementById(this.bridgeIdArr[idx]);_57.render.innerHTML=_59.outerHTML+_58.toHTML();}else{_57.render.innerHTML=_58.toHTML();}_58.activate();if(_57.frameMode=="wframe"){_58.setSrc(_57.src);}}}if(_57.frameMode=="iframe"&&"src" in _57&&_57.src!=""){var _5a=_58.render.getAttribute("src");if(_5a=="about:blank"||WebSquare.net.isSSLBlankPage(_5a)){_58.setSrc(_57.src);}}var _5b=this.selectedIndex;this.selectedIndex=idx;this.focusedIndex=idx;if(_5b!=idx){WebSquare.event.fireEvent(this,"onchange",tab.tabID,idx,tab.userTabID);}if(this.options.useTabKeyOnly){var _59=document.getElementById(this.bridgeIdArr[idx]);if(_59&&this.activeFirstTime){_59.focus();}}if(this.activeFirstTime!=true){this.activeFirstTime=true;}if(this.options.tabScroll){if(this.visibleTabIndex>this.selectedIndex){this.scrollTab(this.selectedIndex);}else{var _5c=this.getVisibleTab();if(!_5c[this.selectedIndex]){this.scrollTab(this.selectedIndex,"right");}}}return true;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.scrollTab=function(idx,_5e){["WebSquare.uiplugin.tabControl.scrollTab"];try{if(!this.options.tabScroll||idx>=this.tabArr.length||idx<0){return;}_5e=(typeof _5e=="undefined")?"left":_5e;idx=parseInt(idx,10);if(_5e=="right"){var _5f=document.getElementById(this.id+"_mask");var _60=WebSquare.style.getSize(_5f,"innerWidth");var _61=WebSquare.style.getSize(this.tabArr[idx].render,"outerMarginWidth");do{var _62=idx-1;if(_62<0){break;}_61+=WebSquare.style.getSize(this.tabArr[_62].render,"outerMarginWidth");if(_61>_60){break;}}while(idx-->0);}var _63=document.getElementById(this.id+"_scroll");var _64=0;for(var i=0;i<idx;i++){_64-=WebSquare.style.getSize(this.tabArr[i].render,"outerMarginWidth");}WebSquare.style.setStyle(_63,"left",_64+"px");this.visibleTabIndex=idx;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.getVisibleTab=function(){["WebSquare.uiplugin.tabControl.getVisibleTab"];try{var _66={};if(this.options.tabScroll){var _67=document.getElementById(this.id+"_mask");var _68=WebSquare.style.getSize(_67,"innerWidth");var _69=0;for(var i=this.visibleTabIndex;i<this.tabArr.length;i++){_69+=WebSquare.style.getSize(this.tabArr[i].render,"outerMarginWidth");if(_69<=_68){_66[i]=true;}}}return _66;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.setFocusedTab=function(idx){["WebSquare.uiplugin.tabControl.setFocusedTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return false;}var tab=this.tabArr[idx];if(tab.disabled){return false;}tab.render=document.getElementById(tab.tabID);var elm=tab.tabType=="image"?tab.render.getElementsByTagName("div")[0]:tab.render.getElementsByTagName("a")[0];(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.focus():elm.focus();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.handleTabClickEvent=function(e){["WebSquare.uiplugin.tabControl.handleTabClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);var elm;var _71;var _72="none";while(it.next()){var _73=it.getElement();if(this.__hasClass(_73,"w2tabcontrol_tab_close")||this.__hasClass(_73,"w2tabcontrol_tab_close2")){_72="ontabclose";elm=_73.parentNode.parentNode.getElementsByTagName("a").length>0?_73.parentNode.parentNode.getElementsByTagName("a")[0]:_73.parentNode.parentNode.getElementsByTagName("div")[0];_71=elm.getAttribute("aria-controls");break;}else{if(it.match("w2tabcontrol_li")){_72="ontabclick";elm=_73.getElementsByTagName("a").length>0?_73.getElementsByTagName("a")[0]:_73.getElementsByTagName("div")[0];_71=elm.getAttribute("aria-controls");break;}else{if(it.match("btn_scrollLeft")){this.scrollTab(this.visibleTabIndex-1);break;}else{if(it.match("btn_scrollRight")){var _74=document.getElementById(this.id+"_mask");var _75=WebSquare.style.getSize(_74,"outerMarginWidth");var _76=0;for(var i=this.visibleTabIndex;i<this.tabArr.length;i++){_76+=WebSquare.style.getSize(this.tabArr[i].render,"outerMarginWidth");}if(_76>_75){this.scrollTab(this.visibleTabIndex+1);break;}}else{if(it.match("btn_submenu")){this.toggle();break;}}}}}}it=null;if(_72=="none"){return;}var _78=this.senseReaderMode&&this.lastEventType==="focusin";if(!_78){WebSquare.event.stopEvent(e);}var idx=-1,tab;for(var i=0;i<this.tabArr.length;i++){tab=this.tabArr[i];if(tab.contentsID==_71){idx=i;break;}}if(_72=="ontabclick"){if((idx>=0&&this.selectedIndex!=idx)||(this.options.useTabKeyOnly==true&&idx>=0)){this.setSelectedTabIndex(idx);}WebSquare.event.fireEvent(this,_72,tab.tabID,idx);}else{this.deleteTab(idx);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.tabControl.handleMouseoverEvent"];try{var it=this.event.getTargetIterator(e,this.render);var img;while(it.next()){if(it.match("w2tabcontrol_li")){var elm=it.getElement();for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].render!=elm){this.removeClass(this.tabArr[i].render,this.options.overTabClass);if(this.tabArr[i].hoverClass){this.removeClass(this.tabArr[i].render,this.tabArr[i].hoverClass);}this.tabArr[i].closeBtn.style.display="none";if(this.tabArr[i].tabType=="image"){img=this.tabArr[i].render.getElementsByTagName("div")[0];img.style[WebSquare.style.camelize("background-image")]=(this.selectedIndex==i?this.tabArr[i].selectedImage:this.tabArr[i].defaultImage)||img.style[WebSquare.style.camelize("background-image")];}}else{if(this.tabArr[i].disabled){continue;}this.addClass(elm,this.options.overTabClass);if(this.tabArr[i].hoverClass){this.addClass(this.tabArr[i].render,this.tabArr[i].hoverClass);}if(this.tabArr[i].closable){this.tabArr[i].closeBtn.style.display="block";}if(this.tabArr[i].tabType=="image"){img=this.tabArr[i].render.getElementsByTagName("div")[0];img.style[WebSquare.style.camelize("background-image")]=this.tabArr[i].hoverImage||this.tabArr[i].selectedImage||img.style[WebSquare.style.camelize("background-image")];}}}return;}else{if(it.match("btn_scrollLeft")){this.addClass(it.getElement(),"btn_scrollLeft_over");}else{if(it.match("btn_scrollRight")){this.addClass(it.getElement(),"btn_scrollRight_over");}else{if(it.match("btn_submenu")){this.addClass(it.getElement(),"btn_submenu_over");}}}}}for(var i=0;i<this.tabArr.length;i++){this.removeClass(this.tabArr[i].render,this.options.overTabClass);if(this.tabArr[i].hoverClass){this.removeClass(this.tabArr[i].render,this.tabArr[i].hoverClass);}this.tabArr[i].closeBtn.style.display="none";if(this.tabArr[i].tabType=="image"){img=this.tabArr[i].render.getElementsByTagName("div")[0];img.style[WebSquare.style.camelize("background-image")]=(this.selectedIndex==i?this.tabArr[i].selectedImage:this.tabArr[i].defaultImage)||img.style[WebSquare.style.camelize("background-image")];}}it=null;WebSquare.event.stopEvent(e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.tabControl.handleMouseoutEvent"];try{WebSquare.event.stopEvent(e);var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2tabcontrol_li")){var _81=it.getElement();var _82=-1;for(var i=0;i<this.tabArr.length;i++){if(this.tabArr[i].render===_81){_82=i;break;}}if(this.tabArr[_82]==undefined){break;}this.removeClass(this.tabArr[_82].render,this.options.overTabClass);if(this.tabArr[_82].hoverClass){this.removeClass(this.tabArr[_82].render,this.tabArr[_82].hoverClass);}this.tabArr[_82].closeBtn.style.display="none";if(this.tabArr[_82].tabType=="image"){var img=this.tabArr[_82].render.getElementsByTagName("div")[0];img.style[WebSquare.style.camelize("background-image")]=(this.selectedIndex==_82?this.tabArr[_82].selectedImage:this.tabArr[_82].defaultImage)||img.style[WebSquare.style.camelize("background-image")];}break;}else{if(it.match("btn_scrollLeft")){this.removeClass(it.getElement(),"btn_scrollLeft_over");break;}else{if(it.match("btn_scrollRight")){this.removeClass(it.getElement(),"btn_scrollRight_over");break;}else{if(it.match("btn_submenu")){this.removeClass(it.getElement(),"btn_submenu_over");break;}}}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.handleResizeEvent=function(e){["WebSquare.uiplugin.tabControl.handleResizeEvent"];try{if(this.options.tabScroll){var _86=document.getElementById(this.id+"_control");var _87=document.getElementById(this.id+"_mask");var _88=document.getElementById(this.id+"_btn_scrollLeft");var _89=document.getElementById(this.id+"_btn_scrollRight");var _8a=document.getElementById(this.id+"_btn_submenu");var _8b=WebSquare.style.getSize(_86,"innerWidth")-WebSquare.style.getSize(_88,"outerMarginWidth")-WebSquare.style.getSize(_89,"outerMarginWidth")-WebSquare.style.getSize(_8a,"outerMarginWidth");var _8c=parseInt(WebSquare.style.getStyleProperty(_87,"padding-left"))+parseInt(WebSquare.style.getStyleProperty(_87,"margin-left"))+parseInt(WebSquare.style.getStyleProperty(_87,"padding-right"))+parseInt(WebSquare.style.getStyleProperty(_87,"margin-right"));WebSquare.style.setStyle(_87,"width",(_8b-_8c)+"px");}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.handleKeyEvent=function(e){["WebSquare.uiplugin.tabControl.handleKeyEvent"];try{var _8e=(e.charCode)?e.charCode:e.keyCode;var _8f=this.getTabHostAndContainer();var it=this.event.getTargetIterator(e,this.render);var elm;if(!(_8e==13||_8e==37||_8e==38||_8e==39||_8e==40||_8e==46)){return;}if(_8e==46&&e.altKey){this.deleteTab(this.getSelectedTabIndex());return;}while(it.next()){elm=it.getElement();if(elm==_8f.container){if((_8e==37||_8e==38)&&e.ctrlKey){var tab=this.tabArr[this.selectedIndex];elm=tab.tabType=="image"?tab.render.getElementsByTagName("div")[0]:tab.render.getElementsByTagName("a")[0];if(elm.nodeType==1){elm.focus();WebSquare.event.stopEvent(e);return;}}return;}}switch(_8e){case 13:this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);return;case 37:case 38:this.focusedIndex=this.focusedIndex>0?this.focusedIndex-1:0;var elm=this.tabArr[this.focusedIndex].tabType=="image"?this.tabArr[this.focusedIndex].render.getElementsByTagName("div")[0]:this.tabArr[this.focusedIndex].render.getElementsByTagName("a")[0];(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.focus():elm.focus();this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);break;case 39:case 40:this.focusedIndex=this.focusedIndex+1<this.tabArr.length?this.focusedIndex+1:this.focusedIndex;var elm=this.tabArr[this.focusedIndex].tabType=="image"?this.tabArr[this.focusedIndex].render.getElementsByTagName("div")[0]:this.tabArr[this.focusedIndex].render.getElementsByTagName("a")[0];(elm.nodeName.toLowerCase()=="a"&&elm.innerHTML=="")?elm.parentNode.focus():elm.focus();this.setActiveTab(this.focusedIndex>=0?this.focusedIndex:0);break;default:break;}it=null;WebSquare.event.stopEvent(e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.getWindow=function(idx){["WebSquare.uiplugin.tabConttrol.getWindow"];try{var _94;var _95=(typeof idx!="undefined")?idx:this.selectedIndex;if(_95<0){return _94;}for(var i=0;i<this.contentsArr.length;i++){var _97=this.getChild(this.contentsArr[i].contentsID+"_body");if(i==_95){if(_97.getPluginName()=="iframe"){_94=_97.getWindow();}else{_94=window;}break;}}return _94;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.setContentsHeight=function(_98){["WebSquare.uiplugin.tabControl.setContentsHeight"];try{var _99=this.getTabHostAndContainer();var _9a=_99.container;var _9b=_99.tabhost;_98=parseInt(_98,10);_9a.style.height=(_98)+"px";var _9c=(parseInt(WebSquare.util.getStyleProperty(_9b,"height"),10)||0)+(parseInt(WebSquare.util.getStyleProperty(_9b,"border-top-width"),10)||0)+(parseInt(WebSquare.util.getStyleProperty(_9b,"border-bottom-width"),10)||0)+(parseInt(WebSquare.util.getStyleProperty(_9b,"margin-top"),10)||0)+(parseInt(WebSquare.util.getStyleProperty(_9b,"margin-bottom"),10)||0);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.getSelectedTabID=function(){["WebSquare.uiplugin.tabControl.getSelectedTabID"];try{return this.selectedIndex<this.tabArr.length&&this.selectedIndex>=0?this.tabArr[this.selectedIndex].userTabID:null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.getSelectedTabIndex=function(){["WebSquare.uiplugin.tabControl.getSelectedTabIndex"];try{return this.selectedIndex<this.tabArr.length&&this.selectedIndex>=0?this.selectedIndex:-1;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.getTabIndex=function(id){["WebSquare.uiplugin.tabControl.getTabIndex"];var _9e=null;try{for(var i=0;i<this.tabArr.length;i++){if(id==this.tabArr[i].userTabID){_9e=i;break;}}return _9e;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.setSelectedTabIndex=function(idx){["WebSquare.uiplugin.tabControl.setSelectedTabIndex"];try{var ret=WebSquare.event.fireEvent(this,"onbeforeselect",this.getSelectedTabIndex(),idx);if(ret==false){return;}this.setActiveTab(idx);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.getTabCount=function(){["WebSquare.uiplugin.tabControl.getTabCount"];try{return this.tabArr.length;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.deleteTab=function(idx){["WebSquare.uiplugin.tabControl.deleteTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var tab=this.tabArr[idx];var _a4=tab.tabID;if(WebSquare.event.fireEvent(this,"onbeforetabclose",_a4,idx)===false){return;}if(this.selectedIndex==idx){var i=idx+1;while(i<this.tabArr.length&&this.setActiveTab(i)==false){i++;}if(i>=this.tabArr.length){i=idx-1;while(i>=0&&this.setActiveTab(i)==false){i--;}}if(this.selectedIndex>idx){this.selectedIndex--;}}var _a6=this.contentsArr[idx];var _a7=this.getChild(this.tabArr[idx].contentsID+"_body");if(_a7){_a7.remove();}_a7=null;var _a8=tab.render.parentNode;var _a9=_a6.render.parentNode;_a8.removeChild(tab.render);_a9.removeChild(_a6.render);for(var j in this.tabArr[idx]){this.tabArr[idx][j]=null;}for(var j in this.contentsArr[idx]){this.contentsArr[idx][j]=null;}tab=null;_a6=null;this.tabArr.splice(idx,1);this.contentsArr.splice(idx,1);this.bridgeIdArr.splice(idx,1);this.backbridgeIdArr.splice(idx,1);var n,n2;for(var i=idx;i<this.tabArr.length;i++){var tab=this.tabArr[i];n=i+2;n2=i+1;this.__removeClass(tab.render,"w2tabcontrol_li_"+n);this.__addClass(tab.render,"w2tabcontrol_li_"+n2);}if(idx<this.selectedIndex){this.setActiveTab(this.selectedIndex-1);}else{if(idx==this.selectedIndex){if(this.tabArr[this.selectedIndex]){this.setActiveTab(this.selectedIndex);}else{this.setActiveTab(this.selectedIndex-1);}}else{if(idx>this.selectedIndex){this.setActiveTab(this.selectedIndex);}}}WebSquare.event.fireEvent(this,"ontabclose",_a4,idx);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.addTab=function(id,_ad,_ae){["WebSquare.uiplugin.tabControl.addTab"];try{var _af=id||"";if(typeof _ad=="undefined"){return;}var _b0=false;for(var i=0;i<this.tabArr.length;i++){if(_af==""||this.tabArr[i].userTabID==_af){_b0=true;break;}}var _b2=_ad.openAction;if(_b0){if(!_b2){if(this.options.useConfirmMessage){var _b3=this.options.confirmMessage;if(_b3.indexOf("#title")>-1){_b3=_b3.replace("#title",_ad.label);}var _b4=true;_b4=confirm(_b3);if(_b4){_b2=this.options.confirmTrueAction;}else{_b2=this.options.confirmFalseAction;}}}if(_b2==="exist"){var idx=this.getTabIndex(_af);var _b6=this.contentsArr[idx];var _b7=this.getChild(this.tabArr[idx].contentsID+"_body");if(_b7.activeStatus!="active"){_b6.src=_ae.src||"about:blank";}else{_b7.setSrc(_ae.src||"about:blank");}this.setSelectedTabIndex(idx);return _af;}else{if(_b2==="new"){_af=_af+"_"+this.increaseKey++;}else{if(_b2==="select"){this.setSelectedTabIndex(this.getTabIndex(_af));return _af;}else{return _af;}}}}var _b8=this.id+"_tab_"+_af;var tab={tabID:_b8,userTabID:_af,contentsID:"",tabLabel:_ad.label||"",disabled:_ad.disabled||false,render:null,tabWidth:parseInt(_ad.tabWidth,10)>0?parseInt(_ad.tabWidth,10):this.options.tabWidth,tabHeight:parseInt(_ad.tabHeight,10)>0?parseInt(_ad.tabHeight,10):this.options.tabHeight,tabClass:_ad["class"]||this.options.tabClass,tabStyle:_ad.style||this.options.tabStyle,activeTabClass:_ad.activeTabClass||this.options.activeTabClass,disabledTabClass:_ad.disabledTabClass||this.options.disabledTabClass,selectedImage:_ad.selectedImage?"url("+_ad.selectedImage+")":"",defaultImage:_ad.defaultImage?"url("+_ad.defaultImage+")":"",hoverImage:_ad.hoverImage?"url("+_ad.hoverImage+")":"",tabType:_ad.tabType=="image"?"image":"text",selectedClass:_ad.selectedClass||"",defaultClass:_ad.defaultClass||"",hoverClass:_ad.hoverClass||"",closable:WebSquare.util.getBoolean(_ad.closable),closeBtn:null,label:_ad.label||"",value:_b8};var _ba=WebSquare.extendKeepingType({},this.defaultTabContentOptions);var _bb=WebSquare.extendKeepingType(_ba,_ae);var _bc=this.id+"_contents_"+_af;tab.contentsID=_bc;_bb.frameMode="iframe";var _b6=WebSquare.extend({contentsID:_bc,contentsClass:_ae.contentsClass||this.options.contentsClass,frameMode:_bb.frameMode,render:null,xml:null,name:_bb.name||""},_bb||{});this.tabArr.push(tab);this.contentsArr.push(_b6);var _bd=this.getTabHostAndContainer();var _be=_bd.container;var _bf=_bd.tabhost;var _b7=this.initContents(_b6);this.addControl(_b7);var _c0="make"+tab.tabType.capitalize()+"TabHTML";_bf.innerHTML+=this[_c0](tab,this.tabArr.length);var div=document.createElement("div");div.innerHTML=this.makeContentsHTML(_b6,tab.tabLabel);var _c2=div.removeChild(div.firstChild);_be.appendChild(_c2);div=null;if(_b6.alwaysDraw){_b7.activate();_b7.setSrc(_b6.src);}for(var i=0;i<this.tabArr.length;i++){tab=this.tabArr[i];tab.render=document.getElementById(tab.tabID);tab.closeBtn=document.getElementById(tab.tabID+"_close");tab.contentsRender=document.getElementById(tab.contentsID);this.contentsArr[i].render=tab.contentsRender;}tab=this.tabArr[i-1];tab.contentsRender.style.display="none";if(this.tabArr.length==1){this.setActiveTab(0);}return _af;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.disableTab=function(idx){["WebSquare.uiplugin.tabControl.disableTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var tab=this.tabArr[idx];var _c5=this.contentsArr[idx];this.removeClass(tab.render,tab.activeTabClass);this.addClass(tab.render,tab.disabledTabClass);if(WebSquare.util.isIE(8)){tab.render.style.zIndex=0;}tab.disabled=true;var _c6=this.getChild(_c5.contentsID+"_body");if(_c6.activeStatus!="stop"){_c6.setDisabled(true);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.enableTab=function(idx){["WebSquare.uiplugin.tabControl.enableTab"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}var tab=this.tabArr[idx];var _c9=this.contentsArr[idx];this.removeClass(tab.render,tab.disabledTabClass);tab.disabled=false;if(WebSquare.util.isIE(8)){tab.render.style.zIndex="";}var _ca=this.getChild(_c9.contentsID+"_body");if(_ca.activeStatus!="stop"){_ca.setDisabled(false);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.getLabelText=function(idx){["WebSquare.uiplugin.tabControl.getLabelText"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return null;}var tab=this.tabArr[idx];return tab.tabLabel;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.setLabelText=function(idx,_ce){["WebSquare.uiplugin.tabControl.setLabelText"];try{idx=parseInt(idx,10);if(idx<0||idx>=this.tabArr.length){return;}if(this.options.tabScroll==true){this.tabArr[idx].label=_ce;}var tab=this.tabArr[idx];var elm;for(var i=0;i<tab.render.childNodes.length;i++){elm=tab.render.childNodes[i];if(elm.nodeType==1&&elm.nodeName.toLowerCase()=="div"){for(var j=0;j<elm.childNodes.length;j++){var _d3=elm.childNodes[j];if(_d3.nodeType==1&&_d3.nodeName.toLowerCase()=="a"){tab.tabLabel=_ce;_d3.innerHTML=_ce;return;}else{if(_d3.nodeType==1&&_d3.nodeName.toLowerCase()=="div"){tab.tabLabel=_ce;_d3.setAttribute("title",_ce);return;}}}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.onPropertyChange=function(_d4,_d5){["WebSquare.uiplugin.tabControl.onPropertyChange"];try{switch(_d4){case "disabled":for(var i=0;i<this.tabArr.length;i++){_d5?this.disableTab(i):this.enableTab(i);}break;case "readOnly":break;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.setSize=function(_d7,_d8){["WebSquare.uiplugin.tabControl.setSize"];try{WebSquare.css.prototype.setSize.call(this,_d7,_d8);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.tabControl.prototype.setSubLayer=function(){["WebSquare.uiplugin.tabControl.setSubLayer"];try{if(this.itemTable==null){requires("uiplugin/table/itemTable.js");this.itemTable=new WebSquare.uiplugin.itemTable(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:"auto",style:"position:absolute;",defaultStyle:"",className:"w2table ",w2table:"w2table_tabControl",w2table_main:"w2table_tabControl_main",w2table_row:"w2table_tabControl_row",w2table_col:"w2table_tabControl_col",w2table_col_over:"w2table_tabControl_col_over",escape:true});this.itemTable.writeTo(WebSquare.getBody());this.itemTable.activate();var _d9=this;this.itemTable.addClickEventListener(function(_da){["WebSquare.uiplugin.tabControl.itemTable.addClickEventListener"];_d9.setSelectedTabIndex(_da);_d9.closeSubLayer();});this.itemTable.addKeyDownEventListener(function(e){["WebSquare.uiplugin.tabControl.itemTable.addKeyDownEventListener"];var _dc=(e.charCode)?e.charCode:e.keyCode;if(_dc==13||_dc==32){_d9.setSelectedTabIndex(this.getSelectedIndex());_d9.focus();_d9.closeSubLayer();}else{if(_dc==27){_d9.focus();_d9.closeSubLayer();}}});this.setSelectOptions();this.setItemTable();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.setSelectOptions=function(){["WebSquare.uiplugin.tabControl.setSelectOptions"];try{if(this.itemTable!=null){this.itemTable.setItemArr(this.tabArr);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.setItemTable=function(){["WebSquare.uiplugin.tabControl.setItemTable"];try{var _dd=document.getElementById(this.id+"_btn_submenu");var _de=_dd.offsetWidth;var _df=_dd.offsetHeight;var _e0=WebSquare.style.getAbsoluteLeft(this.render)+this.render.offsetWidth;var top=WebSquare.style.getAbsoluteTop(_dd)+WebSquare.style.getSize(_dd,"outerMarginHeight");var _e2=0;for(var i=0;i<this.tabArr.length;i++){var _e4=WebSquare.style.getSize(this.tabArr[i].render,"outerMarginWidth");if(_e4>_e2){_e2=_e4;}}if(this.itemTableTdMargin===null){var _e5=document.getElementById(this.id+"_itemTable_0");if(_e5){this.itemTableTdMargin=parseInt(WebSquare.style.getStyleProperty(_e5,"margin-left"),10)||0+parseInt(WebSquare.style.getStyleProperty(_e5,"padding-left"),10)||0+parseInt(WebSquare.style.getStyleProperty(_e5,"padding-right"),10)||0+parseInt(WebSquare.style.getStyleProperty(_e5,"margin-right"),10)||0;}else{this.itemTableTdMargin=0;}}_e2+=this.itemTableTdMargin;var _e6=document.getElementById(this.itemTable.id+"_main");WebSquare.style.setStyle(_e6,"width",_e2+"px");WebSquare.style.setStyle(this.itemTable.render,"width",_e2+"px");_e0=_e0-_e2;this.itemTable.setPosition(_e0,top);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.toggle=function(){["WebSquare.uiplugin.tabControl.toggle"];try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.openSubLayer=function(){["WebSquare.uiplugin.tabControl.openSubLayer"];try{WebSquare.getBody().getLayerListener().show(this.id);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype._openSubLayer=function(){["WebSquare.uiplugin.tabControl._openSubLayer"];try{this.setSubLayer();if(!this.isOpen){this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setSelectOptions();this.setItemTable();this.itemTable.focus();this.isOpen=true;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype.closeSubLayer=function(_e7){["WebSquare.uiplugin.tabControl.closeSubLayer"];try{var _e8={"documentClick":_e7};WebSquare.getBody().getLayerListener().hide(this.id,_e8);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.tabControl.prototype._closeSubLayer=function(_e9){["WebSquare.uiplugin.tabControl._closeSubLayer"];try{var _e9=_e9||{};var _ea=_e9.documentClick;if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","true");this.isOpen=false;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};requires("uiplugin.input");WebSquare.uiplugin.searchbox=function(id,_2,_3){["WebSquare.uiplugin.searchbox"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.searchbox.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.searchbox.prototype.defaultOptions={pluginType:"uiplugin.searchbox",pluginName:"searchbox",paddingRight:20};WebSquare.uiplugin.searchbox.prototype.initialize=function(_4){var _5=this.options.style;this.options.style="position:relative;width:100%;height:100%;";this.options.parentEvent=this;this.input=new WebSquare.uiplugin.input(this.id+"___input",this.options,_4);this.options.parentEvent="";this.input.options.userEvents=this.input.defaultOptions.userEvents;var _6=-1;if(this.options.xmlEvents){for(var i=0;i<this.options.xmlEvents.length;i++){if(this.options.xmlEvents[i].name=="onclick"){_6=i;}}}if(_6!=-1){this.options.xmlEvents=this.options.xmlEvents.splice(_6,1);}else{this.options.xmlEvents=null;}this.options.style=_5;this.addControl(this.input);var _8=this;var _9={name:"onkeyup",action:"script",param:{handler:function(e){_8.setLayout();}}};if(this.input.options.xmlEvents){if(_6!=-1){this.input.options.xmlEvents.splice(_6,1);}this.input.options.xmlEvents.push(_9);}else{this.input.options.xmlEvents=[_9];}this.modelControl.ref="";this.input.modelControl.id=this.id;};WebSquare.uiplugin.searchbox.prototype.toHTML=function(){["WebSquare.uiplugin.searchbox.toHTML"];var _b=[];_b.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2searchbox "+this.options.className+"'>");_b.push(this.getChild(this.id+"___input").toHTML());_b.push("<div id='"+this.id+"___reset' class='w2searchbox_reset'></div>");_b.push("</div>");return _b.join("");};WebSquare.uiplugin.searchbox.prototype.setAction=function(){["WebSquare.uiplugin.searchbox.setLayout"];try{this.event.addUserEvents(this,this.input.userEventList);this.dom.reset=this.getElementById(this.id+"___reset");this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedown));this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleMousedown));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseover));var _c=parseInt(this.options.paddingRight,10);var _d=parseInt(this.getStyle("width"),10)-_c+parseInt(this.input.getStyle("padding-right"),10);var _e=this.getStyle("height");this.input.setSize(_d,_e);this.input.setStyle("padding-right",_c+"px");this.input.setVerticalAlign();this.setLayout();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.searchbox.prototype.setLayout=function(){["WebSquare.uiplugin.searchbox.setLayout"];try{if(this.input.render){if(this.input.render.value==""){this.dom.reset.style.display="none";}else{this.dom.reset.style.display="block";var _f=this.dom.reset.offsetHeight;var _10=this.getSize("height");this.dom.reset.style.top=parseInt((_10-_f)/2,10)+"px";}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.searchbox.prototype.focus=function(){["WebSquare.uiplugin.searchbox.focus"];try{if(this.input.render){this.input.render.focus();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.searchbox.prototype.refresh=function(){this.input.refresh();this.setLayout();};WebSquare.uiplugin.searchbox.prototype.handleMousedown=function(e){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2searchbox_reset")){WebSquare.event.stopEvent(e);this.dom.reset.style.display="none";this.setValue("");this.focus();}}it=null;};WebSquare.uiplugin.searchbox.prototype.handleMouseover=function(e){var _14=WebSquare.event.getRelatedTarget(e);if(this.hasClass(_14,"w2searchbox_reset")){this.removeClass(this.dom.reset,"w2searchbox_reset_on");return;}var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2searchbox_reset")){this.addClass(this.dom.reset,"w2searchbox_reset_on");}}it=null;};WebSquare.uiplugin.searchbox.apiExtend=function(){var _16=WebSquare.uiplugin.input.prototype;var _17=WebSquare.uiplugin.searchbox.prototype;for(prop in _16){if(!_17[prop]){_17[prop]=(function(_18){return function(){return this.input[_18].apply(this.input,arguments);};})(prop);}}};WebSquare.uiplugin.searchbox.apiExtend();WebSquare.uiplugin.fliptoggle=function(id,_2,_3){["WebSquare.uiplugin.fliptoggle"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.fliptoggle.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.fliptoggle.prototype.defaultOptions={pluginType:"uiplugin.fliptoggle",pluginName:"fliptoggle",userEvents:["ontogglechange"],useClickToggle:"true",label:"Label",escape:false};WebSquare.uiplugin.fliptoggle.prototype.initialize=function(_4){["WebSquare.uiplugin.fliptoggle.initialize"];try{this.selectedIndex=0;this.onLabel="On";this.onValue="on";this.offLabel="Off";this.offValue="off";var _5="w2";var _6=WebSquare.xml.findNodes(_4,_5+":on");var _7=WebSquare.xml.findNodes(_4,_5+":off");if(_6[0]){this.onLabel=WebSquare.xml.getAttribute(_6[0],"label");this.onValue=WebSquare.xml.getAttribute(_6[0],"value");this.onLocaleRef=WebSquare.xml.getAttribute(_6[0],"localeRef");}if(_7[0]){this.offLabel=WebSquare.xml.getAttribute(_7[0],"label");this.offValue=WebSquare.xml.getAttribute(_7[0],"value");this.offLocaleRef=WebSquare.xml.getAttribute(_7[0],"localeRef");}if(this.offLocaleRef&&this.onLocaleRef){this.offLabel=this.getLocaleValue(this.offLocaleRef);this.onLabel=this.getLocaleValue(this.onLocaleRef);}this.leftPosition;this.startEventLayer={};this.lastEventLayer={};}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.fliptoggle.prototype.toHTML=function(){["WebSquare.uiplugin.fliptoggle.toHTML"];var _8=[];_8.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2fliptoggle "+this.options.className+"'>");_8.push("<label for='"+this.id+"_select' id='"+this.id+"_label' class='w2fliptoggle_select'>");_8.push(this.options.label+":");_8.push("</label>");_8.push("<select id='"+this.id+"_select' class='w2fliptoggle_select' tabindex='0'>");_8.push("<option value='"+this.offValue+"'>"+this.offLabel+"</option>");_8.push("<option value='"+this.onValue+"'>"+this.onLabel+"</option>");_8.push("</select>");_8.push("<div id='"+this.id+"_mask' class='w2fliptoggle_conner_left w2fliptoggle_conner_right w2fliptoggle_mask'>");_8.push("<span id='"+this.id+"_left' class='w2fliptoggle_left_bg w2fliptoggle_conner_left w2fliptoggle_left'>");_8.push("</span>");_8.push("<span id='"+this.id+"_left_label' class='w2fliptoggle_left_label' style='visibility:hidden;'>");_8.push(this.onLabel);_8.push("</span>");_8.push("<span id='"+this.id+"_button' class='w2fliptoggle_button_bg w2fliptoggle_conner_left w2fliptoggle_conner_right w2fliptoggle_button'>");_8.push("</span>");_8.push("<span id='"+this.id+"_right_label' class='w2fliptoggle_right_label'>");_8.push(this.offLabel);_8.push("</span>");_8.push("<span id='"+this.id+"_right' class='w2fliptoggle_conner_right w2fliptoggle_right_bg w2fliptoggle_right'>");_8.push("</span>");_8.push("</div>");_8.push("</div>");return _8.join("");};WebSquare.uiplugin.fliptoggle.prototype.setAction=function(){["WebSquare.uiplugin.fliptoggle.setAction"];try{this.isMobile=WebSquare.util.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());this.dom.mask=document.getElementById(this.id+"_mask");this.dom.left=document.getElementById(this.id+"_left");this.dom.button=document.getElementById(this.id+"_button");this.dom.right=document.getElementById(this.id+"_right");this.dom.left_label=document.getElementById(this.id+"_left_label");this.dom.right_label=document.getElementById(this.id+"_right_label");this.dom.select=document.getElementById(this.id+"_select");this.setVerticalAlign(this.dom.left_label);this.setVerticalAlign(this.dom.right_label);this.leftPosition=WebSquare.style.getAbsoluteLeft(this.render);if(WebSquare.util.isIE(6)){this.__addClass(this.dom.button," ");}if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){WebSquare.event.preventDefault(e);}));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOut));}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.fliptoggle.prototype.displayLocaleValue=function(){if(this.offLocaleRef&&this.onLocaleRef){var _a=this.getLocaleValue(this.offLocaleRef);var _b=this.getLocaleValue(this.onLocaleRef);this.setLabel(_b,_a);}};WebSquare.uiplugin.fliptoggle.prototype.setLabel=function(_c,_d){["WebSquare.uiplugin.fliptoggle.setLabel"];try{var _e=document.getElementById(this.id+"_left_label");var _f=document.getElementById(this.id+"_right_label");var _10=document.getElementById(this.id+"_select");var _11=this.options.escape?WebSquare.xml._encode(_c+""):_c;var _12=this.options.escape?WebSquare.xml._encode(_d+""):_d;_e.innerHTML=_11;_f.innerHTML=_12;_10.options[0].innerHTML=_12;_10.options[1].innerHTML=_11;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.fliptoggle.prototype.refreshItemset=function(){};WebSquare.uiplugin.fliptoggle.prototype.refresh=function(){};WebSquare.uiplugin.fliptoggle.prototype.getElementWidth=function(_13){["WebSquare.uiplugin.fliptoggle.prototype.getElementWidth"];var _14;if(_13){_14=_13.offsetWidth;var _15=parseInt(WebSquare.util.getStyleProperty(_13,"border-left-width"),10)||0;var _16=parseInt(WebSquare.util.getStyleProperty(_13,"border-right-width"),10)||0;var _17=parseInt(WebSquare.util.getStyleProperty(_13,"padding-left"),10)||0;var _18=parseInt(WebSquare.util.getStyleProperty(_13,"padding-right"),10)||0;_14=_14-_15-_16-_17-_18;}return _14;};WebSquare.uiplugin.fliptoggle.prototype.setElementWidth=function(_19,_1a){["WebSquare.uiplugin.fliptoggle.prototype.setElementWidth"];var _1a;if(_19){var _1b=parseInt(WebSquare.util.getStyleProperty(_19,"border-left-width"),10)||0;var _1c=parseInt(WebSquare.util.getStyleProperty(_19,"border-right-width"),10)||0;_19.style.width=(_1a-_1b-_1c)+"px";}};WebSquare.uiplugin.fliptoggle.prototype.setButtonPosition=function(_1d){["WebSquare.uiplugin.fliptoggle.prototype.setButtonPosition"];try{if(typeof _1d!="number"){return;}var _1e=this.getElementWidth(this.dom.left);var _1f=this.getElementWidth(this.dom.right);var _20=this.dom.right.offsetLeft;var _21=this.getElementWidth(this.dom.button);var _22=this.getElementWidth(this.dom.mask);var _23=this.dom.mask.offsetLeft;if(_1d<0){_1d=0;}if(_1d>_23+_22-_21){_1d=_23+_22-_21;}var gap=_1d-this.dom.button.offsetLeft;if(_1d==0){this.dom.left_label.style.visibility="hidden";this.dom.right_label.style.visibility="visible";this.selectedIndex=0;this.dom.select.selectedIndex=0;}else{if(_1d==_23+_22-_21){this.dom.left_label.style.visibility="visible";this.dom.right_label.style.visibility="hidden";this.selectedIndex=1;this.dom.select.selectedIndex=1;}}this.dom.right.style.width=parseInt(_1f-gap,10)+"px";this.dom.left.style.width=parseInt(_1e+gap,10)+"px";this.dom.button.style.left=parseInt(_1d,10)+"px";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.fliptoggle.prototype.setVerticalAlign=function(_25){["WebSquare.uiplugin.fliptoggle.setVerticalAlign"];try{var _26=WebSquare.util.getStyleProperty(_25,"vertical-align")||"middle";if(_26=="top"){}else{var _27=_25.offsetHeight||parseInt(this.getStyle("height"),10);if(_27>0){var _28=parseInt(WebSquare.util.getStyleProperty(_25,"padding-top"),10)||0;var _29=parseInt(WebSquare.util.getStyleProperty(_25,"font-size"),10)||0;var _2a=0;if(_26=="middle"){_2a=Math.floor((_27-_29)/2);}else{if(_26=="bottom"){_2a=Math.floor(_27-_29);}}if((_2a+_28)>0&&(_27-_2a)>0){_25.style["paddingTop"]=_2a+_28+"px";_25.style["height"]=(_27-_2a)+"px";}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.fliptoggle.prototype.getValue=function(){["WebSquare.uiplugin.fliptoggle.getValue"];try{if(this.dom.select[this.selectedIndex]){return this.dom.select[this.selectedIndex].value;}else{return null;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.fliptoggle.prototype.toggle=function(_2b){["WebSquare.uiplugin.fliptoggle.toggle"];try{var _2c=this.selectedIndex;if(typeof _2b=="undefined"){_2b=this.selectedIndex==0?1:0;}if(_2b==0){this.setButtonPosition(0);}else{this.setButtonPosition(this.getElementWidth(this.dom.mask));}if(_2c!=this.selectedIndex){WebSquare.event.fireEvent(this,"ontogglechange");}return this.getValue();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.fliptoggle.prototype.setValue=function(_2d){["WebSquare.uiplugin.fliptoggle.setValue"];try{if(WebSquare.util.isNull(_2d)){return;}for(var i=0;i<this.dom.select.length;i++){if(_2d==this.dom.select[i].value){return this.toggle(i);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.fliptoggle.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.fliptoggle.prototype.handleClickEvent"];try{if(!this.isSliding){this.toggle();}WebSquare.event.stopPropagation(e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.fliptoggle.prototype.handleChangeEvent=function(e){["WebSquare.uiplugin.fliptoggle.prototype.handleChangeEvent"];try{}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.fliptoggle.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.fliptoggle.prototype.handleTouchStart"];WebSquare.event.stopPropagation(e);var it=this.event.getTargetIterator(e,this.render);this.startEventLayer.x=WebSquare.event.getMouseX(e);this.startEventLayer.y=WebSquare.event.getMouseY(e);this.lastEventLayer.x=WebSquare.event.getMouseX(e);this.lastEventLayer.y=WebSquare.event.getMouseY(e);while(it.next()){if(it.match("w2fliptoggle_button")){this.isSliding=true;}}};WebSquare.uiplugin.fliptoggle.prototype.handleTouchEnd=function(e,_34){["WebSquare.uiplugin.fliptoggle.prototype.handleTouchEnd"];try{this.isSliding=false;var _35=this.getElementWidth(this.dom.mask);var _36=this.getElementWidth(this.dom.left);var _37=this.getElementWidth(this.dom.button);if(this.startEventLayer.x-this.lastEventLayer.x===0&&this.startEventLayer.y-this.lastEventLayer.y===0){if(WebSquare.util.getBoolean(this.options.useClickToggle)){this.toggle();}}else{if(_36<_35*0.7){this.toggle(0);}else{var _38=this.dom.mask.offsetLeft;this.toggle(1);}}WebSquare.event.stopPropagation(e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.fliptoggle.prototype.handleTouchMove=function(e){["WebSquare.uiplugin.fliptoggle.prototype.handleTouchMove"];this.lastEventLayer.x=WebSquare.event.getMouseX(e);this.lastEventLayer.y=WebSquare.event.getMouseY(e);if(!this.isSliding){return;}eventLayerX=this.lastEventLayer.x-(this.leftPosition||0);var _3a=0;var _3b=this.dom.button.offsetLeft;var _3c=this.getElementWidth(this.dom.button);var _3d=this.dom.button.offsetLeft;var _3e=this.getElementWidth(this.dom.mask);var _3f=this.dom.mask.offsetLeft;var _40=this.getElementWidth(this.dom.left);var _41=this.getElementWidth(this.dom.right);var _42=_3c/2;_3a=eventLayerX-_42;_40=_3a+_42;if(_40>_3e-_42){_40=_3e-_42;}else{if(_40<_42){_40=_42-1;}}this.setElementWidth(this.dom.left,_40);_41=_3e-_40-1;this.setElementWidth(this.dom.right,_41);if(_3a<0){_3a=0;}else{if(_3a>_3e-_3c){_3a=_3e-_3c;}}this.dom.button.style.left=_3a+"px";if(WebSquare.util.isIE(6)){this.dom.left.style.height=this.render.offsetHeight+"px";this.dom.right.style.height=this.render.offsetHeight+"px";this.dom.button.style.height=this.render.offsetHeight+"px";}if(this.isMobile){WebSquare.event.preventDefault(e);}};WebSquare.uiplugin.fliptoggle.prototype.handleMouseOut=function(e){["WebSquare.uiplugin.fliptoggle.prototype.handleMouseOut"];if(this.isSliding){if(!WebSquare.event.getRelatedTarget(e)){return;}if(WebSquare.event.getRelatedTarget(e).getAttribute("id")){if(WebSquare.event.getRelatedTarget(e).getAttribute("id").indexOf(this.id)<0){this.handleTouchEnd(e);}}else{if(!WebSquare.event.getRelatedTarget(e).getAttribute("id")){this.handleTouchEnd(e);}}}};WebSquare.uiplugin.pageControl=function(id,_2,_3){["WebSquare.uiplugin.pageControl"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.pageControl.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.pageControl.prototype.defaultOptions={pluginType:"uiplugin.pageControl",pluginName:"pageControl",userEvents:["onchange"],pagingType:"1",rotation:"false",detectionRange:10,pageCount:10};WebSquare.uiplugin.pageControl.prototype.initialize=function(_4){["WebSquare.uiplugin.pageControl.initialize"];try{this.pageCount=this.options.pageCount;this.displayIndex=1;this.selectedIndex=1;this.moveEventLayerX=null;this.startEventLayerX=null;this.isSliding=false;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageControl.prototype.toHTML=function(){["WebSquare.uiplugin.pageControl.toHTML"];var _5=[];_5.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2pageControl "+this.options.className+"'>");_5.push("<span id='"+this.id+"_left' class='w2pageControl_left'>");if(this.options.pagingType=="1"){_5.push("<button id='"+this.id+"_left_button' class='w2pageControl_left_button w2pageControl_button_background' tabindex='0' title='\uc774\uc804 \ud398\uc774\uc9c0'>");_5.push("<span id='"+this.id+"_left_icon' class='w2pageControl_left_icon'>");_5.push("\uc774\uc804");_5.push("</span>");_5.push("</button>");}_5.push("</span>");_5.push("<span id='"+this.id+"_center' class='w2pageControl_center'>");_5.push("<table id='"+this.id+"_center_table' class='w2pageControl_center_table'>");_5.push("<tr style='height:100%;'>");_5.push("<td id='"+this.id+"_center_td' class='w2pageControl_center_td");if(this.options.pagingType!="1"){_5.push(" w2pageControl_center_image'>");}else{_5.push("'>");_5.push(this.displayIndex+"/"+this.pageCount);}_5.push("</td>");_5.push("</tr>");_5.push("</table>");_5.push("</span>");_5.push("<span id='"+this.id+"_right' class='w2pageControl_right'>");if(this.options.pagingType=="1"){_5.push("<button id='"+this.id+"_right_button' class='w2pageControl_right_button w2pageControl_button_background' tabindex='0' title='\ub2e4\uc74c \ud398\uc774\uc9c0'>");_5.push("<span id='"+this.id+"_right_icon' class='w2pageControl_right_icon'>");_5.push("\ub2e4\uc74c");_5.push("</span>");_5.push("</button>");}_5.push("</span>");_5.push("</div>");return _5.join("");};WebSquare.uiplugin.pageControl.prototype.setAction=function(){this.isMobile=WebSquare.util.isMobile();this.isWebKit=/webkit/.test(navigator.userAgent.toLowerCase());if(this.options.pagingType!="1"){if(this.isMobile){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"ontouchmove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"ontouchend",this.event.bindAsEventListener(this,this.handleTouchEnd));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleTouchStart));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseOut));this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,this.handleTouchMove));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleTouchEnd));}}else{this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));}this.event.addListener(this.render,"onselectstart",this.event.bindAsEventListener(this,function(e){WebSquare.event.preventDefault(e);}));};WebSquare.uiplugin.pageControl.prototype.refreshItemset=function(){};WebSquare.uiplugin.pageControl.prototype.refresh=function(){};WebSquare.uiplugin.pageControl.prototype.setCount=function(_7){["WebSquare.uiplugin.pageControl.setCount"];try{this.pageCount=_7;this.redraw();this.setSelectedIndex(1);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageControl.prototype.setSelectedIndex=function(_8,_9){["WebSquare.uiplugin.pageControl.setSelectedIndex"];try{if(this.pageCount==0){return;}if(WebSquare.util.isNull(_8)){return;}_8=_8.toString();if(_8<1||_8>this.pageCount){$l("range exception for "+this.id);return;}var _a=this.selectedIndex;this.setDisplayIndex(_8);this.selectedIndex=parseInt(_8);if(this.options.pagingType!="1"){var _b=document.getElementById(this.id+"_center_td");this.removeClass(_b,"w2pageControl_center_image");this.removeClass(_b,"w2pageControl_center_image_prev");this.removeClass(_b,"w2pageControl_center_image_next");if(_9==="previous"){this.addClass(_b,"w2pageControl_center_image_prev");}else{if(_9==="next"){this.addClass(_b,"w2pageControl_center_image_next");}else{if(_a>this.selectedIndex){this.addClass(_b,"w2pageControl_center_image_prev");}else{this.addClass(_b,"w2pageControl_center_image_next");}}}this.pageImage=setTimeout(this.event.bindAsEventListener(this,function(){this.removeClass(_b,"w2pageControl_center_image");this.removeClass(_b,"w2pageControl_center_image_prev");this.removeClass(_b,"w2pageControl_center_image_next");this.addClass(_b,"w2pageControl_center_image");}),500);}var _c=null;if(this.selectedIndex>_a){_c="next";}else{if(this.selectedIndex<_a){_c="previous";}}if(WebSquare.util.getBoolean(this.options.rotation)){if(this.selectedIndex===1&&_a===this.pageCount){_c="next";}else{if(this.selectedIndex===this.pageCount&&_a===1){_c="previous";}}}if(_a!=-1&&_a!=this.selectedIndex){WebSquare.event.fireEvent(this,"onchange",this.selectedIndex,_a,_c);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageControl.prototype.getSelectedIndex=function(){["WebSquare.uiplugin.pageControl.getSelectedIndex"];try{return this.selectedIndex;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageControl.prototype.moveToLeft=function(_d){["WebSquare.uiplugin.pageControl.moveToLeft"];try{if(WebSquare.util.getBoolean(this.options.rotation)){if(this.selectedIndex<=1){this.setSelectedIndex(this.pageCount,_d);}else{this.setSelectedIndex(this.selectedIndex-1,_d);}}else{this.setSelectedIndex(this.selectedIndex-1,_d);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageControl.prototype.moveToRight=function(_e){["WebSquare.uiplugin.pageControl.moveToRight"];try{if(WebSquare.util.getBoolean(this.options.rotation)){if(this.selectedIndex>=this.pageCount){this.setSelectedIndex(1,_e);}else{this.setSelectedIndex(this.selectedIndex+1,_e);}}else{this.setSelectedIndex(this.selectedIndex+1,_e);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageControl.prototype.setDisplayIndex=function(_f){["WebSquare.uiplugin.pageControl.setDisplayIndex"];try{if(this.pageCount==0){return;}_f=parseInt(_f);var _10=_f;if(_10<1){_10=1;}if(_10>this.pageCount){_10=this.pageCount;}if(this.displayIndex==_10){return;}else{this.displayIndex=_10;if(this.options.pagingType=="1"){var _11=document.getElementById(this.id+"_center_td");if(_11){_11.innerHTML=this.displayIndex+"/"+this.pageCount;}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageControl.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.pageControl.prototype.handleClickEvent"];try{var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2pageControl_left_button")){this.moveToLeft("previous");}else{if(it.match("w2pageControl_right_button")){this.moveToRight("next");}}}it=null;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageControl.prototype.handleTouchStart=function(e){["WebSquare.uiplugin.pageControl.prototype.handleTouchStart"];this.isSliding=true;this.startEventLayerX=WebSquare.event.getMouseX(e);WebSquare.event.stopEvent(e);};WebSquare.uiplugin.pageControl.prototype.handleTouchEnd=function(e){["WebSquare.uiplugin.pageControl.prototype.handleTouchEnd"];try{if(this.startEventLayerX==null||this.moveEventLayerX==null){return;}var _16=this.moveEventLayerX-this.startEventLayerX;if(_16<(this.options.detectionRange*-1)){this.moveToRight("next");}else{if(_16>this.options.detectionRange){this.moveToLeft("previous");}}this.isSliding=false;this.moveEventLayerX=null;this.startEventLayerX=null;WebSquare.event.stopEvent(e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.pageControl.prototype.handleTouchMove=function(e){["WebSquare.uiplugin.pageControl.prototype.handleTouchMove"];if(!this.isSliding){return;}this.moveEventLayerX=WebSquare.event.getMouseX(e);if(this.isMobile){WebSquare.event.preventDefault(e);}};WebSquare.uiplugin.pageControl.prototype.handleMouseOut=function(e){["WebSquare.uiplugin.pageControl.prototype.handleMouseOut"];try{if(!WebSquare.event.getRelatedTarget(e)){return;}if(this.isSliding){if(WebSquare.event.getRelatedTarget(e).getAttribute("id")){if(WebSquare.event.getRelatedTarget(e).getAttribute("id").indexOf(this.id)<0){this.handleTouchEnd(e);}}else{if(!WebSquare.event.getRelatedTarget(e).getAttribute("id")){this.handleTouchEnd(e);}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};requires("uiplugin/control/itemsetControl.js");requires("uiplugin/table/itemTable.js");requires("engine/validator.js");WebSquare.uiplugin.checkcombobox=function(id,_2,_3){["WebSquare.uiplugin.checkcombobox"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.checkcombobox.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.checkcombobox.prototype,WebSquare.itemsetControl.prototype);WebSquare.extend(WebSquare.uiplugin.checkcombobox.prototype,WebSquare.IValidate.prototype);WebSquare.uiplugin.checkcombobox.prototype.defaultOptions={pluginType:"uiplugin.checkcombobox",pluginName:"checkcombobox",renderType:"component",userEvents:["onchange","onclose"],useConfig:true,separator:" ",value:"",sortOption:"",sortMethod:"",wmode:false,visibleRowNum:5,displayMode:"0",delimiter:"\t",textAlign:"",chooseOption:false,chooseOptionLabel:"",allOption:false,tooltipMode:"none",defaultStyle:"",activeStyle:"",defaultClass:"w2checkcombobox_default",activeClass:"w2checkcombobox_active",useLocale:false,submenuSize:"auto",direction:"auto",mandatory:false,maxlength:-1,minlength:-1,allowChar:"",ignoreChar:"",characterCase:"",maxByteLength:-1,minByteLength:-1,validator:"",invalidMessage:"",invalidMessageFunc:"",displaymessage:false,labelWidthAuto:false,initValue:"",title:"",setDataRemoveAll:true,escape:false};WebSquare.uiplugin.checkcombobox.prototype.initialize=function(_4){["WebSquare.uiplugin.checkcombobox.initialize"];try{this.itemTable=null;this.isOpen=false;this.statusSubLayer=false;this.separator=this.options.separator=this.options.separator||" ";this.selectedInfo={};this.defaultAllOptionLabel=WebSquare.language.getMessage("CheckCombobox_all");if(_4&&_4.getAttribute("chooseOptionLabel")=="$blank"){this.defaultChooseOptionLabel="";}else{this.defaultChooseOptionLabel=WebSquare.language.getMessage("CheckCombobox_choose");}switch(this.options.displayMode){case "0":case "1":case "2":break;case "value delim label":this.options.displayMode="1";break;case "label delim value":this.options.displayMode="2";break;default:this.options.displayMode="0";}this.initializeItemArr(_4);this.setSelectItemArr();this.validator=new WebSquare.validator.validateInvoker(this.id,this.options);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.finalize=function(){["WebSquare.uiplugin.checkcombobox.finalize"];try{if(this.itemTable){this.itemTable.remove();this.itemTable=null;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.toHTML=function(){["WebSquare.uiplugin.checkcombobox.toHTML"];try{var _5=[];var _6=this.options.title?" title='"+this.options.title+"'":"";_5.push("<div id='"+this.id+"'  role='combobox' aria-labelledby='"+this.id+"_itemTable' aria-autocomplete='none' style='"+this.options.style+"' class='w2checkcombobox "+this.options.className+"' tabIndex='0' "+_6+" >");_5.push("<table class='w2checkcombobox_table_main'  cellpadding='0' cellspacing='0'>");_5.push("<tbody id='"+this.id+"_main_tbody'>");_5.push("<tr class='w2checkcombobox_row w2checkcombobox_row_main'>");_5.push("<td class='w2checkcombobox_col_label' style='"+this.options.defaultStyle+"'><div id='"+this.id+"_label' role='document' aria-live='assertive' aria-automatic='true' class='w2checkcombobox_label' style='text-align:"+this.options.textAlign+";"+this.options.defaultStyle+"'></div></td>");_5.push("<td class='w2checkcombobox_col_button' id='"+this.id+"_button'  aria-labelledby='"+this.id+"_itemTable' aria-controls='"+this.id+"_itemTable' style=''></td>");_5.push("</tr></tbody>");_5.push("</table>");_5.push("</div>");return _5.join("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.setAction=function(){["WebSquare.uiplugin.checkcombobox.setAction"];try{this.dom.button=this.getElementById(this.id+"_button");this.dom.label=this.getElementById(this.id+"_label");this.dom.tbody=this.getElementById(this.id+"_main_tbody");WebSquare.getBody().getLayerListener().addListener({component:this,fnShow:this._openSubLayer,fnHide:this._closeSubLayer,paramHide:{"documentClick":true},event:{}});this.event.addListener(this.render,"onclick",this.event.bindAsEventListener(this,this.handleClickEvent));if(WebSquare.util.isMobile()){this.event.addListener(this.render,"ontouchstart",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopPropagation(e);}));}else{this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,function(e){WebSquare.event.stopPropagation(e);}));}this.event.addListener(this.render,"onkeydown",this.event.bindAsEventListener(this,this.handleKeydownEvent));this.event.addListener(this.render,"onfocus",this.event.bindAsEventListener(this,this.handleFocusEvent));this.event.addListener(this.render,"onblur",this.event.bindAsEventListener(this,this.handleBlurEvent));this.event.addListener(this.render,"onmouseover",this.event.bindAsEventListener(this,this.handleMouseoverEvent));this.event.addListener(this.render,"onmouseout",this.event.bindAsEventListener(this,this.handleMouseoutEvent));if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();}else{if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}}if(this.modelControl.isBinded()){var _9=this.modelControl.getData();this.setValueNM(_9);}if(this.options.chooseOption==true){var _a=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_a=WebSquare.xml.decode(_a).replace("&nbsp;"," ");this.dom.label.innerHTML=_a;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.refreshItemset=function(){["WebSquare.uiplugin.checkcombobox.refreshItemset"];try{if(this.modelControl.isItemsetBinded()){this.refreshItemArr();this.componentRedraw();if(this.modelControl.isBinded()){this.refresh();}else{var _b=[];for(var i=0;i<this.itemArr.length;i++){_b.push({index:i,checked:false});}this.setSelectedInfoNM(_b);}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.refresh=function(){["WebSquare.uiplugin.checkcombobox.refresh"];try{if(this.modelControl.isBinded()){var _d=this.getValue();var _e=this.modelControl.getData();if(this.setValueNM(_e)==true){if(_d!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.componentRedraw=function(){["WebSquare.uiplugin.checkcombobox.componentRedraw"];try{this.setSelectItemArr();if(this.options.labelWidthAuto===true){this.setLabelWidthByItemLength();}this.setSelectOptions();this.setValueNM("");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.setLabelWidthByItemLength=function(){["WebSquare.uiplugin.checkcombobox.setLabelWidthByItemLength"];try{if(!this.labelRuler){this.labelRuler=document.createElement("div");this.labelRuler.style.position="absolute";this.labelRuler.style.top="-1000px";this.labelRuler.style.left="-1000px";this.labelRuler.style.visibility="hidden";document.body.appendChild(this.labelRuler);}var _f=0;for(var i=0;i<this.itemArr.length;i++){var _11=document.getElementById("checkcombobox_ruler");this.labelRuler.innerHTML=this.itemArr[i].label;if(this.labelRuler.offsetWidth>_f){_f=this.labelRuler.offsetWidth;}}var _12=document.getElementById(this.id+"_button");this.render.style.width=_f+_12.offsetWidth+10+"px";}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.setSubLayer=function(){["WebSquare.uiplugin.checkcombobox.setSubLayer"];try{if(this.itemTable==null){this.itemTable=new WebSquare.uiplugin.itemTable(this.id+"_itemTable",{row:this.options.visibleRowNum,col:1,submenuSize:this.options.submenuSize,style:"position:absolute;",defaultStyle:"text-align:"+this.options.textAlign+";"+this.options.defaultStyle,className:"w2table "+this.options.className,w2table:"w2table_ccb",w2table_main:"w2table_ccb_main",w2table_row:"w2table_ccb_row",w2table_col:"w2table_ccb_col",w2table_col_over:"w2table_ccb_col_over",w2table_col_checkbox:"w2table_ccb_col_checkbox",w2table_col_label:"w2table_ccb_col_label",checkbox:true,escape:this.options.escape});this.itemTable.writeTo(WebSquare.getBody());this.itemTable.activate();var _13=this;this.itemTable.addClickEventListener(function(_14){["WebSquare.uiplugin.checkcombobox.itemTable.addClickEventListener"];var _15=document.getElementById(_13.id+"_itemTable_"+_14+"_checkbox");if(_15&&_15.value=="all"){var _16=WebSquare.util.getBoolean(_15.checked);for(var i=1;i<_13.itemArr.length;i++){var _18=document.getElementById(_13.id+"_itemTable_"+i+"_checkbox");if(_18&&_18.checked!=_16){_18.checked=_16;}_13.addSelectedInfo({index:i,checked:_16});}}else{_13.addSelectedInfo({index:_14,checked:_15.checked});}if(_13.options.allOption){if(_14>0){var _19=true;if(_15.checked){for(var i=1;i<_13.itemArr.length;i++){var _1a=document.getElementById(_13.id+"_itemTable_"+i+"_checkbox");if(!_1a.checked){_19=false;break;}}}else{_19=false;}var _1b=document.getElementById(_13.id+"_itemTable_0_checkbox");_1b.checked=_19;}}});this.itemTable.addKeyDownEventListener(function(e){["WebSquare.uiplugin.checkcombobox.itemTable.addKeyDownEventListener"];var _1d=(e.charCode)?e.charCode:e.keyCode;if(_1d==13){_13.focus();_13.closeSubLayer();}else{if(_1d==27){_13.focus();_13.closeSubLayer();}}});this.setSelectOptions();this.setItemTable();for(var i=0;i<this.getItemCount();i++){if(this.itemArr[i].checked){var _1f=document.getElementById(this.id+"_itemTable_"+i+"_checkbox");_1f.checked=true;this.addSelectedInfo({index:i,checked:_1f.checked});}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.setSelectOptions=function(){["WebSquare.uiplugin.checkcombobox.setSelectOptions"];try{if(this.itemTable!=null){this.itemTable.setItemArr(this.itemArr);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.setItemTable=function(){["WebSquare.uiplugin.checkcombobox.setItemTable"];try{var _20=this.render.offsetWidth;var _21=this.render.offsetHeight;var _22=WebSquare.style.getAbsoluteLeft(this.render);var top=WebSquare.style.getAbsoluteTop(this.render);var tds=this.itemTable.render.getElementsByTagName("td");if(tds&&tds.length>0){var _25=0;var _26=Math.min(this.getItemCount(),this.options.visibleRowNum);for(var i=0;i<_26;i++){_25+=tds[i].offsetHeight;}this.itemTable.setStyle("height",_25+"px");}if(this.options.submenuSize=="fixed"){this.itemTable.setStyle("width",(_20-2)+"px");if(this.itemTable.render.offsetHeight>=this.itemTable.render.scrollHeight){this.itemTable.render.firstChild.style.width=(_20)+"px";}else{this.itemTable.render.firstChild.style.width=(_20-17)+"px";}}else{if(this.options.submenuSize=="auto"){var _28=this.render.offsetWidth;var _29=this.itemTable.render.clientWidth;if(_29<_28-2){_29=_28-2;}this.itemTable.setStyle("width",_29+"px");if(this.itemTable.render.clientHeight>=this.itemTable.render.scrollHeight||this.getItemCount()<=this.options.visibleRowNum){this.itemTable.render.firstChild.style.width=_29+"px";}else{this.itemTable.render.firstChild.style.width=(_29-17)+"px";var _2a=this.itemTable.render.firstChild.offsetWidth;if(_2a>_29-17){this.itemTable.render.firstChild.style.width=_2a+"px";this.itemTable.setStyle("width",(_2a+17)+"px");}}}else{if(this.itemTable.render.scrollHeight-this.itemTable.render.offsetHeight>1){this.itemTable.setStyle("width",(this.itemTable.render.firstChild.offsetWidth+17)+"px");}}}var _2b=this.options.direction;if(_2b=="auto"){var _2c=document.body.scrollTop;if(_2c<document.documentElement.scrollTop){_2c=document.documentElement.scrollTop;}var _2d=top-_2c;var _2e=document.documentElement.clientHeight-(_2d+this.render.offsetHeight);var _2f=this.itemTable.render.offsetHeight;if(_2e<_2f&&_2d>_2f){_2b="up";}}if(_2b=="up"){top=top-this.itemTable.render.offsetHeight;}else{top=top+this.render.offsetHeight;}if(document.documentElement.clientWidth<(_22+this.itemTable.render.offsetWidth)){_22=_22+this.render.offsetWidth-this.itemTable.render.offsetWidth;}this.itemTable.setPosition(_22,top);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.setSelectItemArr=function(){["WebSquare.uiplugin.checkcombobox.setSelectItemArr"];try{if(this.options.sortOption!=""){var _30=[];var _31=null;if(this.options.sortOption=="label"){_31=function(){return this.label;};}else{if(this.options.sortOption=="value"){_31=function(){return this.value;};}}for(var i=0;i<this.itemArr.length;i++){var _33=this.itemArr[i];_33.toString=_31;_30.push(_33);}_30.sort();if(this.options.sortMethod=="descending"){_30.reverse();}this.itemArr=_30;}if(this.options.displayMode!="0"){for(var i=0;i<this.itemArr.length;i++){this.itemArr[i].label=this.getItemText(i);}}if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all"}].concat(this.itemArr);}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.getItemText=function(idx){["WebSquare.uiplugin.checkcombobox.getItemText"];try{var _35="";if(idx>-1&&idx<this.getItemCount()){_35=this.itemArr[idx].label;switch(this.options.displayMode){case "0":break;case "1":_35=this.itemArr[idx].value+this.options.delimiter+_35;break;case "2":_35=_35+this.options.delimiter+this.itemArr[idx].value;break;default:}}return _35;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.toggle=function(){["WebSquare.uiplugin.checkcombobox.toggle"];try{if(this.isOpen){this.closeSubLayer();}else{this.openSubLayer();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.openSubLayer=function(){["WebSquare.uiplugin.checkcombobox.openSubLayer"];try{WebSquare.getBody().getLayerListener().show(this.id);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype._openSubLayer=function(){["WebSquare.uiplugin.checkcombobox._openSubLayer"];try{this.oldValue=this.getValue();this.setSubLayer();if(!this.isOpen){this.itemTable.show();this.itemTable.render.setAttribute("aria-expended","true");this.setItemTable();if(this.options.wmode==true){WebSquare.getBody().showWModeFrame(this.getPluginName(),this.itemTable.render);}this.itemTable.focus();this.isOpen=true;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.closeSubLayer=function(_36){["WebSquare.uiplugin.checkcombobox.closeSubLayer"];try{var _37={"documentClick":_36};WebSquare.getBody().getLayerListener().hide(this.id,_37);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype._closeSubLayer=function(_38){["WebSquare.uiplugin.checkcombobox._closeSubLayer"];try{var _38=_38||{};var _39=_38.documentClick;if(this.isOpen&&this.itemTable!=null){this.itemTable.hide();this.itemTable.render.setAttribute("aria-expended","true");if(this.options.wmode==true){WebSquare.getBody().hideWModeFrame(this.getPluginName(),this.itemTable.id);}var _3a=this.convertInfoHash2Array(this.selectedInfo);if(_3a.length>0){this.setSelectedInfo(_3a);}this.isOpen=false;if(_39===true){WebSquare.event.fireEvent(this,"onclose",true);}else{WebSquare.event.fireEvent(this,"onclose",false);}this.selectedInfo={};}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.getItemCount=function(){["WebSquare.uiplugin.checkcombobox.getItemCount"];try{return this.itemArr.length;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.setSelectedInfo=function(_3b){["WebSquare.uiplugin.checkcombobox.setSelectedInfo"];try{if(this.modelControl.isBinded()){this.modelControl.setData(this.getInfoValue(_3b));}else{var _3c=this.getValue();if(this.setSelectedInfoNM(_3b)){if(_3c!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.getInfoValue=function(_3d){["WebSquare.uiplugin.checkcombobox.getInfoValue"];try{for(var i=0;i<this.itemArr.length;i++){var _3f=this.itemArr[i].checked;if(_3f){var _40=null;for(var j=0;j<_3d.length;j++){if(i==parseInt(_3d[j].index,10)){_40=_3d[j];break;}}if(!_40){_3d.push({index:i,checked:_3f});}}}var ret=[];var _43=this.convertInfoArray2Hash(_3d);for(var i=0;i<this.itemArr.length;i++){var _40=_43[i];if(_40&&_40.checked){ret.push(this.itemArr[i].value);}}return ret.join(this.separator);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.convertInfoArray2Hash=function(_44){["WebSquare.uiplugin.checkcombobox.convertInfoArray2Hash"];try{var ret={};for(var i=0;i<_44.length;i++){ret[_44[i].index]=_44[i];}return ret;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.convertInfoHash2Array=function(_47){["WebSquare.uiplugin.checkcombobox.convertInfoHash2Array"];try{var ret=[];for(var key in _47){if(_47.hasOwnProperty(key)){ret.push(_47[key]);}}return ret;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.addSelectedInfo=function(_4a){["WebSquare.uiplugin.checkcombobox.addSelectedInfo"];try{if(!_4a||typeof _4a.index=="undefined"){return false;}this.selectedInfo[_4a.index]=_4a;return true;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.setSelectedInfoNM=function(_4b){["WebSquare.uiplugin.checkcombobox.setSelectedInfoNM"];try{if(!WebSquare.util.isArray(_4b)){return false;}for(var i=0;i<_4b.length;i++){var _4d=_4b[i].index;var _4e=WebSquare.util.getBoolean(_4b[i].checked);_4d=parseInt(_4d);var _4f=document.getElementById(this.id+"_itemTable_"+_4d+"_checkbox");if(_4f){_4f.checked=_4e;}this.itemArr[_4d].checked=_4e;}var _50=this.getText();if(this.options.escape){_50=WebSquare.xml._encode(_50);}this.dom.label.innerHTML=_50;if(_50==""&&this.options.chooseOption==true){_50=this.options.useLocale==true?this.getLocaleValue(this.options.chooseOptionLabel):this.options.chooseOptionLabel||this.defaultChooseOptionLabel;_50=WebSquare.xml.decode(_50).replace("&nbsp;"," ");this.dom.label.innerHTML=_50;}if(this.options.tooltipMode=="title"){document.getElementById(this.id).title=_50;}return true;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.getSelectedInfo=function(){["WebSquare.uiplugin.checkcombobox.getSelectedInfo"];try{var _51=this.getItemCount();var ret=[];for(var i=0;i<_51;i++){if(this.itemArr[i].checked){ret.push({index:i,label:this.itemArr[i].label,value:this.itemArr[i].value,checked:true});}}return ret;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.getInfo=function(_54){["WebSquare.uiplugin.checkcombobox.getInfo"];try{var _55;if(this.itemArr.length>_54){_55={};_55.index=_54;_55.label=this.itemArr[_54].label;_55.value=this.itemArr[_54].value;_55.checked=WebSquare.util.getBoolean(this.itemArr[_54].checked);}return _55;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.getInfoArray=function(){["WebSquare.uiplugin.checkcombobox.getInfoArray"];try{var _56=[];for(var i=0;i<this.itemArr.length;i++){var _58={};_58.index=i;_58.label=this.itemArr[i].label;_58.value=this.itemArr[i].value;_58.checked=WebSquare.util.getBoolean(this.itemArr[i].checked);_56.push(_58);}return _56;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.setValue=function(_59){["WebSquare.uiplugin.checkcombobox.setValue"];try{if(WebSquare.util.isNull(_59)){return;}var _5a=this.getValue();if(this.modelControl.isBinded()){this.modelControl.setData(_59);}else{if(this.setValueNM(_59)==true){if(_5a!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.setValueNM=function(_5b){["WebSquare.uiplugin.checkcombobox.setValueNM"];try{if(!WebSquare.util.isArray(_5b)){if(WebSquare.util.isNull(_5b)){return;}var _5c=_5b.toString();_5b=_5c.split(this.separator);}var _5d=[];var _5e=this.getItemCount();for(var i=0;i<_5e;i++){if(this.itemArr[i].value=="all"){continue;}var _60={};_60.index=i;_60.checked=false;for(var j=0;j<_5b.length;j++){if(_5b[j]==this.itemArr[i].value){_60.checked=true;break;}}_5d.push(_60);}return this.setSelectedInfoNM(_5d);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.getValue=function(_62){["WebSquare.uiplugin.checkcombobox.getValue"];try{if(!_62){_62=this.separator;}var _63=this.getItemCount();var ret=[];for(var i=0;i<_63;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].value);}}return ret.join(_62).wq_trim();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.getValueArray=function(){["WebSquare.uiplugin.checkcombobox.getValueArray"];try{var _66=this.getItemCount();var ret=[];for(var i=0;i<_66;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].value);}}return ret;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.setText=function(_69){["WebSquare.uiplugin.checkcombobox.setText"];try{var _6a=this.getItemCount();var _6b=[];var _6c=_69.split(this.separator);for(var i=0;i<_6a;i++){for(var j=0;j<_6c.length;j++){if(this.itemArr[i].label==_6c[j]){_6b.push(this.itemArr[i].value);break;}}}this.setValue(_6b.join(this.separator));}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.getText=function(_6f){["WebSquare.uiplugin.checkcombobox.getText"];try{if(!_6f){_6f=this.separator;}var _70=this.getItemCount();var ret=[];for(var i=0;i<_70;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].label);}}return ret.join(_6f).wq_trim();}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.getTextArray=function(){["WebSquare.uiplugin.checkcombobox.getTextArray"];try{var _73=this.getItemCount();var ret=[];for(var i=0;i<_73;i++){if(this.itemArr[i].checked){ret.push(this.itemArr[i].label);}}return ret;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.addItemArr=function(_76,_77){["WebSquare.uiplugin.checkcombobox.addItemArr"];try{this.itemArr.push({label:_76,value:_77});}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.addItem=function(_78,_79,idx){["WebSquare.uiplugin.checkcombobox.addItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){idx=this.getItemCount();}else{if(idx<0||idx>=this.getItemCount()){idx=this.getItemCount();}}var _7b={value:_78,label:_79};this.itemArr.splice(idx,0,_7b);if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}this.setValueNM(this.getValue());return idx;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.deleteItem=function(idx){["WebSquare.uiplugin.checkcombobox.deleteItem"];try{idx=parseInt(idx,10);if(isNaN(idx)){return;}var _7d=null;if(idx>=0&&idx<this.getItemCount()){_7d=(this.itemArr.splice(idx,1))[0];}if(this.itemTable){this.itemTable.setStyle("visibility","hidden");this.itemTable.setStyle("display","block");this.setSelectOptions(this.itemArr);this.itemTable.setStyle("display","none");}else{this.setSelectOptions(this.itemArr);}this.setValueNM(this.getValue());return _7d;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.removeAll=function(_7e){["WebSquare.uiplugin.checkcombobox.removeAll"];try{var _7f=this.getValue();this.itemArr=new Array();if(_7e){if(this.options.allOption==true){this.itemArr=[{label:this.defaultAllOptionLabel,value:"all"}].concat(this.itemArr);}}this.setSelectOptions(this.itemArr);if(this.options.setDataRemoveAll){if(this.modelControl.isBinded()){this.modelControl.setData("");}else{if(_7f!=this.getValue()){WebSquare.event.fireEvent(this,"onchange");}}}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.onPropertyChange=function(_80,_81){["WebSquare.uiplugin.checkcombobox.onPropertyChange"];try{switch(_80){case "disabled":if(this.options.renderType=="component"){if(_81){this.closeSubLayer();this.getElementById(this.id+"_label").style.color="#848684";}else{this.getElementById(this.id+"_label").style.color="";}}else{if(_81){this.dom.select.setAttribute("disabled","disabled");}else{this.dom.select.removeAttribute("disabled");}}break;}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.validate=function(){["WebSquare.uiplugin.checkcombobox.validate"];try{var _82=this.validator.validate(this.getValue());if(!_82){this.focus();}return _82;}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.hide=function(){["WebSquare.checkcombobox.hide"];try{this.closeSubLayer();WebSquare.css.prototype.hide.call(this);}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.checkcombobox.prototype.checkAll=function(_83){["WebSquare.uiplugin.checkcombobox.removeAll"];try{if(typeof _83=="undefined"){_83=true;}var _84=[];for(var i=0;i<this.itemArr.length;i++){_84.push({index:i,checked:_83});}return this.setSelectedInfo(_84);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.setRef=function(ref){["WebSquare.uiplugin.checkcombobox.prototype.setRef "];try{if(!this.modelControl.isBinded()){return;}this.options.ref=ref;this.modelControl.setRef(ref);this.refresh();}catch(e){WebSquare.exception.printStackTrace(e);}};WebSquare.uiplugin.checkcombobox.prototype.handleClickEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleClickEvent"];try{if(this.options.disabled){return false;}this.focus();if(this.itemArr.length>0){this.toggle();}}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.handleKeydownEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleKeydownEvent"];try{var _89=(e.charCode)?e.charCode:e.keyCode;if(_89==13||_89==40){this.handleClickEvent(e);return;}if(this.isOpen){return;}WebSquare.event.stopPropagation(e);}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.handleFocusEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleFocusEvent"];try{WebSquare.event.stopEvent(e);this.addClass(this.dom.tbody,"w2checkcombobox_focus");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.handleBlurEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleBlurEvent"];try{WebSquare.event.stopEvent(e);this.removeClass(this.dom.tbody,"w2checkcombobox_focus");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.handleMouseoverEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleMouseoverEvent"];try{WebSquare.event.stopEvent(e);this.addClass(this.dom.tbody,"w2checkcombobox_over");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.uiplugin.checkcombobox.prototype.handleMouseoutEvent=function(e){["WebSquare.uiplugin.checkcombobox.handleMouseoutEvent"];try{WebSquare.event.stopEvent(e);this.removeClass(this.dom.tbody,"w2checkcombobox_over");}catch(e){WebSquare.exception.printStackTrace(e,null,this);}};WebSquare.localStorage=(function(_1){var _2="websquare_localStorage_keyList";var _3=";";if("localStorage" in _1&&_1["localStorage"]!==null){var _4=_1.localStorage;var _5={};_5.length=_4.length;_5.key=function(_6){var _6=Number(_6);if(isNaN(_6)||_6>=this.length||_6<0){return null;}return _4.key(_6);};_5.getItem=function(_7){return _4.getItem(_7);};_5.setItem=function(_8,_9){var ch=_8.charAt(0);var _b=/[a-zA-Z]/;if(_b.exec(ch)){if(_8===_2){$l(_2+": This key is reserved.");return null;}if(_8.search(_3)>=0){$l(_3+": The key name must not contain colon(;).");return null;}_4.setItem(_8,_9);this.length=_4.length;}else{$l("The key name must start with [a-zA-Z]");return null;}};_5.removeItem=function(_c){_4.removeItem(_c);this.length=_4.length;};_5.clear=function(){_4.clear();this.length=_4.length;};_5.getAllItem=function(){var r={};for(var _e in _4){r[_e]=_4[_e];}return r;};return _5;}else{var _f="websquare_localStorage";var _10="div";var _5={};var _11=false;var _12="";var _13={};var _14=function(){if(_11){return;}_13=document.createElement(_10);_13.id=_f+"_"+_10;_13.style.display="none";_13.style.position="absolute";_13.style.top="-999999px";_13.style.behavior="url(\"#default#userData\")";document.body.appendChild(_13);_13.load(_2);_12=_13.getAttribute(_2)||"";_5.length=_12.split(_3).length-1;_11=true;};_5.length=0;_5.key=function(_15){_14();var _15=Number(_15);if(isNaN(_15)||_15>=this.length||_15<0){return null;}var _16=_12.split(_3);var ret=_16[_15];return ret;};_5.getItem=function(key){_14();return _13.getAttribute(key);};_5.setItem=function(key,_1a){_14();var ch=key.charAt(0);var exp=/[a-zA-Z]/;if(exp.exec(ch)){if(key===_2){$l(_2+": This key is reserved.");return null;}if(key.search(_3)>=0){$l(_3+": The key name must not contain colon(;).");return null;}_13.setAttribute(key,_1a);if(_12.search(key)<0){_12+=key+_3;this.length++;}_13.setAttribute(_2,_12);try{_13.save(_f);}catch(e){$l(e.name+" : localstorage overflowed");}}else{$l("The key name must start with [a-zA-Z]");return null;}};_5.removeItem=function(key){_14();_13.removeAttribute(key);var _1e=_12;_12=_1e.replace(key+_3,"");if(_1e!==_12){this.length--;}_13.setAttribute(_2,_12);_13.save(_f);};_5.clear=function(){_14();var _1f=_12.split(_3);for(var i=0;i<_1f.length-1;i++){_13.removeAttribute(_1f[i]);}_13.removeAttribute(_2);_12="";this.length=0;_13.save(_f);};_5.getAllItem=function(){_14();var r={};var _22=_12.split(_3);for(var i=0;i<_22.length-1;i++){var key=_22[i];r[key]=_13.getAttribute(key);}return r;};return _5;}})(window);requires("uiplugin.wframe");WebSquare.uiplugin.panelContainer=function(id,_2,_3){["WebSquare.uiplugin.panelContainer"];WebSquare.xfControl.call(this,id,_2,_3);};WebSquare.extend(WebSquare.uiplugin.panelContainer.prototype,WebSquare.xfControl.prototype);WebSquare.extend(WebSquare.uiplugin.panelContainer.prototype,WebSquare.css.prototype);WebSquare.uiplugin.panelContainer.prototype.defaultOptions={pluginType:"uiplugin.panelContainer",pluginName:"panelContainer",useConfig:true,cols:1,colWidth:0,panelMove:true};WebSquare.uiplugin.panelContainer.prototype.initialize=function(_4){this.panelIdCount=0;this.colArr=[];};WebSquare.uiplugin.panelContainer.prototype.toHTML=function(){["WebSquare.uiplugin.panelContainer.toHTML"];var _5=[];_5.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2panelContainer "+this.options.className+"'>");for(var i=0;i<this.options.cols;i++){_5.push("<div id='"+this.id+"_col_"+i+"' class='w2panelContainer_col'></div>");}_5.push("</div>");return _5.join("");};WebSquare.uiplugin.panelContainer.prototype.setAction=function(){var _7=0;var _8=[];if(this.options.colWidth==0){var _9=0;for(var i=0;i<this.options.cols;i++){_8[i]=parseInt(100/this.options.cols,10)+(i<100%this.options.cols?1:0);}}for(var i=0;i<this.render.childNodes.length;i++){this.colArr.push(this.render.childNodes[i]);if(this.options.colWidth==0){this.colArr[i].style.width=_8[i]+"%";this.colArr[i].style.left=_7+"%";_7+=_8[i];}else{this.colArr[i].style.width=this.options.colWidth+"px";this.colArr[i].style.left=(i*this.options.colWidth)+"px";}}this.event.addListener(this.render,"onmousedown",this.event.bindAsEventListener(this,this.handleMousedownEvent));this.event.addListener(this.render,"onmousemove",this.event.bindAsEventListener(this,this.handleMousemoveEvent));this.event.addListener(this.render,"onmouseup",this.event.bindAsEventListener(this,this.handleMouseupEvent));};WebSquare.uiplugin.panelContainer.prototype.addPanel=function(_b){var _c=_b.col||0;if(!_b.id){_b.id=this.id+"_panel"+this.panelIdCount++;}var _d=new WebSquare.uiplugin.panel(_b.id,_b);var _e=this;_d.options.xmlEvents=[{name:"onpanelopen",action:"script",param:{handler:function(e){var _10=_e.getPanelInfoById(this.id);WebSquare.event.fireEvent(_e,"onpanelopen",_10);}}},{name:"onpanelclose",action:"script",param:{handler:function(e){var _12=_e.getPanelInfoById(this.id);WebSquare.event.fireEvent(_e,"onpanelclose",_12);}}}];this.addControl(_d);_d.appendTo(this.colArr[_c]);_d.activate();return _d;};WebSquare.uiplugin.panelContainer.prototype.removePanel=function(_13,_14){_13=parseInt(_13,10);_14=parseInt(_14,10);if(_14>=this.render.childNodes.length||_13>=this.render.childNodes[_14].childNodes.length){return;}var _15=this.render.childNodes[_14];var _16=_15.childNodes[_13];var id=_16.id;this.removeControl(this.getPanelById(id));window[id+"_content"].remove();window[id]=null;_15.removeChild(_16);return id;};WebSquare.uiplugin.panelContainer.prototype.getPanelById=function(id){for(var i=0;i<this.childControlList.length;i++){var _1a=this.childControlList[i];if(_1a.id==id){return _1a;}}};WebSquare.uiplugin.panelContainer.prototype.getPanelInfo=function(){var _1b=[];for(var i=0;i<this.options.cols;i++){var _1d=this.render.childNodes[i];var col=[];for(var j=0;j<_1d.childNodes.length;j++){var _20=_1d.childNodes[j];for(var k=0;k<this.childControlList.length;k++){var _22=this.childControlList[k];if(_22.render==_20){col.push({id:_22.id,style:_22.options.style,title:_22.options.title,src:_22.options.src,scope:_22.options.scope,col:i,row:j,isOpen:WebSquare.style.getStyle(this.getElementById(_22.id+"_content"),"height")!="0px"});break;}}}_1b.push(col);}return _1b;};WebSquare.uiplugin.panelContainer.prototype.getPanelInfoById=function(id){var _24=this.getPanelInfo();for(var i=0;i<_24.length;i++){var _26=_24[i];for(var j=0;j<_26.length;j++){var _28=_26[j];if(id==_28.id){return _28;}}}};WebSquare.uiplugin.panelContainer.prototype.setPanelTitle=function(id,_2a){var _2b=this.getPanelById(id);if(_2b){_2b.options.title=_2a;_2b.render.childNodes[0].childNodes[1].innerHTML=_2a;}};WebSquare.uiplugin.panelContainer.prototype.openPanel=function(id){var _2d=this.getPanelById(id);var _2e=_2d.getElementById(_2d.id+"_content");var _2f=_2e.offsetHeight==0;if(_2f){WebSquare.style.animate(_2e,{height:_2e.scrollHeight},{key:_2d.id+"_toggle",easing:"linear",duration:300,caller:_2d,complete:function(){WebSquare.style.setStyle(_2e,"height","");_2d.removeClass("w2panel_closed");WebSquare.event.fireEvent(_2d,"onpanelopen");}});}};WebSquare.uiplugin.panelContainer.prototype.closePanel=function(id){var _31=this.getPanelById(id);var _32=_31.getElementById(_31.id+"_content");var _33=_32.offsetHeight==0;if(!_33){WebSquare.style.setStyle(_32,"height",_32.scrollHeight+"px");WebSquare.style.animate(_32,{height:0},{key:_31.id+"_toggle",easing:"linear",duration:300,caller:_31,complete:function(){_31.addClass("w2panel_closed");WebSquare.event.fireEvent(_31,"onpanelclose");}});}};WebSquare.uiplugin.panelContainer.prototype.handleMousedownEvent=function(e){var it=this.event.getTargetIterator(e,this.render);while(this.options.panelMove&&it.next()){if(it.match("w2panel_title")){this.dragDropElem=it.getElement().parentNode;this.render.style.cursor="pointer";this.addClass("w2noselect");WebSquare.event.stopEvent(e);return;}}this.dragDropElem=null;};WebSquare.uiplugin.panelContainer.prototype.handleMousemoveEvent=function(e){if(this.dragDropElem){if(!this.ghost){this.ghost=document.createElement("div");this.ghost.innerHTML=this.dragDropElem.childNodes[0].childNodes[1].innerHTML;this.ghost.className="w2panelContainer_ghost";WebSquare.getBody().appendChild(this.ghost);}this.ghost.style.left=(WebSquare.event.getMouseX(e)+10)+"px";this.ghost.style.top=(WebSquare.event.getMouseY(e)+10)+"px";WebSquare.event.preventDefault(e);}};WebSquare.uiplugin.panelContainer.prototype.handleMouseupEvent=function(e){if(this.dragDropElem){var it=this.event.getTargetIterator(e,this.render);while(it.next()){if(it.match("w2panel_title")&&it.getElement().parentNode==this.dragDropElem){break;}else{if(it.match(null,this.id)){var x=WebSquare.event.getMouseX(e)-WebSquare.style.getAbsoluteLeft(this.render);var y=WebSquare.event.getMouseY(e)-WebSquare.style.getAbsoluteTop(this.render);var _3b=null;for(var col=0;col<this.render.childNodes.length;col++){var _3b=this.render.childNodes[col];if(x<_3b.offsetLeft+_3b.offsetWidth){break;}}var _3d=this.render.childNodes[col].childNodes;for(var row=0;row<_3d.length;row++){var _3f=_3d[row];if(y<_3f.offsetTop+_3f.offsetHeight){break;}}this.dragDropElem.parentNode.removeChild(this.dragDropElem);if(row<_3d.length){_3b.insertBefore(this.dragDropElem,_3d[row]);}else{row=_3d.length;_3b.appendChild(this.dragDropElem);}WebSquare.event.fireEvent(this,"onpanelmove",row,col);}}}this.render.style.cursor="";this.removeClass("w2noselect");}this.dragDropElem=null;if(this.ghost){this.ghost.parentNode.removeChild(this.ghost);this.ghost=null;}};WebSquare.uiplugin.panel=function(id,_41,_42){WebSquare.xfControl.call(this,id,_41,_42);};WebSquare.extend(WebSquare.uiplugin.panel.prototype,WebSquare.xfControl.prototype);WebSquare.uiplugin.panel.prototype.defaultOptions={pluginType:"uiplugin.panel",pluginName:"panel",title:"",src:"",scope:false,isOpen:true};WebSquare.uiplugin.panel.prototype.toHTML=function(){var _43=[];_43.push("<div id='"+this.id+"' style='"+this.options.style+"' class='w2panel "+this.options.className+"'>");_43.push("<div id='"+this.id+"_title' class='w2panel_title'>");_43.push("<div id='"+this.id+"_title_image' class='w2panel_title_image'></div>");_43.push("<span id='"+this.id+"_title_text' class='w2panel_title_text'>"+this.options.title+"</span>");_43.push("</div>");_43.push("</div>");return _43.join("");};WebSquare.uiplugin.panel.prototype.setAction=function(){var _44=new WebSquare.uiplugin.wframe(this.id+"_content",{className:"w2panel_content",src:this.options.src,scope:this.options.scope,style:this.options.isOpen?"":"height:0"});_44.appendTo(this);_44.activate();window[_44.id]=_44;this.contentRender=_44.render;this.event.addListener(this.getElementById(this.id+"_title"),"onclick",this.event.bindAsEventListener(this,this.handleTitleClick));if(!this.options.isOpen){this.addClass("w2panel_closed");}};WebSquare.uiplugin.panel.prototype.handleTitleClick=function(e){var _46=this.getElementById(this.id+"_content");var _47=_46.offsetHeight==0;if(_47){this.parentControl.openPanel(this.id);}else{this.parentControl.closePanel(this.id);}};if( document.title == "WebSquare" || document.title == "NEW RENDERING" ) {document.title = "WebSquare ver:" + WebSquare.version;}WebSquare.BootLoader.performanceCheck.mid1 = new Date();WebSquare.BootLoader.printLog("[STEP2] Runtime Engine Load complete. Time:" + (WebSquare.BootLoader.performanceCheck.mid1.getTime() - WebSquare.BootLoader.performanceCheck.start.getTime()) + "ms" );